var X6=Object.defineProperty;var Q6=(t,e,r)=>e in t?X6(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var J6=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var qe=(t,e,r)=>Q6(t,typeof e!="symbol"?e+"":e,r);var fce=J6((va,ba)=>{function eI(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in t)){const l=Object.getOwnPropertyDescriptor(n,a);l&&Object.defineProperty(t,a,l.get?l:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(a){if(a.ep)return;a.ep=!0;const l=r(a);fetch(a.href,l)}})();var tc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Nj={exports:{}},Rh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SE;function tI(){if(SE)return Rh;SE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(n,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:t,type:n,key:c,ref:a!==void 0?a:null,props:l}}return Rh.Fragment=e,Rh.jsx=r,Rh.jsxs=r,Rh}var EE;function sI(){return EE||(EE=1,Nj.exports=tI()),Nj.exports}var s=sI(),_j={exports:{}},qt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kE;function rI(){if(kE)return qt;kE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function y(H){return H===null||typeof H!="object"?null:(H=g&&H[g]||H["@@iterator"],typeof H=="function"?H:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,w={};function _(H,K,Y){this.props=H,this.context=K,this.refs=w,this.updater=Y||b}_.prototype.isReactComponent={},_.prototype.setState=function(H,K){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,K,"setState")},_.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function E(){}E.prototype=_.prototype;function S(H,K,Y){this.props=H,this.context=K,this.refs=w,this.updater=Y||b}var k=S.prototype=new E;k.constructor=S,j(k,_.prototype),k.isPureReactComponent=!0;var R=Array.isArray,L={H:null,A:null,T:null,S:null,V:null},I=Object.prototype.hasOwnProperty;function T(H,K,Y,se,G,C){return Y=C.ref,{$$typeof:t,type:H,key:K,ref:Y!==void 0?Y:null,props:C}}function O(H,K){return T(H.type,K,void 0,void 0,void 0,H.props)}function P(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function X(H){var K={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(Y){return K[Y]})}var A=/\/+/g;function z(H,K){return typeof H=="object"&&H!==null&&H.key!=null?X(""+H.key):K.toString(36)}function $(){}function J(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then($,$):(H.status="pending",H.then(function(K){H.status==="pending"&&(H.status="fulfilled",H.value=K)},function(K){H.status==="pending"&&(H.status="rejected",H.reason=K)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function B(H,K,Y,se,G){var C=typeof H;(C==="undefined"||C==="boolean")&&(H=null);var U=!1;if(H===null)U=!0;else switch(C){case"bigint":case"string":case"number":U=!0;break;case"object":switch(H.$$typeof){case t:case e:U=!0;break;case p:return U=H._init,B(U(H._payload),K,Y,se,G)}}if(U)return G=G(H),U=se===""?"."+z(H,0):se,R(G)?(Y="",U!=null&&(Y=U.replace(A,"$&/")+"/"),B(G,K,Y,"",function(ie){return ie})):G!=null&&(P(G)&&(G=O(G,Y+(G.key==null||H&&H.key===G.key?"":(""+G.key).replace(A,"$&/")+"/")+U)),K.push(G)),1;U=0;var ne=se===""?".":se+":";if(R(H))for(var me=0;me<H.length;me++)se=H[me],C=ne+z(se,me),U+=B(se,K,Y,C,G);else if(me=y(H),typeof me=="function")for(H=me.call(H),me=0;!(se=H.next()).done;)se=se.value,C=ne+z(se,me++),U+=B(se,K,Y,C,G);else if(C==="object"){if(typeof H.then=="function")return B(J(H),K,Y,se,G);throw K=String(H),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return U}function M(H,K,Y){if(H==null)return H;var se=[],G=0;return B(H,se,"","",function(C){return K.call(Y,C,G++)}),se}function V(H){if(H._status===-1){var K=H._result;K=K(),K.then(function(Y){(H._status===0||H._status===-1)&&(H._status=1,H._result=Y)},function(Y){(H._status===0||H._status===-1)&&(H._status=2,H._result=Y)}),H._status===-1&&(H._status=0,H._result=K)}if(H._status===1)return H._result.default;throw H._result}var Q=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)};function le(){}return qt.Children={map:M,forEach:function(H,K,Y){M(H,function(){K.apply(this,arguments)},Y)},count:function(H){var K=0;return M(H,function(){K++}),K},toArray:function(H){return M(H,function(K){return K})||[]},only:function(H){if(!P(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},qt.Component=_,qt.Fragment=r,qt.Profiler=a,qt.PureComponent=S,qt.StrictMode=n,qt.Suspense=f,qt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,qt.__COMPILER_RUNTIME={__proto__:null,c:function(H){return L.H.useMemoCache(H)}},qt.cache=function(H){return function(){return H.apply(null,arguments)}},qt.cloneElement=function(H,K,Y){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var se=j({},H.props),G=H.key,C=void 0;if(K!=null)for(U in K.ref!==void 0&&(C=void 0),K.key!==void 0&&(G=""+K.key),K)!I.call(K,U)||U==="key"||U==="__self"||U==="__source"||U==="ref"&&K.ref===void 0||(se[U]=K[U]);var U=arguments.length-2;if(U===1)se.children=Y;else if(1<U){for(var ne=Array(U),me=0;me<U;me++)ne[me]=arguments[me+2];se.children=ne}return T(H.type,G,void 0,void 0,C,se)},qt.createContext=function(H){return H={$$typeof:c,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:l,_context:H},H},qt.createElement=function(H,K,Y){var se,G={},C=null;if(K!=null)for(se in K.key!==void 0&&(C=""+K.key),K)I.call(K,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(G[se]=K[se]);var U=arguments.length-2;if(U===1)G.children=Y;else if(1<U){for(var ne=Array(U),me=0;me<U;me++)ne[me]=arguments[me+2];G.children=ne}if(H&&H.defaultProps)for(se in U=H.defaultProps,U)G[se]===void 0&&(G[se]=U[se]);return T(H,C,void 0,void 0,null,G)},qt.createRef=function(){return{current:null}},qt.forwardRef=function(H){return{$$typeof:d,render:H}},qt.isValidElement=P,qt.lazy=function(H){return{$$typeof:p,_payload:{_status:-1,_result:H},_init:V}},qt.memo=function(H,K){return{$$typeof:h,type:H,compare:K===void 0?null:K}},qt.startTransition=function(H){var K=L.T,Y={};L.T=Y;try{var se=H(),G=L.S;G!==null&&G(Y,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(le,Q)}catch(C){Q(C)}finally{L.T=K}},qt.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},qt.use=function(H){return L.H.use(H)},qt.useActionState=function(H,K,Y){return L.H.useActionState(H,K,Y)},qt.useCallback=function(H,K){return L.H.useCallback(H,K)},qt.useContext=function(H){return L.H.useContext(H)},qt.useDebugValue=function(){},qt.useDeferredValue=function(H,K){return L.H.useDeferredValue(H,K)},qt.useEffect=function(H,K,Y){var se=L.H;if(typeof Y=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return se.useEffect(H,K)},qt.useId=function(){return L.H.useId()},qt.useImperativeHandle=function(H,K,Y){return L.H.useImperativeHandle(H,K,Y)},qt.useInsertionEffect=function(H,K){return L.H.useInsertionEffect(H,K)},qt.useLayoutEffect=function(H,K){return L.H.useLayoutEffect(H,K)},qt.useMemo=function(H,K){return L.H.useMemo(H,K)},qt.useOptimistic=function(H,K){return L.H.useOptimistic(H,K)},qt.useReducer=function(H,K,Y){return L.H.useReducer(H,K,Y)},qt.useRef=function(H){return L.H.useRef(H)},qt.useState=function(H){return L.H.useState(H)},qt.useSyncExternalStore=function(H,K,Y){return L.H.useSyncExternalStore(H,K,Y)},qt.useTransition=function(){return L.H.useTransition()},qt.version="19.1.0",qt}var CE;function Gm(){return CE||(CE=1,_j.exports=rI()),_j.exports}var x=Gm();const ye=bc(x),n4=eI({__proto__:null,default:ye},[x]);var Sj={exports:{}},Dh={},Ej={exports:{}},kj={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AE;function nI(){return AE||(AE=1,function(t){function e(M,V){var Q=M.length;M.push(V);e:for(;0<Q;){var le=Q-1>>>1,H=M[le];if(0<a(H,V))M[le]=V,M[Q]=H,Q=le;else break e}}function r(M){return M.length===0?null:M[0]}function n(M){if(M.length===0)return null;var V=M[0],Q=M.pop();if(Q!==V){M[0]=Q;e:for(var le=0,H=M.length,K=H>>>1;le<K;){var Y=2*(le+1)-1,se=M[Y],G=Y+1,C=M[G];if(0>a(se,Q))G<H&&0>a(C,se)?(M[le]=C,M[G]=Q,le=G):(M[le]=se,M[Y]=Q,le=Y);else if(G<H&&0>a(C,Q))M[le]=C,M[G]=Q,le=G;else break e}}return V}function a(M,V){var Q=M.sortIndex-V.sortIndex;return Q!==0?Q:M.id-V.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var f=[],h=[],p=1,g=null,y=3,b=!1,j=!1,w=!1,_=!1,E=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function R(M){for(var V=r(h);V!==null;){if(V.callback===null)n(h);else if(V.startTime<=M)n(h),V.sortIndex=V.expirationTime,e(f,V);else break;V=r(h)}}function L(M){if(w=!1,R(M),!j)if(r(f)!==null)j=!0,I||(I=!0,z());else{var V=r(h);V!==null&&B(L,V.startTime-M)}}var I=!1,T=-1,O=5,P=-1;function X(){return _?!0:!(t.unstable_now()-P<O)}function A(){if(_=!1,I){var M=t.unstable_now();P=M;var V=!0;try{e:{j=!1,w&&(w=!1,S(T),T=-1),b=!0;var Q=y;try{t:{for(R(M),g=r(f);g!==null&&!(g.expirationTime>M&&X());){var le=g.callback;if(typeof le=="function"){g.callback=null,y=g.priorityLevel;var H=le(g.expirationTime<=M);if(M=t.unstable_now(),typeof H=="function"){g.callback=H,R(M),V=!0;break t}g===r(f)&&n(f),R(M)}else n(f);g=r(f)}if(g!==null)V=!0;else{var K=r(h);K!==null&&B(L,K.startTime-M),V=!1}}break e}finally{g=null,y=Q,b=!1}V=void 0}}finally{V?z():I=!1}}}var z;if(typeof k=="function")z=function(){k(A)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,J=$.port2;$.port1.onmessage=A,z=function(){J.postMessage(null)}}else z=function(){E(A,0)};function B(M,V){T=E(function(){M(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(M){switch(y){case 1:case 2:case 3:var V=3;break;default:V=y}var Q=y;y=V;try{return M()}finally{y=Q}},t.unstable_requestPaint=function(){_=!0},t.unstable_runWithPriority=function(M,V){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var Q=y;y=M;try{return V()}finally{y=Q}},t.unstable_scheduleCallback=function(M,V,Q){var le=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?le+Q:le):Q=le,M){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=Q+H,M={id:p++,callback:V,priorityLevel:M,startTime:Q,expirationTime:H,sortIndex:-1},Q>le?(M.sortIndex=Q,e(h,M),r(f)===null&&M===r(h)&&(w?(S(T),T=-1):w=!0,B(L,Q-le))):(M.sortIndex=H,e(f,M),j||b||(j=!0,I||(I=!0,z()))),M},t.unstable_shouldYield=X,t.unstable_wrapCallback=function(M){var V=y;return function(){var Q=y;y=V;try{return M.apply(this,arguments)}finally{y=Q}}}}(kj)),kj}var TE;function aI(){return TE||(TE=1,Ej.exports=nI()),Ej.exports}var Cj={exports:{}},wn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RE;function iI(){if(RE)return wn;RE=1;var t=Gm();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(f,h,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:f,containerInfo:h,implementation:p}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return wn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,wn.createPortal=function(f,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return l(f,h,null,p)},wn.flushSync=function(f){var h=c.T,p=n.p;try{if(c.T=null,n.p=2,f)return f()}finally{c.T=h,n.p=p,n.d.f()}},wn.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,n.d.C(f,h))},wn.prefetchDNS=function(f){typeof f=="string"&&n.d.D(f)},wn.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var p=h.as,g=d(p,h.crossOrigin),y=typeof h.integrity=="string"?h.integrity:void 0,b=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?n.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:y,fetchPriority:b}):p==="script"&&n.d.X(f,{crossOrigin:g,integrity:y,fetchPriority:b,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},wn.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=d(h.as,h.crossOrigin);n.d.M(f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&n.d.M(f)},wn.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,g=d(p,h.crossOrigin);n.d.L(f,p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},wn.preloadModule=function(f,h){if(typeof f=="string")if(h){var p=d(h.as,h.crossOrigin);n.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else n.d.m(f)},wn.requestFormReset=function(f){n.d.r(f)},wn.unstable_batchedUpdates=function(f,h){return f(h)},wn.useFormState=function(f,h,p){return c.H.useFormState(f,h,p)},wn.useFormStatus=function(){return c.H.useHostTransitionStatus()},wn.version="19.1.0",wn}var DE;function a4(){if(DE)return Cj.exports;DE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Cj.exports=iI(),Cj.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OE;function lI(){if(OE)return Dh;OE=1;var t=aI(),e=Gm(),r=a4();function n(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function c(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function d(i){if(l(i)!==i)throw Error(n(188))}function f(i){var o=i.alternate;if(!o){if(o=l(i),o===null)throw Error(n(188));return o!==i?null:i}for(var u=i,m=o;;){var v=u.return;if(v===null)break;var N=v.alternate;if(N===null){if(m=v.return,m!==null){u=m;continue}break}if(v.child===N.child){for(N=v.child;N;){if(N===u)return d(v),i;if(N===m)return d(v),o;N=N.sibling}throw Error(n(188))}if(u.return!==m.return)u=v,m=N;else{for(var F=!1,W=v.child;W;){if(W===u){F=!0,u=v,m=N;break}if(W===m){F=!0,m=v,u=N;break}W=W.sibling}if(!F){for(W=N.child;W;){if(W===u){F=!0,u=N,m=v;break}if(W===m){F=!0,m=N,u=v;break}W=W.sibling}if(!F)throw Error(n(189))}}if(u.alternate!==m)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?i:o}function h(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=h(i),o!==null)return o;i=i.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),S=Symbol.for("react.consumer"),k=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),X=Symbol.for("react.memo_cache_sentinel"),A=Symbol.iterator;function z(i){return i===null||typeof i!="object"?null:(i=A&&i[A]||i["@@iterator"],typeof i=="function"?i:null)}var $=Symbol.for("react.client.reference");function J(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===$?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case j:return"Fragment";case _:return"Profiler";case w:return"StrictMode";case L:return"Suspense";case I:return"SuspenseList";case P:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case b:return"Portal";case k:return(i.displayName||"Context")+".Provider";case S:return(i._context.displayName||"Context")+".Consumer";case R:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case T:return o=i.displayName||null,o!==null?o:J(i.type)||"Memo";case O:o=i._payload,i=i._init;try{return J(i(o))}catch{}}return null}var B=Array.isArray,M=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},le=[],H=-1;function K(i){return{current:i}}function Y(i){0>H||(i.current=le[H],le[H]=null,H--)}function se(i,o){H++,le[H]=i.current,i.current=o}var G=K(null),C=K(null),U=K(null),ne=K(null);function me(i,o){switch(se(U,o),se(C,i),se(G,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?J2(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=J2(o),i=eE(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}Y(G),se(G,i)}function ie(){Y(G),Y(C),Y(U)}function Ee(i){i.memoizedState!==null&&se(ne,i);var o=G.current,u=eE(o,i.type);o!==u&&(se(C,i),se(G,u))}function Oe(i){C.current===i&&(Y(G),Y(C)),ne.current===i&&(Y(ne),Eh._currentValue=Q)}var fe=Object.prototype.hasOwnProperty,Ce=t.unstable_scheduleCallback,pe=t.unstable_cancelCallback,ze=t.unstable_shouldYield,lt=t.unstable_requestPaint,Je=t.unstable_now,Zt=t.unstable_getCurrentPriorityLevel,jt=t.unstable_ImmediatePriority,kr=t.unstable_UserBlockingPriority,dr=t.unstable_NormalPriority,q=t.unstable_LowPriority,de=t.unstable_IdlePriority,je=t.log,Ue=t.unstable_setDisableYieldValue,Le=null,ae=null;function Ie(i){if(typeof je=="function"&&Ue(i),ae&&typeof ae.setStrictMode=="function")try{ae.setStrictMode(Le,i)}catch{}}var et=Math.clz32?Math.clz32:sn,St=Math.log,Ts=Math.LN2;function sn(i){return i>>>=0,i===0?32:31-(St(i)/Ts|0)|0}var fn=256,hn=4194304;function Pr(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Pn(i,o,u){var m=i.pendingLanes;if(m===0)return 0;var v=0,N=i.suspendedLanes,F=i.pingedLanes;i=i.warmLanes;var W=m&134217727;return W!==0?(m=W&~N,m!==0?v=Pr(m):(F&=W,F!==0?v=Pr(F):u||(u=W&~i,u!==0&&(v=Pr(u))))):(W=m&~N,W!==0?v=Pr(W):F!==0?v=Pr(F):u||(u=m&~i,u!==0&&(v=Pr(u)))),v===0?0:o!==0&&o!==v&&(o&N)===0&&(N=v&-v,u=o&-o,N>=u||N===32&&(u&4194048)!==0)?o:v}function mn(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function pn(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sr(){var i=fn;return fn<<=1,(fn&4194048)===0&&(fn=256),i}function ri(){var i=hn;return hn<<=1,(hn&62914560)===0&&(hn=4194304),i}function ni(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function xn(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Ui(i,o,u,m,v,N){var F=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var W=i.entanglements,oe=i.expirationTimes,we=i.hiddenUpdates;for(u=F&~u;0<u;){var Te=31-et(u),Me=1<<Te;W[Te]=0,oe[Te]=-1;var _e=we[Te];if(_e!==null)for(we[Te]=null,Te=0;Te<_e.length;Te++){var Se=_e[Te];Se!==null&&(Se.lane&=-536870913)}u&=~Me}m!==0&&gt(i,m,0),N!==0&&v===0&&i.tag!==0&&(i.suspendedLanes|=N&~(F&~o))}function gt(i,o,u){i.pendingLanes|=o,i.suspendedLanes&=~o;var m=31-et(o);i.entangledLanes|=o,i.entanglements[m]=i.entanglements[m]|1073741824|u&4194090}function Is(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var m=31-et(u),v=1<<m;v&o|i[m]&o&&(i[m]|=o),u&=~v}}function $s(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function rr(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function gn(){var i=V.p;return i!==0?i:(i=window.event,i===void 0?32:vE(i.type))}function Xs(i,o){var u=V.p;try{return V.p=i,o()}finally{V.p=u}}var fs=Math.random().toString(36).slice(2),Ws="__reactFiber$"+fs,ms="__reactProps$"+fs,ur="__reactContainer$"+fs,ai="__reactEvents$"+fs,Ln="__reactListeners$"+fs,Cr="__reactHandles$"+fs,Fd="__reactResources$"+fs,yl="__reactMarker$"+fs;function Cc(i){delete i[Ws],delete i[ms],delete i[ai],delete i[Ln],delete i[Cr]}function Fi(i){var o=i[Ws];if(o)return o;for(var u=i.parentNode;u;){if(o=u[ur]||u[Ws]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=nE(i);i!==null;){if(u=i[Ws])return u;i=nE(i)}return o}i=u,u=i.parentNode}return null}function zi(i){if(i=i[Ws]||i[ur]){var o=i.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return i}return null}function fr(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(n(33))}function $i(i){var o=i[Fd];return o||(o=i[Fd]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function hr(i){i[yl]=!0}var zd=new Set,$d={};function ii(i,o){vr(i,o),vr(i+"Capture",o)}function vr(i,o){for($d[i]=o,i=0;i<o.length;i++)zd.add(o[i])}var If=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qd={},Bd={};function Uf(i){return fe.call(Bd,i)?!0:fe.call(qd,i)?!1:If.test(i)?Bd[i]=!0:(qd[i]=!0,!1)}function go(i,o,u){if(Uf(o))if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var m=o.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+u)}}function li(i,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+u)}}function qn(i,o,u,m){if(m===null)i.removeAttribute(u);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(o,u,""+m)}}var qi,la;function Ta(i){if(qi===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);qi=o&&o[1]||"",la=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qi+i+la}var Ac=!1;function Tc(i,o){if(!i||Ac)return"";Ac=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(o){var Me=function(){throw Error()};if(Object.defineProperty(Me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Me,[])}catch(Se){var _e=Se}Reflect.construct(i,[],Me)}else{try{Me.call()}catch(Se){_e=Se}i.call(Me.prototype)}}else{try{throw Error()}catch(Se){_e=Se}(Me=i())&&typeof Me.catch=="function"&&Me.catch(function(){})}}catch(Se){if(Se&&_e&&typeof Se.stack=="string")return[Se.stack,_e.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=m.DetermineComponentFrameRoot(),F=N[0],W=N[1];if(F&&W){var oe=F.split(`
`),we=W.split(`
`);for(v=m=0;m<oe.length&&!oe[m].includes("DetermineComponentFrameRoot");)m++;for(;v<we.length&&!we[v].includes("DetermineComponentFrameRoot");)v++;if(m===oe.length||v===we.length)for(m=oe.length-1,v=we.length-1;1<=m&&0<=v&&oe[m]!==we[v];)v--;for(;1<=m&&0<=v;m--,v--)if(oe[m]!==we[v]){if(m!==1||v!==1)do if(m--,v--,0>v||oe[m]!==we[v]){var Te=`
`+oe[m].replace(" at new "," at ");return i.displayName&&Te.includes("<anonymous>")&&(Te=Te.replace("<anonymous>",i.displayName)),Te}while(1<=m&&0<=v);break}}}finally{Ac=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?Ta(u):""}function Ff(i){switch(i.tag){case 26:case 27:case 5:return Ta(i.type);case 16:return Ta("Lazy");case 13:return Ta("Suspense");case 19:return Ta("SuspenseList");case 0:case 15:return Tc(i.type,!1);case 11:return Tc(i.type.render,!1);case 1:return Tc(i.type,!0);case 31:return Ta("Activity");default:return""}}function Hd(i){try{var o="";do o+=Ff(i),i=i.return;while(i);return o}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function yn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function vl(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Rc(i){var o=vl(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),m=""+i[o];if(!i.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var v=u.get,N=u.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return v.call(this)},set:function(F){m=""+F,N.call(this,F)}}),Object.defineProperty(i,o,{enumerable:u.enumerable}),{getValue:function(){return m},setValue:function(F){m=""+F},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Ra(i){i._valueTracker||(i._valueTracker=Rc(i))}function Dc(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),m="";return i&&(m=vl(i)?i.checked?"true":"false":i.value),i=m,i!==u?(o.setValue(i),!0):!1}function bl(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var zf=/[\n"\\]/g;function vn(i){return i.replace(zf,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Oc(i,o,u,m,v,N,F,W){i.name="",F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"?i.type=F:i.removeAttribute("type"),o!=null?F==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+yn(o)):i.value!==""+yn(o)&&(i.value=""+yn(o)):F!=="submit"&&F!=="reset"||i.removeAttribute("value"),o!=null?jl(i,F,yn(o)):u!=null?jl(i,F,yn(u)):m!=null&&i.removeAttribute("value"),v==null&&N!=null&&(i.defaultChecked=!!N),v!=null&&(i.checked=v&&typeof v!="function"&&typeof v!="symbol"),W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"?i.name=""+yn(W):i.removeAttribute("name")}function Vd(i,o,u,m,v,N,F,W){if(N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(i.type=N),o!=null||u!=null){if(!(N!=="submit"&&N!=="reset"||o!=null))return;u=u!=null?""+yn(u):"",o=o!=null?""+yn(o):u,W||o===i.value||(i.value=o),i.defaultValue=o}m=m??v,m=typeof m!="function"&&typeof m!="symbol"&&!!m,i.checked=W?i.checked:!!m,i.defaultChecked=!!m,F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"&&(i.name=F)}function jl(i,o,u){o==="number"&&bl(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function Bi(i,o,u,m){if(i=i.options,o){o={};for(var v=0;v<u.length;v++)o["$"+u[v]]=!0;for(u=0;u<i.length;u++)v=o.hasOwnProperty("$"+i[u].value),i[u].selected!==v&&(i[u].selected=v),v&&m&&(i[u].defaultSelected=!0)}else{for(u=""+yn(u),o=null,v=0;v<i.length;v++){if(i[v].value===u){i[v].selected=!0,m&&(i[v].defaultSelected=!0);return}o!==null||i[v].disabled||(o=i[v])}o!==null&&(o.selected=!0)}}function Yd(i,o,u){if(o!=null&&(o=""+yn(o),o!==i.value&&(i.value=o),u==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=u!=null?""+yn(u):""}function Hi(i,o,u,m){if(o==null){if(m!=null){if(u!=null)throw Error(n(92));if(B(m)){if(1<m.length)throw Error(n(93));m=m[0]}u=m}u==null&&(u=""),o=u}u=yn(o),i.defaultValue=u,m=i.textContent,m===u&&m!==""&&m!==null&&(i.value=m)}function Wr(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var oi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Da(i,o,u){var m=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?m?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":m?i.setProperty(o,u):typeof u!="number"||u===0||oi.has(o)?o==="float"?i.cssFloat=u:i[o]=(""+u).trim():i[o]=u+"px"}function Wd(i,o,u){if(o!=null&&typeof o!="object")throw Error(n(62));if(i=i.style,u!=null){for(var m in u)!u.hasOwnProperty(m)||o!=null&&o.hasOwnProperty(m)||(m.indexOf("--")===0?i.setProperty(m,""):m==="float"?i.cssFloat="":i[m]="");for(var v in o)m=o[v],o.hasOwnProperty(v)&&u[v]!==m&&Da(i,v,m)}else for(var N in o)o.hasOwnProperty(N)&&Da(i,N,o[N])}function Bn(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $f=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function yo(i){return qf.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Mc=null;function vo(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var mr=null,ci=null;function Pc(i){var o=zi(i);if(o&&(i=o.stateNode)){var u=i[ms]||null;e:switch(i=o.stateNode,o.type){case"input":if(Oc(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+vn(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var m=u[o];if(m!==i&&m.form===i.form){var v=m[ms]||null;if(!v)throw Error(n(90));Oc(m,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(o=0;o<u.length;o++)m=u[o],m.form===i.form&&Dc(m)}break e;case"textarea":Yd(i,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&Bi(i,!!u.multiple,o,!1)}}}var Vi=!1;function bo(i,o,u){if(Vi)return i(o,u);Vi=!0;try{var m=i(o);return m}finally{if(Vi=!1,(mr!==null||ci!==null)&&(rx(),mr&&(o=mr,i=ci,ci=mr=null,Pc(o),i)))for(o=0;o<i.length;o++)Pc(i[o])}}function Oa(i,o){var u=i.stateNode;if(u===null)return null;var m=u[ms]||null;if(m===null)return null;u=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(i=i.type,m=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!m;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(n(231,o,typeof u));return u}var oa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jo=!1;if(oa)try{var di={};Object.defineProperty(di,"passive",{get:function(){jo=!0}}),window.addEventListener("test",di,di),window.removeEventListener("test",di,di)}catch{jo=!1}var ca=null,Hn=null,wl=null;function wo(){if(wl)return wl;var i,o=Hn,u=o.length,m,v="value"in ca?ca.value:ca.textContent,N=v.length;for(i=0;i<u&&o[i]===v[i];i++);var F=u-i;for(m=1;m<=F&&o[u-m]===v[N-m];m++);return wl=v.slice(i,1<m?1-m:void 0)}function No(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function _o(){return!0}function D(){return!1}function Z(i){function o(u,m,v,N,F){this._reactName=u,this._targetInst=v,this.type=m,this.nativeEvent=N,this.target=F,this.currentTarget=null;for(var W in i)i.hasOwnProperty(W)&&(u=i[W],this[W]=u?u(N):N[W]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?_o:D,this.isPropagationStopped=D,this}return p(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=_o)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=_o)},persist:function(){},isPersistent:_o}),o}var ce={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ae=Z(ce),wt=p({},ce,{view:0,detail:0}),ft=Z(wt),ss,Kt,qs,is=p({},wt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rv,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==qs&&(qs&&i.type==="mousemove"?(ss=i.screenX-qs.screenX,Kt=i.screenY-qs.screenY):Kt=ss=0,qs=i),ss)},movementY:function(i){return"movementY"in i?i.movementY:Kt}}),Lr=Z(is),bn=p({},is,{dataTransfer:0}),br=Z(bn),Gr=p({},wt,{relatedTarget:0}),jr=Z(Gr),Yi=p({},ce,{animationName:0,elapsedTime:0,pseudoElement:0}),ui=Z(Yi),Nl=p({},ce,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Np=Z(Nl),Gd=p({},ce,{data:0}),Lc=Z(Gd),i5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},l5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},o5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function c5(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=o5[i])?!!o[i]:!1}function Rv(){return c5}var d5=p({},wt,{key:function(i){if(i.key){var o=i5[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=No(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?l5[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rv,charCode:function(i){return i.type==="keypress"?No(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?No(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),u5=Z(d5),f5=p({},is,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),l_=Z(f5),h5=p({},wt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rv}),m5=Z(h5),p5=p({},ce,{propertyName:0,elapsedTime:0,pseudoElement:0}),x5=Z(p5),g5=p({},is,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),y5=Z(g5),v5=p({},ce,{newState:0,oldState:0}),b5=Z(v5),j5=[9,13,27,32],Dv=oa&&"CompositionEvent"in window,Bf=null;oa&&"documentMode"in document&&(Bf=document.documentMode);var w5=oa&&"TextEvent"in window&&!Bf,o_=oa&&(!Dv||Bf&&8<Bf&&11>=Bf),c_=" ",d_=!1;function u_(i,o){switch(i){case"keyup":return j5.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function f_(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Zd=!1;function N5(i,o){switch(i){case"compositionend":return f_(o);case"keypress":return o.which!==32?null:(d_=!0,c_);case"textInput":return i=o.data,i===c_&&d_?null:i;default:return null}}function _5(i,o){if(Zd)return i==="compositionend"||!Dv&&u_(i,o)?(i=wo(),wl=Hn=ca=null,Zd=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return o_&&o.locale!=="ko"?null:o.data;default:return null}}var S5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function h_(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!S5[i.type]:o==="textarea"}function m_(i,o,u,m){mr?ci?ci.push(m):ci=[m]:mr=m,o=cx(o,"onChange"),0<o.length&&(u=new Ae("onChange","change",null,u,m),i.push({event:u,listeners:o}))}var Hf=null,Vf=null;function E5(i){G2(i,0)}function _p(i){var o=fr(i);if(Dc(o))return i}function p_(i,o){if(i==="change")return o}var x_=!1;if(oa){var Ov;if(oa){var Mv="oninput"in document;if(!Mv){var g_=document.createElement("div");g_.setAttribute("oninput","return;"),Mv=typeof g_.oninput=="function"}Ov=Mv}else Ov=!1;x_=Ov&&(!document.documentMode||9<document.documentMode)}function y_(){Hf&&(Hf.detachEvent("onpropertychange",v_),Vf=Hf=null)}function v_(i){if(i.propertyName==="value"&&_p(Vf)){var o=[];m_(o,Vf,i,vo(i)),bo(E5,o)}}function k5(i,o,u){i==="focusin"?(y_(),Hf=o,Vf=u,Hf.attachEvent("onpropertychange",v_)):i==="focusout"&&y_()}function C5(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return _p(Vf)}function A5(i,o){if(i==="click")return _p(o)}function T5(i,o){if(i==="input"||i==="change")return _p(o)}function R5(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var da=typeof Object.is=="function"?Object.is:R5;function Yf(i,o){if(da(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),m=Object.keys(o);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var v=u[m];if(!fe.call(o,v)||!da(i[v],o[v]))return!1}return!0}function b_(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function j_(i,o){var u=b_(i);i=0;for(var m;u;){if(u.nodeType===3){if(m=i+u.textContent.length,i<=o&&m>=o)return{node:u,offset:o-i};i=m}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=b_(u)}}function w_(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?w_(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function N_(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=bl(i.document);o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=bl(i.document)}return o}function Pv(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var D5=oa&&"documentMode"in document&&11>=document.documentMode,Kd=null,Lv=null,Wf=null,Iv=!1;function __(i,o,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Iv||Kd==null||Kd!==bl(m)||(m=Kd,"selectionStart"in m&&Pv(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Wf&&Yf(Wf,m)||(Wf=m,m=cx(Lv,"onSelect"),0<m.length&&(o=new Ae("onSelect","select",null,o,u),i.push({event:o,listeners:m}),o.target=Kd)))}function Ic(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var Xd={animationend:Ic("Animation","AnimationEnd"),animationiteration:Ic("Animation","AnimationIteration"),animationstart:Ic("Animation","AnimationStart"),transitionrun:Ic("Transition","TransitionRun"),transitionstart:Ic("Transition","TransitionStart"),transitioncancel:Ic("Transition","TransitionCancel"),transitionend:Ic("Transition","TransitionEnd")},Uv={},S_={};oa&&(S_=document.createElement("div").style,"AnimationEvent"in window||(delete Xd.animationend.animation,delete Xd.animationiteration.animation,delete Xd.animationstart.animation),"TransitionEvent"in window||delete Xd.transitionend.transition);function Uc(i){if(Uv[i])return Uv[i];if(!Xd[i])return i;var o=Xd[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in S_)return Uv[i]=o[u];return i}var E_=Uc("animationend"),k_=Uc("animationiteration"),C_=Uc("animationstart"),O5=Uc("transitionrun"),M5=Uc("transitionstart"),P5=Uc("transitioncancel"),A_=Uc("transitionend"),T_=new Map,Fv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fv.push("scrollEnd");function fi(i,o){T_.set(i,o),ii(o,[i])}var R_=new WeakMap;function Ma(i,o){if(typeof i=="object"&&i!==null){var u=R_.get(i);return u!==void 0?u:(o={value:i,source:o,stack:Hd(o)},R_.set(i,o),o)}return{value:i,source:o,stack:Hd(o)}}var Pa=[],Qd=0,zv=0;function Sp(){for(var i=Qd,o=zv=Qd=0;o<i;){var u=Pa[o];Pa[o++]=null;var m=Pa[o];Pa[o++]=null;var v=Pa[o];Pa[o++]=null;var N=Pa[o];if(Pa[o++]=null,m!==null&&v!==null){var F=m.pending;F===null?v.next=v:(v.next=F.next,F.next=v),m.pending=v}N!==0&&D_(u,v,N)}}function Ep(i,o,u,m){Pa[Qd++]=i,Pa[Qd++]=o,Pa[Qd++]=u,Pa[Qd++]=m,zv|=m,i.lanes|=m,i=i.alternate,i!==null&&(i.lanes|=m)}function $v(i,o,u,m){return Ep(i,o,u,m),kp(i)}function Jd(i,o){return Ep(i,null,null,o),kp(i)}function D_(i,o,u){i.lanes|=u;var m=i.alternate;m!==null&&(m.lanes|=u);for(var v=!1,N=i.return;N!==null;)N.childLanes|=u,m=N.alternate,m!==null&&(m.childLanes|=u),N.tag===22&&(i=N.stateNode,i===null||i._visibility&1||(v=!0)),i=N,N=N.return;return i.tag===3?(N=i.stateNode,v&&o!==null&&(v=31-et(u),i=N.hiddenUpdates,m=i[v],m===null?i[v]=[o]:m.push(o),o.lane=u|536870912),N):null}function kp(i){if(50<yh)throw yh=0,Wb=null,Error(n(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var eu={};function L5(i,o,u,m){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ua(i,o,u,m){return new L5(i,o,u,m)}function qv(i){return i=i.prototype,!(!i||!i.isReactComponent)}function _l(i,o){var u=i.alternate;return u===null?(u=ua(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function O_(i,o){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,o=u.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function Cp(i,o,u,m,v,N){var F=0;if(m=i,typeof i=="function")qv(i)&&(F=1);else if(typeof i=="string")F=U6(i,u,G.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case P:return i=ua(31,u,o,v),i.elementType=P,i.lanes=N,i;case j:return Fc(u.children,v,N,o);case w:F=8,v|=24;break;case _:return i=ua(12,u,o,v|2),i.elementType=_,i.lanes=N,i;case L:return i=ua(13,u,o,v),i.elementType=L,i.lanes=N,i;case I:return i=ua(19,u,o,v),i.elementType=I,i.lanes=N,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case E:case k:F=10;break e;case S:F=9;break e;case R:F=11;break e;case T:F=14;break e;case O:F=16,m=null;break e}F=29,u=Error(n(130,i===null?"null":typeof i,"")),m=null}return o=ua(F,u,o,v),o.elementType=i,o.type=m,o.lanes=N,o}function Fc(i,o,u,m){return i=ua(7,i,m,o),i.lanes=u,i}function Bv(i,o,u){return i=ua(6,i,null,o),i.lanes=u,i}function Hv(i,o,u){return o=ua(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var tu=[],su=0,Ap=null,Tp=0,La=[],Ia=0,zc=null,Sl=1,El="";function $c(i,o){tu[su++]=Tp,tu[su++]=Ap,Ap=i,Tp=o}function M_(i,o,u){La[Ia++]=Sl,La[Ia++]=El,La[Ia++]=zc,zc=i;var m=Sl;i=El;var v=32-et(m)-1;m&=~(1<<v),u+=1;var N=32-et(o)+v;if(30<N){var F=v-v%5;N=(m&(1<<F)-1).toString(32),m>>=F,v-=F,Sl=1<<32-et(o)+v|u<<v|m,El=N+i}else Sl=1<<N|u<<v|m,El=i}function Vv(i){i.return!==null&&($c(i,1),M_(i,1,0))}function Yv(i){for(;i===Ap;)Ap=tu[--su],tu[su]=null,Tp=tu[--su],tu[su]=null;for(;i===zc;)zc=La[--Ia],La[Ia]=null,El=La[--Ia],La[Ia]=null,Sl=La[--Ia],La[Ia]=null}var In=null,pr=null,hs=!1,qc=null,Wi=!1,Wv=Error(n(519));function Bc(i){var o=Error(n(418,""));throw Kf(Ma(o,i)),Wv}function P_(i){var o=i.stateNode,u=i.type,m=i.memoizedProps;switch(o[Ws]=i,o[ms]=m,u){case"dialog":Qt("cancel",o),Qt("close",o);break;case"iframe":case"object":case"embed":Qt("load",o);break;case"video":case"audio":for(u=0;u<bh.length;u++)Qt(bh[u],o);break;case"source":Qt("error",o);break;case"img":case"image":case"link":Qt("error",o),Qt("load",o);break;case"details":Qt("toggle",o);break;case"input":Qt("invalid",o),Vd(o,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0),Ra(o);break;case"select":Qt("invalid",o);break;case"textarea":Qt("invalid",o),Hi(o,m.value,m.defaultValue,m.children),Ra(o)}u=m.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||m.suppressHydrationWarning===!0||Q2(o.textContent,u)?(m.popover!=null&&(Qt("beforetoggle",o),Qt("toggle",o)),m.onScroll!=null&&Qt("scroll",o),m.onScrollEnd!=null&&Qt("scrollend",o),m.onClick!=null&&(o.onclick=dx),o=!0):o=!1,o||Bc(i)}function L_(i){for(In=i.return;In;)switch(In.tag){case 5:case 13:Wi=!1;return;case 27:case 3:Wi=!0;return;default:In=In.return}}function Gf(i){if(i!==In)return!1;if(!hs)return L_(i),hs=!0,!1;var o=i.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||cj(i.type,i.memoizedProps)),u=!u),u&&pr&&Bc(i),L_(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8)if(u=i.data,u==="/$"){if(o===0){pr=mi(i.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++;i=i.nextSibling}pr=null}}else o===27?(o=pr,zo(i.type)?(i=hj,hj=null,pr=i):pr=o):pr=In?mi(i.stateNode.nextSibling):null;return!0}function Zf(){pr=In=null,hs=!1}function I_(){var i=qc;return i!==null&&(Wn===null?Wn=i:Wn.push.apply(Wn,i),qc=null),i}function Kf(i){qc===null?qc=[i]:qc.push(i)}var Gv=K(null),Hc=null,kl=null;function So(i,o,u){se(Gv,o._currentValue),o._currentValue=u}function Cl(i){i._currentValue=Gv.current,Y(Gv)}function Zv(i,o,u){for(;i!==null;){var m=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),i===u)break;i=i.return}}function Kv(i,o,u,m){var v=i.child;for(v!==null&&(v.return=i);v!==null;){var N=v.dependencies;if(N!==null){var F=v.child;N=N.firstContext;e:for(;N!==null;){var W=N;N=v;for(var oe=0;oe<o.length;oe++)if(W.context===o[oe]){N.lanes|=u,W=N.alternate,W!==null&&(W.lanes|=u),Zv(N.return,u,i),m||(F=null);break e}N=W.next}}else if(v.tag===18){if(F=v.return,F===null)throw Error(n(341));F.lanes|=u,N=F.alternate,N!==null&&(N.lanes|=u),Zv(F,u,i),F=null}else F=v.child;if(F!==null)F.return=v;else for(F=v;F!==null;){if(F===i){F=null;break}if(v=F.sibling,v!==null){v.return=F.return,F=v;break}F=F.return}v=F}}function Xf(i,o,u,m){i=null;for(var v=o,N=!1;v!==null;){if(!N){if((v.flags&524288)!==0)N=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var F=v.alternate;if(F===null)throw Error(n(387));if(F=F.memoizedProps,F!==null){var W=v.type;da(v.pendingProps.value,F.value)||(i!==null?i.push(W):i=[W])}}else if(v===ne.current){if(F=v.alternate,F===null)throw Error(n(387));F.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(i!==null?i.push(Eh):i=[Eh])}v=v.return}i!==null&&Kv(o,i,u,m),o.flags|=262144}function Rp(i){for(i=i.firstContext;i!==null;){if(!da(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Vc(i){Hc=i,kl=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function jn(i){return U_(Hc,i)}function Dp(i,o){return Hc===null&&Vc(i),U_(i,o)}function U_(i,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},kl===null){if(i===null)throw Error(n(308));kl=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else kl=kl.next=o;return u}var I5=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(u,m){i.push(m)}};this.abort=function(){o.aborted=!0,i.forEach(function(u){return u()})}},U5=t.unstable_scheduleCallback,F5=t.unstable_NormalPriority,Ir={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xv(){return{controller:new I5,data:new Map,refCount:0}}function Qf(i){i.refCount--,i.refCount===0&&U5(F5,function(){i.controller.abort()})}var Jf=null,Qv=0,ru=0,nu=null;function z5(i,o){if(Jf===null){var u=Jf=[];Qv=0,ru=ej(),nu={status:"pending",value:void 0,then:function(m){u.push(m)}}}return Qv++,o.then(F_,F_),o}function F_(){if(--Qv===0&&Jf!==null){nu!==null&&(nu.status="fulfilled");var i=Jf;Jf=null,ru=0,nu=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function $5(i,o){var u=[],m={status:"pending",value:null,reason:null,then:function(v){u.push(v)}};return i.then(function(){m.status="fulfilled",m.value=o;for(var v=0;v<u.length;v++)(0,u[v])(o)},function(v){for(m.status="rejected",m.reason=v,v=0;v<u.length;v++)(0,u[v])(void 0)}),m}var z_=M.S;M.S=function(i,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&z5(i,o),z_!==null&&z_(i,o)};var Yc=K(null);function Jv(){var i=Yc.current;return i!==null?i:Bs.pooledCache}function Op(i,o){o===null?se(Yc,Yc.current):se(Yc,o.pool)}function $_(){var i=Jv();return i===null?null:{parent:Ir._currentValue,pool:i}}var eh=Error(n(460)),q_=Error(n(474)),Mp=Error(n(542)),eb={then:function(){}};function B_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Pp(){}function H_(i,o,u){switch(u=i[u],u===void 0?i.push(o):u!==o&&(o.then(Pp,Pp),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,Y_(i),i;default:if(typeof o.status=="string")o.then(Pp,Pp);else{if(i=Bs,i!==null&&100<i.shellSuspendCounter)throw Error(n(482));i=o,i.status="pending",i.then(function(m){if(o.status==="pending"){var v=o;v.status="fulfilled",v.value=m}},function(m){if(o.status==="pending"){var v=o;v.status="rejected",v.reason=m}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,Y_(i),i}throw th=o,eh}}var th=null;function V_(){if(th===null)throw Error(n(459));var i=th;return th=null,i}function Y_(i){if(i===eh||i===Mp)throw Error(n(483))}var Eo=!1;function tb(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sb(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ko(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Co(i,o,u){var m=i.updateQueue;if(m===null)return null;if(m=m.shared,(xs&2)!==0){var v=m.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),m.pending=o,o=kp(i),D_(i,null,u),o}return Ep(i,m,o,u),kp(i)}function sh(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var m=o.lanes;m&=i.pendingLanes,u|=m,o.lanes=u,Is(i,u)}}function rb(i,o){var u=i.updateQueue,m=i.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var v=null,N=null;if(u=u.firstBaseUpdate,u!==null){do{var F={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};N===null?v=N=F:N=N.next=F,u=u.next}while(u!==null);N===null?v=N=o:N=N.next=o}else v=N=o;u={baseState:m.baseState,firstBaseUpdate:v,lastBaseUpdate:N,shared:m.shared,callbacks:m.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}var nb=!1;function rh(){if(nb){var i=nu;if(i!==null)throw i}}function nh(i,o,u,m){nb=!1;var v=i.updateQueue;Eo=!1;var N=v.firstBaseUpdate,F=v.lastBaseUpdate,W=v.shared.pending;if(W!==null){v.shared.pending=null;var oe=W,we=oe.next;oe.next=null,F===null?N=we:F.next=we,F=oe;var Te=i.alternate;Te!==null&&(Te=Te.updateQueue,W=Te.lastBaseUpdate,W!==F&&(W===null?Te.firstBaseUpdate=we:W.next=we,Te.lastBaseUpdate=oe))}if(N!==null){var Me=v.baseState;F=0,Te=we=oe=null,W=N;do{var _e=W.lane&-536870913,Se=_e!==W.lane;if(Se?(ls&_e)===_e:(m&_e)===_e){_e!==0&&_e===ru&&(nb=!0),Te!==null&&(Te=Te.next={lane:0,tag:W.tag,payload:W.payload,callback:null,next:null});e:{var Et=i,yt=W;_e=o;var Os=u;switch(yt.tag){case 1:if(Et=yt.payload,typeof Et=="function"){Me=Et.call(Os,Me,_e);break e}Me=Et;break e;case 3:Et.flags=Et.flags&-65537|128;case 0:if(Et=yt.payload,_e=typeof Et=="function"?Et.call(Os,Me,_e):Et,_e==null)break e;Me=p({},Me,_e);break e;case 2:Eo=!0}}_e=W.callback,_e!==null&&(i.flags|=64,Se&&(i.flags|=8192),Se=v.callbacks,Se===null?v.callbacks=[_e]:Se.push(_e))}else Se={lane:_e,tag:W.tag,payload:W.payload,callback:W.callback,next:null},Te===null?(we=Te=Se,oe=Me):Te=Te.next=Se,F|=_e;if(W=W.next,W===null){if(W=v.shared.pending,W===null)break;Se=W,W=Se.next,Se.next=null,v.lastBaseUpdate=Se,v.shared.pending=null}}while(!0);Te===null&&(oe=Me),v.baseState=oe,v.firstBaseUpdate=we,v.lastBaseUpdate=Te,N===null&&(v.shared.lanes=0),Lo|=F,i.lanes=F,i.memoizedState=Me}}function W_(i,o){if(typeof i!="function")throw Error(n(191,i));i.call(o)}function G_(i,o){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)W_(u[i],o)}var au=K(null),Lp=K(0);function Z_(i,o){i=Pl,se(Lp,i),se(au,o),Pl=i|o.baseLanes}function ab(){se(Lp,Pl),se(au,au.current)}function ib(){Pl=Lp.current,Y(au),Y(Lp)}var Ao=0,Ht=null,Rs=null,Ar=null,Ip=!1,iu=!1,Wc=!1,Up=0,ah=0,lu=null,q5=0;function wr(){throw Error(n(321))}function lb(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!da(i[u],o[u]))return!1;return!0}function ob(i,o,u,m,v,N){return Ao=N,Ht=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,M.H=i===null||i.memoizedState===null?DS:OS,Wc=!1,N=u(m,v),Wc=!1,iu&&(N=X_(o,u,m,v)),K_(i),N}function K_(i){M.H=Hp;var o=Rs!==null&&Rs.next!==null;if(Ao=0,Ar=Rs=Ht=null,Ip=!1,ah=0,lu=null,o)throw Error(n(300));i===null||Zr||(i=i.dependencies,i!==null&&Rp(i)&&(Zr=!0))}function X_(i,o,u,m){Ht=i;var v=0;do{if(iu&&(lu=null),ah=0,iu=!1,25<=v)throw Error(n(301));if(v+=1,Ar=Rs=null,i.updateQueue!=null){var N=i.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}M.H=Z5,N=o(u,m)}while(iu);return N}function B5(){var i=M.H,o=i.useState()[0];return o=typeof o.then=="function"?ih(o):o,i=i.useState()[0],(Rs!==null?Rs.memoizedState:null)!==i&&(Ht.flags|=1024),o}function cb(){var i=Up!==0;return Up=0,i}function db(i,o,u){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~u}function ub(i){if(Ip){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}Ip=!1}Ao=0,Ar=Rs=Ht=null,iu=!1,ah=Up=0,lu=null}function Vn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ar===null?Ht.memoizedState=Ar=i:Ar=Ar.next=i,Ar}function Tr(){if(Rs===null){var i=Ht.alternate;i=i!==null?i.memoizedState:null}else i=Rs.next;var o=Ar===null?Ht.memoizedState:Ar.next;if(o!==null)Ar=o,Rs=i;else{if(i===null)throw Ht.alternate===null?Error(n(467)):Error(n(310));Rs=i,i={memoizedState:Rs.memoizedState,baseState:Rs.baseState,baseQueue:Rs.baseQueue,queue:Rs.queue,next:null},Ar===null?Ht.memoizedState=Ar=i:Ar=Ar.next=i}return Ar}function fb(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ih(i){var o=ah;return ah+=1,lu===null&&(lu=[]),i=H_(lu,i,o),o=Ht,(Ar===null?o.memoizedState:Ar.next)===null&&(o=o.alternate,M.H=o===null||o.memoizedState===null?DS:OS),i}function Fp(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return ih(i);if(i.$$typeof===k)return jn(i)}throw Error(n(438,String(i)))}function hb(i){var o=null,u=Ht.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var m=Ht.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(o={data:m.data.map(function(v){return v.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=fb(),Ht.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(i),m=0;m<i;m++)u[m]=X;return o.index++,u}function Al(i,o){return typeof o=="function"?o(i):o}function zp(i){var o=Tr();return mb(o,Rs,i)}function mb(i,o,u){var m=i.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=u;var v=i.baseQueue,N=m.pending;if(N!==null){if(v!==null){var F=v.next;v.next=N.next,N.next=F}o.baseQueue=v=N,m.pending=null}if(N=i.baseState,v===null)i.memoizedState=N;else{o=v.next;var W=F=null,oe=null,we=o,Te=!1;do{var Me=we.lane&-536870913;if(Me!==we.lane?(ls&Me)===Me:(Ao&Me)===Me){var _e=we.revertLane;if(_e===0)oe!==null&&(oe=oe.next={lane:0,revertLane:0,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null}),Me===ru&&(Te=!0);else if((Ao&_e)===_e){we=we.next,_e===ru&&(Te=!0);continue}else Me={lane:0,revertLane:we.revertLane,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null},oe===null?(W=oe=Me,F=N):oe=oe.next=Me,Ht.lanes|=_e,Lo|=_e;Me=we.action,Wc&&u(N,Me),N=we.hasEagerState?we.eagerState:u(N,Me)}else _e={lane:Me,revertLane:we.revertLane,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null},oe===null?(W=oe=_e,F=N):oe=oe.next=_e,Ht.lanes|=Me,Lo|=Me;we=we.next}while(we!==null&&we!==o);if(oe===null?F=N:oe.next=W,!da(N,i.memoizedState)&&(Zr=!0,Te&&(u=nu,u!==null)))throw u;i.memoizedState=N,i.baseState=F,i.baseQueue=oe,m.lastRenderedState=N}return v===null&&(m.lanes=0),[i.memoizedState,m.dispatch]}function pb(i){var o=Tr(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var m=u.dispatch,v=u.pending,N=o.memoizedState;if(v!==null){u.pending=null;var F=v=v.next;do N=i(N,F.action),F=F.next;while(F!==v);da(N,o.memoizedState)||(Zr=!0),o.memoizedState=N,o.baseQueue===null&&(o.baseState=N),u.lastRenderedState=N}return[N,m]}function Q_(i,o,u){var m=Ht,v=Tr(),N=hs;if(N){if(u===void 0)throw Error(n(407));u=u()}else u=o();var F=!da((Rs||v).memoizedState,u);F&&(v.memoizedState=u,Zr=!0),v=v.queue;var W=tS.bind(null,m,v,i);if(lh(2048,8,W,[i]),v.getSnapshot!==o||F||Ar!==null&&Ar.memoizedState.tag&1){if(m.flags|=2048,ou(9,$p(),eS.bind(null,m,v,u,o),null),Bs===null)throw Error(n(349));N||(Ao&124)!==0||J_(m,o,u)}return u}function J_(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=Ht.updateQueue,o===null?(o=fb(),Ht.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function eS(i,o,u,m){o.value=u,o.getSnapshot=m,sS(o)&&rS(i)}function tS(i,o,u){return u(function(){sS(o)&&rS(i)})}function sS(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!da(i,u)}catch{return!0}}function rS(i){var o=Jd(i,2);o!==null&&xa(o,i,2)}function xb(i){var o=Vn();if(typeof i=="function"){var u=i;if(i=u(),Wc){Ie(!0);try{u()}finally{Ie(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Al,lastRenderedState:i},o}function nS(i,o,u,m){return i.baseState=u,mb(i,Rs,typeof m=="function"?m:Al)}function H5(i,o,u,m,v){if(Bp(i))throw Error(n(485));if(i=o.action,i!==null){var N={payload:v,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(F){N.listeners.push(F)}};M.T!==null?u(!0):N.isTransition=!1,m(N),u=o.pending,u===null?(N.next=o.pending=N,aS(o,N)):(N.next=u.next,o.pending=u.next=N)}}function aS(i,o){var u=o.action,m=o.payload,v=i.state;if(o.isTransition){var N=M.T,F={};M.T=F;try{var W=u(v,m),oe=M.S;oe!==null&&oe(F,W),iS(i,o,W)}catch(we){gb(i,o,we)}finally{M.T=N}}else try{N=u(v,m),iS(i,o,N)}catch(we){gb(i,o,we)}}function iS(i,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(m){lS(i,o,m)},function(m){return gb(i,o,m)}):lS(i,o,u)}function lS(i,o,u){o.status="fulfilled",o.value=u,oS(o),i.state=u,o=i.pending,o!==null&&(u=o.next,u===o?i.pending=null:(u=u.next,o.next=u,aS(i,u)))}function gb(i,o,u){var m=i.pending;if(i.pending=null,m!==null){m=m.next;do o.status="rejected",o.reason=u,oS(o),o=o.next;while(o!==m)}i.action=null}function oS(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function cS(i,o){return o}function dS(i,o){if(hs){var u=Bs.formState;if(u!==null){e:{var m=Ht;if(hs){if(pr){t:{for(var v=pr,N=Wi;v.nodeType!==8;){if(!N){v=null;break t}if(v=mi(v.nextSibling),v===null){v=null;break t}}N=v.data,v=N==="F!"||N==="F"?v:null}if(v){pr=mi(v.nextSibling),m=v.data==="F!";break e}}Bc(m)}m=!1}m&&(o=u[0])}}return u=Vn(),u.memoizedState=u.baseState=o,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cS,lastRenderedState:o},u.queue=m,u=AS.bind(null,Ht,m),m.dispatch=u,m=xb(!1),N=wb.bind(null,Ht,!1,m.queue),m=Vn(),v={state:o,dispatch:null,action:i,pending:null},m.queue=v,u=H5.bind(null,Ht,v,N,u),v.dispatch=u,m.memoizedState=i,[o,u,!1]}function uS(i){var o=Tr();return fS(o,Rs,i)}function fS(i,o,u){if(o=mb(i,o,cS)[0],i=zp(Al)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var m=ih(o)}catch(F){throw F===eh?Mp:F}else m=o;o=Tr();var v=o.queue,N=v.dispatch;return u!==o.memoizedState&&(Ht.flags|=2048,ou(9,$p(),V5.bind(null,v,u),null)),[m,N,i]}function V5(i,o){i.action=o}function hS(i){var o=Tr(),u=Rs;if(u!==null)return fS(o,u,i);Tr(),o=o.memoizedState,u=Tr();var m=u.queue.dispatch;return u.memoizedState=i,[o,m,!1]}function ou(i,o,u,m){return i={tag:i,create:u,deps:m,inst:o,next:null},o=Ht.updateQueue,o===null&&(o=fb(),Ht.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=i.next=i:(m=u.next,u.next=i,i.next=m,o.lastEffect=i),i}function $p(){return{destroy:void 0,resource:void 0}}function mS(){return Tr().memoizedState}function qp(i,o,u,m){var v=Vn();m=m===void 0?null:m,Ht.flags|=i,v.memoizedState=ou(1|o,$p(),u,m)}function lh(i,o,u,m){var v=Tr();m=m===void 0?null:m;var N=v.memoizedState.inst;Rs!==null&&m!==null&&lb(m,Rs.memoizedState.deps)?v.memoizedState=ou(o,N,u,m):(Ht.flags|=i,v.memoizedState=ou(1|o,N,u,m))}function pS(i,o){qp(8390656,8,i,o)}function xS(i,o){lh(2048,8,i,o)}function gS(i,o){return lh(4,2,i,o)}function yS(i,o){return lh(4,4,i,o)}function vS(i,o){if(typeof o=="function"){i=i();var u=o(i);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function bS(i,o,u){u=u!=null?u.concat([i]):null,lh(4,4,vS.bind(null,o,i),u)}function yb(){}function jS(i,o){var u=Tr();o=o===void 0?null:o;var m=u.memoizedState;return o!==null&&lb(o,m[1])?m[0]:(u.memoizedState=[i,o],i)}function wS(i,o){var u=Tr();o=o===void 0?null:o;var m=u.memoizedState;if(o!==null&&lb(o,m[1]))return m[0];if(m=i(),Wc){Ie(!0);try{i()}finally{Ie(!1)}}return u.memoizedState=[m,o],m}function vb(i,o,u){return u===void 0||(Ao&1073741824)!==0?i.memoizedState=o:(i.memoizedState=u,i=S2(),Ht.lanes|=i,Lo|=i,u)}function NS(i,o,u,m){return da(u,o)?u:au.current!==null?(i=vb(i,u,m),da(i,o)||(Zr=!0),i):(Ao&42)===0?(Zr=!0,i.memoizedState=u):(i=S2(),Ht.lanes|=i,Lo|=i,o)}function _S(i,o,u,m,v){var N=V.p;V.p=N!==0&&8>N?N:8;var F=M.T,W={};M.T=W,wb(i,!1,o,u);try{var oe=v(),we=M.S;if(we!==null&&we(W,oe),oe!==null&&typeof oe=="object"&&typeof oe.then=="function"){var Te=$5(oe,m);oh(i,o,Te,pa(i))}else oh(i,o,m,pa(i))}catch(Me){oh(i,o,{then:function(){},status:"rejected",reason:Me},pa())}finally{V.p=N,M.T=F}}function Y5(){}function bb(i,o,u,m){if(i.tag!==5)throw Error(n(476));var v=SS(i).queue;_S(i,v,o,Q,u===null?Y5:function(){return ES(i),u(m)})}function SS(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Al,lastRenderedState:Q},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Al,lastRenderedState:u},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function ES(i){var o=SS(i).next.queue;oh(i,o,{},pa())}function jb(){return jn(Eh)}function kS(){return Tr().memoizedState}function CS(){return Tr().memoizedState}function W5(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var u=pa();i=ko(u);var m=Co(o,i,u);m!==null&&(xa(m,o,u),sh(m,o,u)),o={cache:Xv()},i.payload=o;return}o=o.return}}function G5(i,o,u){var m=pa();u={lane:m,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},Bp(i)?TS(o,u):(u=$v(i,o,u,m),u!==null&&(xa(u,i,m),RS(u,o,m)))}function AS(i,o,u){var m=pa();oh(i,o,u,m)}function oh(i,o,u,m){var v={lane:m,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(Bp(i))TS(o,v);else{var N=i.alternate;if(i.lanes===0&&(N===null||N.lanes===0)&&(N=o.lastRenderedReducer,N!==null))try{var F=o.lastRenderedState,W=N(F,u);if(v.hasEagerState=!0,v.eagerState=W,da(W,F))return Ep(i,o,v,0),Bs===null&&Sp(),!1}catch{}finally{}if(u=$v(i,o,v,m),u!==null)return xa(u,i,m),RS(u,o,m),!0}return!1}function wb(i,o,u,m){if(m={lane:2,revertLane:ej(),action:m,hasEagerState:!1,eagerState:null,next:null},Bp(i)){if(o)throw Error(n(479))}else o=$v(i,u,m,2),o!==null&&xa(o,i,2)}function Bp(i){var o=i.alternate;return i===Ht||o!==null&&o===Ht}function TS(i,o){iu=Ip=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function RS(i,o,u){if((u&4194048)!==0){var m=o.lanes;m&=i.pendingLanes,u|=m,o.lanes=u,Is(i,u)}}var Hp={readContext:jn,use:Fp,useCallback:wr,useContext:wr,useEffect:wr,useImperativeHandle:wr,useLayoutEffect:wr,useInsertionEffect:wr,useMemo:wr,useReducer:wr,useRef:wr,useState:wr,useDebugValue:wr,useDeferredValue:wr,useTransition:wr,useSyncExternalStore:wr,useId:wr,useHostTransitionStatus:wr,useFormState:wr,useActionState:wr,useOptimistic:wr,useMemoCache:wr,useCacheRefresh:wr},DS={readContext:jn,use:Fp,useCallback:function(i,o){return Vn().memoizedState=[i,o===void 0?null:o],i},useContext:jn,useEffect:pS,useImperativeHandle:function(i,o,u){u=u!=null?u.concat([i]):null,qp(4194308,4,vS.bind(null,o,i),u)},useLayoutEffect:function(i,o){return qp(4194308,4,i,o)},useInsertionEffect:function(i,o){qp(4,2,i,o)},useMemo:function(i,o){var u=Vn();o=o===void 0?null:o;var m=i();if(Wc){Ie(!0);try{i()}finally{Ie(!1)}}return u.memoizedState=[m,o],m},useReducer:function(i,o,u){var m=Vn();if(u!==void 0){var v=u(o);if(Wc){Ie(!0);try{u(o)}finally{Ie(!1)}}}else v=o;return m.memoizedState=m.baseState=v,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:v},m.queue=i,i=i.dispatch=G5.bind(null,Ht,i),[m.memoizedState,i]},useRef:function(i){var o=Vn();return i={current:i},o.memoizedState=i},useState:function(i){i=xb(i);var o=i.queue,u=AS.bind(null,Ht,o);return o.dispatch=u,[i.memoizedState,u]},useDebugValue:yb,useDeferredValue:function(i,o){var u=Vn();return vb(u,i,o)},useTransition:function(){var i=xb(!1);return i=_S.bind(null,Ht,i.queue,!0,!1),Vn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,u){var m=Ht,v=Vn();if(hs){if(u===void 0)throw Error(n(407));u=u()}else{if(u=o(),Bs===null)throw Error(n(349));(ls&124)!==0||J_(m,o,u)}v.memoizedState=u;var N={value:u,getSnapshot:o};return v.queue=N,pS(tS.bind(null,m,N,i),[i]),m.flags|=2048,ou(9,$p(),eS.bind(null,m,N,u,o),null),u},useId:function(){var i=Vn(),o=Bs.identifierPrefix;if(hs){var u=El,m=Sl;u=(m&~(1<<32-et(m)-1)).toString(32)+u,o=""+o+"R"+u,u=Up++,0<u&&(o+="H"+u.toString(32)),o+=""}else u=q5++,o=""+o+"r"+u.toString(32)+"";return i.memoizedState=o},useHostTransitionStatus:jb,useFormState:dS,useActionState:dS,useOptimistic:function(i){var o=Vn();o.memoizedState=o.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=wb.bind(null,Ht,!0,u),u.dispatch=o,[i,o]},useMemoCache:hb,useCacheRefresh:function(){return Vn().memoizedState=W5.bind(null,Ht)}},OS={readContext:jn,use:Fp,useCallback:jS,useContext:jn,useEffect:xS,useImperativeHandle:bS,useInsertionEffect:gS,useLayoutEffect:yS,useMemo:wS,useReducer:zp,useRef:mS,useState:function(){return zp(Al)},useDebugValue:yb,useDeferredValue:function(i,o){var u=Tr();return NS(u,Rs.memoizedState,i,o)},useTransition:function(){var i=zp(Al)[0],o=Tr().memoizedState;return[typeof i=="boolean"?i:ih(i),o]},useSyncExternalStore:Q_,useId:kS,useHostTransitionStatus:jb,useFormState:uS,useActionState:uS,useOptimistic:function(i,o){var u=Tr();return nS(u,Rs,i,o)},useMemoCache:hb,useCacheRefresh:CS},Z5={readContext:jn,use:Fp,useCallback:jS,useContext:jn,useEffect:xS,useImperativeHandle:bS,useInsertionEffect:gS,useLayoutEffect:yS,useMemo:wS,useReducer:pb,useRef:mS,useState:function(){return pb(Al)},useDebugValue:yb,useDeferredValue:function(i,o){var u=Tr();return Rs===null?vb(u,i,o):NS(u,Rs.memoizedState,i,o)},useTransition:function(){var i=pb(Al)[0],o=Tr().memoizedState;return[typeof i=="boolean"?i:ih(i),o]},useSyncExternalStore:Q_,useId:kS,useHostTransitionStatus:jb,useFormState:hS,useActionState:hS,useOptimistic:function(i,o){var u=Tr();return Rs!==null?nS(u,Rs,i,o):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:hb,useCacheRefresh:CS},cu=null,ch=0;function Vp(i){var o=ch;return ch+=1,cu===null&&(cu=[]),H_(cu,i,o)}function dh(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function Yp(i,o){throw o.$$typeof===g?Error(n(525)):(i=Object.prototype.toString.call(o),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function MS(i){var o=i._init;return o(i._payload)}function PS(i){function o(ge,he){if(i){var be=ge.deletions;be===null?(ge.deletions=[he],ge.flags|=16):be.push(he)}}function u(ge,he){if(!i)return null;for(;he!==null;)o(ge,he),he=he.sibling;return null}function m(ge){for(var he=new Map;ge!==null;)ge.key!==null?he.set(ge.key,ge):he.set(ge.index,ge),ge=ge.sibling;return he}function v(ge,he){return ge=_l(ge,he),ge.index=0,ge.sibling=null,ge}function N(ge,he,be){return ge.index=be,i?(be=ge.alternate,be!==null?(be=be.index,be<he?(ge.flags|=67108866,he):be):(ge.flags|=67108866,he)):(ge.flags|=1048576,he)}function F(ge){return i&&ge.alternate===null&&(ge.flags|=67108866),ge}function W(ge,he,be,Re){return he===null||he.tag!==6?(he=Bv(be,ge.mode,Re),he.return=ge,he):(he=v(he,be),he.return=ge,he)}function oe(ge,he,be,Re){var st=be.type;return st===j?Te(ge,he,be.props.children,Re,be.key):he!==null&&(he.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===O&&MS(st)===he.type)?(he=v(he,be.props),dh(he,be),he.return=ge,he):(he=Cp(be.type,be.key,be.props,null,ge.mode,Re),dh(he,be),he.return=ge,he)}function we(ge,he,be,Re){return he===null||he.tag!==4||he.stateNode.containerInfo!==be.containerInfo||he.stateNode.implementation!==be.implementation?(he=Hv(be,ge.mode,Re),he.return=ge,he):(he=v(he,be.children||[]),he.return=ge,he)}function Te(ge,he,be,Re,st){return he===null||he.tag!==7?(he=Fc(be,ge.mode,Re,st),he.return=ge,he):(he=v(he,be),he.return=ge,he)}function Me(ge,he,be){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return he=Bv(""+he,ge.mode,be),he.return=ge,he;if(typeof he=="object"&&he!==null){switch(he.$$typeof){case y:return be=Cp(he.type,he.key,he.props,null,ge.mode,be),dh(be,he),be.return=ge,be;case b:return he=Hv(he,ge.mode,be),he.return=ge,he;case O:var Re=he._init;return he=Re(he._payload),Me(ge,he,be)}if(B(he)||z(he))return he=Fc(he,ge.mode,be,null),he.return=ge,he;if(typeof he.then=="function")return Me(ge,Vp(he),be);if(he.$$typeof===k)return Me(ge,Dp(ge,he),be);Yp(ge,he)}return null}function _e(ge,he,be,Re){var st=he!==null?he.key:null;if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return st!==null?null:W(ge,he,""+be,Re);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case y:return be.key===st?oe(ge,he,be,Re):null;case b:return be.key===st?we(ge,he,be,Re):null;case O:return st=be._init,be=st(be._payload),_e(ge,he,be,Re)}if(B(be)||z(be))return st!==null?null:Te(ge,he,be,Re,null);if(typeof be.then=="function")return _e(ge,he,Vp(be),Re);if(be.$$typeof===k)return _e(ge,he,Dp(ge,be),Re);Yp(ge,be)}return null}function Se(ge,he,be,Re,st){if(typeof Re=="string"&&Re!==""||typeof Re=="number"||typeof Re=="bigint")return ge=ge.get(be)||null,W(he,ge,""+Re,st);if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case y:return ge=ge.get(Re.key===null?be:Re.key)||null,oe(he,ge,Re,st);case b:return ge=ge.get(Re.key===null?be:Re.key)||null,we(he,ge,Re,st);case O:var Yt=Re._init;return Re=Yt(Re._payload),Se(ge,he,be,Re,st)}if(B(Re)||z(Re))return ge=ge.get(be)||null,Te(he,ge,Re,st,null);if(typeof Re.then=="function")return Se(ge,he,be,Vp(Re),st);if(Re.$$typeof===k)return Se(ge,he,be,Dp(he,Re),st);Yp(he,Re)}return null}function Et(ge,he,be,Re){for(var st=null,Yt=null,mt=he,vt=he=0,Xr=null;mt!==null&&vt<be.length;vt++){mt.index>vt?(Xr=mt,mt=null):Xr=mt.sibling;var ds=_e(ge,mt,be[vt],Re);if(ds===null){mt===null&&(mt=Xr);break}i&&mt&&ds.alternate===null&&o(ge,mt),he=N(ds,he,vt),Yt===null?st=ds:Yt.sibling=ds,Yt=ds,mt=Xr}if(vt===be.length)return u(ge,mt),hs&&$c(ge,vt),st;if(mt===null){for(;vt<be.length;vt++)mt=Me(ge,be[vt],Re),mt!==null&&(he=N(mt,he,vt),Yt===null?st=mt:Yt.sibling=mt,Yt=mt);return hs&&$c(ge,vt),st}for(mt=m(mt);vt<be.length;vt++)Xr=Se(mt,ge,vt,be[vt],Re),Xr!==null&&(i&&Xr.alternate!==null&&mt.delete(Xr.key===null?vt:Xr.key),he=N(Xr,he,vt),Yt===null?st=Xr:Yt.sibling=Xr,Yt=Xr);return i&&mt.forEach(function(Vo){return o(ge,Vo)}),hs&&$c(ge,vt),st}function yt(ge,he,be,Re){if(be==null)throw Error(n(151));for(var st=null,Yt=null,mt=he,vt=he=0,Xr=null,ds=be.next();mt!==null&&!ds.done;vt++,ds=be.next()){mt.index>vt?(Xr=mt,mt=null):Xr=mt.sibling;var Vo=_e(ge,mt,ds.value,Re);if(Vo===null){mt===null&&(mt=Xr);break}i&&mt&&Vo.alternate===null&&o(ge,mt),he=N(Vo,he,vt),Yt===null?st=Vo:Yt.sibling=Vo,Yt=Vo,mt=Xr}if(ds.done)return u(ge,mt),hs&&$c(ge,vt),st;if(mt===null){for(;!ds.done;vt++,ds=be.next())ds=Me(ge,ds.value,Re),ds!==null&&(he=N(ds,he,vt),Yt===null?st=ds:Yt.sibling=ds,Yt=ds);return hs&&$c(ge,vt),st}for(mt=m(mt);!ds.done;vt++,ds=be.next())ds=Se(mt,ge,vt,ds.value,Re),ds!==null&&(i&&ds.alternate!==null&&mt.delete(ds.key===null?vt:ds.key),he=N(ds,he,vt),Yt===null?st=ds:Yt.sibling=ds,Yt=ds);return i&&mt.forEach(function(K6){return o(ge,K6)}),hs&&$c(ge,vt),st}function Os(ge,he,be,Re){if(typeof be=="object"&&be!==null&&be.type===j&&be.key===null&&(be=be.props.children),typeof be=="object"&&be!==null){switch(be.$$typeof){case y:e:{for(var st=be.key;he!==null;){if(he.key===st){if(st=be.type,st===j){if(he.tag===7){u(ge,he.sibling),Re=v(he,be.props.children),Re.return=ge,ge=Re;break e}}else if(he.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===O&&MS(st)===he.type){u(ge,he.sibling),Re=v(he,be.props),dh(Re,be),Re.return=ge,ge=Re;break e}u(ge,he);break}else o(ge,he);he=he.sibling}be.type===j?(Re=Fc(be.props.children,ge.mode,Re,be.key),Re.return=ge,ge=Re):(Re=Cp(be.type,be.key,be.props,null,ge.mode,Re),dh(Re,be),Re.return=ge,ge=Re)}return F(ge);case b:e:{for(st=be.key;he!==null;){if(he.key===st)if(he.tag===4&&he.stateNode.containerInfo===be.containerInfo&&he.stateNode.implementation===be.implementation){u(ge,he.sibling),Re=v(he,be.children||[]),Re.return=ge,ge=Re;break e}else{u(ge,he);break}else o(ge,he);he=he.sibling}Re=Hv(be,ge.mode,Re),Re.return=ge,ge=Re}return F(ge);case O:return st=be._init,be=st(be._payload),Os(ge,he,be,Re)}if(B(be))return Et(ge,he,be,Re);if(z(be)){if(st=z(be),typeof st!="function")throw Error(n(150));return be=st.call(be),yt(ge,he,be,Re)}if(typeof be.then=="function")return Os(ge,he,Vp(be),Re);if(be.$$typeof===k)return Os(ge,he,Dp(ge,be),Re);Yp(ge,be)}return typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint"?(be=""+be,he!==null&&he.tag===6?(u(ge,he.sibling),Re=v(he,be),Re.return=ge,ge=Re):(u(ge,he),Re=Bv(be,ge.mode,Re),Re.return=ge,ge=Re),F(ge)):u(ge,he)}return function(ge,he,be,Re){try{ch=0;var st=Os(ge,he,be,Re);return cu=null,st}catch(mt){if(mt===eh||mt===Mp)throw mt;var Yt=ua(29,mt,null,ge.mode);return Yt.lanes=Re,Yt.return=ge,Yt}finally{}}}var du=PS(!0),LS=PS(!1),Ua=K(null),Gi=null;function To(i){var o=i.alternate;se(Ur,Ur.current&1),se(Ua,i),Gi===null&&(o===null||au.current!==null||o.memoizedState!==null)&&(Gi=i)}function IS(i){if(i.tag===22){if(se(Ur,Ur.current),se(Ua,i),Gi===null){var o=i.alternate;o!==null&&o.memoizedState!==null&&(Gi=i)}}else Ro()}function Ro(){se(Ur,Ur.current),se(Ua,Ua.current)}function Tl(i){Y(Ua),Gi===i&&(Gi=null),Y(Ur)}var Ur=K(0);function Wp(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||fj(u)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function Nb(i,o,u,m){o=i.memoizedState,u=u(m,o),u=u==null?o:p({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var _b={enqueueSetState:function(i,o,u){i=i._reactInternals;var m=pa(),v=ko(m);v.payload=o,u!=null&&(v.callback=u),o=Co(i,v,m),o!==null&&(xa(o,i,m),sh(o,i,m))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var m=pa(),v=ko(m);v.tag=1,v.payload=o,u!=null&&(v.callback=u),o=Co(i,v,m),o!==null&&(xa(o,i,m),sh(o,i,m))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=pa(),m=ko(u);m.tag=2,o!=null&&(m.callback=o),o=Co(i,m,u),o!==null&&(xa(o,i,u),sh(o,i,u))}};function US(i,o,u,m,v,N,F){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(m,N,F):o.prototype&&o.prototype.isPureReactComponent?!Yf(u,m)||!Yf(v,N):!0}function FS(i,o,u,m){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,m),o.state!==i&&_b.enqueueReplaceState(o,o.state,null)}function Gc(i,o){var u=o;if("ref"in o){u={};for(var m in o)m!=="ref"&&(u[m]=o[m])}if(i=i.defaultProps){u===o&&(u=p({},u));for(var v in i)u[v]===void 0&&(u[v]=i[v])}return u}var Gp=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function zS(i){Gp(i)}function $S(i){console.error(i)}function qS(i){Gp(i)}function Zp(i,o){try{var u=i.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(m){setTimeout(function(){throw m})}}function BS(i,o,u){try{var m=i.onCaughtError;m(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Sb(i,o,u){return u=ko(u),u.tag=3,u.payload={element:null},u.callback=function(){Zp(i,o)},u}function HS(i){return i=ko(i),i.tag=3,i}function VS(i,o,u,m){var v=u.type.getDerivedStateFromError;if(typeof v=="function"){var N=m.value;i.payload=function(){return v(N)},i.callback=function(){BS(o,u,m)}}var F=u.stateNode;F!==null&&typeof F.componentDidCatch=="function"&&(i.callback=function(){BS(o,u,m),typeof v!="function"&&(Io===null?Io=new Set([this]):Io.add(this));var W=m.stack;this.componentDidCatch(m.value,{componentStack:W!==null?W:""})})}function K5(i,o,u,m,v){if(u.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(o=u.alternate,o!==null&&Xf(o,u,v,!0),u=Ua.current,u!==null){switch(u.tag){case 13:return Gi===null?Zb():u.alternate===null&&xr===0&&(xr=3),u.flags&=-257,u.flags|=65536,u.lanes=v,m===eb?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([m]):o.add(m),Xb(i,m,v)),!1;case 22:return u.flags|=65536,m===eb?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([m])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([m]):u.add(m)),Xb(i,m,v)),!1}throw Error(n(435,u.tag))}return Xb(i,m,v),Zb(),!1}if(hs)return o=Ua.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=v,m!==Wv&&(i=Error(n(422),{cause:m}),Kf(Ma(i,u)))):(m!==Wv&&(o=Error(n(423),{cause:m}),Kf(Ma(o,u))),i=i.current.alternate,i.flags|=65536,v&=-v,i.lanes|=v,m=Ma(m,u),v=Sb(i.stateNode,m,v),rb(i,v),xr!==4&&(xr=2)),!1;var N=Error(n(520),{cause:m});if(N=Ma(N,u),gh===null?gh=[N]:gh.push(N),xr!==4&&(xr=2),o===null)return!0;m=Ma(m,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,i=v&-v,u.lanes|=i,i=Sb(u.stateNode,m,i),rb(u,i),!1;case 1:if(o=u.type,N=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(Io===null||!Io.has(N))))return u.flags|=65536,v&=-v,u.lanes|=v,v=HS(v),VS(v,i,u,m),rb(u,v),!1}u=u.return}while(u!==null);return!1}var YS=Error(n(461)),Zr=!1;function rn(i,o,u,m){o.child=i===null?LS(o,null,u,m):du(o,i.child,u,m)}function WS(i,o,u,m,v){u=u.render;var N=o.ref;if("ref"in m){var F={};for(var W in m)W!=="ref"&&(F[W]=m[W])}else F=m;return Vc(o),m=ob(i,o,u,F,N,v),W=cb(),i!==null&&!Zr?(db(i,o,v),Rl(i,o,v)):(hs&&W&&Vv(o),o.flags|=1,rn(i,o,m,v),o.child)}function GS(i,o,u,m,v){if(i===null){var N=u.type;return typeof N=="function"&&!qv(N)&&N.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=N,ZS(i,o,N,m,v)):(i=Cp(u.type,null,m,o,o.mode,v),i.ref=o.ref,i.return=o,o.child=i)}if(N=i.child,!Ob(i,v)){var F=N.memoizedProps;if(u=u.compare,u=u!==null?u:Yf,u(F,m)&&i.ref===o.ref)return Rl(i,o,v)}return o.flags|=1,i=_l(N,m),i.ref=o.ref,i.return=o,o.child=i}function ZS(i,o,u,m,v){if(i!==null){var N=i.memoizedProps;if(Yf(N,m)&&i.ref===o.ref)if(Zr=!1,o.pendingProps=m=N,Ob(i,v))(i.flags&131072)!==0&&(Zr=!0);else return o.lanes=i.lanes,Rl(i,o,v)}return Eb(i,o,u,m,v)}function KS(i,o,u){var m=o.pendingProps,v=m.children,N=i!==null?i.memoizedState:null;if(m.mode==="hidden"){if((o.flags&128)!==0){if(m=N!==null?N.baseLanes|u:u,i!==null){for(v=o.child=i.child,N=0;v!==null;)N=N|v.lanes|v.childLanes,v=v.sibling;o.childLanes=N&~m}else o.childLanes=0,o.child=null;return XS(i,o,m,u)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&Op(o,N!==null?N.cachePool:null),N!==null?Z_(o,N):ab(),IS(o);else return o.lanes=o.childLanes=536870912,XS(i,o,N!==null?N.baseLanes|u:u,u)}else N!==null?(Op(o,N.cachePool),Z_(o,N),Ro(),o.memoizedState=null):(i!==null&&Op(o,null),ab(),Ro());return rn(i,o,v,u),o.child}function XS(i,o,u,m){var v=Jv();return v=v===null?null:{parent:Ir._currentValue,pool:v},o.memoizedState={baseLanes:u,cachePool:v},i!==null&&Op(o,null),ab(),IS(o),i!==null&&Xf(i,o,m,!0),null}function Kp(i,o){var u=o.ref;if(u===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(n(284));(i===null||i.ref!==u)&&(o.flags|=4194816)}}function Eb(i,o,u,m,v){return Vc(o),u=ob(i,o,u,m,void 0,v),m=cb(),i!==null&&!Zr?(db(i,o,v),Rl(i,o,v)):(hs&&m&&Vv(o),o.flags|=1,rn(i,o,u,v),o.child)}function QS(i,o,u,m,v,N){return Vc(o),o.updateQueue=null,u=X_(o,m,u,v),K_(i),m=cb(),i!==null&&!Zr?(db(i,o,N),Rl(i,o,N)):(hs&&m&&Vv(o),o.flags|=1,rn(i,o,u,N),o.child)}function JS(i,o,u,m,v){if(Vc(o),o.stateNode===null){var N=eu,F=u.contextType;typeof F=="object"&&F!==null&&(N=jn(F)),N=new u(m,N),o.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=_b,o.stateNode=N,N._reactInternals=o,N=o.stateNode,N.props=m,N.state=o.memoizedState,N.refs={},tb(o),F=u.contextType,N.context=typeof F=="object"&&F!==null?jn(F):eu,N.state=o.memoizedState,F=u.getDerivedStateFromProps,typeof F=="function"&&(Nb(o,u,F,m),N.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(F=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),F!==N.state&&_b.enqueueReplaceState(N,N.state,null),nh(o,m,N,v),rh(),N.state=o.memoizedState),typeof N.componentDidMount=="function"&&(o.flags|=4194308),m=!0}else if(i===null){N=o.stateNode;var W=o.memoizedProps,oe=Gc(u,W);N.props=oe;var we=N.context,Te=u.contextType;F=eu,typeof Te=="object"&&Te!==null&&(F=jn(Te));var Me=u.getDerivedStateFromProps;Te=typeof Me=="function"||typeof N.getSnapshotBeforeUpdate=="function",W=o.pendingProps!==W,Te||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(W||we!==F)&&FS(o,N,m,F),Eo=!1;var _e=o.memoizedState;N.state=_e,nh(o,m,N,v),rh(),we=o.memoizedState,W||_e!==we||Eo?(typeof Me=="function"&&(Nb(o,u,Me,m),we=o.memoizedState),(oe=Eo||US(o,u,oe,m,_e,we,F))?(Te||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(o.flags|=4194308)):(typeof N.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=we),N.props=m,N.state=we,N.context=F,m=oe):(typeof N.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{N=o.stateNode,sb(i,o),F=o.memoizedProps,Te=Gc(u,F),N.props=Te,Me=o.pendingProps,_e=N.context,we=u.contextType,oe=eu,typeof we=="object"&&we!==null&&(oe=jn(we)),W=u.getDerivedStateFromProps,(we=typeof W=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(F!==Me||_e!==oe)&&FS(o,N,m,oe),Eo=!1,_e=o.memoizedState,N.state=_e,nh(o,m,N,v),rh();var Se=o.memoizedState;F!==Me||_e!==Se||Eo||i!==null&&i.dependencies!==null&&Rp(i.dependencies)?(typeof W=="function"&&(Nb(o,u,W,m),Se=o.memoizedState),(Te=Eo||US(o,u,Te,m,_e,Se,oe)||i!==null&&i.dependencies!==null&&Rp(i.dependencies))?(we||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(m,Se,oe),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(m,Se,oe)),typeof N.componentDidUpdate=="function"&&(o.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof N.componentDidUpdate!="function"||F===i.memoizedProps&&_e===i.memoizedState||(o.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||F===i.memoizedProps&&_e===i.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=Se),N.props=m,N.state=Se,N.context=oe,m=Te):(typeof N.componentDidUpdate!="function"||F===i.memoizedProps&&_e===i.memoizedState||(o.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||F===i.memoizedProps&&_e===i.memoizedState||(o.flags|=1024),m=!1)}return N=m,Kp(i,o),m=(o.flags&128)!==0,N||m?(N=o.stateNode,u=m&&typeof u.getDerivedStateFromError!="function"?null:N.render(),o.flags|=1,i!==null&&m?(o.child=du(o,i.child,null,v),o.child=du(o,null,u,v)):rn(i,o,u,v),o.memoizedState=N.state,i=o.child):i=Rl(i,o,v),i}function e2(i,o,u,m){return Zf(),o.flags|=256,rn(i,o,u,m),o.child}var kb={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Cb(i){return{baseLanes:i,cachePool:$_()}}function Ab(i,o,u){return i=i!==null?i.childLanes&~u:0,o&&(i|=Fa),i}function t2(i,o,u){var m=o.pendingProps,v=!1,N=(o.flags&128)!==0,F;if((F=N)||(F=i!==null&&i.memoizedState===null?!1:(Ur.current&2)!==0),F&&(v=!0,o.flags&=-129),F=(o.flags&32)!==0,o.flags&=-33,i===null){if(hs){if(v?To(o):Ro(),hs){var W=pr,oe;if(oe=W){e:{for(oe=W,W=Wi;oe.nodeType!==8;){if(!W){W=null;break e}if(oe=mi(oe.nextSibling),oe===null){W=null;break e}}W=oe}W!==null?(o.memoizedState={dehydrated:W,treeContext:zc!==null?{id:Sl,overflow:El}:null,retryLane:536870912,hydrationErrors:null},oe=ua(18,null,null,0),oe.stateNode=W,oe.return=o,o.child=oe,In=o,pr=null,oe=!0):oe=!1}oe||Bc(o)}if(W=o.memoizedState,W!==null&&(W=W.dehydrated,W!==null))return fj(W)?o.lanes=32:o.lanes=536870912,null;Tl(o)}return W=m.children,m=m.fallback,v?(Ro(),v=o.mode,W=Xp({mode:"hidden",children:W},v),m=Fc(m,v,u,null),W.return=o,m.return=o,W.sibling=m,o.child=W,v=o.child,v.memoizedState=Cb(u),v.childLanes=Ab(i,F,u),o.memoizedState=kb,m):(To(o),Tb(o,W))}if(oe=i.memoizedState,oe!==null&&(W=oe.dehydrated,W!==null)){if(N)o.flags&256?(To(o),o.flags&=-257,o=Rb(i,o,u)):o.memoizedState!==null?(Ro(),o.child=i.child,o.flags|=128,o=null):(Ro(),v=m.fallback,W=o.mode,m=Xp({mode:"visible",children:m.children},W),v=Fc(v,W,u,null),v.flags|=2,m.return=o,v.return=o,m.sibling=v,o.child=m,du(o,i.child,null,u),m=o.child,m.memoizedState=Cb(u),m.childLanes=Ab(i,F,u),o.memoizedState=kb,o=v);else if(To(o),fj(W)){if(F=W.nextSibling&&W.nextSibling.dataset,F)var we=F.dgst;F=we,m=Error(n(419)),m.stack="",m.digest=F,Kf({value:m,source:null,stack:null}),o=Rb(i,o,u)}else if(Zr||Xf(i,o,u,!1),F=(u&i.childLanes)!==0,Zr||F){if(F=Bs,F!==null&&(m=u&-u,m=(m&42)!==0?1:$s(m),m=(m&(F.suspendedLanes|u))!==0?0:m,m!==0&&m!==oe.retryLane))throw oe.retryLane=m,Jd(i,m),xa(F,i,m),YS;W.data==="$?"||Zb(),o=Rb(i,o,u)}else W.data==="$?"?(o.flags|=192,o.child=i.child,o=null):(i=oe.treeContext,pr=mi(W.nextSibling),In=o,hs=!0,qc=null,Wi=!1,i!==null&&(La[Ia++]=Sl,La[Ia++]=El,La[Ia++]=zc,Sl=i.id,El=i.overflow,zc=o),o=Tb(o,m.children),o.flags|=4096);return o}return v?(Ro(),v=m.fallback,W=o.mode,oe=i.child,we=oe.sibling,m=_l(oe,{mode:"hidden",children:m.children}),m.subtreeFlags=oe.subtreeFlags&65011712,we!==null?v=_l(we,v):(v=Fc(v,W,u,null),v.flags|=2),v.return=o,m.return=o,m.sibling=v,o.child=m,m=v,v=o.child,W=i.child.memoizedState,W===null?W=Cb(u):(oe=W.cachePool,oe!==null?(we=Ir._currentValue,oe=oe.parent!==we?{parent:we,pool:we}:oe):oe=$_(),W={baseLanes:W.baseLanes|u,cachePool:oe}),v.memoizedState=W,v.childLanes=Ab(i,F,u),o.memoizedState=kb,m):(To(o),u=i.child,i=u.sibling,u=_l(u,{mode:"visible",children:m.children}),u.return=o,u.sibling=null,i!==null&&(F=o.deletions,F===null?(o.deletions=[i],o.flags|=16):F.push(i)),o.child=u,o.memoizedState=null,u)}function Tb(i,o){return o=Xp({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function Xp(i,o){return i=ua(22,i,null,o),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Rb(i,o,u){return du(o,i.child,null,u),i=Tb(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function s2(i,o,u){i.lanes|=o;var m=i.alternate;m!==null&&(m.lanes|=o),Zv(i.return,o,u)}function Db(i,o,u,m,v){var N=i.memoizedState;N===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:v}:(N.isBackwards=o,N.rendering=null,N.renderingStartTime=0,N.last=m,N.tail=u,N.tailMode=v)}function r2(i,o,u){var m=o.pendingProps,v=m.revealOrder,N=m.tail;if(rn(i,o,m.children,u),m=Ur.current,(m&2)!==0)m=m&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&s2(i,u,o);else if(i.tag===19)s2(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}m&=1}switch(se(Ur,m),v){case"forwards":for(u=o.child,v=null;u!==null;)i=u.alternate,i!==null&&Wp(i)===null&&(v=u),u=u.sibling;u=v,u===null?(v=o.child,o.child=null):(v=u.sibling,u.sibling=null),Db(o,!1,v,u,N);break;case"backwards":for(u=null,v=o.child,o.child=null;v!==null;){if(i=v.alternate,i!==null&&Wp(i)===null){o.child=v;break}i=v.sibling,v.sibling=u,u=v,v=i}Db(o,!0,u,null,N);break;case"together":Db(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Rl(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),Lo|=o.lanes,(u&o.childLanes)===0)if(i!==null){if(Xf(i,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(n(153));if(o.child!==null){for(i=o.child,u=_l(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=_l(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function Ob(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&Rp(i)))}function X5(i,o,u){switch(o.tag){case 3:me(o,o.stateNode.containerInfo),So(o,Ir,i.memoizedState.cache),Zf();break;case 27:case 5:Ee(o);break;case 4:me(o,o.stateNode.containerInfo);break;case 10:So(o,o.type,o.memoizedProps.value);break;case 13:var m=o.memoizedState;if(m!==null)return m.dehydrated!==null?(To(o),o.flags|=128,null):(u&o.child.childLanes)!==0?t2(i,o,u):(To(o),i=Rl(i,o,u),i!==null?i.sibling:null);To(o);break;case 19:var v=(i.flags&128)!==0;if(m=(u&o.childLanes)!==0,m||(Xf(i,o,u,!1),m=(u&o.childLanes)!==0),v){if(m)return r2(i,o,u);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),se(Ur,Ur.current),m)break;return null;case 22:case 23:return o.lanes=0,KS(i,o,u);case 24:So(o,Ir,i.memoizedState.cache)}return Rl(i,o,u)}function n2(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps)Zr=!0;else{if(!Ob(i,u)&&(o.flags&128)===0)return Zr=!1,X5(i,o,u);Zr=(i.flags&131072)!==0}else Zr=!1,hs&&(o.flags&1048576)!==0&&M_(o,Tp,o.index);switch(o.lanes=0,o.tag){case 16:e:{i=o.pendingProps;var m=o.elementType,v=m._init;if(m=v(m._payload),o.type=m,typeof m=="function")qv(m)?(i=Gc(m,i),o.tag=1,o=JS(null,o,m,i,u)):(o.tag=0,o=Eb(null,o,m,i,u));else{if(m!=null){if(v=m.$$typeof,v===R){o.tag=11,o=WS(null,o,m,i,u);break e}else if(v===T){o.tag=14,o=GS(null,o,m,i,u);break e}}throw o=J(m)||m,Error(n(306,o,""))}}return o;case 0:return Eb(i,o,o.type,o.pendingProps,u);case 1:return m=o.type,v=Gc(m,o.pendingProps),JS(i,o,m,v,u);case 3:e:{if(me(o,o.stateNode.containerInfo),i===null)throw Error(n(387));m=o.pendingProps;var N=o.memoizedState;v=N.element,sb(i,o),nh(o,m,null,u);var F=o.memoizedState;if(m=F.cache,So(o,Ir,m),m!==N.cache&&Kv(o,[Ir],u,!0),rh(),m=F.element,N.isDehydrated)if(N={element:m,isDehydrated:!1,cache:F.cache},o.updateQueue.baseState=N,o.memoizedState=N,o.flags&256){o=e2(i,o,m,u);break e}else if(m!==v){v=Ma(Error(n(424)),o),Kf(v),o=e2(i,o,m,u);break e}else{switch(i=o.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(pr=mi(i.firstChild),In=o,hs=!0,qc=null,Wi=!0,u=LS(o,null,m,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Zf(),m===v){o=Rl(i,o,u);break e}rn(i,o,m,u)}o=o.child}return o;case 26:return Kp(i,o),i===null?(u=oE(o.type,null,o.pendingProps,null))?o.memoizedState=u:hs||(u=o.type,i=o.pendingProps,m=ux(U.current).createElement(u),m[Ws]=o,m[ms]=i,an(m,u,i),hr(m),o.stateNode=m):o.memoizedState=oE(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return Ee(o),i===null&&hs&&(m=o.stateNode=aE(o.type,o.pendingProps,U.current),In=o,Wi=!0,v=pr,zo(o.type)?(hj=v,pr=mi(m.firstChild)):pr=v),rn(i,o,o.pendingProps.children,u),Kp(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&hs&&((v=m=pr)&&(m=S6(m,o.type,o.pendingProps,Wi),m!==null?(o.stateNode=m,In=o,pr=mi(m.firstChild),Wi=!1,v=!0):v=!1),v||Bc(o)),Ee(o),v=o.type,N=o.pendingProps,F=i!==null?i.memoizedProps:null,m=N.children,cj(v,N)?m=null:F!==null&&cj(v,F)&&(o.flags|=32),o.memoizedState!==null&&(v=ob(i,o,B5,null,null,u),Eh._currentValue=v),Kp(i,o),rn(i,o,m,u),o.child;case 6:return i===null&&hs&&((i=u=pr)&&(u=E6(u,o.pendingProps,Wi),u!==null?(o.stateNode=u,In=o,pr=null,i=!0):i=!1),i||Bc(o)),null;case 13:return t2(i,o,u);case 4:return me(o,o.stateNode.containerInfo),m=o.pendingProps,i===null?o.child=du(o,null,m,u):rn(i,o,m,u),o.child;case 11:return WS(i,o,o.type,o.pendingProps,u);case 7:return rn(i,o,o.pendingProps,u),o.child;case 8:return rn(i,o,o.pendingProps.children,u),o.child;case 12:return rn(i,o,o.pendingProps.children,u),o.child;case 10:return m=o.pendingProps,So(o,o.type,m.value),rn(i,o,m.children,u),o.child;case 9:return v=o.type._context,m=o.pendingProps.children,Vc(o),v=jn(v),m=m(v),o.flags|=1,rn(i,o,m,u),o.child;case 14:return GS(i,o,o.type,o.pendingProps,u);case 15:return ZS(i,o,o.type,o.pendingProps,u);case 19:return r2(i,o,u);case 31:return m=o.pendingProps,u=o.mode,m={mode:m.mode,children:m.children},i===null?(u=Xp(m,u),u.ref=o.ref,o.child=u,u.return=o,o=u):(u=_l(i.child,m),u.ref=o.ref,o.child=u,u.return=o,o=u),o;case 22:return KS(i,o,u);case 24:return Vc(o),m=jn(Ir),i===null?(v=Jv(),v===null&&(v=Bs,N=Xv(),v.pooledCache=N,N.refCount++,N!==null&&(v.pooledCacheLanes|=u),v=N),o.memoizedState={parent:m,cache:v},tb(o),So(o,Ir,v)):((i.lanes&u)!==0&&(sb(i,o),nh(o,null,null,u),rh()),v=i.memoizedState,N=o.memoizedState,v.parent!==m?(v={parent:m,cache:m},o.memoizedState=v,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=v),So(o,Ir,m)):(m=N.cache,So(o,Ir,m),m!==v.cache&&Kv(o,[Ir],u,!0))),rn(i,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(n(156,o.tag))}function Dl(i){i.flags|=4}function a2(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!hE(o)){if(o=Ua.current,o!==null&&((ls&4194048)===ls?Gi!==null:(ls&62914560)!==ls&&(ls&536870912)===0||o!==Gi))throw th=eb,q_;i.flags|=8192}}function Qp(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?ri():536870912,i.lanes|=o,mu|=o)}function uh(i,o){if(!hs)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:m.sibling=null}}function nr(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,m=0;if(o)for(var v=i.child;v!==null;)u|=v.lanes|v.childLanes,m|=v.subtreeFlags&65011712,m|=v.flags&65011712,v.return=i,v=v.sibling;else for(v=i.child;v!==null;)u|=v.lanes|v.childLanes,m|=v.subtreeFlags,m|=v.flags,v.return=i,v=v.sibling;return i.subtreeFlags|=m,i.childLanes=u,o}function Q5(i,o,u){var m=o.pendingProps;switch(Yv(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nr(o),null;case 1:return nr(o),null;case 3:return u=o.stateNode,m=null,i!==null&&(m=i.memoizedState.cache),o.memoizedState.cache!==m&&(o.flags|=2048),Cl(Ir),ie(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(Gf(o)?Dl(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,I_())),nr(o),null;case 26:return u=o.memoizedState,i===null?(Dl(o),u!==null?(nr(o),a2(o,u)):(nr(o),o.flags&=-16777217)):u?u!==i.memoizedState?(Dl(o),nr(o),a2(o,u)):(nr(o),o.flags&=-16777217):(i.memoizedProps!==m&&Dl(o),nr(o),o.flags&=-16777217),null;case 27:Oe(o),u=U.current;var v=o.type;if(i!==null&&o.stateNode!=null)i.memoizedProps!==m&&Dl(o);else{if(!m){if(o.stateNode===null)throw Error(n(166));return nr(o),null}i=G.current,Gf(o)?P_(o):(i=aE(v,m,u),o.stateNode=i,Dl(o))}return nr(o),null;case 5:if(Oe(o),u=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==m&&Dl(o);else{if(!m){if(o.stateNode===null)throw Error(n(166));return nr(o),null}if(i=G.current,Gf(o))P_(o);else{switch(v=ux(U.current),i){case 1:i=v.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:i=v.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":i=v.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":i=v.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":i=v.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof m.is=="string"?v.createElement("select",{is:m.is}):v.createElement("select"),m.multiple?i.multiple=!0:m.size&&(i.size=m.size);break;default:i=typeof m.is=="string"?v.createElement(u,{is:m.is}):v.createElement(u)}}i[Ws]=o,i[ms]=m;e:for(v=o.child;v!==null;){if(v.tag===5||v.tag===6)i.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===o)break e;for(;v.sibling===null;){if(v.return===null||v.return===o)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}o.stateNode=i;e:switch(an(i,u,m),u){case"button":case"input":case"select":case"textarea":i=!!m.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Dl(o)}}return nr(o),o.flags&=-16777217,null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==m&&Dl(o);else{if(typeof m!="string"&&o.stateNode===null)throw Error(n(166));if(i=U.current,Gf(o)){if(i=o.stateNode,u=o.memoizedProps,m=null,v=In,v!==null)switch(v.tag){case 27:case 5:m=v.memoizedProps}i[Ws]=o,i=!!(i.nodeValue===u||m!==null&&m.suppressHydrationWarning===!0||Q2(i.nodeValue,u)),i||Bc(o)}else i=ux(i).createTextNode(m),i[Ws]=o,o.stateNode=i}return nr(o),null;case 13:if(m=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(v=Gf(o),m!==null&&m.dehydrated!==null){if(i===null){if(!v)throw Error(n(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(n(317));v[Ws]=o}else Zf(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;nr(o),v=!1}else v=I_(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=v),v=!0;if(!v)return o.flags&256?(Tl(o),o):(Tl(o),null)}if(Tl(o),(o.flags&128)!==0)return o.lanes=u,o;if(u=m!==null,i=i!==null&&i.memoizedState!==null,u){m=o.child,v=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(v=m.alternate.memoizedState.cachePool.pool);var N=null;m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(N=m.memoizedState.cachePool.pool),N!==v&&(m.flags|=2048)}return u!==i&&u&&(o.child.flags|=8192),Qp(o,o.updateQueue),nr(o),null;case 4:return ie(),i===null&&nj(o.stateNode.containerInfo),nr(o),null;case 10:return Cl(o.type),nr(o),null;case 19:if(Y(Ur),v=o.memoizedState,v===null)return nr(o),null;if(m=(o.flags&128)!==0,N=v.rendering,N===null)if(m)uh(v,!1);else{if(xr!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(N=Wp(i),N!==null){for(o.flags|=128,uh(v,!1),i=N.updateQueue,o.updateQueue=i,Qp(o,i),o.subtreeFlags=0,i=u,u=o.child;u!==null;)O_(u,i),u=u.sibling;return se(Ur,Ur.current&1|2),o.child}i=i.sibling}v.tail!==null&&Je()>tx&&(o.flags|=128,m=!0,uh(v,!1),o.lanes=4194304)}else{if(!m)if(i=Wp(N),i!==null){if(o.flags|=128,m=!0,i=i.updateQueue,o.updateQueue=i,Qp(o,i),uh(v,!0),v.tail===null&&v.tailMode==="hidden"&&!N.alternate&&!hs)return nr(o),null}else 2*Je()-v.renderingStartTime>tx&&u!==536870912&&(o.flags|=128,m=!0,uh(v,!1),o.lanes=4194304);v.isBackwards?(N.sibling=o.child,o.child=N):(i=v.last,i!==null?i.sibling=N:o.child=N,v.last=N)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=Je(),o.sibling=null,i=Ur.current,se(Ur,m?i&1|2:i&1),o):(nr(o),null);case 22:case 23:return Tl(o),ib(),m=o.memoizedState!==null,i!==null?i.memoizedState!==null!==m&&(o.flags|=8192):m&&(o.flags|=8192),m?(u&536870912)!==0&&(o.flags&128)===0&&(nr(o),o.subtreeFlags&6&&(o.flags|=8192)):nr(o),u=o.updateQueue,u!==null&&Qp(o,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==u&&(o.flags|=2048),i!==null&&Y(Yc),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),Cl(Ir),nr(o),null;case 25:return null;case 30:return null}throw Error(n(156,o.tag))}function J5(i,o){switch(Yv(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Cl(Ir),ie(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return Oe(o),null;case 13:if(Tl(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(n(340));Zf()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return Y(Ur),null;case 4:return ie(),null;case 10:return Cl(o.type),null;case 22:case 23:return Tl(o),ib(),i!==null&&Y(Yc),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return Cl(Ir),null;case 25:return null;default:return null}}function i2(i,o){switch(Yv(o),o.tag){case 3:Cl(Ir),ie();break;case 26:case 27:case 5:Oe(o);break;case 4:ie();break;case 13:Tl(o);break;case 19:Y(Ur);break;case 10:Cl(o.type);break;case 22:case 23:Tl(o),ib(),i!==null&&Y(Yc);break;case 24:Cl(Ir)}}function fh(i,o){try{var u=o.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var v=m.next;u=v;do{if((u.tag&i)===i){m=void 0;var N=u.create,F=u.inst;m=N(),F.destroy=m}u=u.next}while(u!==v)}}catch(W){Us(o,o.return,W)}}function Do(i,o,u){try{var m=o.updateQueue,v=m!==null?m.lastEffect:null;if(v!==null){var N=v.next;m=N;do{if((m.tag&i)===i){var F=m.inst,W=F.destroy;if(W!==void 0){F.destroy=void 0,v=o;var oe=u,we=W;try{we()}catch(Te){Us(v,oe,Te)}}}m=m.next}while(m!==N)}}catch(Te){Us(o,o.return,Te)}}function l2(i){var o=i.updateQueue;if(o!==null){var u=i.stateNode;try{G_(o,u)}catch(m){Us(i,i.return,m)}}}function o2(i,o,u){u.props=Gc(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(m){Us(i,o,m)}}function hh(i,o){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var m=i.stateNode;break;case 30:m=i.stateNode;break;default:m=i.stateNode}typeof u=="function"?i.refCleanup=u(m):u.current=m}}catch(v){Us(i,o,v)}}function Zi(i,o){var u=i.ref,m=i.refCleanup;if(u!==null)if(typeof m=="function")try{m()}catch(v){Us(i,o,v)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(v){Us(i,o,v)}else u.current=null}function c2(i){var o=i.type,u=i.memoizedProps,m=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&m.focus();break e;case"img":u.src?m.src=u.src:u.srcSet&&(m.srcset=u.srcSet)}}catch(v){Us(i,i.return,v)}}function Mb(i,o,u){try{var m=i.stateNode;b6(m,i.type,u,o),m[ms]=o}catch(v){Us(i,i.return,v)}}function d2(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&zo(i.type)||i.tag===4}function Pb(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||d2(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&zo(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Lb(i,o,u){var m=i.tag;if(m===5||m===6)i=i.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(i),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=dx));else if(m!==4&&(m===27&&zo(i.type)&&(u=i.stateNode,o=null),i=i.child,i!==null))for(Lb(i,o,u),i=i.sibling;i!==null;)Lb(i,o,u),i=i.sibling}function Jp(i,o,u){var m=i.tag;if(m===5||m===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(m!==4&&(m===27&&zo(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(Jp(i,o,u),i=i.sibling;i!==null;)Jp(i,o,u),i=i.sibling}function u2(i){var o=i.stateNode,u=i.memoizedProps;try{for(var m=i.type,v=o.attributes;v.length;)o.removeAttributeNode(v[0]);an(o,m,u),o[Ws]=i,o[ms]=u}catch(N){Us(i,i.return,N)}}var Ol=!1,Nr=!1,Ib=!1,f2=typeof WeakSet=="function"?WeakSet:Set,Kr=null;function e6(i,o){if(i=i.containerInfo,lj=gx,i=N_(i),Pv(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var v=m.anchorOffset,N=m.focusNode;m=m.focusOffset;try{u.nodeType,N.nodeType}catch{u=null;break e}var F=0,W=-1,oe=-1,we=0,Te=0,Me=i,_e=null;t:for(;;){for(var Se;Me!==u||v!==0&&Me.nodeType!==3||(W=F+v),Me!==N||m!==0&&Me.nodeType!==3||(oe=F+m),Me.nodeType===3&&(F+=Me.nodeValue.length),(Se=Me.firstChild)!==null;)_e=Me,Me=Se;for(;;){if(Me===i)break t;if(_e===u&&++we===v&&(W=F),_e===N&&++Te===m&&(oe=F),(Se=Me.nextSibling)!==null)break;Me=_e,_e=Me.parentNode}Me=Se}u=W===-1||oe===-1?null:{start:W,end:oe}}else u=null}u=u||{start:0,end:0}}else u=null;for(oj={focusedElem:i,selectionRange:u},gx=!1,Kr=o;Kr!==null;)if(o=Kr,i=o.child,(o.subtreeFlags&1024)!==0&&i!==null)i.return=o,Kr=i;else for(;Kr!==null;){switch(o=Kr,N=o.alternate,i=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&N!==null){i=void 0,u=o,v=N.memoizedProps,N=N.memoizedState,m=u.stateNode;try{var Et=Gc(u.type,v,u.elementType===u.type);i=m.getSnapshotBeforeUpdate(Et,N),m.__reactInternalSnapshotBeforeUpdate=i}catch(yt){Us(u,u.return,yt)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,u=i.nodeType,u===9)uj(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":uj(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(n(163))}if(i=o.sibling,i!==null){i.return=o.return,Kr=i;break}Kr=o.return}}function h2(i,o,u){var m=u.flags;switch(u.tag){case 0:case 11:case 15:Oo(i,u),m&4&&fh(5,u);break;case 1:if(Oo(i,u),m&4)if(i=u.stateNode,o===null)try{i.componentDidMount()}catch(F){Us(u,u.return,F)}else{var v=Gc(u.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(v,o,i.__reactInternalSnapshotBeforeUpdate)}catch(F){Us(u,u.return,F)}}m&64&&l2(u),m&512&&hh(u,u.return);break;case 3:if(Oo(i,u),m&64&&(i=u.updateQueue,i!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{G_(i,o)}catch(F){Us(u,u.return,F)}}break;case 27:o===null&&m&4&&u2(u);case 26:case 5:Oo(i,u),o===null&&m&4&&c2(u),m&512&&hh(u,u.return);break;case 12:Oo(i,u);break;case 13:Oo(i,u),m&4&&x2(i,u),m&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=c6.bind(null,u),k6(i,u))));break;case 22:if(m=u.memoizedState!==null||Ol,!m){o=o!==null&&o.memoizedState!==null||Nr,v=Ol;var N=Nr;Ol=m,(Nr=o)&&!N?Mo(i,u,(u.subtreeFlags&8772)!==0):Oo(i,u),Ol=v,Nr=N}break;case 30:break;default:Oo(i,u)}}function m2(i){var o=i.alternate;o!==null&&(i.alternate=null,m2(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&Cc(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Qs=null,Yn=!1;function Ml(i,o,u){for(u=u.child;u!==null;)p2(i,o,u),u=u.sibling}function p2(i,o,u){if(ae&&typeof ae.onCommitFiberUnmount=="function")try{ae.onCommitFiberUnmount(Le,u)}catch{}switch(u.tag){case 26:Nr||Zi(u,o),Ml(i,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Nr||Zi(u,o);var m=Qs,v=Yn;zo(u.type)&&(Qs=u.stateNode,Yn=!1),Ml(i,o,u),wh(u.stateNode),Qs=m,Yn=v;break;case 5:Nr||Zi(u,o);case 6:if(m=Qs,v=Yn,Qs=null,Ml(i,o,u),Qs=m,Yn=v,Qs!==null)if(Yn)try{(Qs.nodeType===9?Qs.body:Qs.nodeName==="HTML"?Qs.ownerDocument.body:Qs).removeChild(u.stateNode)}catch(N){Us(u,o,N)}else try{Qs.removeChild(u.stateNode)}catch(N){Us(u,o,N)}break;case 18:Qs!==null&&(Yn?(i=Qs,rE(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),Th(i)):rE(Qs,u.stateNode));break;case 4:m=Qs,v=Yn,Qs=u.stateNode.containerInfo,Yn=!0,Ml(i,o,u),Qs=m,Yn=v;break;case 0:case 11:case 14:case 15:Nr||Do(2,u,o),Nr||Do(4,u,o),Ml(i,o,u);break;case 1:Nr||(Zi(u,o),m=u.stateNode,typeof m.componentWillUnmount=="function"&&o2(u,o,m)),Ml(i,o,u);break;case 21:Ml(i,o,u);break;case 22:Nr=(m=Nr)||u.memoizedState!==null,Ml(i,o,u),Nr=m;break;default:Ml(i,o,u)}}function x2(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Th(i)}catch(u){Us(o,o.return,u)}}function t6(i){switch(i.tag){case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new f2),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new f2),o;default:throw Error(n(435,i.tag))}}function Ub(i,o){var u=t6(i);o.forEach(function(m){var v=d6.bind(null,i,m);u.has(m)||(u.add(m),m.then(v,v))})}function fa(i,o){var u=o.deletions;if(u!==null)for(var m=0;m<u.length;m++){var v=u[m],N=i,F=o,W=F;e:for(;W!==null;){switch(W.tag){case 27:if(zo(W.type)){Qs=W.stateNode,Yn=!1;break e}break;case 5:Qs=W.stateNode,Yn=!1;break e;case 3:case 4:Qs=W.stateNode.containerInfo,Yn=!0;break e}W=W.return}if(Qs===null)throw Error(n(160));p2(N,F,v),Qs=null,Yn=!1,N=v.alternate,N!==null&&(N.return=null),v.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)g2(o,i),o=o.sibling}var hi=null;function g2(i,o){var u=i.alternate,m=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:fa(o,i),ha(i),m&4&&(Do(3,i,i.return),fh(3,i),Do(5,i,i.return));break;case 1:fa(o,i),ha(i),m&512&&(Nr||u===null||Zi(u,u.return)),m&64&&Ol&&(i=i.updateQueue,i!==null&&(m=i.callbacks,m!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?m:u.concat(m))));break;case 26:var v=hi;if(fa(o,i),ha(i),m&512&&(Nr||u===null||Zi(u,u.return)),m&4){var N=u!==null?u.memoizedState:null;if(m=i.memoizedState,u===null)if(m===null)if(i.stateNode===null){e:{m=i.type,u=i.memoizedProps,v=v.ownerDocument||v;t:switch(m){case"title":N=v.getElementsByTagName("title")[0],(!N||N[yl]||N[Ws]||N.namespaceURI==="http://www.w3.org/2000/svg"||N.hasAttribute("itemprop"))&&(N=v.createElement(m),v.head.insertBefore(N,v.querySelector("head > title"))),an(N,m,u),N[Ws]=i,hr(N),m=N;break e;case"link":var F=uE("link","href",v).get(m+(u.href||""));if(F){for(var W=0;W<F.length;W++)if(N=F[W],N.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&N.getAttribute("rel")===(u.rel==null?null:u.rel)&&N.getAttribute("title")===(u.title==null?null:u.title)&&N.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){F.splice(W,1);break t}}N=v.createElement(m),an(N,m,u),v.head.appendChild(N);break;case"meta":if(F=uE("meta","content",v).get(m+(u.content||""))){for(W=0;W<F.length;W++)if(N=F[W],N.getAttribute("content")===(u.content==null?null:""+u.content)&&N.getAttribute("name")===(u.name==null?null:u.name)&&N.getAttribute("property")===(u.property==null?null:u.property)&&N.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&N.getAttribute("charset")===(u.charSet==null?null:u.charSet)){F.splice(W,1);break t}}N=v.createElement(m),an(N,m,u),v.head.appendChild(N);break;default:throw Error(n(468,m))}N[Ws]=i,hr(N),m=N}i.stateNode=m}else fE(v,i.type,i.stateNode);else i.stateNode=dE(v,m,i.memoizedProps);else N!==m?(N===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):N.count--,m===null?fE(v,i.type,i.stateNode):dE(v,m,i.memoizedProps)):m===null&&i.stateNode!==null&&Mb(i,i.memoizedProps,u.memoizedProps)}break;case 27:fa(o,i),ha(i),m&512&&(Nr||u===null||Zi(u,u.return)),u!==null&&m&4&&Mb(i,i.memoizedProps,u.memoizedProps);break;case 5:if(fa(o,i),ha(i),m&512&&(Nr||u===null||Zi(u,u.return)),i.flags&32){v=i.stateNode;try{Wr(v,"")}catch(Se){Us(i,i.return,Se)}}m&4&&i.stateNode!=null&&(v=i.memoizedProps,Mb(i,v,u!==null?u.memoizedProps:v)),m&1024&&(Ib=!0);break;case 6:if(fa(o,i),ha(i),m&4){if(i.stateNode===null)throw Error(n(162));m=i.memoizedProps,u=i.stateNode;try{u.nodeValue=m}catch(Se){Us(i,i.return,Se)}}break;case 3:if(mx=null,v=hi,hi=fx(o.containerInfo),fa(o,i),hi=v,ha(i),m&4&&u!==null&&u.memoizedState.isDehydrated)try{Th(o.containerInfo)}catch(Se){Us(i,i.return,Se)}Ib&&(Ib=!1,y2(i));break;case 4:m=hi,hi=fx(i.stateNode.containerInfo),fa(o,i),ha(i),hi=m;break;case 12:fa(o,i),ha(i);break;case 13:fa(o,i),ha(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Hb=Je()),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,Ub(i,m)));break;case 22:v=i.memoizedState!==null;var oe=u!==null&&u.memoizedState!==null,we=Ol,Te=Nr;if(Ol=we||v,Nr=Te||oe,fa(o,i),Nr=Te,Ol=we,ha(i),m&8192)e:for(o=i.stateNode,o._visibility=v?o._visibility&-2:o._visibility|1,v&&(u===null||oe||Ol||Nr||Zc(i)),u=null,o=i;;){if(o.tag===5||o.tag===26){if(u===null){oe=u=o;try{if(N=oe.stateNode,v)F=N.style,typeof F.setProperty=="function"?F.setProperty("display","none","important"):F.display="none";else{W=oe.stateNode;var Me=oe.memoizedProps.style,_e=Me!=null&&Me.hasOwnProperty("display")?Me.display:null;W.style.display=_e==null||typeof _e=="boolean"?"":(""+_e).trim()}}catch(Se){Us(oe,oe.return,Se)}}}else if(o.tag===6){if(u===null){oe=o;try{oe.stateNode.nodeValue=v?"":oe.memoizedProps}catch(Se){Us(oe,oe.return,Se)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}m&4&&(m=i.updateQueue,m!==null&&(u=m.retryQueue,u!==null&&(m.retryQueue=null,Ub(i,u))));break;case 19:fa(o,i),ha(i),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,Ub(i,m)));break;case 30:break;case 21:break;default:fa(o,i),ha(i)}}function ha(i){var o=i.flags;if(o&2){try{for(var u,m=i.return;m!==null;){if(d2(m)){u=m;break}m=m.return}if(u==null)throw Error(n(160));switch(u.tag){case 27:var v=u.stateNode,N=Pb(i);Jp(i,N,v);break;case 5:var F=u.stateNode;u.flags&32&&(Wr(F,""),u.flags&=-33);var W=Pb(i);Jp(i,W,F);break;case 3:case 4:var oe=u.stateNode.containerInfo,we=Pb(i);Lb(i,we,oe);break;default:throw Error(n(161))}}catch(Te){Us(i,i.return,Te)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function y2(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;y2(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function Oo(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)h2(i,o.alternate,o),o=o.sibling}function Zc(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:Do(4,o,o.return),Zc(o);break;case 1:Zi(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&o2(o,o.return,u),Zc(o);break;case 27:wh(o.stateNode);case 26:case 5:Zi(o,o.return),Zc(o);break;case 22:o.memoizedState===null&&Zc(o);break;case 30:Zc(o);break;default:Zc(o)}i=i.sibling}}function Mo(i,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var m=o.alternate,v=i,N=o,F=N.flags;switch(N.tag){case 0:case 11:case 15:Mo(v,N,u),fh(4,N);break;case 1:if(Mo(v,N,u),m=N,v=m.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(we){Us(m,m.return,we)}if(m=N,v=m.updateQueue,v!==null){var W=m.stateNode;try{var oe=v.shared.hiddenCallbacks;if(oe!==null)for(v.shared.hiddenCallbacks=null,v=0;v<oe.length;v++)W_(oe[v],W)}catch(we){Us(m,m.return,we)}}u&&F&64&&l2(N),hh(N,N.return);break;case 27:u2(N);case 26:case 5:Mo(v,N,u),u&&m===null&&F&4&&c2(N),hh(N,N.return);break;case 12:Mo(v,N,u);break;case 13:Mo(v,N,u),u&&F&4&&x2(v,N);break;case 22:N.memoizedState===null&&Mo(v,N,u),hh(N,N.return);break;case 30:break;default:Mo(v,N,u)}o=o.sibling}}function Fb(i,o){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&Qf(u))}function zb(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Qf(i))}function Ki(i,o,u,m){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)v2(i,o,u,m),o=o.sibling}function v2(i,o,u,m){var v=o.flags;switch(o.tag){case 0:case 11:case 15:Ki(i,o,u,m),v&2048&&fh(9,o);break;case 1:Ki(i,o,u,m);break;case 3:Ki(i,o,u,m),v&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Qf(i)));break;case 12:if(v&2048){Ki(i,o,u,m),i=o.stateNode;try{var N=o.memoizedProps,F=N.id,W=N.onPostCommit;typeof W=="function"&&W(F,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(oe){Us(o,o.return,oe)}}else Ki(i,o,u,m);break;case 13:Ki(i,o,u,m);break;case 23:break;case 22:N=o.stateNode,F=o.alternate,o.memoizedState!==null?N._visibility&2?Ki(i,o,u,m):mh(i,o):N._visibility&2?Ki(i,o,u,m):(N._visibility|=2,uu(i,o,u,m,(o.subtreeFlags&10256)!==0)),v&2048&&Fb(F,o);break;case 24:Ki(i,o,u,m),v&2048&&zb(o.alternate,o);break;default:Ki(i,o,u,m)}}function uu(i,o,u,m,v){for(v=v&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var N=i,F=o,W=u,oe=m,we=F.flags;switch(F.tag){case 0:case 11:case 15:uu(N,F,W,oe,v),fh(8,F);break;case 23:break;case 22:var Te=F.stateNode;F.memoizedState!==null?Te._visibility&2?uu(N,F,W,oe,v):mh(N,F):(Te._visibility|=2,uu(N,F,W,oe,v)),v&&we&2048&&Fb(F.alternate,F);break;case 24:uu(N,F,W,oe,v),v&&we&2048&&zb(F.alternate,F);break;default:uu(N,F,W,oe,v)}o=o.sibling}}function mh(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=i,m=o,v=m.flags;switch(m.tag){case 22:mh(u,m),v&2048&&Fb(m.alternate,m);break;case 24:mh(u,m),v&2048&&zb(m.alternate,m);break;default:mh(u,m)}o=o.sibling}}var ph=8192;function fu(i){if(i.subtreeFlags&ph)for(i=i.child;i!==null;)b2(i),i=i.sibling}function b2(i){switch(i.tag){case 26:fu(i),i.flags&ph&&i.memoizedState!==null&&z6(hi,i.memoizedState,i.memoizedProps);break;case 5:fu(i);break;case 3:case 4:var o=hi;hi=fx(i.stateNode.containerInfo),fu(i),hi=o;break;case 22:i.memoizedState===null&&(o=i.alternate,o!==null&&o.memoizedState!==null?(o=ph,ph=16777216,fu(i),ph=o):fu(i));break;default:fu(i)}}function j2(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function xh(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var m=o[u];Kr=m,N2(m,i)}j2(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)w2(i),i=i.sibling}function w2(i){switch(i.tag){case 0:case 11:case 15:xh(i),i.flags&2048&&Do(9,i,i.return);break;case 3:xh(i);break;case 12:xh(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,ex(i)):xh(i);break;default:xh(i)}}function ex(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var m=o[u];Kr=m,N2(m,i)}j2(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:Do(8,o,o.return),ex(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,ex(o));break;default:ex(o)}i=i.sibling}}function N2(i,o){for(;Kr!==null;){var u=Kr;switch(u.tag){case 0:case 11:case 15:Do(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var m=u.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Qf(u.memoizedState.cache)}if(m=u.child,m!==null)m.return=u,Kr=m;else e:for(u=i;Kr!==null;){m=Kr;var v=m.sibling,N=m.return;if(m2(m),m===u){Kr=null;break e}if(v!==null){v.return=N,Kr=v;break e}Kr=N}}}var s6={getCacheForType:function(i){var o=jn(Ir),u=o.data.get(i);return u===void 0&&(u=i(),o.data.set(i,u)),u}},r6=typeof WeakMap=="function"?WeakMap:Map,xs=0,Bs=null,Xt=null,ls=0,gs=0,ma=null,Po=!1,hu=!1,$b=!1,Pl=0,xr=0,Lo=0,Kc=0,qb=0,Fa=0,mu=0,gh=null,Wn=null,Bb=!1,Hb=0,tx=1/0,sx=null,Io=null,nn=0,Uo=null,pu=null,xu=0,Vb=0,Yb=null,_2=null,yh=0,Wb=null;function pa(){if((xs&2)!==0&&ls!==0)return ls&-ls;if(M.T!==null){var i=ru;return i!==0?i:ej()}return gn()}function S2(){Fa===0&&(Fa=(ls&536870912)===0||hs?sr():536870912);var i=Ua.current;return i!==null&&(i.flags|=32),Fa}function xa(i,o,u){(i===Bs&&(gs===2||gs===9)||i.cancelPendingCommit!==null)&&(gu(i,0),Fo(i,ls,Fa,!1)),xn(i,u),((xs&2)===0||i!==Bs)&&(i===Bs&&((xs&2)===0&&(Kc|=u),xr===4&&Fo(i,ls,Fa,!1)),Xi(i))}function E2(i,o,u){if((xs&6)!==0)throw Error(n(327));var m=!u&&(o&124)===0&&(o&i.expiredLanes)===0||mn(i,o),v=m?i6(i,o):Kb(i,o,!0),N=m;do{if(v===0){hu&&!m&&Fo(i,o,0,!1);break}else{if(u=i.current.alternate,N&&!n6(u)){v=Kb(i,o,!1),N=!1;continue}if(v===2){if(N=o,i.errorRecoveryDisabledLanes&N)var F=0;else F=i.pendingLanes&-536870913,F=F!==0?F:F&536870912?536870912:0;if(F!==0){o=F;e:{var W=i;v=gh;var oe=W.current.memoizedState.isDehydrated;if(oe&&(gu(W,F).flags|=256),F=Kb(W,F,!1),F!==2){if($b&&!oe){W.errorRecoveryDisabledLanes|=N,Kc|=N,v=4;break e}N=Wn,Wn=v,N!==null&&(Wn===null?Wn=N:Wn.push.apply(Wn,N))}v=F}if(N=!1,v!==2)continue}}if(v===1){gu(i,0),Fo(i,o,0,!0);break}e:{switch(m=i,N=v,N){case 0:case 1:throw Error(n(345));case 4:if((o&4194048)!==o)break;case 6:Fo(m,o,Fa,!Po);break e;case 2:Wn=null;break;case 3:case 5:break;default:throw Error(n(329))}if((o&62914560)===o&&(v=Hb+300-Je(),10<v)){if(Fo(m,o,Fa,!Po),Pn(m,0,!0)!==0)break e;m.timeoutHandle=tE(k2.bind(null,m,u,Wn,sx,Bb,o,Fa,Kc,mu,Po,N,2,-0,0),v);break e}k2(m,u,Wn,sx,Bb,o,Fa,Kc,mu,Po,N,0,-0,0)}}break}while(!0);Xi(i)}function k2(i,o,u,m,v,N,F,W,oe,we,Te,Me,_e,Se){if(i.timeoutHandle=-1,Me=o.subtreeFlags,(Me&8192||(Me&16785408)===16785408)&&(Sh={stylesheets:null,count:0,unsuspend:F6},b2(o),Me=$6(),Me!==null)){i.cancelPendingCommit=Me(M2.bind(null,i,o,N,u,m,v,F,W,oe,Te,1,_e,Se)),Fo(i,N,F,!we);return}M2(i,o,N,u,m,v,F,W,oe)}function n6(i){for(var o=i;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var m=0;m<u.length;m++){var v=u[m],N=v.getSnapshot;v=v.value;try{if(!da(N(),v))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Fo(i,o,u,m){o&=~qb,o&=~Kc,i.suspendedLanes|=o,i.pingedLanes&=~o,m&&(i.warmLanes|=o),m=i.expirationTimes;for(var v=o;0<v;){var N=31-et(v),F=1<<N;m[N]=-1,v&=~F}u!==0&&gt(i,u,o)}function rx(){return(xs&6)===0?(vh(0),!1):!0}function Gb(){if(Xt!==null){if(gs===0)var i=Xt.return;else i=Xt,kl=Hc=null,ub(i),cu=null,ch=0,i=Xt;for(;i!==null;)i2(i.alternate,i),i=i.return;Xt=null}}function gu(i,o){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,w6(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),Gb(),Bs=i,Xt=u=_l(i.current,null),ls=o,gs=0,ma=null,Po=!1,hu=mn(i,o),$b=!1,mu=Fa=qb=Kc=Lo=xr=0,Wn=gh=null,Bb=!1,(o&8)!==0&&(o|=o&32);var m=i.entangledLanes;if(m!==0)for(i=i.entanglements,m&=o;0<m;){var v=31-et(m),N=1<<v;o|=i[v],m&=~N}return Pl=o,Sp(),u}function C2(i,o){Ht=null,M.H=Hp,o===eh||o===Mp?(o=V_(),gs=3):o===q_?(o=V_(),gs=4):gs=o===YS?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,ma=o,Xt===null&&(xr=1,Zp(i,Ma(o,i.current)))}function A2(){var i=M.H;return M.H=Hp,i===null?Hp:i}function T2(){var i=M.A;return M.A=s6,i}function Zb(){xr=4,Po||(ls&4194048)!==ls&&Ua.current!==null||(hu=!0),(Lo&134217727)===0&&(Kc&134217727)===0||Bs===null||Fo(Bs,ls,Fa,!1)}function Kb(i,o,u){var m=xs;xs|=2;var v=A2(),N=T2();(Bs!==i||ls!==o)&&(sx=null,gu(i,o)),o=!1;var F=xr;e:do try{if(gs!==0&&Xt!==null){var W=Xt,oe=ma;switch(gs){case 8:Gb(),F=6;break e;case 3:case 2:case 9:case 6:Ua.current===null&&(o=!0);var we=gs;if(gs=0,ma=null,yu(i,W,oe,we),u&&hu){F=0;break e}break;default:we=gs,gs=0,ma=null,yu(i,W,oe,we)}}a6(),F=xr;break}catch(Te){C2(i,Te)}while(!0);return o&&i.shellSuspendCounter++,kl=Hc=null,xs=m,M.H=v,M.A=N,Xt===null&&(Bs=null,ls=0,Sp()),F}function a6(){for(;Xt!==null;)R2(Xt)}function i6(i,o){var u=xs;xs|=2;var m=A2(),v=T2();Bs!==i||ls!==o?(sx=null,tx=Je()+500,gu(i,o)):hu=mn(i,o);e:do try{if(gs!==0&&Xt!==null){o=Xt;var N=ma;t:switch(gs){case 1:gs=0,ma=null,yu(i,o,N,1);break;case 2:case 9:if(B_(N)){gs=0,ma=null,D2(o);break}o=function(){gs!==2&&gs!==9||Bs!==i||(gs=7),Xi(i)},N.then(o,o);break e;case 3:gs=7;break e;case 4:gs=5;break e;case 7:B_(N)?(gs=0,ma=null,D2(o)):(gs=0,ma=null,yu(i,o,N,7));break;case 5:var F=null;switch(Xt.tag){case 26:F=Xt.memoizedState;case 5:case 27:var W=Xt;if(!F||hE(F)){gs=0,ma=null;var oe=W.sibling;if(oe!==null)Xt=oe;else{var we=W.return;we!==null?(Xt=we,nx(we)):Xt=null}break t}}gs=0,ma=null,yu(i,o,N,5);break;case 6:gs=0,ma=null,yu(i,o,N,6);break;case 8:Gb(),xr=6;break e;default:throw Error(n(462))}}l6();break}catch(Te){C2(i,Te)}while(!0);return kl=Hc=null,M.H=m,M.A=v,xs=u,Xt!==null?0:(Bs=null,ls=0,Sp(),xr)}function l6(){for(;Xt!==null&&!ze();)R2(Xt)}function R2(i){var o=n2(i.alternate,i,Pl);i.memoizedProps=i.pendingProps,o===null?nx(i):Xt=o}function D2(i){var o=i,u=o.alternate;switch(o.tag){case 15:case 0:o=QS(u,o,o.pendingProps,o.type,void 0,ls);break;case 11:o=QS(u,o,o.pendingProps,o.type.render,o.ref,ls);break;case 5:ub(o);default:i2(u,o),o=Xt=O_(o,Pl),o=n2(u,o,Pl)}i.memoizedProps=i.pendingProps,o===null?nx(i):Xt=o}function yu(i,o,u,m){kl=Hc=null,ub(o),cu=null,ch=0;var v=o.return;try{if(K5(i,v,o,u,ls)){xr=1,Zp(i,Ma(u,i.current)),Xt=null;return}}catch(N){if(v!==null)throw Xt=v,N;xr=1,Zp(i,Ma(u,i.current)),Xt=null;return}o.flags&32768?(hs||m===1?i=!0:hu||(ls&536870912)!==0?i=!1:(Po=i=!0,(m===2||m===9||m===3||m===6)&&(m=Ua.current,m!==null&&m.tag===13&&(m.flags|=16384))),O2(o,i)):nx(o)}function nx(i){var o=i;do{if((o.flags&32768)!==0){O2(o,Po);return}i=o.return;var u=Q5(o.alternate,o,Pl);if(u!==null){Xt=u;return}if(o=o.sibling,o!==null){Xt=o;return}Xt=o=i}while(o!==null);xr===0&&(xr=5)}function O2(i,o){do{var u=J5(i.alternate,i);if(u!==null){u.flags&=32767,Xt=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(i=i.sibling,i!==null)){Xt=i;return}Xt=i=u}while(i!==null);xr=6,Xt=null}function M2(i,o,u,m,v,N,F,W,oe){i.cancelPendingCommit=null;do ax();while(nn!==0);if((xs&6)!==0)throw Error(n(327));if(o!==null){if(o===i.current)throw Error(n(177));if(N=o.lanes|o.childLanes,N|=zv,Ui(i,u,N,F,W,oe),i===Bs&&(Xt=Bs=null,ls=0),pu=o,Uo=i,xu=u,Vb=N,Yb=v,_2=m,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,u6(dr,function(){return F2(),null})):(i.callbackNode=null,i.callbackPriority=0),m=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||m){m=M.T,M.T=null,v=V.p,V.p=2,F=xs,xs|=4;try{e6(i,o,u)}finally{xs=F,V.p=v,M.T=m}}nn=1,P2(),L2(),I2()}}function P2(){if(nn===1){nn=0;var i=Uo,o=pu,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=M.T,M.T=null;var m=V.p;V.p=2;var v=xs;xs|=4;try{g2(o,i);var N=oj,F=N_(i.containerInfo),W=N.focusedElem,oe=N.selectionRange;if(F!==W&&W&&W.ownerDocument&&w_(W.ownerDocument.documentElement,W)){if(oe!==null&&Pv(W)){var we=oe.start,Te=oe.end;if(Te===void 0&&(Te=we),"selectionStart"in W)W.selectionStart=we,W.selectionEnd=Math.min(Te,W.value.length);else{var Me=W.ownerDocument||document,_e=Me&&Me.defaultView||window;if(_e.getSelection){var Se=_e.getSelection(),Et=W.textContent.length,yt=Math.min(oe.start,Et),Os=oe.end===void 0?yt:Math.min(oe.end,Et);!Se.extend&&yt>Os&&(F=Os,Os=yt,yt=F);var ge=j_(W,yt),he=j_(W,Os);if(ge&&he&&(Se.rangeCount!==1||Se.anchorNode!==ge.node||Se.anchorOffset!==ge.offset||Se.focusNode!==he.node||Se.focusOffset!==he.offset)){var be=Me.createRange();be.setStart(ge.node,ge.offset),Se.removeAllRanges(),yt>Os?(Se.addRange(be),Se.extend(he.node,he.offset)):(be.setEnd(he.node,he.offset),Se.addRange(be))}}}}for(Me=[],Se=W;Se=Se.parentNode;)Se.nodeType===1&&Me.push({element:Se,left:Se.scrollLeft,top:Se.scrollTop});for(typeof W.focus=="function"&&W.focus(),W=0;W<Me.length;W++){var Re=Me[W];Re.element.scrollLeft=Re.left,Re.element.scrollTop=Re.top}}gx=!!lj,oj=lj=null}finally{xs=v,V.p=m,M.T=u}}i.current=o,nn=2}}function L2(){if(nn===2){nn=0;var i=Uo,o=pu,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=M.T,M.T=null;var m=V.p;V.p=2;var v=xs;xs|=4;try{h2(i,o.alternate,o)}finally{xs=v,V.p=m,M.T=u}}nn=3}}function I2(){if(nn===4||nn===3){nn=0,lt();var i=Uo,o=pu,u=xu,m=_2;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?nn=5:(nn=0,pu=Uo=null,U2(i,i.pendingLanes));var v=i.pendingLanes;if(v===0&&(Io=null),rr(u),o=o.stateNode,ae&&typeof ae.onCommitFiberRoot=="function")try{ae.onCommitFiberRoot(Le,o,void 0,(o.current.flags&128)===128)}catch{}if(m!==null){o=M.T,v=V.p,V.p=2,M.T=null;try{for(var N=i.onRecoverableError,F=0;F<m.length;F++){var W=m[F];N(W.value,{componentStack:W.stack})}}finally{M.T=o,V.p=v}}(xu&3)!==0&&ax(),Xi(i),v=i.pendingLanes,(u&4194090)!==0&&(v&42)!==0?i===Wb?yh++:(yh=0,Wb=i):yh=0,vh(0)}}function U2(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,Qf(o)))}function ax(i){return P2(),L2(),I2(),F2()}function F2(){if(nn!==5)return!1;var i=Uo,o=Vb;Vb=0;var u=rr(xu),m=M.T,v=V.p;try{V.p=32>u?32:u,M.T=null,u=Yb,Yb=null;var N=Uo,F=xu;if(nn=0,pu=Uo=null,xu=0,(xs&6)!==0)throw Error(n(331));var W=xs;if(xs|=4,w2(N.current),v2(N,N.current,F,u),xs=W,vh(0,!1),ae&&typeof ae.onPostCommitFiberRoot=="function")try{ae.onPostCommitFiberRoot(Le,N)}catch{}return!0}finally{V.p=v,M.T=m,U2(i,o)}}function z2(i,o,u){o=Ma(u,o),o=Sb(i.stateNode,o,2),i=Co(i,o,2),i!==null&&(xn(i,2),Xi(i))}function Us(i,o,u){if(i.tag===3)z2(i,i,u);else for(;o!==null;){if(o.tag===3){z2(o,i,u);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Io===null||!Io.has(m))){i=Ma(u,i),u=HS(2),m=Co(o,u,2),m!==null&&(VS(u,m,o,i),xn(m,2),Xi(m));break}}o=o.return}}function Xb(i,o,u){var m=i.pingCache;if(m===null){m=i.pingCache=new r6;var v=new Set;m.set(o,v)}else v=m.get(o),v===void 0&&(v=new Set,m.set(o,v));v.has(u)||($b=!0,v.add(u),i=o6.bind(null,i,o,u),o.then(i,i))}function o6(i,o,u){var m=i.pingCache;m!==null&&m.delete(o),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,Bs===i&&(ls&u)===u&&(xr===4||xr===3&&(ls&62914560)===ls&&300>Je()-Hb?(xs&2)===0&&gu(i,0):qb|=u,mu===ls&&(mu=0)),Xi(i)}function $2(i,o){o===0&&(o=ri()),i=Jd(i,o),i!==null&&(xn(i,o),Xi(i))}function c6(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),$2(i,u)}function d6(i,o){var u=0;switch(i.tag){case 13:var m=i.stateNode,v=i.memoizedState;v!==null&&(u=v.retryLane);break;case 19:m=i.stateNode;break;case 22:m=i.stateNode._retryCache;break;default:throw Error(n(314))}m!==null&&m.delete(o),$2(i,u)}function u6(i,o){return Ce(i,o)}var ix=null,vu=null,Qb=!1,lx=!1,Jb=!1,Xc=0;function Xi(i){i!==vu&&i.next===null&&(vu===null?ix=vu=i:vu=vu.next=i),lx=!0,Qb||(Qb=!0,h6())}function vh(i,o){if(!Jb&&lx){Jb=!0;do for(var u=!1,m=ix;m!==null;){if(i!==0){var v=m.pendingLanes;if(v===0)var N=0;else{var F=m.suspendedLanes,W=m.pingedLanes;N=(1<<31-et(42|i)+1)-1,N&=v&~(F&~W),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(u=!0,V2(m,N))}else N=ls,N=Pn(m,m===Bs?N:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(N&3)===0||mn(m,N)||(u=!0,V2(m,N));m=m.next}while(u);Jb=!1}}function f6(){q2()}function q2(){lx=Qb=!1;var i=0;Xc!==0&&(j6()&&(i=Xc),Xc=0);for(var o=Je(),u=null,m=ix;m!==null;){var v=m.next,N=B2(m,o);N===0?(m.next=null,u===null?ix=v:u.next=v,v===null&&(vu=u)):(u=m,(i!==0||(N&3)!==0)&&(lx=!0)),m=v}vh(i)}function B2(i,o){for(var u=i.suspendedLanes,m=i.pingedLanes,v=i.expirationTimes,N=i.pendingLanes&-62914561;0<N;){var F=31-et(N),W=1<<F,oe=v[F];oe===-1?((W&u)===0||(W&m)!==0)&&(v[F]=pn(W,o)):oe<=o&&(i.expiredLanes|=W),N&=~W}if(o=Bs,u=ls,u=Pn(i,i===o?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m=i.callbackNode,u===0||i===o&&(gs===2||gs===9)||i.cancelPendingCommit!==null)return m!==null&&m!==null&&pe(m),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||mn(i,u)){if(o=u&-u,o===i.callbackPriority)return o;switch(m!==null&&pe(m),rr(u)){case 2:case 8:u=kr;break;case 32:u=dr;break;case 268435456:u=de;break;default:u=dr}return m=H2.bind(null,i),u=Ce(u,m),i.callbackPriority=o,i.callbackNode=u,o}return m!==null&&m!==null&&pe(m),i.callbackPriority=2,i.callbackNode=null,2}function H2(i,o){if(nn!==0&&nn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(ax()&&i.callbackNode!==u)return null;var m=ls;return m=Pn(i,i===Bs?m:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m===0?null:(E2(i,m,o),B2(i,Je()),i.callbackNode!=null&&i.callbackNode===u?H2.bind(null,i):null)}function V2(i,o){if(ax())return null;E2(i,o,!0)}function h6(){N6(function(){(xs&6)!==0?Ce(jt,f6):q2()})}function ej(){return Xc===0&&(Xc=sr()),Xc}function Y2(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:yo(""+i)}function W2(i,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,i.id&&u.setAttribute("form",i.id),o.parentNode.insertBefore(u,o),i=new FormData(i),u.parentNode.removeChild(u),i}function m6(i,o,u,m,v){if(o==="submit"&&u&&u.stateNode===v){var N=Y2((v[ms]||null).action),F=m.submitter;F&&(o=(o=F[ms]||null)?Y2(o.formAction):F.getAttribute("formAction"),o!==null&&(N=o,F=null));var W=new Ae("action","action",null,m,v);i.push({event:W,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Xc!==0){var oe=F?W2(v,F):new FormData(v);bb(u,{pending:!0,data:oe,method:v.method,action:N},null,oe)}}else typeof N=="function"&&(W.preventDefault(),oe=F?W2(v,F):new FormData(v),bb(u,{pending:!0,data:oe,method:v.method,action:N},N,oe))},currentTarget:v}]})}}for(var tj=0;tj<Fv.length;tj++){var sj=Fv[tj],p6=sj.toLowerCase(),x6=sj[0].toUpperCase()+sj.slice(1);fi(p6,"on"+x6)}fi(E_,"onAnimationEnd"),fi(k_,"onAnimationIteration"),fi(C_,"onAnimationStart"),fi("dblclick","onDoubleClick"),fi("focusin","onFocus"),fi("focusout","onBlur"),fi(O5,"onTransitionRun"),fi(M5,"onTransitionStart"),fi(P5,"onTransitionCancel"),fi(A_,"onTransitionEnd"),vr("onMouseEnter",["mouseout","mouseover"]),vr("onMouseLeave",["mouseout","mouseover"]),vr("onPointerEnter",["pointerout","pointerover"]),vr("onPointerLeave",["pointerout","pointerover"]),ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ii("onBeforeInput",["compositionend","keypress","textInput","paste"]),ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),g6=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bh));function G2(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var m=i[u],v=m.event;m=m.listeners;e:{var N=void 0;if(o)for(var F=m.length-1;0<=F;F--){var W=m[F],oe=W.instance,we=W.currentTarget;if(W=W.listener,oe!==N&&v.isPropagationStopped())break e;N=W,v.currentTarget=we;try{N(v)}catch(Te){Gp(Te)}v.currentTarget=null,N=oe}else for(F=0;F<m.length;F++){if(W=m[F],oe=W.instance,we=W.currentTarget,W=W.listener,oe!==N&&v.isPropagationStopped())break e;N=W,v.currentTarget=we;try{N(v)}catch(Te){Gp(Te)}v.currentTarget=null,N=oe}}}}function Qt(i,o){var u=o[ai];u===void 0&&(u=o[ai]=new Set);var m=i+"__bubble";u.has(m)||(Z2(o,i,2,!1),u.add(m))}function rj(i,o,u){var m=0;o&&(m|=4),Z2(u,i,m,o)}var ox="_reactListening"+Math.random().toString(36).slice(2);function nj(i){if(!i[ox]){i[ox]=!0,zd.forEach(function(u){u!=="selectionchange"&&(g6.has(u)||rj(u,!1,i),rj(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[ox]||(o[ox]=!0,rj("selectionchange",!1,o))}}function Z2(i,o,u,m){switch(vE(o)){case 2:var v=H6;break;case 8:v=V6;break;default:v=yj}u=v.bind(null,o,u,i),v=void 0,!jo||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),m?v!==void 0?i.addEventListener(o,u,{capture:!0,passive:v}):i.addEventListener(o,u,!0):v!==void 0?i.addEventListener(o,u,{passive:v}):i.addEventListener(o,u,!1)}function aj(i,o,u,m,v){var N=m;if((o&1)===0&&(o&2)===0&&m!==null)e:for(;;){if(m===null)return;var F=m.tag;if(F===3||F===4){var W=m.stateNode.containerInfo;if(W===v)break;if(F===4)for(F=m.return;F!==null;){var oe=F.tag;if((oe===3||oe===4)&&F.stateNode.containerInfo===v)return;F=F.return}for(;W!==null;){if(F=Fi(W),F===null)return;if(oe=F.tag,oe===5||oe===6||oe===26||oe===27){m=N=F;continue e}W=W.parentNode}}m=m.return}bo(function(){var we=N,Te=vo(u),Me=[];e:{var _e=T_.get(i);if(_e!==void 0){var Se=Ae,Et=i;switch(i){case"keypress":if(No(u)===0)break e;case"keydown":case"keyup":Se=u5;break;case"focusin":Et="focus",Se=jr;break;case"focusout":Et="blur",Se=jr;break;case"beforeblur":case"afterblur":Se=jr;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Se=Lr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Se=br;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Se=m5;break;case E_:case k_:case C_:Se=ui;break;case A_:Se=x5;break;case"scroll":case"scrollend":Se=ft;break;case"wheel":Se=y5;break;case"copy":case"cut":case"paste":Se=Np;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Se=l_;break;case"toggle":case"beforetoggle":Se=b5}var yt=(o&4)!==0,Os=!yt&&(i==="scroll"||i==="scrollend"),ge=yt?_e!==null?_e+"Capture":null:_e;yt=[];for(var he=we,be;he!==null;){var Re=he;if(be=Re.stateNode,Re=Re.tag,Re!==5&&Re!==26&&Re!==27||be===null||ge===null||(Re=Oa(he,ge),Re!=null&&yt.push(jh(he,Re,be))),Os)break;he=he.return}0<yt.length&&(_e=new Se(_e,Et,null,u,Te),Me.push({event:_e,listeners:yt}))}}if((o&7)===0){e:{if(_e=i==="mouseover"||i==="pointerover",Se=i==="mouseout"||i==="pointerout",_e&&u!==Mc&&(Et=u.relatedTarget||u.fromElement)&&(Fi(Et)||Et[ur]))break e;if((Se||_e)&&(_e=Te.window===Te?Te:(_e=Te.ownerDocument)?_e.defaultView||_e.parentWindow:window,Se?(Et=u.relatedTarget||u.toElement,Se=we,Et=Et?Fi(Et):null,Et!==null&&(Os=l(Et),yt=Et.tag,Et!==Os||yt!==5&&yt!==27&&yt!==6)&&(Et=null)):(Se=null,Et=we),Se!==Et)){if(yt=Lr,Re="onMouseLeave",ge="onMouseEnter",he="mouse",(i==="pointerout"||i==="pointerover")&&(yt=l_,Re="onPointerLeave",ge="onPointerEnter",he="pointer"),Os=Se==null?_e:fr(Se),be=Et==null?_e:fr(Et),_e=new yt(Re,he+"leave",Se,u,Te),_e.target=Os,_e.relatedTarget=be,Re=null,Fi(Te)===we&&(yt=new yt(ge,he+"enter",Et,u,Te),yt.target=be,yt.relatedTarget=Os,Re=yt),Os=Re,Se&&Et)t:{for(yt=Se,ge=Et,he=0,be=yt;be;be=bu(be))he++;for(be=0,Re=ge;Re;Re=bu(Re))be++;for(;0<he-be;)yt=bu(yt),he--;for(;0<be-he;)ge=bu(ge),be--;for(;he--;){if(yt===ge||ge!==null&&yt===ge.alternate)break t;yt=bu(yt),ge=bu(ge)}yt=null}else yt=null;Se!==null&&K2(Me,_e,Se,yt,!1),Et!==null&&Os!==null&&K2(Me,Os,Et,yt,!0)}}e:{if(_e=we?fr(we):window,Se=_e.nodeName&&_e.nodeName.toLowerCase(),Se==="select"||Se==="input"&&_e.type==="file")var st=p_;else if(h_(_e))if(x_)st=T5;else{st=C5;var Yt=k5}else Se=_e.nodeName,!Se||Se.toLowerCase()!=="input"||_e.type!=="checkbox"&&_e.type!=="radio"?we&&Bn(we.elementType)&&(st=p_):st=A5;if(st&&(st=st(i,we))){m_(Me,st,u,Te);break e}Yt&&Yt(i,_e,we),i==="focusout"&&we&&_e.type==="number"&&we.memoizedProps.value!=null&&jl(_e,"number",_e.value)}switch(Yt=we?fr(we):window,i){case"focusin":(h_(Yt)||Yt.contentEditable==="true")&&(Kd=Yt,Lv=we,Wf=null);break;case"focusout":Wf=Lv=Kd=null;break;case"mousedown":Iv=!0;break;case"contextmenu":case"mouseup":case"dragend":Iv=!1,__(Me,u,Te);break;case"selectionchange":if(D5)break;case"keydown":case"keyup":__(Me,u,Te)}var mt;if(Dv)e:{switch(i){case"compositionstart":var vt="onCompositionStart";break e;case"compositionend":vt="onCompositionEnd";break e;case"compositionupdate":vt="onCompositionUpdate";break e}vt=void 0}else Zd?u_(i,u)&&(vt="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(vt="onCompositionStart");vt&&(o_&&u.locale!=="ko"&&(Zd||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&Zd&&(mt=wo()):(ca=Te,Hn="value"in ca?ca.value:ca.textContent,Zd=!0)),Yt=cx(we,vt),0<Yt.length&&(vt=new Lc(vt,i,null,u,Te),Me.push({event:vt,listeners:Yt}),mt?vt.data=mt:(mt=f_(u),mt!==null&&(vt.data=mt)))),(mt=w5?N5(i,u):_5(i,u))&&(vt=cx(we,"onBeforeInput"),0<vt.length&&(Yt=new Lc("onBeforeInput","beforeinput",null,u,Te),Me.push({event:Yt,listeners:vt}),Yt.data=mt)),m6(Me,i,we,u,Te)}G2(Me,o)})}function jh(i,o,u){return{instance:i,listener:o,currentTarget:u}}function cx(i,o){for(var u=o+"Capture",m=[];i!==null;){var v=i,N=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||N===null||(v=Oa(i,u),v!=null&&m.unshift(jh(i,v,N)),v=Oa(i,o),v!=null&&m.push(jh(i,v,N))),i.tag===3)return m;i=i.return}return[]}function bu(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function K2(i,o,u,m,v){for(var N=o._reactName,F=[];u!==null&&u!==m;){var W=u,oe=W.alternate,we=W.stateNode;if(W=W.tag,oe!==null&&oe===m)break;W!==5&&W!==26&&W!==27||we===null||(oe=we,v?(we=Oa(u,N),we!=null&&F.unshift(jh(u,we,oe))):v||(we=Oa(u,N),we!=null&&F.push(jh(u,we,oe)))),u=u.return}F.length!==0&&i.push({event:o,listeners:F})}var y6=/\r\n?/g,v6=/\u0000|\uFFFD/g;function X2(i){return(typeof i=="string"?i:""+i).replace(y6,`
`).replace(v6,"")}function Q2(i,o){return o=X2(o),X2(i)===o}function dx(){}function Ds(i,o,u,m,v,N){switch(u){case"children":typeof m=="string"?o==="body"||o==="textarea"&&m===""||Wr(i,m):(typeof m=="number"||typeof m=="bigint")&&o!=="body"&&Wr(i,""+m);break;case"className":li(i,"class",m);break;case"tabIndex":li(i,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":li(i,u,m);break;case"style":Wd(i,m,N);break;case"data":if(o!=="object"){li(i,"data",m);break}case"src":case"href":if(m===""&&(o!=="a"||u!=="href")){i.removeAttribute(u);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(u);break}m=yo(""+m),i.setAttribute(u,m);break;case"action":case"formAction":if(typeof m=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof N=="function"&&(u==="formAction"?(o!=="input"&&Ds(i,o,"name",v.name,v,null),Ds(i,o,"formEncType",v.formEncType,v,null),Ds(i,o,"formMethod",v.formMethod,v,null),Ds(i,o,"formTarget",v.formTarget,v,null)):(Ds(i,o,"encType",v.encType,v,null),Ds(i,o,"method",v.method,v,null),Ds(i,o,"target",v.target,v,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(u);break}m=yo(""+m),i.setAttribute(u,m);break;case"onClick":m!=null&&(i.onclick=dx);break;case"onScroll":m!=null&&Qt("scroll",i);break;case"onScrollEnd":m!=null&&Qt("scrollend",i);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(n(61));if(u=m.__html,u!=null){if(v.children!=null)throw Error(n(60));i.innerHTML=u}}break;case"multiple":i.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":i.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){i.removeAttribute("xlink:href");break}u=yo(""+m),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(u,""+m):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":m===!0?i.setAttribute(u,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(u,m):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?i.setAttribute(u,m):i.removeAttribute(u);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?i.removeAttribute(u):i.setAttribute(u,m);break;case"popover":Qt("beforetoggle",i),Qt("toggle",i),go(i,"popover",m);break;case"xlinkActuate":qn(i,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":qn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":qn(i,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":qn(i,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":qn(i,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":qn(i,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":qn(i,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":qn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":qn(i,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":go(i,"is",m);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=$f.get(u)||u,go(i,u,m))}}function ij(i,o,u,m,v,N){switch(u){case"style":Wd(i,m,N);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(n(61));if(u=m.__html,u!=null){if(v.children!=null)throw Error(n(60));i.innerHTML=u}}break;case"children":typeof m=="string"?Wr(i,m):(typeof m=="number"||typeof m=="bigint")&&Wr(i,""+m);break;case"onScroll":m!=null&&Qt("scroll",i);break;case"onScrollEnd":m!=null&&Qt("scrollend",i);break;case"onClick":m!=null&&(i.onclick=dx);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$d.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(v=u.endsWith("Capture"),o=u.slice(2,v?u.length-7:void 0),N=i[ms]||null,N=N!=null?N[u]:null,typeof N=="function"&&i.removeEventListener(o,N,v),typeof m=="function")){typeof N!="function"&&N!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(o,m,v);break e}u in i?i[u]=m:m===!0?i.setAttribute(u,""):go(i,u,m)}}}function an(i,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qt("error",i),Qt("load",i);var m=!1,v=!1,N;for(N in u)if(u.hasOwnProperty(N)){var F=u[N];if(F!=null)switch(N){case"src":m=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:Ds(i,o,N,F,u,null)}}v&&Ds(i,o,"srcSet",u.srcSet,u,null),m&&Ds(i,o,"src",u.src,u,null);return;case"input":Qt("invalid",i);var W=N=F=v=null,oe=null,we=null;for(m in u)if(u.hasOwnProperty(m)){var Te=u[m];if(Te!=null)switch(m){case"name":v=Te;break;case"type":F=Te;break;case"checked":oe=Te;break;case"defaultChecked":we=Te;break;case"value":N=Te;break;case"defaultValue":W=Te;break;case"children":case"dangerouslySetInnerHTML":if(Te!=null)throw Error(n(137,o));break;default:Ds(i,o,m,Te,u,null)}}Vd(i,N,W,oe,we,F,v,!1),Ra(i);return;case"select":Qt("invalid",i),m=F=N=null;for(v in u)if(u.hasOwnProperty(v)&&(W=u[v],W!=null))switch(v){case"value":N=W;break;case"defaultValue":F=W;break;case"multiple":m=W;default:Ds(i,o,v,W,u,null)}o=N,u=F,i.multiple=!!m,o!=null?Bi(i,!!m,o,!1):u!=null&&Bi(i,!!m,u,!0);return;case"textarea":Qt("invalid",i),N=v=m=null;for(F in u)if(u.hasOwnProperty(F)&&(W=u[F],W!=null))switch(F){case"value":m=W;break;case"defaultValue":v=W;break;case"children":N=W;break;case"dangerouslySetInnerHTML":if(W!=null)throw Error(n(91));break;default:Ds(i,o,F,W,u,null)}Hi(i,m,v,N),Ra(i);return;case"option":for(oe in u)if(u.hasOwnProperty(oe)&&(m=u[oe],m!=null))switch(oe){case"selected":i.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Ds(i,o,oe,m,u,null)}return;case"dialog":Qt("beforetoggle",i),Qt("toggle",i),Qt("cancel",i),Qt("close",i);break;case"iframe":case"object":Qt("load",i);break;case"video":case"audio":for(m=0;m<bh.length;m++)Qt(bh[m],i);break;case"image":Qt("error",i),Qt("load",i);break;case"details":Qt("toggle",i);break;case"embed":case"source":case"link":Qt("error",i),Qt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(we in u)if(u.hasOwnProperty(we)&&(m=u[we],m!=null))switch(we){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:Ds(i,o,we,m,u,null)}return;default:if(Bn(o)){for(Te in u)u.hasOwnProperty(Te)&&(m=u[Te],m!==void 0&&ij(i,o,Te,m,u,void 0));return}}for(W in u)u.hasOwnProperty(W)&&(m=u[W],m!=null&&Ds(i,o,W,m,u,null))}function b6(i,o,u,m){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,N=null,F=null,W=null,oe=null,we=null,Te=null;for(Se in u){var Me=u[Se];if(u.hasOwnProperty(Se)&&Me!=null)switch(Se){case"checked":break;case"value":break;case"defaultValue":oe=Me;default:m.hasOwnProperty(Se)||Ds(i,o,Se,null,m,Me)}}for(var _e in m){var Se=m[_e];if(Me=u[_e],m.hasOwnProperty(_e)&&(Se!=null||Me!=null))switch(_e){case"type":N=Se;break;case"name":v=Se;break;case"checked":we=Se;break;case"defaultChecked":Te=Se;break;case"value":F=Se;break;case"defaultValue":W=Se;break;case"children":case"dangerouslySetInnerHTML":if(Se!=null)throw Error(n(137,o));break;default:Se!==Me&&Ds(i,o,_e,Se,m,Me)}}Oc(i,F,W,oe,we,Te,N,v);return;case"select":Se=F=W=_e=null;for(N in u)if(oe=u[N],u.hasOwnProperty(N)&&oe!=null)switch(N){case"value":break;case"multiple":Se=oe;default:m.hasOwnProperty(N)||Ds(i,o,N,null,m,oe)}for(v in m)if(N=m[v],oe=u[v],m.hasOwnProperty(v)&&(N!=null||oe!=null))switch(v){case"value":_e=N;break;case"defaultValue":W=N;break;case"multiple":F=N;default:N!==oe&&Ds(i,o,v,N,m,oe)}o=W,u=F,m=Se,_e!=null?Bi(i,!!u,_e,!1):!!m!=!!u&&(o!=null?Bi(i,!!u,o,!0):Bi(i,!!u,u?[]:"",!1));return;case"textarea":Se=_e=null;for(W in u)if(v=u[W],u.hasOwnProperty(W)&&v!=null&&!m.hasOwnProperty(W))switch(W){case"value":break;case"children":break;default:Ds(i,o,W,null,m,v)}for(F in m)if(v=m[F],N=u[F],m.hasOwnProperty(F)&&(v!=null||N!=null))switch(F){case"value":_e=v;break;case"defaultValue":Se=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(n(91));break;default:v!==N&&Ds(i,o,F,v,m,N)}Yd(i,_e,Se);return;case"option":for(var Et in u)if(_e=u[Et],u.hasOwnProperty(Et)&&_e!=null&&!m.hasOwnProperty(Et))switch(Et){case"selected":i.selected=!1;break;default:Ds(i,o,Et,null,m,_e)}for(oe in m)if(_e=m[oe],Se=u[oe],m.hasOwnProperty(oe)&&_e!==Se&&(_e!=null||Se!=null))switch(oe){case"selected":i.selected=_e&&typeof _e!="function"&&typeof _e!="symbol";break;default:Ds(i,o,oe,_e,m,Se)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in u)_e=u[yt],u.hasOwnProperty(yt)&&_e!=null&&!m.hasOwnProperty(yt)&&Ds(i,o,yt,null,m,_e);for(we in m)if(_e=m[we],Se=u[we],m.hasOwnProperty(we)&&_e!==Se&&(_e!=null||Se!=null))switch(we){case"children":case"dangerouslySetInnerHTML":if(_e!=null)throw Error(n(137,o));break;default:Ds(i,o,we,_e,m,Se)}return;default:if(Bn(o)){for(var Os in u)_e=u[Os],u.hasOwnProperty(Os)&&_e!==void 0&&!m.hasOwnProperty(Os)&&ij(i,o,Os,void 0,m,_e);for(Te in m)_e=m[Te],Se=u[Te],!m.hasOwnProperty(Te)||_e===Se||_e===void 0&&Se===void 0||ij(i,o,Te,_e,m,Se);return}}for(var ge in u)_e=u[ge],u.hasOwnProperty(ge)&&_e!=null&&!m.hasOwnProperty(ge)&&Ds(i,o,ge,null,m,_e);for(Me in m)_e=m[Me],Se=u[Me],!m.hasOwnProperty(Me)||_e===Se||_e==null&&Se==null||Ds(i,o,Me,_e,m,Se)}var lj=null,oj=null;function ux(i){return i.nodeType===9?i:i.ownerDocument}function J2(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function eE(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function cj(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var dj=null;function j6(){var i=window.event;return i&&i.type==="popstate"?i===dj?!1:(dj=i,!0):(dj=null,!1)}var tE=typeof setTimeout=="function"?setTimeout:void 0,w6=typeof clearTimeout=="function"?clearTimeout:void 0,sE=typeof Promise=="function"?Promise:void 0,N6=typeof queueMicrotask=="function"?queueMicrotask:typeof sE<"u"?function(i){return sE.resolve(null).then(i).catch(_6)}:tE;function _6(i){setTimeout(function(){throw i})}function zo(i){return i==="head"}function rE(i,o){var u=o,m=0,v=0;do{var N=u.nextSibling;if(i.removeChild(u),N&&N.nodeType===8)if(u=N.data,u==="/$"){if(0<m&&8>m){u=m;var F=i.ownerDocument;if(u&1&&wh(F.documentElement),u&2&&wh(F.body),u&4)for(u=F.head,wh(u),F=u.firstChild;F;){var W=F.nextSibling,oe=F.nodeName;F[yl]||oe==="SCRIPT"||oe==="STYLE"||oe==="LINK"&&F.rel.toLowerCase()==="stylesheet"||u.removeChild(F),F=W}}if(v===0){i.removeChild(N),Th(o);return}v--}else u==="$"||u==="$?"||u==="$!"?v++:m=u.charCodeAt(0)-48;else m=0;u=N}while(u);Th(o)}function uj(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":uj(u),Cc(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function S6(i,o,u,m){for(;i.nodeType===1;){var v=u;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!m&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(m){if(!i[yl])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(N=i.getAttribute("rel"),N==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(N!==v.rel||i.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||i.getAttribute("title")!==(v.title==null?null:v.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(N=i.getAttribute("src"),(N!==(v.src==null?null:v.src)||i.getAttribute("type")!==(v.type==null?null:v.type)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&N&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var N=v.name==null?null:""+v.name;if(v.type==="hidden"&&i.getAttribute("name")===N)return i}else return i;if(i=mi(i.nextSibling),i===null)break}return null}function E6(i,o,u){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=mi(i.nextSibling),i===null))return null;return i}function fj(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function k6(i,o){var u=i.ownerDocument;if(i.data!=="$?"||u.readyState==="complete")o();else{var m=function(){o(),u.removeEventListener("DOMContentLoaded",m)};u.addEventListener("DOMContentLoaded",m),i._reactRetry=m}}function mi(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return i}var hj=null;function nE(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return i;o--}else u==="/$"&&o++}i=i.previousSibling}return null}function aE(i,o,u){switch(o=ux(u),i){case"html":if(i=o.documentElement,!i)throw Error(n(452));return i;case"head":if(i=o.head,!i)throw Error(n(453));return i;case"body":if(i=o.body,!i)throw Error(n(454));return i;default:throw Error(n(451))}}function wh(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);Cc(i)}var za=new Map,iE=new Set;function fx(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ll=V.d;V.d={f:C6,r:A6,D:T6,C:R6,L:D6,m:O6,X:P6,S:M6,M:L6};function C6(){var i=Ll.f(),o=rx();return i||o}function A6(i){var o=zi(i);o!==null&&o.tag===5&&o.type==="form"?ES(o):Ll.r(i)}var ju=typeof document>"u"?null:document;function lE(i,o,u){var m=ju;if(m&&typeof o=="string"&&o){var v=vn(o);v='link[rel="'+i+'"][href="'+v+'"]',typeof u=="string"&&(v+='[crossorigin="'+u+'"]'),iE.has(v)||(iE.add(v),i={rel:i,crossOrigin:u,href:o},m.querySelector(v)===null&&(o=m.createElement("link"),an(o,"link",i),hr(o),m.head.appendChild(o)))}}function T6(i){Ll.D(i),lE("dns-prefetch",i,null)}function R6(i,o){Ll.C(i,o),lE("preconnect",i,o)}function D6(i,o,u){Ll.L(i,o,u);var m=ju;if(m&&i&&o){var v='link[rel="preload"][as="'+vn(o)+'"]';o==="image"&&u&&u.imageSrcSet?(v+='[imagesrcset="'+vn(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(v+='[imagesizes="'+vn(u.imageSizes)+'"]')):v+='[href="'+vn(i)+'"]';var N=v;switch(o){case"style":N=wu(i);break;case"script":N=Nu(i)}za.has(N)||(i=p({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:i,as:o},u),za.set(N,i),m.querySelector(v)!==null||o==="style"&&m.querySelector(Nh(N))||o==="script"&&m.querySelector(_h(N))||(o=m.createElement("link"),an(o,"link",i),hr(o),m.head.appendChild(o)))}}function O6(i,o){Ll.m(i,o);var u=ju;if(u&&i){var m=o&&typeof o.as=="string"?o.as:"script",v='link[rel="modulepreload"][as="'+vn(m)+'"][href="'+vn(i)+'"]',N=v;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":N=Nu(i)}if(!za.has(N)&&(i=p({rel:"modulepreload",href:i},o),za.set(N,i),u.querySelector(v)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(_h(N)))return}m=u.createElement("link"),an(m,"link",i),hr(m),u.head.appendChild(m)}}}function M6(i,o,u){Ll.S(i,o,u);var m=ju;if(m&&i){var v=$i(m).hoistableStyles,N=wu(i);o=o||"default";var F=v.get(N);if(!F){var W={loading:0,preload:null};if(F=m.querySelector(Nh(N)))W.loading=5;else{i=p({rel:"stylesheet",href:i,"data-precedence":o},u),(u=za.get(N))&&mj(i,u);var oe=F=m.createElement("link");hr(oe),an(oe,"link",i),oe._p=new Promise(function(we,Te){oe.onload=we,oe.onerror=Te}),oe.addEventListener("load",function(){W.loading|=1}),oe.addEventListener("error",function(){W.loading|=2}),W.loading|=4,hx(F,o,m)}F={type:"stylesheet",instance:F,count:1,state:W},v.set(N,F)}}}function P6(i,o){Ll.X(i,o);var u=ju;if(u&&i){var m=$i(u).hoistableScripts,v=Nu(i),N=m.get(v);N||(N=u.querySelector(_h(v)),N||(i=p({src:i,async:!0},o),(o=za.get(v))&&pj(i,o),N=u.createElement("script"),hr(N),an(N,"link",i),u.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},m.set(v,N))}}function L6(i,o){Ll.M(i,o);var u=ju;if(u&&i){var m=$i(u).hoistableScripts,v=Nu(i),N=m.get(v);N||(N=u.querySelector(_h(v)),N||(i=p({src:i,async:!0,type:"module"},o),(o=za.get(v))&&pj(i,o),N=u.createElement("script"),hr(N),an(N,"link",i),u.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},m.set(v,N))}}function oE(i,o,u,m){var v=(v=U.current)?fx(v):null;if(!v)throw Error(n(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=wu(u.href),u=$i(v).hoistableStyles,m=u.get(o),m||(m={type:"style",instance:null,count:0,state:null},u.set(o,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=wu(u.href);var N=$i(v).hoistableStyles,F=N.get(i);if(F||(v=v.ownerDocument||v,F={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(i,F),(N=v.querySelector(Nh(i)))&&!N._p&&(F.instance=N,F.state.loading=5),za.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},za.set(i,u),N||I6(v,i,u,F.state))),o&&m===null)throw Error(n(528,""));return F}if(o&&m!==null)throw Error(n(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Nu(u),u=$i(v).hoistableScripts,m=u.get(o),m||(m={type:"script",instance:null,count:0,state:null},u.set(o,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,i))}}function wu(i){return'href="'+vn(i)+'"'}function Nh(i){return'link[rel="stylesheet"]['+i+"]"}function cE(i){return p({},i,{"data-precedence":i.precedence,precedence:null})}function I6(i,o,u,m){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?m.loading=1:(o=i.createElement("link"),m.preload=o,o.addEventListener("load",function(){return m.loading|=1}),o.addEventListener("error",function(){return m.loading|=2}),an(o,"link",u),hr(o),i.head.appendChild(o))}function Nu(i){return'[src="'+vn(i)+'"]'}function _h(i){return"script[async]"+i}function dE(i,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var m=i.querySelector('style[data-href~="'+vn(u.href)+'"]');if(m)return o.instance=m,hr(m),m;var v=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return m=(i.ownerDocument||i).createElement("style"),hr(m),an(m,"style",v),hx(m,u.precedence,i),o.instance=m;case"stylesheet":v=wu(u.href);var N=i.querySelector(Nh(v));if(N)return o.state.loading|=4,o.instance=N,hr(N),N;m=cE(u),(v=za.get(v))&&mj(m,v),N=(i.ownerDocument||i).createElement("link"),hr(N);var F=N;return F._p=new Promise(function(W,oe){F.onload=W,F.onerror=oe}),an(N,"link",m),o.state.loading|=4,hx(N,u.precedence,i),o.instance=N;case"script":return N=Nu(u.src),(v=i.querySelector(_h(N)))?(o.instance=v,hr(v),v):(m=u,(v=za.get(N))&&(m=p({},u),pj(m,v)),i=i.ownerDocument||i,v=i.createElement("script"),hr(v),an(v,"link",m),i.head.appendChild(v),o.instance=v);case"void":return null;default:throw Error(n(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(m=o.instance,o.state.loading|=4,hx(m,u.precedence,i));return o.instance}function hx(i,o,u){for(var m=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=m.length?m[m.length-1]:null,N=v,F=0;F<m.length;F++){var W=m[F];if(W.dataset.precedence===o)N=W;else if(N!==v)break}N?N.parentNode.insertBefore(i,N.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(i,o.firstChild))}function mj(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function pj(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var mx=null;function uE(i,o,u){if(mx===null){var m=new Map,v=mx=new Map;v.set(u,m)}else v=mx,m=v.get(u),m||(m=new Map,v.set(u,m));if(m.has(i))return m;for(m.set(i,null),u=u.getElementsByTagName(i),v=0;v<u.length;v++){var N=u[v];if(!(N[yl]||N[Ws]||i==="link"&&N.getAttribute("rel")==="stylesheet")&&N.namespaceURI!=="http://www.w3.org/2000/svg"){var F=N.getAttribute(o)||"";F=i+F;var W=m.get(F);W?W.push(N):m.set(F,[N])}}return m}function fE(i,o,u){i=i.ownerDocument||i,i.head.insertBefore(u,o==="title"?i.querySelector("head > title"):null)}function U6(i,o,u){if(u===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function hE(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Sh=null;function F6(){}function z6(i,o,u){if(Sh===null)throw Error(n(475));var m=Sh;if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var v=wu(u.href),N=i.querySelector(Nh(v));if(N){i=N._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(m.count++,m=px.bind(m),i.then(m,m)),o.state.loading|=4,o.instance=N,hr(N);return}N=i.ownerDocument||i,u=cE(u),(v=za.get(v))&&mj(u,v),N=N.createElement("link"),hr(N);var F=N;F._p=new Promise(function(W,oe){F.onload=W,F.onerror=oe}),an(N,"link",u),o.instance=N}m.stylesheets===null&&(m.stylesheets=new Map),m.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(m.count++,o=px.bind(m),i.addEventListener("load",o),i.addEventListener("error",o))}}function $6(){if(Sh===null)throw Error(n(475));var i=Sh;return i.stylesheets&&i.count===0&&xj(i,i.stylesheets),0<i.count?function(o){var u=setTimeout(function(){if(i.stylesheets&&xj(i,i.stylesheets),i.unsuspend){var m=i.unsuspend;i.unsuspend=null,m()}},6e4);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(u)}}:null}function px(){if(this.count--,this.count===0){if(this.stylesheets)xj(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var xx=null;function xj(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,xx=new Map,o.forEach(q6,i),xx=null,px.call(i))}function q6(i,o){if(!(o.state.loading&4)){var u=xx.get(i);if(u)var m=u.get(null);else{u=new Map,xx.set(i,u);for(var v=i.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<v.length;N++){var F=v[N];(F.nodeName==="LINK"||F.getAttribute("media")!=="not all")&&(u.set(F.dataset.precedence,F),m=F)}m&&u.set(null,m)}v=o.instance,F=v.getAttribute("data-precedence"),N=u.get(F)||m,N===m&&u.set(null,v),u.set(F,v),this.count++,m=px.bind(this),v.addEventListener("load",m),v.addEventListener("error",m),N?N.parentNode.insertBefore(v,N.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(v,i.firstChild)),o.state.loading|=4}}var Eh={$$typeof:k,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function B6(i,o,u,m,v,N,F,W){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ni(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ni(0),this.hiddenUpdates=ni(null),this.identifierPrefix=m,this.onUncaughtError=v,this.onCaughtError=N,this.onRecoverableError=F,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=W,this.incompleteTransitions=new Map}function mE(i,o,u,m,v,N,F,W,oe,we,Te,Me){return i=new B6(i,o,u,F,W,oe,we,Me),o=1,N===!0&&(o|=24),N=ua(3,null,null,o),i.current=N,N.stateNode=i,o=Xv(),o.refCount++,i.pooledCache=o,o.refCount++,N.memoizedState={element:m,isDehydrated:u,cache:o},tb(N),i}function pE(i){return i?(i=eu,i):eu}function xE(i,o,u,m,v,N){v=pE(v),m.context===null?m.context=v:m.pendingContext=v,m=ko(o),m.payload={element:u},N=N===void 0?null:N,N!==null&&(m.callback=N),u=Co(i,m,o),u!==null&&(xa(u,i,o),sh(u,i,o))}function gE(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function gj(i,o){gE(i,o),(i=i.alternate)&&gE(i,o)}function yE(i){if(i.tag===13){var o=Jd(i,67108864);o!==null&&xa(o,i,67108864),gj(i,67108864)}}var gx=!0;function H6(i,o,u,m){var v=M.T;M.T=null;var N=V.p;try{V.p=2,yj(i,o,u,m)}finally{V.p=N,M.T=v}}function V6(i,o,u,m){var v=M.T;M.T=null;var N=V.p;try{V.p=8,yj(i,o,u,m)}finally{V.p=N,M.T=v}}function yj(i,o,u,m){if(gx){var v=vj(m);if(v===null)aj(i,o,m,yx,u),bE(i,m);else if(W6(v,i,o,u,m))m.stopPropagation();else if(bE(i,m),o&4&&-1<Y6.indexOf(i)){for(;v!==null;){var N=zi(v);if(N!==null)switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var F=Pr(N.pendingLanes);if(F!==0){var W=N;for(W.pendingLanes|=2,W.entangledLanes|=2;F;){var oe=1<<31-et(F);W.entanglements[1]|=oe,F&=~oe}Xi(N),(xs&6)===0&&(tx=Je()+500,vh(0))}}break;case 13:W=Jd(N,2),W!==null&&xa(W,N,2),rx(),gj(N,2)}if(N=vj(m),N===null&&aj(i,o,m,yx,u),N===v)break;v=N}v!==null&&m.stopPropagation()}else aj(i,o,m,null,u)}}function vj(i){return i=vo(i),bj(i)}var yx=null;function bj(i){if(yx=null,i=Fi(i),i!==null){var o=l(i);if(o===null)i=null;else{var u=o.tag;if(u===13){if(i=c(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return yx=i,null}function vE(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Zt()){case jt:return 2;case kr:return 8;case dr:case q:return 32;case de:return 268435456;default:return 32}default:return 32}}var jj=!1,$o=null,qo=null,Bo=null,kh=new Map,Ch=new Map,Ho=[],Y6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bE(i,o){switch(i){case"focusin":case"focusout":$o=null;break;case"dragenter":case"dragleave":qo=null;break;case"mouseover":case"mouseout":Bo=null;break;case"pointerover":case"pointerout":kh.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ch.delete(o.pointerId)}}function Ah(i,o,u,m,v,N){return i===null||i.nativeEvent!==N?(i={blockedOn:o,domEventName:u,eventSystemFlags:m,nativeEvent:N,targetContainers:[v]},o!==null&&(o=zi(o),o!==null&&yE(o)),i):(i.eventSystemFlags|=m,o=i.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),i)}function W6(i,o,u,m,v){switch(o){case"focusin":return $o=Ah($o,i,o,u,m,v),!0;case"dragenter":return qo=Ah(qo,i,o,u,m,v),!0;case"mouseover":return Bo=Ah(Bo,i,o,u,m,v),!0;case"pointerover":var N=v.pointerId;return kh.set(N,Ah(kh.get(N)||null,i,o,u,m,v)),!0;case"gotpointercapture":return N=v.pointerId,Ch.set(N,Ah(Ch.get(N)||null,i,o,u,m,v)),!0}return!1}function jE(i){var o=Fi(i.target);if(o!==null){var u=l(o);if(u!==null){if(o=u.tag,o===13){if(o=c(u),o!==null){i.blockedOn=o,Xs(i.priority,function(){if(u.tag===13){var m=pa();m=$s(m);var v=Jd(u,m);v!==null&&xa(v,u,m),gj(u,m)}});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function vx(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=vj(i.nativeEvent);if(u===null){u=i.nativeEvent;var m=new u.constructor(u.type,u);Mc=m,u.target.dispatchEvent(m),Mc=null}else return o=zi(u),o!==null&&yE(o),i.blockedOn=u,!1;o.shift()}return!0}function wE(i,o,u){vx(i)&&u.delete(o)}function G6(){jj=!1,$o!==null&&vx($o)&&($o=null),qo!==null&&vx(qo)&&(qo=null),Bo!==null&&vx(Bo)&&(Bo=null),kh.forEach(wE),Ch.forEach(wE)}function bx(i,o){i.blockedOn===o&&(i.blockedOn=null,jj||(jj=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,G6)))}var jx=null;function NE(i){jx!==i&&(jx=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){jx===i&&(jx=null);for(var o=0;o<i.length;o+=3){var u=i[o],m=i[o+1],v=i[o+2];if(typeof m!="function"){if(bj(m||u)===null)continue;break}var N=zi(u);N!==null&&(i.splice(o,3),o-=3,bb(N,{pending:!0,data:v,method:u.method,action:m},m,v))}}))}function Th(i){function o(oe){return bx(oe,i)}$o!==null&&bx($o,i),qo!==null&&bx(qo,i),Bo!==null&&bx(Bo,i),kh.forEach(o),Ch.forEach(o);for(var u=0;u<Ho.length;u++){var m=Ho[u];m.blockedOn===i&&(m.blockedOn=null)}for(;0<Ho.length&&(u=Ho[0],u.blockedOn===null);)jE(u),u.blockedOn===null&&Ho.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(m=0;m<u.length;m+=3){var v=u[m],N=u[m+1],F=v[ms]||null;if(typeof N=="function")F||NE(u);else if(F){var W=null;if(N&&N.hasAttribute("formAction")){if(v=N,F=N[ms]||null)W=F.formAction;else if(bj(v)!==null)continue}else W=F.action;typeof W=="function"?u[m+1]=W:(u.splice(m,3),m-=3),NE(u)}}}function wj(i){this._internalRoot=i}wx.prototype.render=wj.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(n(409));var u=o.current,m=pa();xE(u,m,i,o,null,null)},wx.prototype.unmount=wj.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;xE(i.current,2,null,i,null,null),rx(),o[ur]=null}};function wx(i){this._internalRoot=i}wx.prototype.unstable_scheduleHydration=function(i){if(i){var o=gn();i={blockedOn:null,target:i,priority:o};for(var u=0;u<Ho.length&&o!==0&&o<Ho[u].priority;u++);Ho.splice(u,0,i),u===0&&jE(i)}};var _E=e.version;if(_E!=="19.1.0")throw Error(n(527,_E,"19.1.0"));V.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=f(o),i=i!==null?h(i):null,i=i===null?null:i.stateNode,i};var Z6={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nx.isDisabled&&Nx.supportsFiber)try{Le=Nx.inject(Z6),ae=Nx}catch{}}return Dh.createRoot=function(i,o){if(!a(i))throw Error(n(299));var u=!1,m="",v=zS,N=$S,F=qS,W=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(N=o.onCaughtError),o.onRecoverableError!==void 0&&(F=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(W=o.unstable_transitionCallbacks)),o=mE(i,1,!1,null,null,u,m,v,N,F,W,null),i[ur]=o.current,nj(i),new wj(o)},Dh.hydrateRoot=function(i,o,u){if(!a(i))throw Error(n(299));var m=!1,v="",N=zS,F=$S,W=qS,oe=null,we=null;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(N=u.onUncaughtError),u.onCaughtError!==void 0&&(F=u.onCaughtError),u.onRecoverableError!==void 0&&(W=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(oe=u.unstable_transitionCallbacks),u.formState!==void 0&&(we=u.formState)),o=mE(i,1,!0,o,u??null,m,v,N,F,W,oe,we),o.context=pE(null),u=o.current,m=pa(),m=$s(m),v=ko(m),v.callback=null,Co(u,v,m),u=m,o.current.lanes=u,xn(o,u),Xi(o),i[ur]=o.current,nj(i),new wx(o)},Dh.version="19.1.0",Dh}var ME;function oI(){if(ME)return Sj.exports;ME=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Sj.exports=lI(),Sj.exports}var cI=oI(),Aj,PE;function dI(){if(PE)return Aj;PE=1;var t=typeof Element<"u",e=typeof Map=="function",r=typeof Set=="function",n=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function a(l,c){if(l===c)return!0;if(l&&c&&typeof l=="object"&&typeof c=="object"){if(l.constructor!==c.constructor)return!1;var d,f,h;if(Array.isArray(l)){if(d=l.length,d!=c.length)return!1;for(f=d;f--!==0;)if(!a(l[f],c[f]))return!1;return!0}var p;if(e&&l instanceof Map&&c instanceof Map){if(l.size!==c.size)return!1;for(p=l.entries();!(f=p.next()).done;)if(!c.has(f.value[0]))return!1;for(p=l.entries();!(f=p.next()).done;)if(!a(f.value[1],c.get(f.value[0])))return!1;return!0}if(r&&l instanceof Set&&c instanceof Set){if(l.size!==c.size)return!1;for(p=l.entries();!(f=p.next()).done;)if(!c.has(f.value[0]))return!1;return!0}if(n&&ArrayBuffer.isView(l)&&ArrayBuffer.isView(c)){if(d=l.length,d!=c.length)return!1;for(f=d;f--!==0;)if(l[f]!==c[f])return!1;return!0}if(l.constructor===RegExp)return l.source===c.source&&l.flags===c.flags;if(l.valueOf!==Object.prototype.valueOf&&typeof l.valueOf=="function"&&typeof c.valueOf=="function")return l.valueOf()===c.valueOf();if(l.toString!==Object.prototype.toString&&typeof l.toString=="function"&&typeof c.toString=="function")return l.toString()===c.toString();if(h=Object.keys(l),d=h.length,d!==Object.keys(c).length)return!1;for(f=d;f--!==0;)if(!Object.prototype.hasOwnProperty.call(c,h[f]))return!1;if(t&&l instanceof Element)return!1;for(f=d;f--!==0;)if(!((h[f]==="_owner"||h[f]==="__v"||h[f]==="__o")&&l.$$typeof)&&!a(l[h[f]],c[h[f]]))return!1;return!0}return l!==l&&c!==c}return Aj=function(c,d){try{return a(c,d)}catch(f){if((f.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw f}},Aj}var uI=dI();const fI=bc(uI);var Tj,LE;function hI(){if(LE)return Tj;LE=1;var t=function(e,r,n,a,l,c,d,f){if(!e){var h;if(r===void 0)h=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var p=[n,a,l,c,d,f],g=0;h=new Error(r.replace(/%s/g,function(){return p[g++]})),h.name="Invariant Violation"}throw h.framesToPop=1,h}};return Tj=t,Tj}var mI=hI();const IE=bc(mI);var Rj,UE;function pI(){return UE||(UE=1,Rj=function(e,r,n,a){var l=n?n.call(a,e,r):void 0;if(l!==void 0)return!!l;if(e===r)return!0;if(typeof e!="object"||!e||typeof r!="object"||!r)return!1;var c=Object.keys(e),d=Object.keys(r);if(c.length!==d.length)return!1;for(var f=Object.prototype.hasOwnProperty.bind(r),h=0;h<c.length;h++){var p=c[h];if(!f(p))return!1;var g=e[p],y=r[p];if(l=n?n.call(a,g,y,p):void 0,l===!1||l===void 0&&g!==y)return!1}return!0}),Rj}var xI=pI();const gI=bc(xI);var i4=(t=>(t.BASE="base",t.BODY="body",t.HEAD="head",t.HTML="html",t.LINK="link",t.META="meta",t.NOSCRIPT="noscript",t.SCRIPT="script",t.STYLE="style",t.TITLE="title",t.FRAGMENT="Symbol(react.fragment)",t))(i4||{}),Dj={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},FE=Object.values(i4),oN={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},yI=Object.entries(oN).reduce((t,[e,r])=>(t[r]=e,t),{}),ji="data-rh",Vu={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},Yu=(t,e)=>{for(let r=t.length-1;r>=0;r-=1){const n=t[r];if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}return null},vI=t=>{let e=Yu(t,"title");const r=Yu(t,Vu.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),r&&e)return r.replace(/%s/g,()=>e);const n=Yu(t,Vu.DEFAULT_TITLE);return e||n||void 0},bI=t=>Yu(t,Vu.ON_CHANGE_CLIENT_STATE)||(()=>{}),Oj=(t,e)=>e.filter(r=>typeof r[t]<"u").map(r=>r[t]).reduce((r,n)=>({...r,...n}),{}),jI=(t,e)=>e.filter(r=>typeof r.base<"u").map(r=>r.base).reverse().reduce((r,n)=>{if(!r.length){const a=Object.keys(n);for(let l=0;l<a.length;l+=1){const d=a[l].toLowerCase();if(t.indexOf(d)!==-1&&n[d])return r.concat(n)}}return r},[]),wI=t=>console&&typeof console.warn=="function"&&console.warn(t),Oh=(t,e,r)=>{const n={};return r.filter(a=>Array.isArray(a[t])?!0:(typeof a[t]<"u"&&wI(`Helmet: ${t} should be of type "Array". Instead found type "${typeof a[t]}"`),!1)).map(a=>a[t]).reverse().reduce((a,l)=>{const c={};l.filter(f=>{let h;const p=Object.keys(f);for(let y=0;y<p.length;y+=1){const b=p[y],j=b.toLowerCase();e.indexOf(j)!==-1&&!(h==="rel"&&f[h].toLowerCase()==="canonical")&&!(j==="rel"&&f[j].toLowerCase()==="stylesheet")&&(h=j),e.indexOf(b)!==-1&&(b==="innerHTML"||b==="cssText"||b==="itemprop")&&(h=b)}if(!h||!f[h])return!1;const g=f[h].toLowerCase();return n[h]||(n[h]={}),c[h]||(c[h]={}),n[h][g]?!1:(c[h][g]=!0,!0)}).reverse().forEach(f=>a.push(f));const d=Object.keys(c);for(let f=0;f<d.length;f+=1){const h=d[f],p={...n[h],...c[h]};n[h]=p}return a},[]).reverse()},NI=(t,e)=>{if(Array.isArray(t)&&t.length){for(let r=0;r<t.length;r+=1)if(t[r][e])return!0}return!1},_I=t=>({baseTag:jI(["href"],t),bodyAttributes:Oj("bodyAttributes",t),defer:Yu(t,Vu.DEFER),encode:Yu(t,Vu.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Oj("htmlAttributes",t),linkTags:Oh("link",["rel","href"],t),metaTags:Oh("meta",["name","charset","http-equiv","property","itemprop"],t),noscriptTags:Oh("noscript",["innerHTML"],t),onChangeClientState:bI(t),scriptTags:Oh("script",["src","innerHTML"],t),styleTags:Oh("style",["cssText"],t),title:vI(t),titleAttributes:Oj("titleAttributes",t),prioritizeSeoTags:NI(t,Vu.PRIORITIZE_SEO_TAGS)}),l4=t=>Array.isArray(t)?t.join(""):t,SI=(t,e)=>{const r=Object.keys(t);for(let n=0;n<r.length;n+=1)if(e[r[n]]&&e[r[n]].includes(t[r[n]]))return!0;return!1},Mj=(t,e)=>Array.isArray(t)?t.reduce((r,n)=>(SI(n,e)?r.priority.push(n):r.default.push(n),r),{priority:[],default:[]}):{default:t,priority:[]},zE=(t,e)=>({...t,[e]:void 0}),EI=["noscript","script","style"],$0=(t,e=!0)=>e===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),o4=t=>Object.keys(t).reduce((e,r)=>{const n=typeof t[r]<"u"?`${r}="${t[r]}"`:`${r}`;return e?`${e} ${n}`:n},""),kI=(t,e,r,n)=>{const a=o4(r),l=l4(e);return a?`<${t} ${ji}="true" ${a}>${$0(l,n)}</${t}>`:`<${t} ${ji}="true">${$0(l,n)}</${t}>`},CI=(t,e,r=!0)=>e.reduce((n,a)=>{const l=a,c=Object.keys(l).filter(h=>!(h==="innerHTML"||h==="cssText")).reduce((h,p)=>{const g=typeof l[p]>"u"?p:`${p}="${$0(l[p],r)}"`;return h?`${h} ${g}`:g},""),d=l.innerHTML||l.cssText||"",f=EI.indexOf(t)===-1;return`${n}<${t} ${ji}="true" ${c}${f?"/>":`>${d}</${t}>`}`},""),c4=(t,e={})=>Object.keys(t).reduce((r,n)=>{const a=oN[n];return r[a||n]=t[n],r},e),AI=(t,e,r)=>{const n={key:e,[ji]:!0},a=c4(r,n);return[ye.createElement("title",a,e)]},sg=(t,e)=>e.map((r,n)=>{const a={key:n,[ji]:!0};return Object.keys(r).forEach(l=>{const d=oN[l]||l;if(d==="innerHTML"||d==="cssText"){const f=r.innerHTML||r.cssText;a.dangerouslySetInnerHTML={__html:f}}else a[d]=r[l]}),ye.createElement(t,a)}),qa=(t,e,r=!0)=>{switch(t){case"title":return{toComponent:()=>AI(t,e.title,e.titleAttributes),toString:()=>kI(t,e.title,e.titleAttributes,r)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>c4(e),toString:()=>o4(e)};default:return{toComponent:()=>sg(t,e),toString:()=>CI(t,e,r)}}},TI=({metaTags:t,linkTags:e,scriptTags:r,encode:n})=>{const a=Mj(t,Dj.meta),l=Mj(e,Dj.link),c=Mj(r,Dj.script);return{priorityMethods:{toComponent:()=>[...sg("meta",a.priority),...sg("link",l.priority),...sg("script",c.priority)],toString:()=>`${qa("meta",a.priority,n)} ${qa("link",l.priority,n)} ${qa("script",c.priority,n)}`},metaTags:a.default,linkTags:l.default,scriptTags:c.default}},RI=t=>{const{baseTag:e,bodyAttributes:r,encode:n=!0,htmlAttributes:a,noscriptTags:l,styleTags:c,title:d="",titleAttributes:f,prioritizeSeoTags:h}=t;let{linkTags:p,metaTags:g,scriptTags:y}=t,b={toComponent:()=>{},toString:()=>""};return h&&({priorityMethods:b,linkTags:p,metaTags:g,scriptTags:y}=TI(t)),{priority:b,base:qa("base",e,n),bodyAttributes:qa("bodyAttributes",r,n),htmlAttributes:qa("htmlAttributes",a,n),link:qa("link",p,n),meta:qa("meta",g,n),noscript:qa("noscript",l,n),script:qa("script",y,n),style:qa("style",c,n),title:qa("title",{title:d,titleAttributes:f},n)}},q0=RI,_x=[],d4=!!(typeof window<"u"&&window.document&&window.document.createElement),B0=class{constructor(t,e){qe(this,"instances",[]);qe(this,"canUseDOM",d4);qe(this,"context");qe(this,"value",{setHelmet:t=>{this.context.helmet=t},helmetInstances:{get:()=>this.canUseDOM?_x:this.instances,add:t=>{(this.canUseDOM?_x:this.instances).push(t)},remove:t=>{const e=(this.canUseDOM?_x:this.instances).indexOf(t);(this.canUseDOM?_x:this.instances).splice(e,1)}}});this.context=t,this.canUseDOM=e||!1,e||(t.helmet=q0({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},DI={},u4=ye.createContext(DI),nd,cN=(nd=class extends x.Component{constructor(r){super(r);qe(this,"helmetData");this.helmetData=new B0(this.props.context||{},nd.canUseDOM)}render(){return ye.createElement(u4.Provider,{value:this.helmetData.value},this.props.children)}},qe(nd,"canUseDOM",d4),nd),_u=(t,e)=>{const r=document.head||document.querySelector("head"),n=r.querySelectorAll(`${t}[${ji}]`),a=[].slice.call(n),l=[];let c;return e&&e.length&&e.forEach(d=>{const f=document.createElement(t);for(const h in d)if(Object.prototype.hasOwnProperty.call(d,h))if(h==="innerHTML")f.innerHTML=d.innerHTML;else if(h==="cssText")f.styleSheet?f.styleSheet.cssText=d.cssText:f.appendChild(document.createTextNode(d.cssText));else{const p=h,g=typeof d[p]>"u"?"":d[p];f.setAttribute(h,g)}f.setAttribute(ji,"true"),a.some((h,p)=>(c=p,f.isEqualNode(h)))?a.splice(c,1):l.push(f)}),a.forEach(d=>{var f;return(f=d.parentNode)==null?void 0:f.removeChild(d)}),l.forEach(d=>r.appendChild(d)),{oldTags:a,newTags:l}},H0=(t,e)=>{const r=document.getElementsByTagName(t)[0];if(!r)return;const n=r.getAttribute(ji),a=n?n.split(","):[],l=[...a],c=Object.keys(e);for(const d of c){const f=e[d]||"";r.getAttribute(d)!==f&&r.setAttribute(d,f),a.indexOf(d)===-1&&a.push(d);const h=l.indexOf(d);h!==-1&&l.splice(h,1)}for(let d=l.length-1;d>=0;d-=1)r.removeAttribute(l[d]);a.length===l.length?r.removeAttribute(ji):r.getAttribute(ji)!==c.join(",")&&r.setAttribute(ji,c.join(","))},OI=(t,e)=>{typeof t<"u"&&document.title!==t&&(document.title=l4(t)),H0("title",e)},$E=(t,e)=>{const{baseTag:r,bodyAttributes:n,htmlAttributes:a,linkTags:l,metaTags:c,noscriptTags:d,onChangeClientState:f,scriptTags:h,styleTags:p,title:g,titleAttributes:y}=t;H0("body",n),H0("html",a),OI(g,y);const b={baseTag:_u("base",r),linkTags:_u("link",l),metaTags:_u("meta",c),noscriptTags:_u("noscript",d),scriptTags:_u("script",h),styleTags:_u("style",p)},j={},w={};Object.keys(b).forEach(_=>{const{newTags:E,oldTags:S}=b[_];E.length&&(j[_]=E),S.length&&(w[_]=b[_].oldTags)}),e&&e(),f(t,j,w)},Mh=null,MI=t=>{Mh&&cancelAnimationFrame(Mh),t.defer?Mh=requestAnimationFrame(()=>{$E(t,()=>{Mh=null})}):($E(t),Mh=null)},PI=MI,qE=class extends x.Component{constructor(){super(...arguments);qe(this,"rendered",!1)}shouldComponentUpdate(e){return!gI(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:r}=this.props.context;let n=null;const a=_I(e.get().map(l=>{const c={...l.props};return delete c.context,c}));cN.canUseDOM?PI(a):q0&&(n=q0(a)),r(n)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},z0,LI=(z0=class extends x.Component{shouldComponentUpdate(t){return!fI(zE(this.props,"helmetData"),zE(t,"helmetData"))}mapNestedChildrenToProps(t,e){if(!e)return null;switch(t.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${t.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(t,e,r,n){return{...e,[t.type]:[...e[t.type]||[],{...r,...this.mapNestedChildrenToProps(t,n)}]}}mapObjectTypeChildren(t,e,r,n){switch(t.type){case"title":return{...e,[t.type]:n,titleAttributes:{...r}};case"body":return{...e,bodyAttributes:{...r}};case"html":return{...e,htmlAttributes:{...r}};default:return{...e,[t.type]:{...r}}}}mapArrayTypeChildrenToProps(t,e){let r={...e};return Object.keys(t).forEach(n=>{r={...r,[n]:t[n]}}),r}warnOnInvalidChildren(t,e){return IE(FE.some(r=>t.type===r),typeof t.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${FE.join(", ")} are allowed. Helmet does not support rendering <${t.type}> elements. Refer to our API for more information.`),IE(!e||typeof e=="string"||Array.isArray(e)&&!e.some(r=>typeof r!="string"),`Helmet expects a string as a child of <${t.type}>. Did you forget to wrap your children in braces? ( <${t.type}>{\`\`}</${t.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(t,e){let r={};return ye.Children.forEach(t,n=>{if(!n||!n.props)return;const{children:a,...l}=n.props,c=Object.keys(l).reduce((f,h)=>(f[yI[h]||h]=l[h],f),{});let{type:d}=n;switch(typeof d=="symbol"?d=d.toString():this.warnOnInvalidChildren(n,a),d){case"Symbol(react.fragment)":e=this.mapChildrenToProps(a,e);break;case"link":case"meta":case"noscript":case"script":case"style":r=this.flattenArrayTypeChildren(n,r,c,a);break;default:e=this.mapObjectTypeChildren(n,e,c,a);break}}),this.mapArrayTypeChildrenToProps(r,e)}render(){const{children:t,...e}=this.props;let r={...e},{helmetData:n}=e;if(t&&(r=this.mapChildrenToProps(t,r)),n&&!(n instanceof B0)){const a=n;n=new B0(a.context,!0),delete r.helmetData}return n?ye.createElement(qE,{...r,context:n.value}):ye.createElement(u4.Consumer,null,a=>ye.createElement(qE,{...r,context:a}))}},qe(z0,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),z0),Ph={},BE;function II(){if(BE)return Ph;BE=1,Object.defineProperty(Ph,"__esModule",{value:!0}),Ph.parse=c,Ph.serialize=h;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const y=function(){};return y.prototype=Object.create(null),y})();function c(y,b){const j=new l,w=y.length;if(w<2)return j;const _=(b==null?void 0:b.decode)||p;let E=0;do{const S=y.indexOf("=",E);if(S===-1)break;const k=y.indexOf(";",E),R=k===-1?w:k;if(S>R){E=y.lastIndexOf(";",S-1)+1;continue}const L=d(y,E,S),I=f(y,S,L),T=y.slice(L,I);if(j[T]===void 0){let O=d(y,S+1,R),P=f(y,R,O);const X=_(y.slice(O,P));j[T]=X}E=R+1}while(E<w);return j}function d(y,b,j){do{const w=y.charCodeAt(b);if(w!==32&&w!==9)return b}while(++b<j);return j}function f(y,b,j){for(;b>j;){const w=y.charCodeAt(--b);if(w!==32&&w!==9)return b+1}return j}function h(y,b,j){const w=(j==null?void 0:j.encode)||encodeURIComponent;if(!t.test(y))throw new TypeError(`argument name is invalid: ${y}`);const _=w(b);if(!e.test(_))throw new TypeError(`argument val is invalid: ${b}`);let E=y+"="+_;if(!j)return E;if(j.maxAge!==void 0){if(!Number.isInteger(j.maxAge))throw new TypeError(`option maxAge is invalid: ${j.maxAge}`);E+="; Max-Age="+j.maxAge}if(j.domain){if(!r.test(j.domain))throw new TypeError(`option domain is invalid: ${j.domain}`);E+="; Domain="+j.domain}if(j.path){if(!n.test(j.path))throw new TypeError(`option path is invalid: ${j.path}`);E+="; Path="+j.path}if(j.expires){if(!g(j.expires)||!Number.isFinite(j.expires.valueOf()))throw new TypeError(`option expires is invalid: ${j.expires}`);E+="; Expires="+j.expires.toUTCString()}if(j.httpOnly&&(E+="; HttpOnly"),j.secure&&(E+="; Secure"),j.partitioned&&(E+="; Partitioned"),j.priority)switch(typeof j.priority=="string"?j.priority.toLowerCase():void 0){case"low":E+="; Priority=Low";break;case"medium":E+="; Priority=Medium";break;case"high":E+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${j.priority}`)}if(j.sameSite)switch(typeof j.sameSite=="string"?j.sameSite.toLowerCase():j.sameSite){case!0:case"strict":E+="; SameSite=Strict";break;case"lax":E+="; SameSite=Lax";break;case"none":E+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${j.sameSite}`)}return E}function p(y){if(y.indexOf("%")===-1)return y;try{return decodeURIComponent(y)}catch{return y}}function g(y){return a.call(y)==="[object Date]"}return Ph}II();var HE="popstate";function UI(t={}){function e(n,a){let{pathname:l,search:c,hash:d}=n.location;return V0("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:um(a)}return zI(e,r,null,t)}function Js(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Qa(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function FI(){return Math.random().toString(36).substring(2,10)}function VE(t,e){return{usr:t.state,key:t.key,idx:e}}function V0(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?vf(e):e,state:r,key:e&&e.key||n||FI()}}function um({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function vf(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function zI(t,e,r,n={}){let{window:a=document.defaultView,v5Compat:l=!1}=n,c=a.history,d="POP",f=null,h=p();h==null&&(h=0,c.replaceState({...c.state,idx:h},""));function p(){return(c.state||{idx:null}).idx}function g(){d="POP";let _=p(),E=_==null?null:_-h;h=_,f&&f({action:d,location:w.location,delta:E})}function y(_,E){d="PUSH";let S=V0(w.location,_,E);h=p()+1;let k=VE(S,h),R=w.createHref(S);try{c.pushState(k,"",R)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;a.location.assign(R)}l&&f&&f({action:d,location:w.location,delta:1})}function b(_,E){d="REPLACE";let S=V0(w.location,_,E);h=p();let k=VE(S,h),R=w.createHref(S);c.replaceState(k,"",R),l&&f&&f({action:d,location:w.location,delta:0})}function j(_){let E=a.location.origin!=="null"?a.location.origin:a.location.href,S=typeof _=="string"?_:um(_);return S=S.replace(/ $/,"%20"),Js(E,`No window.location.(origin|href) available to create URL for href: ${S}`),new URL(S,E)}let w={get action(){return d},get location(){return t(a,c)},listen(_){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(HE,g),f=_,()=>{a.removeEventListener(HE,g),f=null}},createHref(_){return e(a,_)},createURL:j,encodeLocation(_){let E=j(_);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:y,replace:b,go(_){return c.go(_)}};return w}function f4(t,e,r="/"){return $I(t,e,r,!1)}function $I(t,e,r,n){let a=typeof e=="string"?vf(e):e,l=Kl(a.pathname||"/",r);if(l==null)return null;let c=h4(t);qI(c);let d=null;for(let f=0;d==null&&f<c.length;++f){let h=JI(l);d=XI(c[f],h,n)}return d}function h4(t,e=[],r=[],n=""){let a=(l,c,d)=>{let f={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};f.relativePath.startsWith("/")&&(Js(f.relativePath.startsWith(n),`Absolute route path "${f.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(n.length));let h=Wl([n,f.relativePath]),p=r.concat(f);l.children&&l.children.length>0&&(Js(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),h4(l.children,e,p,h)),!(l.path==null&&!l.index)&&e.push({path:h,score:ZI(h,l.index),routesMeta:p})};return t.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))a(l,c);else for(let f of m4(l.path))a(l,c,f)}),e}function m4(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,a=r.endsWith("?"),l=r.replace(/\?$/,"");if(n.length===0)return a?[l,""]:[l];let c=m4(n.join("/")),d=[];return d.push(...c.map(f=>f===""?l:[l,f].join("/"))),a&&d.push(...c),d.map(f=>t.startsWith("/")&&f===""?"/":f)}function qI(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:KI(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var BI=/^:[\w-]+$/,HI=3,VI=2,YI=1,WI=10,GI=-2,YE=t=>t==="*";function ZI(t,e){let r=t.split("/"),n=r.length;return r.some(YE)&&(n+=GI),e&&(n+=VI),r.filter(a=>!YE(a)).reduce((a,l)=>a+(BI.test(l)?HI:l===""?YI:WI),n)}function KI(t,e){return t.length===e.length&&t.slice(0,-1).every((n,a)=>n===e[a])?t[t.length-1]-e[e.length-1]:0}function XI(t,e,r=!1){let{routesMeta:n}=t,a={},l="/",c=[];for(let d=0;d<n.length;++d){let f=n[d],h=d===n.length-1,p=l==="/"?e:e.slice(l.length)||"/",g=kg({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},p),y=f.route;if(!g&&h&&r&&!n[n.length-1].route.index&&(g=kg({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},p)),!g)return null;Object.assign(a,g.params),c.push({params:a,pathname:Wl([l,g.pathname]),pathnameBase:rU(Wl([l,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(l=Wl([l,g.pathnameBase]))}return c}function kg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=QI(t.path,t.caseSensitive,t.end),a=e.match(r);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:n.reduce((h,{paramName:p,isOptional:g},y)=>{if(p==="*"){let j=d[y]||"";c=l.slice(0,l.length-j.length).replace(/(.)\/+$/,"$1")}const b=d[y];return g&&!b?h[p]=void 0:h[p]=(b||"").replace(/%2F/g,"/"),h},{}),pathname:l,pathnameBase:c,pattern:t}}function QI(t,e=!1,r=!0){Qa(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,f)=>(n.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function JI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Qa(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Kl(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function eU(t,e="/"){let{pathname:r,search:n="",hash:a=""}=typeof t=="string"?vf(t):t;return{pathname:r?r.startsWith("/")?r:tU(r,e):e,search:nU(n),hash:aU(a)}}function tU(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Pj(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function sU(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function dN(t){let e=sU(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function uN(t,e,r,n=!1){let a;typeof t=="string"?a=vf(t):(a={...t},Js(!a.pathname||!a.pathname.includes("?"),Pj("?","pathname","search",a)),Js(!a.pathname||!a.pathname.includes("#"),Pj("#","pathname","hash",a)),Js(!a.search||!a.search.includes("#"),Pj("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=r;else{let g=e.length-1;if(!n&&c.startsWith("..")){let y=c.split("/");for(;y[0]==="..";)y.shift(),g-=1;a.pathname=y.join("/")}d=g>=0?e[g]:"/"}let f=eU(a,d),h=c&&c!=="/"&&c.endsWith("/"),p=(l||c===".")&&r.endsWith("/");return!f.pathname.endsWith("/")&&(h||p)&&(f.pathname+="/"),f}var Wl=t=>t.join("/").replace(/\/\/+/g,"/"),rU=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),nU=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,aU=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function iU(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var p4=["POST","PUT","PATCH","DELETE"];new Set(p4);var lU=["GET",...p4];new Set(lU);var bf=x.createContext(null);bf.displayName="DataRouter";var py=x.createContext(null);py.displayName="DataRouterState";var x4=x.createContext({isTransitioning:!1});x4.displayName="ViewTransition";var oU=x.createContext(new Map);oU.displayName="Fetchers";var cU=x.createContext(null);cU.displayName="Await";var Ti=x.createContext(null);Ti.displayName="Navigation";var Zm=x.createContext(null);Zm.displayName="Location";var Ja=x.createContext({outlet:null,matches:[],isDataRoute:!1});Ja.displayName="Route";var fN=x.createContext(null);fN.displayName="RouteError";function dU(t,{relative:e}={}){Js(jf(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=x.useContext(Ti),{hash:a,pathname:l,search:c}=Km(t,{relative:e}),d=l;return r!=="/"&&(d=l==="/"?r:Wl([r,l])),n.createHref({pathname:d,search:c,hash:a})}function jf(){return x.useContext(Zm)!=null}function Ca(){return Js(jf(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(Zm).location}var g4="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function y4(t){x.useContext(Ti).static||x.useLayoutEffect(t)}function ht(){let{isDataRoute:t}=x.useContext(Ja);return t?SU():uU()}function uU(){Js(jf(),"useNavigate() may be used only in the context of a <Router> component.");let t=x.useContext(bf),{basename:e,navigator:r}=x.useContext(Ti),{matches:n}=x.useContext(Ja),{pathname:a}=Ca(),l=JSON.stringify(dN(n)),c=x.useRef(!1);return y4(()=>{c.current=!0}),x.useCallback((f,h={})=>{if(Qa(c.current,g4),!c.current)return;if(typeof f=="number"){r.go(f);return}let p=uN(f,JSON.parse(l),a,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Wl([e,p.pathname])),(h.replace?r.replace:r.push)(p,h.state,h)},[e,r,l,a,t])}var fU=x.createContext(null);function hU(t){let e=x.useContext(Ja).outlet;return e&&x.createElement(fU.Provider,{value:t},e)}function zn(){let{matches:t}=x.useContext(Ja),e=t[t.length-1];return e?e.params:{}}function Km(t,{relative:e}={}){let{matches:r}=x.useContext(Ja),{pathname:n}=Ca(),a=JSON.stringify(dN(r));return x.useMemo(()=>uN(t,JSON.parse(a),n,e==="path"),[t,a,n,e])}function mU(t,e){return v4(t,e)}function v4(t,e,r,n){var S;Js(jf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:l}=x.useContext(Ti),{matches:c}=x.useContext(Ja),d=c[c.length-1],f=d?d.params:{},h=d?d.pathname:"/",p=d?d.pathnameBase:"/",g=d&&d.route;{let k=g&&g.path||"";b4(h,!g||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let y=Ca(),b;if(e){let k=typeof e=="string"?vf(e):e;Js(p==="/"||((S=k.pathname)==null?void 0:S.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${k.pathname}" was given in the \`location\` prop.`),b=k}else b=y;let j=b.pathname||"/",w=j;if(p!=="/"){let k=p.replace(/^\//,"").split("/");w="/"+j.replace(/^\//,"").split("/").slice(k.length).join("/")}let _=!l&&r&&r.matches&&r.matches.length>0?r.matches:f4(t,{pathname:w});Qa(g||_!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Qa(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=vU(_&&_.map(k=>Object.assign({},k,{params:Object.assign({},f,k.params),pathname:Wl([p,a.encodeLocation?a.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?p:Wl([p,a.encodeLocation?a.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),c,r,n);return e&&E?x.createElement(Zm.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},E):E}function pU(){let t=_U(),e=iU(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},l={padding:"2px 4px",backgroundColor:n},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=x.createElement(x.Fragment,null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:l},"ErrorBoundary")," or"," ",x.createElement("code",{style:l},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),r?x.createElement("pre",{style:a},r):null,c)}var xU=x.createElement(pU,null),gU=class extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?x.createElement(Ja.Provider,{value:this.props.routeContext},x.createElement(fN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function yU({routeContext:t,match:e,children:r}){let n=x.useContext(bf);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),x.createElement(Ja.Provider,{value:t},r)}function vU(t,e=[],r=null,n=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,l=r==null?void 0:r.errors;if(l!=null){let f=a.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);Js(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let c=!1,d=-1;if(r)for(let f=0;f<a.length;f++){let h=a[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=f),h.route.id){let{loaderData:p,errors:g}=r,y=h.route.loader&&!p.hasOwnProperty(h.route.id)&&(!g||g[h.route.id]===void 0);if(h.route.lazy||y){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((f,h,p)=>{let g,y=!1,b=null,j=null;r&&(g=l&&h.route.id?l[h.route.id]:void 0,b=h.route.errorElement||xU,c&&(d<0&&p===0?(b4("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,j=null):d===p&&(y=!0,j=h.route.hydrateFallbackElement||null)));let w=e.concat(a.slice(0,p+1)),_=()=>{let E;return g?E=b:y?E=j:h.route.Component?E=x.createElement(h.route.Component,null):h.route.element?E=h.route.element:E=f,x.createElement(yU,{match:h,routeContext:{outlet:f,matches:w,isDataRoute:r!=null},children:E})};return r&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?x.createElement(gU,{location:r.location,revalidation:r.revalidation,component:b,error:g,children:_(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):_()},null)}function hN(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bU(t){let e=x.useContext(bf);return Js(e,hN(t)),e}function jU(t){let e=x.useContext(py);return Js(e,hN(t)),e}function wU(t){let e=x.useContext(Ja);return Js(e,hN(t)),e}function mN(t){let e=wU(t),r=e.matches[e.matches.length-1];return Js(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function NU(){return mN("useRouteId")}function _U(){var n;let t=x.useContext(fN),e=jU("useRouteError"),r=mN("useRouteError");return t!==void 0?t:(n=e.errors)==null?void 0:n[r]}function SU(){let{router:t}=bU("useNavigate"),e=mN("useNavigate"),r=x.useRef(!1);return y4(()=>{r.current=!0}),x.useCallback(async(a,l={})=>{Qa(r.current,g4),r.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var WE={};function b4(t,e,r){!e&&!WE[t]&&(WE[t]=!0,Qa(!1,r))}x.memo(EU);function EU({routes:t,future:e,state:r}){return v4(t,void 0,r,e)}function ad({to:t,replace:e,state:r,relative:n}){Js(jf(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=x.useContext(Ti);Qa(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=x.useContext(Ja),{pathname:c}=Ca(),d=ht(),f=uN(t,dN(l),c,n==="path"),h=JSON.stringify(f);return x.useEffect(()=>{d(JSON.parse(h),{replace:e,state:r,relative:n})},[d,h,n,e,r]),null}function kU(t){return hU(t.context)}function pt(t){Js(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function CU({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:a,static:l=!1}){Js(!jf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=x.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof r=="string"&&(r=vf(r));let{pathname:f="/",search:h="",hash:p="",state:g=null,key:y="default"}=r,b=x.useMemo(()=>{let j=Kl(f,c);return j==null?null:{location:{pathname:j,search:h,hash:p,state:g,key:y},navigationType:n}},[c,f,h,p,g,y,n]);return Qa(b!=null,`<Router basename="${c}"> is not able to match the URL "${f}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:x.createElement(Ti.Provider,{value:d},x.createElement(Zm.Provider,{children:e,value:b}))}function AU({children:t,location:e}){return mU(Y0(t),e)}function Y0(t,e=[]){let r=[];return x.Children.forEach(t,(n,a)=>{if(!x.isValidElement(n))return;let l=[...e,a];if(n.type===x.Fragment){r.push.apply(r,Y0(n.props.children,l));return}Js(n.type===pt,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Js(!n.props.index||!n.props.children,"An index route cannot have child routes.");let c={id:n.props.id||l.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(c.children=Y0(n.props.children,l)),r.push(c)}),r}var rg="get",ng="application/x-www-form-urlencoded";function xy(t){return t!=null&&typeof t.tagName=="string"}function TU(t){return xy(t)&&t.tagName.toLowerCase()==="button"}function RU(t){return xy(t)&&t.tagName.toLowerCase()==="form"}function DU(t){return xy(t)&&t.tagName.toLowerCase()==="input"}function OU(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function MU(t,e){return t.button===0&&(!e||e==="_self")&&!OU(t)}function W0(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function PU(t,e){let r=W0(t);return e&&e.forEach((n,a)=>{r.has(a)||e.getAll(a).forEach(l=>{r.append(a,l)})}),r}var Sx=null;function LU(){if(Sx===null)try{new FormData(document.createElement("form"),0),Sx=!1}catch{Sx=!0}return Sx}var IU=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Lj(t){return t!=null&&!IU.has(t)?(Qa(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ng}"`),null):t}function UU(t,e){let r,n,a,l,c;if(RU(t)){let d=t.getAttribute("action");n=d?Kl(d,e):null,r=t.getAttribute("method")||rg,a=Lj(t.getAttribute("enctype"))||ng,l=new FormData(t)}else if(TU(t)||DU(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||d.getAttribute("action");if(n=f?Kl(f,e):null,r=t.getAttribute("formmethod")||d.getAttribute("method")||rg,a=Lj(t.getAttribute("formenctype"))||Lj(d.getAttribute("enctype"))||ng,l=new FormData(d,t),!LU()){let{name:h,type:p,value:g}=t;if(p==="image"){let y=h?`${h}.`:"";l.append(`${y}x`,"0"),l.append(`${y}y`,"0")}else h&&l.append(h,g)}}else{if(xy(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=rg,n=null,a=ng,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:l,body:c}}function pN(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function FU(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function zU(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function $U(t,e,r){let n=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await FU(l,r);return c.links?c.links():[]}return[]}));return VU(n.flat(1).filter(zU).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function GE(t,e,r,n,a,l){let c=(f,h)=>r[h]?f.route.id!==r[h].route.id:!0,d=(f,h)=>{var p;return r[h].pathname!==f.pathname||((p=r[h].route.path)==null?void 0:p.endsWith("*"))&&r[h].params["*"]!==f.params["*"]};return l==="assets"?e.filter((f,h)=>c(f,h)||d(f,h)):l==="data"?e.filter((f,h)=>{var g;let p=n.routes[f.route.id];if(!p||!p.hasLoader)return!1;if(c(f,h)||d(f,h))return!0;if(f.route.shouldRevalidate){let y=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((g=r[0])==null?void 0:g.params)||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function qU(t,e,{includeHydrateFallback:r}={}){return BU(t.map(n=>{let a=e.routes[n.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function BU(t){return[...new Set(t)]}function HU(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function VU(t,e){let r=new Set;return new Set(e),t.reduce((n,a)=>{let l=JSON.stringify(HU(a));return r.has(l)||(r.add(l),n.push({key:l,link:a})),n},[])}var YU=new Set([100,101,204,205]);function WU(t,e){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname="_root.data":e&&Kl(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function j4(){let t=x.useContext(bf);return pN(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function GU(){let t=x.useContext(py);return pN(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var xN=x.createContext(void 0);xN.displayName="FrameworkContext";function w4(){let t=x.useContext(xN);return pN(t,"You must render this element inside a <HydratedRouter> element"),t}function ZU(t,e){let r=x.useContext(xN),[n,a]=x.useState(!1),[l,c]=x.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:h,onMouseLeave:p,onTouchStart:g}=e,y=x.useRef(null);x.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let w=E=>{E.forEach(S=>{c(S.isIntersecting)})},_=new IntersectionObserver(w,{threshold:.5});return y.current&&_.observe(y.current),()=>{_.disconnect()}}},[t]),x.useEffect(()=>{if(n){let w=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(w)}}},[n]);let b=()=>{a(!0)},j=()=>{a(!1),c(!1)};return r?t!=="intent"?[l,y,{}]:[l,y,{onFocus:Lh(d,b),onBlur:Lh(f,j),onMouseEnter:Lh(h,b),onMouseLeave:Lh(p,j),onTouchStart:Lh(g,b)}]:[!1,y,{}]}function Lh(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function KU({page:t,...e}){let{router:r}=j4(),n=x.useMemo(()=>f4(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?x.createElement(QU,{page:t,matches:n,...e}):null}function XU(t){let{manifest:e,routeModules:r}=w4(),[n,a]=x.useState([]);return x.useEffect(()=>{let l=!1;return $U(t,e,r).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,r]),n}function QU({page:t,matches:e,...r}){let n=Ca(),{manifest:a,routeModules:l}=w4(),{basename:c}=j4(),{loaderData:d,matches:f}=GU(),h=x.useMemo(()=>GE(t,e,f,a,n,"data"),[t,e,f,a,n]),p=x.useMemo(()=>GE(t,e,f,a,n,"assets"),[t,e,f,a,n]),g=x.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let j=new Set,w=!1;if(e.forEach(E=>{var k;let S=a.routes[E.route.id];!S||!S.hasLoader||(!h.some(R=>R.route.id===E.route.id)&&E.route.id in d&&((k=l[E.route.id])!=null&&k.shouldRevalidate)||S.hasClientLoader?w=!0:j.add(E.route.id))}),j.size===0)return[];let _=WU(t,c);return w&&j.size>0&&_.searchParams.set("_routes",e.filter(E=>j.has(E.route.id)).map(E=>E.route.id).join(",")),[_.pathname+_.search]},[c,d,n,a,h,e,t,l]),y=x.useMemo(()=>qU(p,a),[p,a]),b=XU(p);return x.createElement(x.Fragment,null,g.map(j=>x.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...r})),y.map(j=>x.createElement("link",{key:j,rel:"modulepreload",href:j,...r})),b.map(({key:j,link:w})=>x.createElement("link",{key:j,...w})))}function JU(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var N4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{N4&&(window.__reactRouterVersion="7.5.2")}catch{}function eF({basename:t,children:e,window:r}){let n=x.useRef();n.current==null&&(n.current=UI({window:r,v5Compat:!0}));let a=n.current,[l,c]=x.useState({action:a.action,location:a.location}),d=x.useCallback(f=>{x.startTransition(()=>c(f))},[c]);return x.useLayoutEffect(()=>a.listen(d),[a,d]),x.createElement(CU,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:a})}var _4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ja=x.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:a,reloadDocument:l,replace:c,state:d,target:f,to:h,preventScrollReset:p,viewTransition:g,...y},b){let{basename:j}=x.useContext(Ti),w=typeof h=="string"&&_4.test(h),_,E=!1;if(typeof h=="string"&&w&&(_=h,N4))try{let P=new URL(window.location.href),X=h.startsWith("//")?new URL(P.protocol+h):new URL(h),A=Kl(X.pathname,j);X.origin===P.origin&&A!=null?h=A+X.search+X.hash:E=!0}catch{Qa(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let S=dU(h,{relative:a}),[k,R,L]=ZU(n,y),I=nF(h,{replace:c,state:d,target:f,preventScrollReset:p,relative:a,viewTransition:g});function T(P){e&&e(P),P.defaultPrevented||I(P)}let O=x.createElement("a",{...y,...L,href:_||S,onClick:E||l?e:T,ref:JU(b,R),target:f,"data-discover":!w&&r==="render"?"true":void 0});return k&&!w?x.createElement(x.Fragment,null,O,x.createElement(KU,{page:S})):O});ja.displayName="Link";var tF=x.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:a=!1,style:l,to:c,viewTransition:d,children:f,...h},p){let g=Km(c,{relative:h.relative}),y=Ca(),b=x.useContext(py),{navigator:j,basename:w}=x.useContext(Ti),_=b!=null&&cF(g)&&d===!0,E=j.encodeLocation?j.encodeLocation(g).pathname:g.pathname,S=y.pathname,k=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;r||(S=S.toLowerCase(),k=k?k.toLowerCase():null,E=E.toLowerCase()),k&&w&&(k=Kl(k,w)||k);const R=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let L=S===E||!a&&S.startsWith(E)&&S.charAt(R)==="/",I=k!=null&&(k===E||!a&&k.startsWith(E)&&k.charAt(E.length)==="/"),T={isActive:L,isPending:I,isTransitioning:_},O=L?e:void 0,P;typeof n=="function"?P=n(T):P=[n,L?"active":null,I?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let X=typeof l=="function"?l(T):l;return x.createElement(ja,{...h,"aria-current":O,className:P,ref:p,style:X,to:c,viewTransition:d},typeof f=="function"?f(T):f)});tF.displayName="NavLink";var sF=x.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:a,state:l,method:c=rg,action:d,onSubmit:f,relative:h,preventScrollReset:p,viewTransition:g,...y},b)=>{let j=lF(),w=oF(d,{relative:h}),_=c.toLowerCase()==="get"?"get":"post",E=typeof d=="string"&&_4.test(d),S=k=>{if(f&&f(k),k.defaultPrevented)return;k.preventDefault();let R=k.nativeEvent.submitter,L=(R==null?void 0:R.getAttribute("formmethod"))||c;j(R||k.currentTarget,{fetcherKey:e,method:L,navigate:r,replace:a,state:l,relative:h,preventScrollReset:p,viewTransition:g})};return x.createElement("form",{ref:b,method:_,action:w,onSubmit:n?f:S,...y,"data-discover":!E&&t==="render"?"true":void 0})});sF.displayName="Form";function rF(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function S4(t){let e=x.useContext(bf);return Js(e,rF(t)),e}function nF(t,{target:e,replace:r,state:n,preventScrollReset:a,relative:l,viewTransition:c}={}){let d=ht(),f=Ca(),h=Km(t,{relative:l});return x.useCallback(p=>{if(MU(p,e)){p.preventDefault();let g=r!==void 0?r:um(f)===um(h);d(t,{replace:g,state:n,preventScrollReset:a,relative:l,viewTransition:c})}},[f,d,h,r,n,e,t,a,l,c])}function E4(t){Qa(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=x.useRef(W0(t)),r=x.useRef(!1),n=Ca(),a=x.useMemo(()=>PU(n.search,r.current?null:e.current),[n.search]),l=ht(),c=x.useCallback((d,f)=>{const h=W0(typeof d=="function"?d(a):d);r.current=!0,l("?"+h,f)},[l,a]);return[a,c]}var aF=0,iF=()=>`__${String(++aF)}__`;function lF(){let{router:t}=S4("useSubmit"),{basename:e}=x.useContext(Ti),r=NU();return x.useCallback(async(n,a={})=>{let{action:l,method:c,encType:d,formData:f,body:h}=UU(n,e);if(a.navigate===!1){let p=a.fetcherKey||iF();await t.fetch(p,r,a.action||l,{preventScrollReset:a.preventScrollReset,formData:f,body:h,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await t.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:f,body:h,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,r])}function oF(t,{relative:e}={}){let{basename:r}=x.useContext(Ti),n=x.useContext(Ja);Js(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),l={...Km(t||".",{relative:e})},c=Ca();if(t==null){l.search=c.search;let d=new URLSearchParams(l.search),f=d.getAll("index");if(f.some(p=>p==="")){d.delete("index"),f.filter(g=>g).forEach(g=>d.append("index",g));let p=d.toString();l.search=p?`?${p}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(l.pathname=l.pathname==="/"?r:Wl([r,l.pathname])),um(l)}function cF(t,e={}){let r=x.useContext(x4);Js(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=S4("useViewTransitionState"),a=Km(t,{relative:e.relative});if(!r.isTransitioning)return!1;let l=Kl(r.currentLocation.pathname,n)||r.currentLocation.pathname,c=Kl(r.nextLocation.pathname,n)||r.nextLocation.pathname;return kg(a.pathname,c)!=null||kg(a.pathname,l)!=null}new TextEncoder;[...YU];var Xm=a4();const k4=bc(Xm);function He(t,e,{checkForDefaultPrevented:r=!0}={}){return function(a){if(t==null||t(a),r===!1||!a.defaultPrevented)return e==null?void 0:e(a)}}function ZE(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Xl(...t){return e=>{let r=!1;const n=t.map(a=>{const l=ZE(a,e);return!r&&typeof l=="function"&&(r=!0),l});if(r)return()=>{for(let a=0;a<n.length;a++){const l=n[a];typeof l=="function"?l():ZE(t[a],null)}}}}function Rt(...t){return x.useCallback(Xl(...t),t)}function dF(t,e){const r=x.createContext(e),n=l=>{const{children:c,...d}=l,f=x.useMemo(()=>d,Object.values(d));return s.jsx(r.Provider,{value:f,children:c})};n.displayName=t+"Provider";function a(l){const c=x.useContext(r);if(c)return c;if(e!==void 0)return e;throw new Error(`\`${l}\` must be used within \`${t}\``)}return[n,a]}function tn(t,e=[]){let r=[];function n(l,c){const d=x.createContext(c),f=r.length;r=[...r,c];const h=g=>{var E;const{scope:y,children:b,...j}=g,w=((E=y==null?void 0:y[t])==null?void 0:E[f])||d,_=x.useMemo(()=>j,Object.values(j));return s.jsx(w.Provider,{value:_,children:b})};h.displayName=l+"Provider";function p(g,y){var w;const b=((w=y==null?void 0:y[t])==null?void 0:w[f])||d,j=x.useContext(b);if(j)return j;if(c!==void 0)return c;throw new Error(`\`${g}\` must be used within \`${l}\``)}return[h,p]}const a=()=>{const l=r.map(c=>x.createContext(c));return function(d){const f=(d==null?void 0:d[t])||l;return x.useMemo(()=>({[`__scope${t}`]:{...d,[t]:f}}),[d,f])}};return a.scopeName=t,[n,uF(a,...e)]}function uF(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(l){const c=n.reduce((d,{useScope:f,scopeName:h})=>{const g=f(l)[`__scope${h}`];return{...d,...g}},{});return x.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return r.scopeName=e.scopeName,r}function oc(t){const e=fF(t),r=x.forwardRef((n,a)=>{const{children:l,...c}=n,d=x.Children.toArray(l),f=d.find(mF);if(f){const h=f.props.children,p=d.map(g=>g===f?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:g);return s.jsx(e,{...c,ref:a,children:x.isValidElement(h)?x.cloneElement(h,void 0,p):null})}return s.jsx(e,{...c,ref:a,children:l})});return r.displayName=`${t}.Slot`,r}var gN=oc("Slot");function fF(t){const e=x.forwardRef((r,n)=>{const{children:a,...l}=r;if(x.isValidElement(a)){const c=xF(a),d=pF(l,a.props);return a.type!==x.Fragment&&(d.ref=n?Xl(n,c):c),x.cloneElement(a,d)}return x.Children.count(a)>1?x.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var C4=Symbol("radix.slottable");function yN(t){const e=({children:r})=>s.jsx(s.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=C4,e}var hF=yN("Slottable");function mF(t){return x.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===C4}function pF(t,e){const r={...e};for(const n in e){const a=t[n],l=e[n];/^on[A-Z]/.test(n)?a&&l?r[n]=(...d)=>{l(...d),a(...d)}:a&&(r[n]=a):n==="style"?r[n]={...a,...l}:n==="className"&&(r[n]=[a,l].filter(Boolean).join(" "))}return{...t,...r}}function xF(t){var n,a;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var gF=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Xe=gF.reduce((t,e)=>{const r=oc(`Primitive.${e}`),n=x.forwardRef((a,l)=>{const{asChild:c,...d}=a,f=c?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(f,{...d,ref:l})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function A4(t,e){t&&Xm.flushSync(()=>t.dispatchEvent(e))}function Jr(t){const e=x.useRef(t);return x.useEffect(()=>{e.current=t}),x.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function yF(t,e=globalThis==null?void 0:globalThis.document){const r=Jr(t);x.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var vF="DismissableLayer",G0="dismissableLayer.update",bF="dismissableLayer.pointerDownOutside",jF="dismissableLayer.focusOutside",KE,T4=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),wf=x.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:l,onInteractOutside:c,onDismiss:d,...f}=t,h=x.useContext(T4),[p,g]=x.useState(null),y=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,b]=x.useState({}),j=Rt(e,T=>g(T)),w=Array.from(h.layers),[_]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),E=w.indexOf(_),S=p?w.indexOf(p):-1,k=h.layersWithOutsidePointerEventsDisabled.size>0,R=S>=E,L=_F(T=>{const O=T.target,P=[...h.branches].some(X=>X.contains(O));!R||P||(a==null||a(T),c==null||c(T),T.defaultPrevented||d==null||d())},y),I=SF(T=>{const O=T.target;[...h.branches].some(X=>X.contains(O))||(l==null||l(T),c==null||c(T),T.defaultPrevented||d==null||d())},y);return yF(T=>{S===h.layers.size-1&&(n==null||n(T),!T.defaultPrevented&&d&&(T.preventDefault(),d()))},y),x.useEffect(()=>{if(p)return r&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(KE=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(p)),h.layers.add(p),XE(),()=>{r&&h.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=KE)}},[p,y,r,h]),x.useEffect(()=>()=>{p&&(h.layers.delete(p),h.layersWithOutsidePointerEventsDisabled.delete(p),XE())},[p,h]),x.useEffect(()=>{const T=()=>b({});return document.addEventListener(G0,T),()=>document.removeEventListener(G0,T)},[]),s.jsx(Xe.div,{...f,ref:j,style:{pointerEvents:k?R?"auto":"none":void 0,...t.style},onFocusCapture:He(t.onFocusCapture,I.onFocusCapture),onBlurCapture:He(t.onBlurCapture,I.onBlurCapture),onPointerDownCapture:He(t.onPointerDownCapture,L.onPointerDownCapture)})});wf.displayName=vF;var wF="DismissableLayerBranch",NF=x.forwardRef((t,e)=>{const r=x.useContext(T4),n=x.useRef(null),a=Rt(e,n);return x.useEffect(()=>{const l=n.current;if(l)return r.branches.add(l),()=>{r.branches.delete(l)}},[r.branches]),s.jsx(Xe.div,{...t,ref:a})});NF.displayName=wF;function _F(t,e=globalThis==null?void 0:globalThis.document){const r=Jr(t),n=x.useRef(!1),a=x.useRef(()=>{});return x.useEffect(()=>{const l=d=>{if(d.target&&!n.current){let f=function(){R4(bF,r,h,{discrete:!0})};const h={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",a.current),a.current=f,e.addEventListener("click",a.current,{once:!0})):f()}else e.removeEventListener("click",a.current);n.current=!1},c=window.setTimeout(()=>{e.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(c),e.removeEventListener("pointerdown",l),e.removeEventListener("click",a.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function SF(t,e=globalThis==null?void 0:globalThis.document){const r=Jr(t),n=x.useRef(!1);return x.useEffect(()=>{const a=l=>{l.target&&!n.current&&R4(jF,r,{originalEvent:l},{discrete:!1})};return e.addEventListener("focusin",a),()=>e.removeEventListener("focusin",a)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function XE(){const t=new CustomEvent(G0);document.dispatchEvent(t)}function R4(t,e,r,{discrete:n}){const a=r.originalEvent.target,l=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&a.addEventListener(t,e,{once:!0}),n?A4(a,l):a.dispatchEvent(l)}var Er=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},EF=n4[" useId ".trim().toString()]||(()=>{}),kF=0;function Mr(t){const[e,r]=x.useState(EF());return Er(()=>{r(n=>n??String(kF++))},[t]),e?`radix-${e}`:""}const CF=["top","right","bottom","left"],cc=Math.min,ya=Math.max,Cg=Math.round,Ex=Math.floor,rl=t=>({x:t,y:t}),AF={left:"right",right:"left",bottom:"top",top:"bottom"},TF={start:"end",end:"start"};function Z0(t,e,r){return ya(t,cc(e,r))}function Ql(t,e){return typeof t=="function"?t(e):t}function Jl(t){return t.split("-")[0]}function Nf(t){return t.split("-")[1]}function vN(t){return t==="x"?"y":"x"}function bN(t){return t==="y"?"height":"width"}function dc(t){return["top","bottom"].includes(Jl(t))?"y":"x"}function jN(t){return vN(dc(t))}function RF(t,e,r){r===void 0&&(r=!1);const n=Nf(t),a=jN(t),l=bN(a);let c=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(c=Ag(c)),[c,Ag(c)]}function DF(t){const e=Ag(t);return[K0(t),e,K0(e)]}function K0(t){return t.replace(/start|end/g,e=>TF[e])}function OF(t,e,r){const n=["left","right"],a=["right","left"],l=["top","bottom"],c=["bottom","top"];switch(t){case"top":case"bottom":return r?e?a:n:e?n:a;case"left":case"right":return e?l:c;default:return[]}}function MF(t,e,r,n){const a=Nf(t);let l=OF(Jl(t),r==="start",n);return a&&(l=l.map(c=>c+"-"+a),e&&(l=l.concat(l.map(K0)))),l}function Ag(t){return t.replace(/left|right|bottom|top/g,e=>AF[e])}function PF(t){return{top:0,right:0,bottom:0,left:0,...t}}function D4(t){return typeof t!="number"?PF(t):{top:t,right:t,bottom:t,left:t}}function Tg(t){const{x:e,y:r,width:n,height:a}=t;return{width:n,height:a,top:r,left:e,right:e+n,bottom:r+a,x:e,y:r}}function QE(t,e,r){let{reference:n,floating:a}=t;const l=dc(e),c=jN(e),d=bN(c),f=Jl(e),h=l==="y",p=n.x+n.width/2-a.width/2,g=n.y+n.height/2-a.height/2,y=n[d]/2-a[d]/2;let b;switch(f){case"top":b={x:p,y:n.y-a.height};break;case"bottom":b={x:p,y:n.y+n.height};break;case"right":b={x:n.x+n.width,y:g};break;case"left":b={x:n.x-a.width,y:g};break;default:b={x:n.x,y:n.y}}switch(Nf(e)){case"start":b[c]-=y*(r&&h?-1:1);break;case"end":b[c]+=y*(r&&h?-1:1);break}return b}const LF=async(t,e,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:l=[],platform:c}=r,d=l.filter(Boolean),f=await(c.isRTL==null?void 0:c.isRTL(e));let h=await c.getElementRects({reference:t,floating:e,strategy:a}),{x:p,y:g}=QE(h,n,f),y=n,b={},j=0;for(let w=0;w<d.length;w++){const{name:_,fn:E}=d[w],{x:S,y:k,data:R,reset:L}=await E({x:p,y:g,initialPlacement:n,placement:y,strategy:a,middlewareData:b,rects:h,platform:c,elements:{reference:t,floating:e}});p=S??p,g=k??g,b={...b,[_]:{...b[_],...R}},L&&j<=50&&(j++,typeof L=="object"&&(L.placement&&(y=L.placement),L.rects&&(h=L.rects===!0?await c.getElementRects({reference:t,floating:e,strategy:a}):L.rects),{x:p,y:g}=QE(h,y,f)),w=-1)}return{x:p,y:g,placement:y,strategy:a,middlewareData:b}};async function fm(t,e){var r;e===void 0&&(e={});const{x:n,y:a,platform:l,rects:c,elements:d,strategy:f}=t,{boundary:h="clippingAncestors",rootBoundary:p="viewport",elementContext:g="floating",altBoundary:y=!1,padding:b=0}=Ql(e,t),j=D4(b),_=d[y?g==="floating"?"reference":"floating":g],E=Tg(await l.getClippingRect({element:(r=await(l.isElement==null?void 0:l.isElement(_)))==null||r?_:_.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(d.floating)),boundary:h,rootBoundary:p,strategy:f})),S=g==="floating"?{x:n,y:a,width:c.floating.width,height:c.floating.height}:c.reference,k=await(l.getOffsetParent==null?void 0:l.getOffsetParent(d.floating)),R=await(l.isElement==null?void 0:l.isElement(k))?await(l.getScale==null?void 0:l.getScale(k))||{x:1,y:1}:{x:1,y:1},L=Tg(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:S,offsetParent:k,strategy:f}):S);return{top:(E.top-L.top+j.top)/R.y,bottom:(L.bottom-E.bottom+j.bottom)/R.y,left:(E.left-L.left+j.left)/R.x,right:(L.right-E.right+j.right)/R.x}}const IF=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:a,rects:l,platform:c,elements:d,middlewareData:f}=e,{element:h,padding:p=0}=Ql(t,e)||{};if(h==null)return{};const g=D4(p),y={x:r,y:n},b=jN(a),j=bN(b),w=await c.getDimensions(h),_=b==="y",E=_?"top":"left",S=_?"bottom":"right",k=_?"clientHeight":"clientWidth",R=l.reference[j]+l.reference[b]-y[b]-l.floating[j],L=y[b]-l.reference[b],I=await(c.getOffsetParent==null?void 0:c.getOffsetParent(h));let T=I?I[k]:0;(!T||!await(c.isElement==null?void 0:c.isElement(I)))&&(T=d.floating[k]||l.floating[j]);const O=R/2-L/2,P=T/2-w[j]/2-1,X=cc(g[E],P),A=cc(g[S],P),z=X,$=T-w[j]-A,J=T/2-w[j]/2+O,B=Z0(z,J,$),M=!f.arrow&&Nf(a)!=null&&J!==B&&l.reference[j]/2-(J<z?X:A)-w[j]/2<0,V=M?J<z?J-z:J-$:0;return{[b]:y[b]+V,data:{[b]:B,centerOffset:J-B-V,...M&&{alignmentOffset:V}},reset:M}}}),UF=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:a,middlewareData:l,rects:c,initialPlacement:d,platform:f,elements:h}=e,{mainAxis:p=!0,crossAxis:g=!0,fallbackPlacements:y,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:j="none",flipAlignment:w=!0,..._}=Ql(t,e);if((r=l.arrow)!=null&&r.alignmentOffset)return{};const E=Jl(a),S=dc(d),k=Jl(d)===d,R=await(f.isRTL==null?void 0:f.isRTL(h.floating)),L=y||(k||!w?[Ag(d)]:DF(d)),I=j!=="none";!y&&I&&L.push(...MF(d,w,j,R));const T=[d,...L],O=await fm(e,_),P=[];let X=((n=l.flip)==null?void 0:n.overflows)||[];if(p&&P.push(O[E]),g){const J=RF(a,c,R);P.push(O[J[0]],O[J[1]])}if(X=[...X,{placement:a,overflows:P}],!P.every(J=>J<=0)){var A,z;const J=(((A=l.flip)==null?void 0:A.index)||0)+1,B=T[J];if(B)return{data:{index:J,overflows:X},reset:{placement:B}};let M=(z=X.filter(V=>V.overflows[0]<=0).sort((V,Q)=>V.overflows[1]-Q.overflows[1])[0])==null?void 0:z.placement;if(!M)switch(b){case"bestFit":{var $;const V=($=X.filter(Q=>{if(I){const le=dc(Q.placement);return le===S||le==="y"}return!0}).map(Q=>[Q.placement,Q.overflows.filter(le=>le>0).reduce((le,H)=>le+H,0)]).sort((Q,le)=>Q[1]-le[1])[0])==null?void 0:$[0];V&&(M=V);break}case"initialPlacement":M=d;break}if(a!==M)return{reset:{placement:M}}}return{}}}};function JE(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function ek(t){return CF.some(e=>t[e]>=0)}const FF=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...a}=Ql(t,e);switch(n){case"referenceHidden":{const l=await fm(e,{...a,elementContext:"reference"}),c=JE(l,r.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:ek(c)}}}case"escaped":{const l=await fm(e,{...a,altBoundary:!0}),c=JE(l,r.floating);return{data:{escapedOffsets:c,escaped:ek(c)}}}default:return{}}}}};async function zF(t,e){const{placement:r,platform:n,elements:a}=t,l=await(n.isRTL==null?void 0:n.isRTL(a.floating)),c=Jl(r),d=Nf(r),f=dc(r)==="y",h=["left","top"].includes(c)?-1:1,p=l&&f?-1:1,g=Ql(e,t);let{mainAxis:y,crossAxis:b,alignmentAxis:j}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return d&&typeof j=="number"&&(b=d==="end"?j*-1:j),f?{x:b*p,y:y*h}:{x:y*h,y:b*p}}const $F=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:a,y:l,placement:c,middlewareData:d}=e,f=await zF(e,t);return c===((r=d.offset)==null?void 0:r.placement)&&(n=d.arrow)!=null&&n.alignmentOffset?{}:{x:a+f.x,y:l+f.y,data:{...f,placement:c}}}}},qF=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:a}=e,{mainAxis:l=!0,crossAxis:c=!1,limiter:d={fn:_=>{let{x:E,y:S}=_;return{x:E,y:S}}},...f}=Ql(t,e),h={x:r,y:n},p=await fm(e,f),g=dc(Jl(a)),y=vN(g);let b=h[y],j=h[g];if(l){const _=y==="y"?"top":"left",E=y==="y"?"bottom":"right",S=b+p[_],k=b-p[E];b=Z0(S,b,k)}if(c){const _=g==="y"?"top":"left",E=g==="y"?"bottom":"right",S=j+p[_],k=j-p[E];j=Z0(S,j,k)}const w=d.fn({...e,[y]:b,[g]:j});return{...w,data:{x:w.x-r,y:w.y-n,enabled:{[y]:l,[g]:c}}}}}},BF=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:a,rects:l,middlewareData:c}=e,{offset:d=0,mainAxis:f=!0,crossAxis:h=!0}=Ql(t,e),p={x:r,y:n},g=dc(a),y=vN(g);let b=p[y],j=p[g];const w=Ql(d,e),_=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(f){const k=y==="y"?"height":"width",R=l.reference[y]-l.floating[k]+_.mainAxis,L=l.reference[y]+l.reference[k]-_.mainAxis;b<R?b=R:b>L&&(b=L)}if(h){var E,S;const k=y==="y"?"width":"height",R=["top","left"].includes(Jl(a)),L=l.reference[g]-l.floating[k]+(R&&((E=c.offset)==null?void 0:E[g])||0)+(R?0:_.crossAxis),I=l.reference[g]+l.reference[k]+(R?0:((S=c.offset)==null?void 0:S[g])||0)-(R?_.crossAxis:0);j<L?j=L:j>I&&(j=I)}return{[y]:b,[g]:j}}}},HF=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:a,rects:l,platform:c,elements:d}=e,{apply:f=()=>{},...h}=Ql(t,e),p=await fm(e,h),g=Jl(a),y=Nf(a),b=dc(a)==="y",{width:j,height:w}=l.floating;let _,E;g==="top"||g==="bottom"?(_=g,E=y===(await(c.isRTL==null?void 0:c.isRTL(d.floating))?"start":"end")?"left":"right"):(E=g,_=y==="end"?"top":"bottom");const S=w-p.top-p.bottom,k=j-p.left-p.right,R=cc(w-p[_],S),L=cc(j-p[E],k),I=!e.middlewareData.shift;let T=R,O=L;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(O=k),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(T=S),I&&!y){const X=ya(p.left,0),A=ya(p.right,0),z=ya(p.top,0),$=ya(p.bottom,0);b?O=j-2*(X!==0||A!==0?X+A:ya(p.left,p.right)):T=w-2*(z!==0||$!==0?z+$:ya(p.top,p.bottom))}await f({...e,availableWidth:O,availableHeight:T});const P=await c.getDimensions(d.floating);return j!==P.width||w!==P.height?{reset:{rects:!0}}:{}}}};function gy(){return typeof window<"u"}function _f(t){return O4(t)?(t.nodeName||"").toLowerCase():"#document"}function wa(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ml(t){var e;return(e=(O4(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function O4(t){return gy()?t instanceof Node||t instanceof wa(t).Node:!1}function Ei(t){return gy()?t instanceof Element||t instanceof wa(t).Element:!1}function ll(t){return gy()?t instanceof HTMLElement||t instanceof wa(t).HTMLElement:!1}function tk(t){return!gy()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof wa(t).ShadowRoot}function Qm(t){const{overflow:e,overflowX:r,overflowY:n,display:a}=ki(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(a)}function VF(t){return["table","td","th"].includes(_f(t))}function yy(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function wN(t){const e=NN(),r=Ei(t)?ki(t):t;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function YF(t){let e=uc(t);for(;ll(e)&&!sf(e);){if(wN(e))return e;if(yy(e))return null;e=uc(e)}return null}function NN(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function sf(t){return["html","body","#document"].includes(_f(t))}function ki(t){return wa(t).getComputedStyle(t)}function vy(t){return Ei(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function uc(t){if(_f(t)==="html")return t;const e=t.assignedSlot||t.parentNode||tk(t)&&t.host||ml(t);return tk(e)?e.host:e}function M4(t){const e=uc(t);return sf(e)?t.ownerDocument?t.ownerDocument.body:t.body:ll(e)&&Qm(e)?e:M4(e)}function hm(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const a=M4(t),l=a===((n=t.ownerDocument)==null?void 0:n.body),c=wa(a);if(l){const d=X0(c);return e.concat(c,c.visualViewport||[],Qm(a)?a:[],d&&r?hm(d):[])}return e.concat(a,hm(a,[],r))}function X0(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function P4(t){const e=ki(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const a=ll(t),l=a?t.offsetWidth:r,c=a?t.offsetHeight:n,d=Cg(r)!==l||Cg(n)!==c;return d&&(r=l,n=c),{width:r,height:n,$:d}}function _N(t){return Ei(t)?t:t.contextElement}function Wu(t){const e=_N(t);if(!ll(e))return rl(1);const r=e.getBoundingClientRect(),{width:n,height:a,$:l}=P4(e);let c=(l?Cg(r.width):r.width)/n,d=(l?Cg(r.height):r.height)/a;return(!c||!Number.isFinite(c))&&(c=1),(!d||!Number.isFinite(d))&&(d=1),{x:c,y:d}}const WF=rl(0);function L4(t){const e=wa(t);return!NN()||!e.visualViewport?WF:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function GF(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==wa(t)?!1:e}function ud(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const a=t.getBoundingClientRect(),l=_N(t);let c=rl(1);e&&(n?Ei(n)&&(c=Wu(n)):c=Wu(t));const d=GF(l,r,n)?L4(l):rl(0);let f=(a.left+d.x)/c.x,h=(a.top+d.y)/c.y,p=a.width/c.x,g=a.height/c.y;if(l){const y=wa(l),b=n&&Ei(n)?wa(n):n;let j=y,w=X0(j);for(;w&&n&&b!==j;){const _=Wu(w),E=w.getBoundingClientRect(),S=ki(w),k=E.left+(w.clientLeft+parseFloat(S.paddingLeft))*_.x,R=E.top+(w.clientTop+parseFloat(S.paddingTop))*_.y;f*=_.x,h*=_.y,p*=_.x,g*=_.y,f+=k,h+=R,j=wa(w),w=X0(j)}}return Tg({width:p,height:g,x:f,y:h})}function SN(t,e){const r=vy(t).scrollLeft;return e?e.left+r:ud(ml(t)).left+r}function I4(t,e,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),a=n.left+e.scrollLeft-(r?0:SN(t,n)),l=n.top+e.scrollTop;return{x:a,y:l}}function ZF(t){let{elements:e,rect:r,offsetParent:n,strategy:a}=t;const l=a==="fixed",c=ml(n),d=e?yy(e.floating):!1;if(n===c||d&&l)return r;let f={scrollLeft:0,scrollTop:0},h=rl(1);const p=rl(0),g=ll(n);if((g||!g&&!l)&&((_f(n)!=="body"||Qm(c))&&(f=vy(n)),ll(n))){const b=ud(n);h=Wu(n),p.x=b.x+n.clientLeft,p.y=b.y+n.clientTop}const y=c&&!g&&!l?I4(c,f,!0):rl(0);return{width:r.width*h.x,height:r.height*h.y,x:r.x*h.x-f.scrollLeft*h.x+p.x+y.x,y:r.y*h.y-f.scrollTop*h.y+p.y+y.y}}function KF(t){return Array.from(t.getClientRects())}function XF(t){const e=ml(t),r=vy(t),n=t.ownerDocument.body,a=ya(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),l=ya(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let c=-r.scrollLeft+SN(t);const d=-r.scrollTop;return ki(n).direction==="rtl"&&(c+=ya(e.clientWidth,n.clientWidth)-a),{width:a,height:l,x:c,y:d}}function QF(t,e){const r=wa(t),n=ml(t),a=r.visualViewport;let l=n.clientWidth,c=n.clientHeight,d=0,f=0;if(a){l=a.width,c=a.height;const h=NN();(!h||h&&e==="fixed")&&(d=a.offsetLeft,f=a.offsetTop)}return{width:l,height:c,x:d,y:f}}function JF(t,e){const r=ud(t,!0,e==="fixed"),n=r.top+t.clientTop,a=r.left+t.clientLeft,l=ll(t)?Wu(t):rl(1),c=t.clientWidth*l.x,d=t.clientHeight*l.y,f=a*l.x,h=n*l.y;return{width:c,height:d,x:f,y:h}}function sk(t,e,r){let n;if(e==="viewport")n=QF(t,r);else if(e==="document")n=XF(ml(t));else if(Ei(e))n=JF(e,r);else{const a=L4(t);n={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return Tg(n)}function U4(t,e){const r=uc(t);return r===e||!Ei(r)||sf(r)?!1:ki(r).position==="fixed"||U4(r,e)}function e8(t,e){const r=e.get(t);if(r)return r;let n=hm(t,[],!1).filter(d=>Ei(d)&&_f(d)!=="body"),a=null;const l=ki(t).position==="fixed";let c=l?uc(t):t;for(;Ei(c)&&!sf(c);){const d=ki(c),f=wN(c);!f&&d.position==="fixed"&&(a=null),(l?!f&&!a:!f&&d.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||Qm(c)&&!f&&U4(t,c))?n=n.filter(p=>p!==c):a=d,c=uc(c)}return e.set(t,n),n}function t8(t){let{element:e,boundary:r,rootBoundary:n,strategy:a}=t;const c=[...r==="clippingAncestors"?yy(e)?[]:e8(e,this._c):[].concat(r),n],d=c[0],f=c.reduce((h,p)=>{const g=sk(e,p,a);return h.top=ya(g.top,h.top),h.right=cc(g.right,h.right),h.bottom=cc(g.bottom,h.bottom),h.left=ya(g.left,h.left),h},sk(e,d,a));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function s8(t){const{width:e,height:r}=P4(t);return{width:e,height:r}}function r8(t,e,r){const n=ll(e),a=ml(e),l=r==="fixed",c=ud(t,!0,l,e);let d={scrollLeft:0,scrollTop:0};const f=rl(0);if(n||!n&&!l)if((_f(e)!=="body"||Qm(a))&&(d=vy(e)),n){const y=ud(e,!0,l,e);f.x=y.x+e.clientLeft,f.y=y.y+e.clientTop}else a&&(f.x=SN(a));const h=a&&!n&&!l?I4(a,d):rl(0),p=c.left+d.scrollLeft-f.x-h.x,g=c.top+d.scrollTop-f.y-h.y;return{x:p,y:g,width:c.width,height:c.height}}function Ij(t){return ki(t).position==="static"}function rk(t,e){if(!ll(t)||ki(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return ml(t)===r&&(r=r.ownerDocument.body),r}function F4(t,e){const r=wa(t);if(yy(t))return r;if(!ll(t)){let a=uc(t);for(;a&&!sf(a);){if(Ei(a)&&!Ij(a))return a;a=uc(a)}return r}let n=rk(t,e);for(;n&&VF(n)&&Ij(n);)n=rk(n,e);return n&&sf(n)&&Ij(n)&&!wN(n)?r:n||YF(t)||r}const n8=async function(t){const e=this.getOffsetParent||F4,r=this.getDimensions,n=await r(t.floating);return{reference:r8(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function a8(t){return ki(t).direction==="rtl"}const i8={convertOffsetParentRelativeRectToViewportRelativeRect:ZF,getDocumentElement:ml,getClippingRect:t8,getOffsetParent:F4,getElementRects:n8,getClientRects:KF,getDimensions:s8,getScale:Wu,isElement:Ei,isRTL:a8};function z4(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function l8(t,e){let r=null,n;const a=ml(t);function l(){var d;clearTimeout(n),(d=r)==null||d.disconnect(),r=null}function c(d,f){d===void 0&&(d=!1),f===void 0&&(f=1),l();const h=t.getBoundingClientRect(),{left:p,top:g,width:y,height:b}=h;if(d||e(),!y||!b)return;const j=Ex(g),w=Ex(a.clientWidth-(p+y)),_=Ex(a.clientHeight-(g+b)),E=Ex(p),k={rootMargin:-j+"px "+-w+"px "+-_+"px "+-E+"px",threshold:ya(0,cc(1,f))||1};let R=!0;function L(I){const T=I[0].intersectionRatio;if(T!==f){if(!R)return c();T?c(!1,T):n=setTimeout(()=>{c(!1,1e-7)},1e3)}T===1&&!z4(h,t.getBoundingClientRect())&&c(),R=!1}try{r=new IntersectionObserver(L,{...k,root:a.ownerDocument})}catch{r=new IntersectionObserver(L,k)}r.observe(t)}return c(!0),l}function o8(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:l=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:f=!1}=n,h=_N(t),p=a||l?[...h?hm(h):[],...hm(e)]:[];p.forEach(E=>{a&&E.addEventListener("scroll",r,{passive:!0}),l&&E.addEventListener("resize",r)});const g=h&&d?l8(h,r):null;let y=-1,b=null;c&&(b=new ResizeObserver(E=>{let[S]=E;S&&S.target===h&&b&&(b.unobserve(e),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var k;(k=b)==null||k.observe(e)})),r()}),h&&!f&&b.observe(h),b.observe(e));let j,w=f?ud(t):null;f&&_();function _(){const E=ud(t);w&&!z4(w,E)&&r(),w=E,j=requestAnimationFrame(_)}return r(),()=>{var E;p.forEach(S=>{a&&S.removeEventListener("scroll",r),l&&S.removeEventListener("resize",r)}),g==null||g(),(E=b)==null||E.disconnect(),b=null,f&&cancelAnimationFrame(j)}}const c8=$F,d8=qF,u8=UF,f8=HF,h8=FF,nk=IF,m8=BF,p8=(t,e,r)=>{const n=new Map,a={platform:i8,...r},l={...a.platform,_c:n};return LF(t,e,{...a,platform:l})};var ag=typeof document<"u"?x.useLayoutEffect:x.useEffect;function Rg(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,a;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!Rg(t[n],e[n]))return!1;return!0}if(a=Object.keys(t),r=a.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,a[n]))return!1;for(n=r;n--!==0;){const l=a[n];if(!(l==="_owner"&&t.$$typeof)&&!Rg(t[l],e[l]))return!1}return!0}return t!==t&&e!==e}function $4(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function ak(t,e){const r=$4(t);return Math.round(e*r)/r}function Uj(t){const e=x.useRef(t);return ag(()=>{e.current=t}),e}function x8(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:l,floating:c}={},transform:d=!0,whileElementsMounted:f,open:h}=t,[p,g]=x.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[y,b]=x.useState(n);Rg(y,n)||b(n);const[j,w]=x.useState(null),[_,E]=x.useState(null),S=x.useCallback(Q=>{Q!==I.current&&(I.current=Q,w(Q))},[]),k=x.useCallback(Q=>{Q!==T.current&&(T.current=Q,E(Q))},[]),R=l||j,L=c||_,I=x.useRef(null),T=x.useRef(null),O=x.useRef(p),P=f!=null,X=Uj(f),A=Uj(a),z=Uj(h),$=x.useCallback(()=>{if(!I.current||!T.current)return;const Q={placement:e,strategy:r,middleware:y};A.current&&(Q.platform=A.current),p8(I.current,T.current,Q).then(le=>{const H={...le,isPositioned:z.current!==!1};J.current&&!Rg(O.current,H)&&(O.current=H,Xm.flushSync(()=>{g(H)}))})},[y,e,r,A,z]);ag(()=>{h===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,g(Q=>({...Q,isPositioned:!1})))},[h]);const J=x.useRef(!1);ag(()=>(J.current=!0,()=>{J.current=!1}),[]),ag(()=>{if(R&&(I.current=R),L&&(T.current=L),R&&L){if(X.current)return X.current(R,L,$);$()}},[R,L,$,X,P]);const B=x.useMemo(()=>({reference:I,floating:T,setReference:S,setFloating:k}),[S,k]),M=x.useMemo(()=>({reference:R,floating:L}),[R,L]),V=x.useMemo(()=>{const Q={position:r,left:0,top:0};if(!M.floating)return Q;const le=ak(M.floating,p.x),H=ak(M.floating,p.y);return d?{...Q,transform:"translate("+le+"px, "+H+"px)",...$4(M.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:le,top:H}},[r,d,M.floating,p.x,p.y]);return x.useMemo(()=>({...p,update:$,refs:B,elements:M,floatingStyles:V}),[p,$,B,M,V])}const g8=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:a}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?nk({element:n.current,padding:a}).fn(r):{}:n?nk({element:n,padding:a}).fn(r):{}}}},y8=(t,e)=>({...c8(t),options:[t,e]}),v8=(t,e)=>({...d8(t),options:[t,e]}),b8=(t,e)=>({...m8(t),options:[t,e]}),j8=(t,e)=>({...u8(t),options:[t,e]}),w8=(t,e)=>({...f8(t),options:[t,e]}),N8=(t,e)=>({...h8(t),options:[t,e]}),_8=(t,e)=>({...g8(t),options:[t,e]});var S8="Arrow",q4=x.forwardRef((t,e)=>{const{children:r,width:n=10,height:a=5,...l}=t;return s.jsx(Xe.svg,{...l,ref:e,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});q4.displayName=S8;var E8=q4;function EN(t){const[e,r]=x.useState(void 0);return Er(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const l=a[0];let c,d;if("borderBoxSize"in l){const f=l.borderBoxSize,h=Array.isArray(f)?f[0]:f;c=h.inlineSize,d=h.blockSize}else c=t.offsetWidth,d=t.offsetHeight;r({width:c,height:d})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var kN="Popper",[B4,jc]=tn(kN),[k8,H4]=B4(kN),V4=t=>{const{__scopePopper:e,children:r}=t,[n,a]=x.useState(null);return s.jsx(k8,{scope:e,anchor:n,onAnchorChange:a,children:r})};V4.displayName=kN;var Y4="PopperAnchor",W4=x.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...a}=t,l=H4(Y4,r),c=x.useRef(null),d=Rt(e,c);return x.useEffect(()=>{l.onAnchorChange((n==null?void 0:n.current)||c.current)}),n?null:s.jsx(Xe.div,{...a,ref:d})});W4.displayName=Y4;var CN="PopperContent",[C8,A8]=B4(CN),G4=x.forwardRef((t,e)=>{var ne,me,ie,Ee,Oe,fe;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:l="center",alignOffset:c=0,arrowPadding:d=0,avoidCollisions:f=!0,collisionBoundary:h=[],collisionPadding:p=0,sticky:g="partial",hideWhenDetached:y=!1,updatePositionStrategy:b="optimized",onPlaced:j,...w}=t,_=H4(CN,r),[E,S]=x.useState(null),k=Rt(e,Ce=>S(Ce)),[R,L]=x.useState(null),I=EN(R),T=(I==null?void 0:I.width)??0,O=(I==null?void 0:I.height)??0,P=n+(l!=="center"?"-"+l:""),X=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},A=Array.isArray(h)?h:[h],z=A.length>0,$={padding:X,boundary:A.filter(R8),altBoundary:z},{refs:J,floatingStyles:B,placement:M,isPositioned:V,middlewareData:Q}=x8({strategy:"fixed",placement:P,whileElementsMounted:(...Ce)=>o8(...Ce,{animationFrame:b==="always"}),elements:{reference:_.anchor},middleware:[y8({mainAxis:a+O,alignmentAxis:c}),f&&v8({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?b8():void 0,...$}),f&&j8({...$}),w8({...$,apply:({elements:Ce,rects:pe,availableWidth:ze,availableHeight:lt})=>{const{width:Je,height:Zt}=pe.reference,jt=Ce.floating.style;jt.setProperty("--radix-popper-available-width",`${ze}px`),jt.setProperty("--radix-popper-available-height",`${lt}px`),jt.setProperty("--radix-popper-anchor-width",`${Je}px`),jt.setProperty("--radix-popper-anchor-height",`${Zt}px`)}}),R&&_8({element:R,padding:d}),D8({arrowWidth:T,arrowHeight:O}),y&&N8({strategy:"referenceHidden",...$})]}),[le,H]=X4(M),K=Jr(j);Er(()=>{V&&(K==null||K())},[V,K]);const Y=(ne=Q.arrow)==null?void 0:ne.x,se=(me=Q.arrow)==null?void 0:me.y,G=((ie=Q.arrow)==null?void 0:ie.centerOffset)!==0,[C,U]=x.useState();return Er(()=>{E&&U(window.getComputedStyle(E).zIndex)},[E]),s.jsx("div",{ref:J.setFloating,"data-radix-popper-content-wrapper":"",style:{...B,transform:V?B.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:C,"--radix-popper-transform-origin":[(Ee=Q.transformOrigin)==null?void 0:Ee.x,(Oe=Q.transformOrigin)==null?void 0:Oe.y].join(" "),...((fe=Q.hide)==null?void 0:fe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:s.jsx(C8,{scope:r,placedSide:le,onArrowChange:L,arrowX:Y,arrowY:se,shouldHideArrow:G,children:s.jsx(Xe.div,{"data-side":le,"data-align":H,...w,ref:k,style:{...w.style,animation:V?void 0:"none"}})})})});G4.displayName=CN;var Z4="PopperArrow",T8={top:"bottom",right:"left",bottom:"top",left:"right"},K4=x.forwardRef(function(e,r){const{__scopePopper:n,...a}=e,l=A8(Z4,n),c=T8[l.placedSide];return s.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:s.jsx(E8,{...a,ref:r,style:{...a.style,display:"block"}})})});K4.displayName=Z4;function R8(t){return t!==null}var D8=t=>({name:"transformOrigin",options:t,fn(e){var _,E,S;const{placement:r,rects:n,middlewareData:a}=e,c=((_=a.arrow)==null?void 0:_.centerOffset)!==0,d=c?0:t.arrowWidth,f=c?0:t.arrowHeight,[h,p]=X4(r),g={start:"0%",center:"50%",end:"100%"}[p],y=(((E=a.arrow)==null?void 0:E.x)??0)+d/2,b=(((S=a.arrow)==null?void 0:S.y)??0)+f/2;let j="",w="";return h==="bottom"?(j=c?g:`${y}px`,w=`${-f}px`):h==="top"?(j=c?g:`${y}px`,w=`${n.floating.height+f}px`):h==="right"?(j=`${-f}px`,w=c?g:`${b}px`):h==="left"&&(j=`${n.floating.width+f}px`,w=c?g:`${b}px`),{data:{x:j,y:w}}}});function X4(t){const[e,r="center"]=t.split("-");return[e,r]}var by=V4,Jm=W4,jy=G4,wy=K4,O8="Portal",Sf=x.forwardRef((t,e)=>{var d;const{container:r,...n}=t,[a,l]=x.useState(!1);Er(()=>l(!0),[]);const c=r||a&&((d=globalThis==null?void 0:globalThis.document)==null?void 0:d.body);return c?k4.createPortal(s.jsx(Xe.div,{...n,ref:e}),c):null});Sf.displayName=O8;function M8(t,e){return x.useReducer((r,n)=>e[r][n]??r,t)}var Vr=t=>{const{present:e,children:r}=t,n=P8(e),a=typeof r=="function"?r({present:n.isPresent}):x.Children.only(r),l=Rt(n.ref,L8(a));return typeof r=="function"||n.isPresent?x.cloneElement(a,{ref:l}):null};Vr.displayName="Presence";function P8(t){const[e,r]=x.useState(),n=x.useRef(null),a=x.useRef(t),l=x.useRef("none"),c=t?"mounted":"unmounted",[d,f]=M8(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const h=kx(n.current);l.current=d==="mounted"?h:"none"},[d]),Er(()=>{const h=n.current,p=a.current;if(p!==t){const y=l.current,b=kx(h);t?f("MOUNT"):b==="none"||(h==null?void 0:h.display)==="none"?f("UNMOUNT"):f(p&&y!==b?"ANIMATION_OUT":"UNMOUNT"),a.current=t}},[t,f]),Er(()=>{if(e){let h;const p=e.ownerDocument.defaultView??window,g=b=>{const w=kx(n.current).includes(b.animationName);if(b.target===e&&w&&(f("ANIMATION_END"),!a.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",h=p.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},y=b=>{b.target===e&&(l.current=kx(n.current))};return e.addEventListener("animationstart",y),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{p.clearTimeout(h),e.removeEventListener("animationstart",y),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:x.useCallback(h=>{n.current=h?getComputedStyle(h):null,r(h)},[])}}function kx(t){return(t==null?void 0:t.animationName)||"none"}function L8(t){var n,a;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var I8=n4[" useInsertionEffect ".trim().toString()]||Er;function Sa({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[a,l,c]=U8({defaultProp:e,onChange:r}),d=t!==void 0,f=d?t:a;{const p=x.useRef(t!==void 0);x.useEffect(()=>{const g=p.current;g!==d&&console.warn(`${n} is changing from ${g?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=d},[d,n])}const h=x.useCallback(p=>{var g;if(d){const y=F8(p)?p(t):p;y!==t&&((g=c.current)==null||g.call(c,y))}else l(p)},[d,t,l,c]);return[f,h]}function U8({defaultProp:t,onChange:e}){const[r,n]=x.useState(t),a=x.useRef(r),l=x.useRef(e);return I8(()=>{l.current=e},[e]),x.useEffect(()=>{var c;a.current!==r&&((c=l.current)==null||c.call(l,r),a.current=r)},[r,a]),[r,n,l]}function F8(t){return typeof t=="function"}var Q4=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),z8="VisuallyHidden",J4=x.forwardRef((t,e)=>s.jsx(Xe.span,{...t,ref:e,style:{...Q4,...t.style}}));J4.displayName=z8;var $8=J4,[Ny,mce]=tn("Tooltip",[jc]),_y=jc(),eT="TooltipProvider",q8=700,Q0="tooltip.open",[B8,AN]=Ny(eT),tT=t=>{const{__scopeTooltip:e,delayDuration:r=q8,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:l}=t,c=x.useRef(!0),d=x.useRef(!1),f=x.useRef(0);return x.useEffect(()=>{const h=f.current;return()=>window.clearTimeout(h)},[]),s.jsx(B8,{scope:e,isOpenDelayedRef:c,delayDuration:r,onOpen:x.useCallback(()=>{window.clearTimeout(f.current),c.current=!1},[]),onClose:x.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>c.current=!0,n)},[n]),isPointerInTransitRef:d,onPointerInTransitChange:x.useCallback(h=>{d.current=h},[]),disableHoverableContent:a,children:l})};tT.displayName=eT;var mm="Tooltip",[H8,ep]=Ny(mm),sT=t=>{const{__scopeTooltip:e,children:r,open:n,defaultOpen:a,onOpenChange:l,disableHoverableContent:c,delayDuration:d}=t,f=AN(mm,t.__scopeTooltip),h=_y(e),[p,g]=x.useState(null),y=Mr(),b=x.useRef(0),j=c??f.disableHoverableContent,w=d??f.delayDuration,_=x.useRef(!1),[E,S]=Sa({prop:n,defaultProp:a??!1,onChange:T=>{T?(f.onOpen(),document.dispatchEvent(new CustomEvent(Q0))):f.onClose(),l==null||l(T)},caller:mm}),k=x.useMemo(()=>E?_.current?"delayed-open":"instant-open":"closed",[E]),R=x.useCallback(()=>{window.clearTimeout(b.current),b.current=0,_.current=!1,S(!0)},[S]),L=x.useCallback(()=>{window.clearTimeout(b.current),b.current=0,S(!1)},[S]),I=x.useCallback(()=>{window.clearTimeout(b.current),b.current=window.setTimeout(()=>{_.current=!0,S(!0),b.current=0},w)},[w,S]);return x.useEffect(()=>()=>{b.current&&(window.clearTimeout(b.current),b.current=0)},[]),s.jsx(by,{...h,children:s.jsx(H8,{scope:e,contentId:y,open:E,stateAttribute:k,trigger:p,onTriggerChange:g,onTriggerEnter:x.useCallback(()=>{f.isOpenDelayedRef.current?I():R()},[f.isOpenDelayedRef,I,R]),onTriggerLeave:x.useCallback(()=>{j?L():(window.clearTimeout(b.current),b.current=0)},[L,j]),onOpen:R,onClose:L,disableHoverableContent:j,children:r})})};sT.displayName=mm;var J0="TooltipTrigger",rT=x.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,a=ep(J0,r),l=AN(J0,r),c=_y(r),d=x.useRef(null),f=Rt(e,d,a.onTriggerChange),h=x.useRef(!1),p=x.useRef(!1),g=x.useCallback(()=>h.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),s.jsx(Jm,{asChild:!0,...c,children:s.jsx(Xe.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:f,onPointerMove:He(t.onPointerMove,y=>{y.pointerType!=="touch"&&!p.current&&!l.isPointerInTransitRef.current&&(a.onTriggerEnter(),p.current=!0)}),onPointerLeave:He(t.onPointerLeave,()=>{a.onTriggerLeave(),p.current=!1}),onPointerDown:He(t.onPointerDown,()=>{a.open&&a.onClose(),h.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:He(t.onFocus,()=>{h.current||a.onOpen()}),onBlur:He(t.onBlur,a.onClose),onClick:He(t.onClick,a.onClose)})})});rT.displayName=J0;var TN="TooltipPortal",[V8,Y8]=Ny(TN,{forceMount:void 0}),nT=t=>{const{__scopeTooltip:e,forceMount:r,children:n,container:a}=t,l=ep(TN,e);return s.jsx(V8,{scope:e,forceMount:r,children:s.jsx(Vr,{present:r||l.open,children:s.jsx(Sf,{asChild:!0,container:a,children:n})})})};nT.displayName=TN;var rf="TooltipContent",aT=x.forwardRef((t,e)=>{const r=Y8(rf,t.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...l}=t,c=ep(rf,t.__scopeTooltip);return s.jsx(Vr,{present:n||c.open,children:c.disableHoverableContent?s.jsx(iT,{side:a,...l,ref:e}):s.jsx(W8,{side:a,...l,ref:e})})}),W8=x.forwardRef((t,e)=>{const r=ep(rf,t.__scopeTooltip),n=AN(rf,t.__scopeTooltip),a=x.useRef(null),l=Rt(e,a),[c,d]=x.useState(null),{trigger:f,onClose:h}=r,p=a.current,{onPointerInTransitChange:g}=n,y=x.useCallback(()=>{d(null),g(!1)},[g]),b=x.useCallback((j,w)=>{const _=j.currentTarget,E={x:j.clientX,y:j.clientY},S=Q8(E,_.getBoundingClientRect()),k=J8(E,S),R=ez(w.getBoundingClientRect()),L=sz([...k,...R]);d(L),g(!0)},[g]);return x.useEffect(()=>()=>y(),[y]),x.useEffect(()=>{if(f&&p){const j=_=>b(_,p),w=_=>b(_,f);return f.addEventListener("pointerleave",j),p.addEventListener("pointerleave",w),()=>{f.removeEventListener("pointerleave",j),p.removeEventListener("pointerleave",w)}}},[f,p,b,y]),x.useEffect(()=>{if(c){const j=w=>{const _=w.target,E={x:w.clientX,y:w.clientY},S=(f==null?void 0:f.contains(_))||(p==null?void 0:p.contains(_)),k=!tz(E,c);S?y():k&&(y(),h())};return document.addEventListener("pointermove",j),()=>document.removeEventListener("pointermove",j)}},[f,p,c,h,y]),s.jsx(iT,{...t,ref:l})}),[G8,Z8]=Ny(mm,{isInside:!1}),K8=yN("TooltipContent"),iT=x.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:l,onPointerDownOutside:c,...d}=t,f=ep(rf,r),h=_y(r),{onClose:p}=f;return x.useEffect(()=>(document.addEventListener(Q0,p),()=>document.removeEventListener(Q0,p)),[p]),x.useEffect(()=>{if(f.trigger){const g=y=>{const b=y.target;b!=null&&b.contains(f.trigger)&&p()};return window.addEventListener("scroll",g,{capture:!0}),()=>window.removeEventListener("scroll",g,{capture:!0})}},[f.trigger,p]),s.jsx(wf,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:g=>g.preventDefault(),onDismiss:p,children:s.jsxs(jy,{"data-state":f.stateAttribute,...h,...d,ref:e,style:{...d.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(K8,{children:n}),s.jsx(G8,{scope:r,isInside:!0,children:s.jsx($8,{id:f.contentId,role:"tooltip",children:a||n})})]})})});aT.displayName=rf;var lT="TooltipArrow",X8=x.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,a=_y(r);return Z8(lT,r).isInside?null:s.jsx(wy,{...a,...n,ref:e})});X8.displayName=lT;function Q8(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),a=Math.abs(e.right-t.x),l=Math.abs(e.left-t.x);switch(Math.min(r,n,a,l)){case l:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function J8(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function ez(t){const{top:e,right:r,bottom:n,left:a}=t;return[{x:a,y:e},{x:r,y:e},{x:r,y:n},{x:a,y:n}]}function tz(t,e){const{x:r,y:n}=t;let a=!1;for(let l=0,c=e.length-1;l<e.length;c=l++){const d=e[l],f=e[c],h=d.x,p=d.y,g=f.x,y=f.y;p>n!=y>n&&r<(g-h)*(n-p)/(y-p)+h&&(a=!a)}return a}function sz(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),rz(e)}function rz(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const a=t[n];for(;e.length>=2;){const l=e[e.length-1],c=e[e.length-2];if((l.x-c.x)*(a.y-c.y)>=(l.y-c.y)*(a.x-c.x))e.pop();else break}e.push(a)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const a=t[n];for(;r.length>=2;){const l=r[r.length-1],c=r[r.length-2];if((l.x-c.x)*(a.y-c.y)>=(l.y-c.y)*(a.x-c.x))r.pop();else break}r.push(a)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var nz=tT,az=sT,iz=rT,lz=nT,oT=aT;function cT(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(r=cT(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function dT(){for(var t,e,r=0,n="",a=arguments.length;r<a;r++)(t=arguments[r])&&(e=cT(t))&&(n&&(n+=" "),n+=e);return n}const RN="-",oz=t=>{const e=dz(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:c=>{const d=c.split(RN);return d[0]===""&&d.length!==1&&d.shift(),uT(d,e)||cz(c)},getConflictingClassGroupIds:(c,d)=>{const f=r[c]||[];return d&&n[c]?[...f,...n[c]]:f}}},uT=(t,e)=>{var c;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),a=n?uT(t.slice(1),n):void 0;if(a)return a;if(e.validators.length===0)return;const l=t.join(RN);return(c=e.validators.find(({validator:d})=>d(l)))==null?void 0:c.classGroupId},ik=/^\[(.+)\]$/,cz=t=>{if(ik.test(t)){const e=ik.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},dz=t=>{const{theme:e,classGroups:r}=t,n={nextPart:new Map,validators:[]};for(const a in r)ew(r[a],n,a,e);return n},ew=(t,e,r,n)=>{t.forEach(a=>{if(typeof a=="string"){const l=a===""?e:lk(e,a);l.classGroupId=r;return}if(typeof a=="function"){if(uz(a)){ew(a(n),e,r,n);return}e.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([l,c])=>{ew(c,lk(e,l),r,n)})})},lk=(t,e)=>{let r=t;return e.split(RN).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},uz=t=>t.isThemeGetter,fz=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const a=(l,c)=>{r.set(l,c),e++,e>t&&(e=0,n=r,r=new Map)};return{get(l){let c=r.get(l);if(c!==void 0)return c;if((c=n.get(l))!==void 0)return a(l,c),c},set(l,c){r.has(l)?r.set(l,c):a(l,c)}}},tw="!",sw=":",hz=sw.length,mz=t=>{const{prefix:e,experimentalParseClassName:r}=t;let n=a=>{const l=[];let c=0,d=0,f=0,h;for(let j=0;j<a.length;j++){let w=a[j];if(c===0&&d===0){if(w===sw){l.push(a.slice(f,j)),f=j+hz;continue}if(w==="/"){h=j;continue}}w==="["?c++:w==="]"?c--:w==="("?d++:w===")"&&d--}const p=l.length===0?a:a.substring(f),g=pz(p),y=g!==p,b=h&&h>f?h-f:void 0;return{modifiers:l,hasImportantModifier:y,baseClassName:g,maybePostfixModifierPosition:b}};if(e){const a=e+sw,l=n;n=c=>c.startsWith(a)?l(c.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:c,maybePostfixModifierPosition:void 0}}if(r){const a=n;n=l=>r({className:l,parseClassName:a})}return n},pz=t=>t.endsWith(tw)?t.substring(0,t.length-1):t.startsWith(tw)?t.substring(1):t,xz=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const a=[];let l=[];return n.forEach(c=>{c[0]==="["||e[c]?(a.push(...l.sort(),c),l=[]):l.push(c)}),a.push(...l.sort()),a}},gz=t=>({cache:fz(t.cacheSize),parseClassName:mz(t),sortModifiers:xz(t),...oz(t)}),yz=/\s+/,vz=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a,sortModifiers:l}=e,c=[],d=t.trim().split(yz);let f="";for(let h=d.length-1;h>=0;h-=1){const p=d[h],{isExternal:g,modifiers:y,hasImportantModifier:b,baseClassName:j,maybePostfixModifierPosition:w}=r(p);if(g){f=p+(f.length>0?" "+f:f);continue}let _=!!w,E=n(_?j.substring(0,w):j);if(!E){if(!_){f=p+(f.length>0?" "+f:f);continue}if(E=n(j),!E){f=p+(f.length>0?" "+f:f);continue}_=!1}const S=l(y).join(":"),k=b?S+tw:S,R=k+E;if(c.includes(R))continue;c.push(R);const L=a(E,_);for(let I=0;I<L.length;++I){const T=L[I];c.push(k+T)}f=p+(f.length>0?" "+f:f)}return f};function bz(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=fT(e))&&(n&&(n+=" "),n+=r);return n}const fT=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=fT(t[n]))&&(r&&(r+=" "),r+=e);return r};function jz(t,...e){let r,n,a,l=c;function c(f){const h=e.reduce((p,g)=>g(p),t());return r=gz(h),n=r.cache.get,a=r.cache.set,l=d,d(f)}function d(f){const h=n(f);if(h)return h;const p=vz(f,r);return a(f,p),p}return function(){return l(bz.apply(null,arguments))}}const Fr=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},hT=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,mT=/^\((?:(\w[\w-]*):)?(.+)\)$/i,wz=/^\d+\/\d+$/,Nz=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,_z=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Sz=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Ez=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,kz=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Su=t=>wz.test(t),Vt=t=>!!t&&!Number.isNaN(Number(t)),Yo=t=>!!t&&Number.isInteger(Number(t)),Fj=t=>t.endsWith("%")&&Vt(t.slice(0,-1)),Il=t=>Nz.test(t),Cz=()=>!0,Az=t=>_z.test(t)&&!Sz.test(t),pT=()=>!1,Tz=t=>Ez.test(t),Rz=t=>kz.test(t),Dz=t=>!rt(t)&&!nt(t),Oz=t=>Ef(t,yT,pT),rt=t=>hT.test(t),Qc=t=>Ef(t,vT,Az),zj=t=>Ef(t,Uz,Vt),ok=t=>Ef(t,xT,pT),Mz=t=>Ef(t,gT,Rz),Cx=t=>Ef(t,bT,Tz),nt=t=>mT.test(t),Ih=t=>kf(t,vT),Pz=t=>kf(t,Fz),ck=t=>kf(t,xT),Lz=t=>kf(t,yT),Iz=t=>kf(t,gT),Ax=t=>kf(t,bT,!0),Ef=(t,e,r)=>{const n=hT.exec(t);return n?n[1]?e(n[1]):r(n[2]):!1},kf=(t,e,r=!1)=>{const n=mT.exec(t);return n?n[1]?e(n[1]):r:!1},xT=t=>t==="position"||t==="percentage",gT=t=>t==="image"||t==="url",yT=t=>t==="length"||t==="size"||t==="bg-size",vT=t=>t==="length",Uz=t=>t==="number",Fz=t=>t==="family-name",bT=t=>t==="shadow",zz=()=>{const t=Fr("color"),e=Fr("font"),r=Fr("text"),n=Fr("font-weight"),a=Fr("tracking"),l=Fr("leading"),c=Fr("breakpoint"),d=Fr("container"),f=Fr("spacing"),h=Fr("radius"),p=Fr("shadow"),g=Fr("inset-shadow"),y=Fr("text-shadow"),b=Fr("drop-shadow"),j=Fr("blur"),w=Fr("perspective"),_=Fr("aspect"),E=Fr("ease"),S=Fr("animate"),k=()=>["auto","avoid","all","avoid-page","page","left","right","column"],R=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],L=()=>[...R(),nt,rt],I=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto","contain","none"],O=()=>[nt,rt,f],P=()=>[Su,"full","auto",...O()],X=()=>[Yo,"none","subgrid",nt,rt],A=()=>["auto",{span:["full",Yo,nt,rt]},Yo,nt,rt],z=()=>[Yo,"auto",nt,rt],$=()=>["auto","min","max","fr",nt,rt],J=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],B=()=>["start","end","center","stretch","center-safe","end-safe"],M=()=>["auto",...O()],V=()=>[Su,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...O()],Q=()=>[t,nt,rt],le=()=>[...R(),ck,ok,{position:[nt,rt]}],H=()=>["no-repeat",{repeat:["","x","y","space","round"]}],K=()=>["auto","cover","contain",Lz,Oz,{size:[nt,rt]}],Y=()=>[Fj,Ih,Qc],se=()=>["","none","full",h,nt,rt],G=()=>["",Vt,Ih,Qc],C=()=>["solid","dashed","dotted","double"],U=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ne=()=>[Vt,Fj,ck,ok],me=()=>["","none",j,nt,rt],ie=()=>["none",Vt,nt,rt],Ee=()=>["none",Vt,nt,rt],Oe=()=>[Vt,nt,rt],fe=()=>[Su,"full",...O()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Il],breakpoint:[Il],color:[Cz],container:[Il],"drop-shadow":[Il],ease:["in","out","in-out"],font:[Dz],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Il],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Il],shadow:[Il],spacing:["px",Vt],text:[Il],"text-shadow":[Il],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Su,rt,nt,_]}],container:["container"],columns:[{columns:[Vt,rt,nt,d]}],"break-after":[{"break-after":k()}],"break-before":[{"break-before":k()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:L()}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:P()}],"inset-x":[{"inset-x":P()}],"inset-y":[{"inset-y":P()}],start:[{start:P()}],end:[{end:P()}],top:[{top:P()}],right:[{right:P()}],bottom:[{bottom:P()}],left:[{left:P()}],visibility:["visible","invisible","collapse"],z:[{z:[Yo,"auto",nt,rt]}],basis:[{basis:[Su,"full","auto",d,...O()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Vt,Su,"auto","initial","none",rt]}],grow:[{grow:["",Vt,nt,rt]}],shrink:[{shrink:["",Vt,nt,rt]}],order:[{order:[Yo,"first","last","none",nt,rt]}],"grid-cols":[{"grid-cols":X()}],"col-start-end":[{col:A()}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":X()}],"row-start-end":[{row:A()}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":$()}],"auto-rows":[{"auto-rows":$()}],gap:[{gap:O()}],"gap-x":[{"gap-x":O()}],"gap-y":[{"gap-y":O()}],"justify-content":[{justify:[...J(),"normal"]}],"justify-items":[{"justify-items":[...B(),"normal"]}],"justify-self":[{"justify-self":["auto",...B()]}],"align-content":[{content:["normal",...J()]}],"align-items":[{items:[...B(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...B(),{baseline:["","last"]}]}],"place-content":[{"place-content":J()}],"place-items":[{"place-items":[...B(),"baseline"]}],"place-self":[{"place-self":["auto",...B()]}],p:[{p:O()}],px:[{px:O()}],py:[{py:O()}],ps:[{ps:O()}],pe:[{pe:O()}],pt:[{pt:O()}],pr:[{pr:O()}],pb:[{pb:O()}],pl:[{pl:O()}],m:[{m:M()}],mx:[{mx:M()}],my:[{my:M()}],ms:[{ms:M()}],me:[{me:M()}],mt:[{mt:M()}],mr:[{mr:M()}],mb:[{mb:M()}],ml:[{ml:M()}],"space-x":[{"space-x":O()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":O()}],"space-y-reverse":["space-y-reverse"],size:[{size:V()}],w:[{w:[d,"screen",...V()]}],"min-w":[{"min-w":[d,"screen","none",...V()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[c]},...V()]}],h:[{h:["screen",...V()]}],"min-h":[{"min-h":["screen","none",...V()]}],"max-h":[{"max-h":["screen",...V()]}],"font-size":[{text:["base",r,Ih,Qc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,nt,zj]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Fj,rt]}],"font-family":[{font:[Pz,rt,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,nt,rt]}],"line-clamp":[{"line-clamp":[Vt,"none",nt,zj]}],leading:[{leading:[l,...O()]}],"list-image":[{"list-image":["none",nt,rt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",nt,rt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:Q()}],"text-color":[{text:Q()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...C(),"wavy"]}],"text-decoration-thickness":[{decoration:[Vt,"from-font","auto",nt,Qc]}],"text-decoration-color":[{decoration:Q()}],"underline-offset":[{"underline-offset":[Vt,"auto",nt,rt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",nt,rt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",nt,rt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:le()}],"bg-repeat":[{bg:H()}],"bg-size":[{bg:K()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Yo,nt,rt],radial:["",nt,rt],conic:[Yo,nt,rt]},Iz,Mz]}],"bg-color":[{bg:Q()}],"gradient-from-pos":[{from:Y()}],"gradient-via-pos":[{via:Y()}],"gradient-to-pos":[{to:Y()}],"gradient-from":[{from:Q()}],"gradient-via":[{via:Q()}],"gradient-to":[{to:Q()}],rounded:[{rounded:se()}],"rounded-s":[{"rounded-s":se()}],"rounded-e":[{"rounded-e":se()}],"rounded-t":[{"rounded-t":se()}],"rounded-r":[{"rounded-r":se()}],"rounded-b":[{"rounded-b":se()}],"rounded-l":[{"rounded-l":se()}],"rounded-ss":[{"rounded-ss":se()}],"rounded-se":[{"rounded-se":se()}],"rounded-ee":[{"rounded-ee":se()}],"rounded-es":[{"rounded-es":se()}],"rounded-tl":[{"rounded-tl":se()}],"rounded-tr":[{"rounded-tr":se()}],"rounded-br":[{"rounded-br":se()}],"rounded-bl":[{"rounded-bl":se()}],"border-w":[{border:G()}],"border-w-x":[{"border-x":G()}],"border-w-y":[{"border-y":G()}],"border-w-s":[{"border-s":G()}],"border-w-e":[{"border-e":G()}],"border-w-t":[{"border-t":G()}],"border-w-r":[{"border-r":G()}],"border-w-b":[{"border-b":G()}],"border-w-l":[{"border-l":G()}],"divide-x":[{"divide-x":G()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":G()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...C(),"hidden","none"]}],"divide-style":[{divide:[...C(),"hidden","none"]}],"border-color":[{border:Q()}],"border-color-x":[{"border-x":Q()}],"border-color-y":[{"border-y":Q()}],"border-color-s":[{"border-s":Q()}],"border-color-e":[{"border-e":Q()}],"border-color-t":[{"border-t":Q()}],"border-color-r":[{"border-r":Q()}],"border-color-b":[{"border-b":Q()}],"border-color-l":[{"border-l":Q()}],"divide-color":[{divide:Q()}],"outline-style":[{outline:[...C(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Vt,nt,rt]}],"outline-w":[{outline:["",Vt,Ih,Qc]}],"outline-color":[{outline:Q()}],shadow:[{shadow:["","none",p,Ax,Cx]}],"shadow-color":[{shadow:Q()}],"inset-shadow":[{"inset-shadow":["none",g,Ax,Cx]}],"inset-shadow-color":[{"inset-shadow":Q()}],"ring-w":[{ring:G()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:Q()}],"ring-offset-w":[{"ring-offset":[Vt,Qc]}],"ring-offset-color":[{"ring-offset":Q()}],"inset-ring-w":[{"inset-ring":G()}],"inset-ring-color":[{"inset-ring":Q()}],"text-shadow":[{"text-shadow":["none",y,Ax,Cx]}],"text-shadow-color":[{"text-shadow":Q()}],opacity:[{opacity:[Vt,nt,rt]}],"mix-blend":[{"mix-blend":[...U(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":U()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Vt]}],"mask-image-linear-from-pos":[{"mask-linear-from":ne()}],"mask-image-linear-to-pos":[{"mask-linear-to":ne()}],"mask-image-linear-from-color":[{"mask-linear-from":Q()}],"mask-image-linear-to-color":[{"mask-linear-to":Q()}],"mask-image-t-from-pos":[{"mask-t-from":ne()}],"mask-image-t-to-pos":[{"mask-t-to":ne()}],"mask-image-t-from-color":[{"mask-t-from":Q()}],"mask-image-t-to-color":[{"mask-t-to":Q()}],"mask-image-r-from-pos":[{"mask-r-from":ne()}],"mask-image-r-to-pos":[{"mask-r-to":ne()}],"mask-image-r-from-color":[{"mask-r-from":Q()}],"mask-image-r-to-color":[{"mask-r-to":Q()}],"mask-image-b-from-pos":[{"mask-b-from":ne()}],"mask-image-b-to-pos":[{"mask-b-to":ne()}],"mask-image-b-from-color":[{"mask-b-from":Q()}],"mask-image-b-to-color":[{"mask-b-to":Q()}],"mask-image-l-from-pos":[{"mask-l-from":ne()}],"mask-image-l-to-pos":[{"mask-l-to":ne()}],"mask-image-l-from-color":[{"mask-l-from":Q()}],"mask-image-l-to-color":[{"mask-l-to":Q()}],"mask-image-x-from-pos":[{"mask-x-from":ne()}],"mask-image-x-to-pos":[{"mask-x-to":ne()}],"mask-image-x-from-color":[{"mask-x-from":Q()}],"mask-image-x-to-color":[{"mask-x-to":Q()}],"mask-image-y-from-pos":[{"mask-y-from":ne()}],"mask-image-y-to-pos":[{"mask-y-to":ne()}],"mask-image-y-from-color":[{"mask-y-from":Q()}],"mask-image-y-to-color":[{"mask-y-to":Q()}],"mask-image-radial":[{"mask-radial":[nt,rt]}],"mask-image-radial-from-pos":[{"mask-radial-from":ne()}],"mask-image-radial-to-pos":[{"mask-radial-to":ne()}],"mask-image-radial-from-color":[{"mask-radial-from":Q()}],"mask-image-radial-to-color":[{"mask-radial-to":Q()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":R()}],"mask-image-conic-pos":[{"mask-conic":[Vt]}],"mask-image-conic-from-pos":[{"mask-conic-from":ne()}],"mask-image-conic-to-pos":[{"mask-conic-to":ne()}],"mask-image-conic-from-color":[{"mask-conic-from":Q()}],"mask-image-conic-to-color":[{"mask-conic-to":Q()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:le()}],"mask-repeat":[{mask:H()}],"mask-size":[{mask:K()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",nt,rt]}],filter:[{filter:["","none",nt,rt]}],blur:[{blur:me()}],brightness:[{brightness:[Vt,nt,rt]}],contrast:[{contrast:[Vt,nt,rt]}],"drop-shadow":[{"drop-shadow":["","none",b,Ax,Cx]}],"drop-shadow-color":[{"drop-shadow":Q()}],grayscale:[{grayscale:["",Vt,nt,rt]}],"hue-rotate":[{"hue-rotate":[Vt,nt,rt]}],invert:[{invert:["",Vt,nt,rt]}],saturate:[{saturate:[Vt,nt,rt]}],sepia:[{sepia:["",Vt,nt,rt]}],"backdrop-filter":[{"backdrop-filter":["","none",nt,rt]}],"backdrop-blur":[{"backdrop-blur":me()}],"backdrop-brightness":[{"backdrop-brightness":[Vt,nt,rt]}],"backdrop-contrast":[{"backdrop-contrast":[Vt,nt,rt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Vt,nt,rt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Vt,nt,rt]}],"backdrop-invert":[{"backdrop-invert":["",Vt,nt,rt]}],"backdrop-opacity":[{"backdrop-opacity":[Vt,nt,rt]}],"backdrop-saturate":[{"backdrop-saturate":[Vt,nt,rt]}],"backdrop-sepia":[{"backdrop-sepia":["",Vt,nt,rt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":O()}],"border-spacing-x":[{"border-spacing-x":O()}],"border-spacing-y":[{"border-spacing-y":O()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",nt,rt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Vt,"initial",nt,rt]}],ease:[{ease:["linear","initial",E,nt,rt]}],delay:[{delay:[Vt,nt,rt]}],animate:[{animate:["none",S,nt,rt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[w,nt,rt]}],"perspective-origin":[{"perspective-origin":L()}],rotate:[{rotate:ie()}],"rotate-x":[{"rotate-x":ie()}],"rotate-y":[{"rotate-y":ie()}],"rotate-z":[{"rotate-z":ie()}],scale:[{scale:Ee()}],"scale-x":[{"scale-x":Ee()}],"scale-y":[{"scale-y":Ee()}],"scale-z":[{"scale-z":Ee()}],"scale-3d":["scale-3d"],skew:[{skew:Oe()}],"skew-x":[{"skew-x":Oe()}],"skew-y":[{"skew-y":Oe()}],transform:[{transform:[nt,rt,"","none","gpu","cpu"]}],"transform-origin":[{origin:L()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:fe()}],"translate-x":[{"translate-x":fe()}],"translate-y":[{"translate-y":fe()}],"translate-z":[{"translate-z":fe()}],"translate-none":["translate-none"],accent:[{accent:Q()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:Q()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",nt,rt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",nt,rt]}],fill:[{fill:["none",...Q()]}],"stroke-w":[{stroke:[Vt,Ih,Qc,zj]}],stroke:[{stroke:["none",...Q()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},$z=jz(zz);function Pe(...t){return $z(dT(t))}const jT=nz,qz=az,Bz=iz,wT=x.forwardRef(({className:t,sideOffset:e=4,...r},n)=>s.jsx(lz,{children:s.jsx(oT,{ref:n,sideOffset:e,className:Pe("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...r})}));wT.displayName=oT.displayName;var $j={exports:{}},qj={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dk;function Hz(){if(dk)return qj;dk=1;var t=Gm();function e(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var r=typeof Object.is=="function"?Object.is:e,n=t.useSyncExternalStore,a=t.useRef,l=t.useEffect,c=t.useMemo,d=t.useDebugValue;return qj.useSyncExternalStoreWithSelector=function(f,h,p,g,y){var b=a(null);if(b.current===null){var j={hasValue:!1,value:null};b.current=j}else j=b.current;b=c(function(){function _(L){if(!E){if(E=!0,S=L,L=g(L),y!==void 0&&j.hasValue){var I=j.value;if(y(I,L))return k=I}return k=L}if(I=k,r(S,L))return I;var T=g(L);return y!==void 0&&y(I,T)?(S=L,I):(S=L,k=T)}var E=!1,S,k,R=p===void 0?null:p;return[function(){return _(h())},R===null?void 0:function(){return _(R())}]},[h,p,g,y]);var w=n(f,b[0],b[1]);return l(function(){j.hasValue=!0,j.value=w},[w]),d(w),w},qj}var uk;function Vz(){return uk||(uk=1,$j.exports=Hz()),$j.exports}var Yz=Vz();function Wz(t){t()}function Gz(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Wz(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=t;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=e={callback:r,next:null,prev:e};return a.prev?a.prev.next=a:t=a,function(){!n||t===null||(n=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}var fk={notify(){},get:()=>[]};function Zz(t,e){let r,n=fk,a=0,l=!1;function c(w){p();const _=n.subscribe(w);let E=!1;return()=>{E||(E=!0,_(),g())}}function d(){n.notify()}function f(){j.onStateChange&&j.onStateChange()}function h(){return l}function p(){a++,r||(r=t.subscribe(f),n=Gz())}function g(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=fk)}function y(){l||(l=!0,p())}function b(){l&&(l=!1,g())}const j={addNestedSub:c,notifyNestedSubs:d,handleChangeWrapper:f,isSubscribed:h,trySubscribe:y,tryUnsubscribe:b,getListeners:()=>n};return j}var Kz=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Xz=Kz(),Qz=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Jz=Qz(),e$=()=>Xz||Jz?x.useLayoutEffect:x.useEffect,t$=e$(),Bj=Symbol.for("react-redux-context"),Hj=typeof globalThis<"u"?globalThis:{};function s$(){if(!x.createContext)return{};const t=Hj[Bj]??(Hj[Bj]=new Map);let e=t.get(x.createContext);return e||(e=x.createContext(null),t.set(x.createContext,e)),e}var fc=s$();function r$(t){const{children:e,context:r,serverState:n,store:a}=t,l=x.useMemo(()=>{const f=Zz(a);return{store:a,subscription:f,getServerState:n?()=>n:void 0}},[a,n]),c=x.useMemo(()=>a.getState(),[a]);t$(()=>{const{subscription:f}=l;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),c!==a.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[l,c]);const d=r||fc;return x.createElement(d.Provider,{value:l},e)}var n$=r$;function DN(t=fc){return function(){return x.useContext(t)}}var NT=DN();function _T(t=fc){const e=t===fc?NT:DN(t),r=()=>{const{store:n}=e();return n};return Object.assign(r,{withTypes:()=>r}),r}var a$=_T();function i$(t=fc){const e=t===fc?a$:_T(t),r=()=>e().dispatch;return Object.assign(r,{withTypes:()=>r}),r}var l$=i$(),o$=(t,e)=>t===e;function c$(t=fc){const e=t===fc?NT:DN(t),r=(n,a={})=>{const{equalityFn:l=o$}=typeof a=="function"?{equalityFn:a}:a,c=e(),{store:d,subscription:f,getServerState:h}=c;x.useRef(!0);const p=x.useCallback({[n.name](y){return n(y)}}[n.name],[n]),g=Yz.useSyncExternalStoreWithSelector(f.addNestedSub,d.getState,h||d.getState,p,l);return x.useDebugValue(g),g};return Object.assign(r,{withTypes:()=>r}),r}var wc=c$();function ig(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ig=function(r){return typeof r}:ig=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ig(t)}function d$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function f$(t,e,r){return e&&u$(t.prototype,e),t}function h$(t,e){return e&&(ig(e)==="object"||typeof e=="function")?e:lg(t)}function rw(t){return rw=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},rw(t)}function lg(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m$(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nw(t,e)}function nw(t,e){return nw=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},nw(t,e)}function og(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var ST=function(t){m$(e,t);function e(){var r,n;d$(this,e);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return n=h$(this,(r=rw(e)).call.apply(r,[this].concat(l))),og(lg(n),"state",{bootstrapped:!1}),og(lg(n),"_unsubscribe",void 0),og(lg(n),"handlePersistorState",function(){var d=n.props.persistor,f=d.getState(),h=f.bootstrapped;h&&(n.props.onBeforeLift?Promise.resolve(n.props.onBeforeLift()).finally(function(){return n.setState({bootstrapped:!0})}):n.setState({bootstrapped:!0}),n._unsubscribe&&n._unsubscribe())}),n}return f$(e,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),e}(x.PureComponent);og(ST,"defaultProps",{children:null,loading:null});function ln(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var p$=typeof Symbol=="function"&&Symbol.observable||"@@observable",hk=p$,Vj=()=>Math.random().toString(36).substring(7).split("").join("."),x$={INIT:`@@redux/INIT${Vj()}`,REPLACE:`@@redux/REPLACE${Vj()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Vj()}`},Dg=x$;function ON(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function MN(t,e,r){if(typeof t!="function")throw new Error(ln(2));if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(ln(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(ln(1));return r(MN)(t,e)}let n=t,a=e,l=new Map,c=l,d=0,f=!1;function h(){c===l&&(c=new Map,l.forEach((_,E)=>{c.set(E,_)}))}function p(){if(f)throw new Error(ln(3));return a}function g(_){if(typeof _!="function")throw new Error(ln(4));if(f)throw new Error(ln(5));let E=!0;h();const S=d++;return c.set(S,_),function(){if(E){if(f)throw new Error(ln(6));E=!1,h(),c.delete(S),l=null}}}function y(_){if(!ON(_))throw new Error(ln(7));if(typeof _.type>"u")throw new Error(ln(8));if(typeof _.type!="string")throw new Error(ln(17));if(f)throw new Error(ln(9));try{f=!0,a=n(a,_)}finally{f=!1}return(l=c).forEach(S=>{S()}),_}function b(_){if(typeof _!="function")throw new Error(ln(10));n=_,y({type:Dg.REPLACE})}function j(){const _=g;return{subscribe(E){if(typeof E!="object"||E===null)throw new Error(ln(11));function S(){const R=E;R.next&&R.next(p())}return S(),{unsubscribe:_(S)}},[hk](){return this}}}return y({type:Dg.INIT}),{dispatch:y,subscribe:g,getState:p,replaceReducer:b,[hk]:j}}function g$(t){Object.keys(t).forEach(e=>{const r=t[e];if(typeof r(void 0,{type:Dg.INIT})>"u")throw new Error(ln(12));if(typeof r(void 0,{type:Dg.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ln(13))})}function ET(t){const e=Object.keys(t),r={};for(let l=0;l<e.length;l++){const c=e[l];typeof t[c]=="function"&&(r[c]=t[c])}const n=Object.keys(r);let a;try{g$(r)}catch(l){a=l}return function(c={},d){if(a)throw a;let f=!1;const h={};for(let p=0;p<n.length;p++){const g=n[p],y=r[g],b=c[g],j=y(b,d);if(typeof j>"u")throw d&&d.type,new Error(ln(14));h[g]=j,f=f||j!==b}return f=f||n.length!==Object.keys(c).length,f?h:c}}function Og(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,r)=>(...n)=>e(r(...n)))}function y$(...t){return e=>(r,n)=>{const a=e(r,n);let l=()=>{throw new Error(ln(15))};const c={getState:a.getState,dispatch:(f,...h)=>l(f,...h)},d=t.map(f=>f(c));return l=Og(...d)(a.dispatch),{...a,dispatch:l}}}function v$(t){return ON(t)&&"type"in t&&typeof t.type=="string"}var kT=Symbol.for("immer-nothing"),mk=Symbol.for("immer-draftable"),Ea=Symbol.for("immer-state");function vi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var nf=Object.getPrototypeOf;function fd(t){return!!t&&!!t[Ea]}function eo(t){var e;return t?CT(t)||Array.isArray(t)||!!t[mk]||!!((e=t.constructor)!=null&&e[mk])||Ey(t)||ky(t):!1}var b$=Object.prototype.constructor.toString();function CT(t){if(!t||typeof t!="object")return!1;const e=nf(t);if(e===null)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===b$}function Mg(t,e){Sy(t)===0?Reflect.ownKeys(t).forEach(r=>{e(r,t[r],t)}):t.forEach((r,n)=>e(n,r,t))}function Sy(t){const e=t[Ea];return e?e.type_:Array.isArray(t)?1:Ey(t)?2:ky(t)?3:0}function aw(t,e){return Sy(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function AT(t,e,r){const n=Sy(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function j$(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Ey(t){return t instanceof Map}function ky(t){return t instanceof Set}function Jc(t){return t.copy_||t.base_}function iw(t,e){if(Ey(t))return new Map(t);if(ky(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const r=CT(t);if(e===!0||e==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(t);delete n[Ea];let a=Reflect.ownKeys(n);for(let l=0;l<a.length;l++){const c=a[l],d=n[c];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(n[c]={configurable:!0,writable:!0,enumerable:d.enumerable,value:t[c]})}return Object.create(nf(t),n)}else{const n=nf(t);if(n!==null&&r)return{...t};const a=Object.create(n);return Object.assign(a,t)}}function PN(t,e=!1){return Cy(t)||fd(t)||!eo(t)||(Sy(t)>1&&(t.set=t.add=t.clear=t.delete=w$),Object.freeze(t),e&&Object.entries(t).forEach(([r,n])=>PN(n,!0))),t}function w$(){vi(2)}function Cy(t){return Object.isFrozen(t)}var N$={};function hd(t){const e=N$[t];return e||vi(0,t),e}var pm;function TT(){return pm}function _$(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function pk(t,e){e&&(hd("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function lw(t){ow(t),t.drafts_.forEach(S$),t.drafts_=null}function ow(t){t===pm&&(pm=t.parent_)}function xk(t){return pm=_$(pm,t)}function S$(t){const e=t[Ea];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function gk(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[Ea].modified_&&(lw(e),vi(4)),eo(t)&&(t=Pg(e,t),e.parent_||Lg(e,t)),e.patches_&&hd("Patches").generateReplacementPatches_(r[Ea].base_,t,e.patches_,e.inversePatches_)):t=Pg(e,r,[]),lw(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==kT?t:void 0}function Pg(t,e,r){if(Cy(e))return e;const n=e[Ea];if(!n)return Mg(e,(a,l)=>yk(t,n,e,a,l,r)),e;if(n.scope_!==t)return e;if(!n.modified_)return Lg(t,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const a=n.copy_;let l=a,c=!1;n.type_===3&&(l=new Set(a),a.clear(),c=!0),Mg(l,(d,f)=>yk(t,n,a,d,f,r,c)),Lg(t,a,!1),r&&t.patches_&&hd("Patches").generatePatches_(n,r,t.patches_,t.inversePatches_)}return n.copy_}function yk(t,e,r,n,a,l,c){if(fd(a)){const d=l&&e&&e.type_!==3&&!aw(e.assigned_,n)?l.concat(n):void 0,f=Pg(t,a,d);if(AT(r,n,f),fd(f))t.canAutoFreeze_=!1;else return}else c&&r.add(a);if(eo(a)&&!Cy(a)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Pg(t,a),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&Lg(t,a)}}function Lg(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&PN(e,r)}function E$(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:TT(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,l=LN;r&&(a=[n],l=xm);const{revoke:c,proxy:d}=Proxy.revocable(a,l);return n.draft_=d,n.revoke_=c,d}var LN={get(t,e){if(e===Ea)return t;const r=Jc(t);if(!aw(r,e))return k$(t,r,e);const n=r[e];return t.finalized_||!eo(n)?n:n===Yj(t.base_,e)?(Wj(t),t.copy_[e]=dw(n,t)):n},has(t,e){return e in Jc(t)},ownKeys(t){return Reflect.ownKeys(Jc(t))},set(t,e,r){const n=RT(Jc(t),e);if(n!=null&&n.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const a=Yj(Jc(t),e),l=a==null?void 0:a[Ea];if(l&&l.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(j$(r,a)&&(r!==void 0||aw(t.base_,e)))return!0;Wj(t),cw(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Yj(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Wj(t),cw(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=Jc(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){vi(11)},getPrototypeOf(t){return nf(t.base_)},setPrototypeOf(){vi(12)}},xm={};Mg(LN,(t,e)=>{xm[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});xm.deleteProperty=function(t,e){return xm.set.call(this,t,e,void 0)};xm.set=function(t,e,r){return LN.set.call(this,t[0],e,r,t[0])};function Yj(t,e){const r=t[Ea];return(r?Jc(r):t)[e]}function k$(t,e,r){var a;const n=RT(e,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(t.draft_):void 0}function RT(t,e){if(!(e in t))return;let r=nf(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=nf(r)}}function cw(t){t.modified_||(t.modified_=!0,t.parent_&&cw(t.parent_))}function Wj(t){t.copy_||(t.copy_=iw(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var C$=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const l=r;r=e;const c=this;return function(f=l,...h){return c.produce(f,p=>r.call(this,p,...h))}}typeof r!="function"&&vi(6),n!==void 0&&typeof n!="function"&&vi(7);let a;if(eo(e)){const l=xk(this),c=dw(e,void 0);let d=!0;try{a=r(c),d=!1}finally{d?lw(l):ow(l)}return pk(l,n),gk(a,l)}else if(!e||typeof e!="object"){if(a=r(e),a===void 0&&(a=e),a===kT&&(a=void 0),this.autoFreeze_&&PN(a,!0),n){const l=[],c=[];hd("Patches").generateReplacementPatches_(e,a,l,c),n(l,c)}return a}else vi(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(c,...d)=>this.produceWithPatches(c,f=>e(f,...d));let n,a;return[this.produce(e,r,(c,d)=>{n=c,a=d}),n,a]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){eo(t)||vi(8),fd(t)&&(t=A$(t));const e=xk(this),r=dw(t,void 0);return r[Ea].isManual_=!0,ow(e),r}finishDraft(t,e){const r=t&&t[Ea];(!r||!r.isManual_)&&vi(9);const{scope_:n}=r;return pk(n,e),gk(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const a=e[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(e=e.slice(r+1));const n=hd("Patches").applyPatches_;return fd(t)?n(t,e):this.produce(t,a=>n(a,e))}};function dw(t,e){const r=Ey(t)?hd("MapSet").proxyMap_(t,e):ky(t)?hd("MapSet").proxySet_(t,e):E$(t,e);return(e?e.scope_:TT()).drafts_.push(r),r}function A$(t){return fd(t)||vi(10,t),DT(t)}function DT(t){if(!eo(t)||Cy(t))return t;const e=t[Ea];let r;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=iw(t,e.scope_.immer_.useStrictShallowCopy_)}else r=iw(t,!0);return Mg(r,(n,a)=>{AT(r,n,DT(a))}),e&&(e.finalized_=!1),r}var ka=new C$,OT=ka.produce;ka.produceWithPatches.bind(ka);ka.setAutoFreeze.bind(ka);ka.setUseStrictShallowCopy.bind(ka);ka.applyPatches.bind(ka);ka.createDraft.bind(ka);ka.finishDraft.bind(ka);function MT(t){return({dispatch:r,getState:n})=>a=>l=>typeof l=="function"?l(r,n,t):a(l)}var T$=MT(),R$=MT,D$=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Og:Og.apply(null,arguments)},O$=t=>t&&typeof t.match=="function";function rm(t,e){function r(...n){if(e){let a=e(...n);if(!a)throw new Error(Gl(0));return{type:t,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:t,payload:n[0]}}return r.toString=()=>`${t}`,r.type=t,r.match=n=>v$(n)&&n.type===t,r}var PT=class Gh extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Gh.prototype)}static get[Symbol.species](){return Gh}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Gh(...e[0].concat(this)):new Gh(...e.concat(this))}};function vk(t){return eo(t)?OT(t,()=>{}):t}function Tx(t,e,r){return t.has(e)?t.get(e):t.set(e,r(e)).get(e)}function M$(t){return typeof t=="boolean"}var P$=()=>function(e){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:l=!0}=e??{};let c=new PT;return r&&(M$(r)?c.push(T$):c.push(R$(r.extraArgument))),c},L$="RTK_autoBatch",bk=t=>e=>{setTimeout(e,t)},I$=(t={type:"raf"})=>e=>(...r)=>{const n=e(...r);let a=!0,l=!1,c=!1;const d=new Set,f=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:bk(10):t.type==="callback"?t.queueNotification:bk(t.timeout),h=()=>{c=!1,l&&(l=!1,d.forEach(p=>p()))};return Object.assign({},n,{subscribe(p){const g=()=>a&&p(),y=n.subscribe(g);return d.add(p),()=>{y(),d.delete(p)}},dispatch(p){var g;try{return a=!((g=p==null?void 0:p.meta)!=null&&g[L$]),l=!a,l&&(c||(c=!0,f(h))),n.dispatch(p)}finally{a=!0}}})},U$=t=>function(r){const{autoBatch:n=!0}=r??{};let a=new PT(t);return n&&a.push(I$(typeof n=="object"?n:void 0)),a};function F$(t){const e=P$(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:l=void 0,enhancers:c=void 0}=t||{};let d;if(typeof r=="function")d=r;else if(ON(r))d=ET(r);else throw new Error(Gl(1));let f;typeof n=="function"?f=n(e):f=e();let h=Og;a&&(h=D$({trace:!1,...typeof a=="object"&&a}));const p=y$(...f),g=U$(p);let y=typeof c=="function"?c(g):g();const b=h(...y);return MN(d,l,b)}function LT(t){const e={},r=[];let n;const a={addCase(l,c){const d=typeof l=="string"?l:l.type;if(!d)throw new Error(Gl(28));if(d in e)throw new Error(Gl(29));return e[d]=c,a},addMatcher(l,c){return r.push({matcher:l,reducer:c}),a},addDefaultCase(l){return n=l,a}};return t(a),[e,r,n]}function z$(t){return typeof t=="function"}function $$(t,e){let[r,n,a]=LT(e),l;if(z$(t))l=()=>vk(t());else{const d=vk(t);l=()=>d}function c(d=l(),f){let h=[r[f.type],...n.filter(({matcher:p})=>p(f)).map(({reducer:p})=>p)];return h.filter(p=>!!p).length===0&&(h=[a]),h.reduce((p,g)=>{if(g)if(fd(p)){const b=g(p,f);return b===void 0?p:b}else{if(eo(p))return OT(p,y=>g(y,f));{const y=g(p,f);if(y===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return p},d)}return c.getInitialState=l,c}var q$=(t,e)=>O$(t)?t.match(e):t(e);function B$(...t){return e=>t.some(r=>q$(r,e))}var H$="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",V$=(t=21)=>{let e="",r=t;for(;r--;)e+=H$[Math.random()*64|0];return e},Y$=["name","message","stack","code"],Gj=class{constructor(t,e){qe(this,"_type");this.payload=t,this.meta=e}},jk=class{constructor(t,e){qe(this,"_type");this.payload=t,this.meta=e}},W$=t=>{if(typeof t=="object"&&t!==null){const e={};for(const r of Y$)typeof t[r]=="string"&&(e[r]=t[r]);return e}return{message:String(t)}},wk="External signal was aborted",Cd=(()=>{function t(e,r,n){const a=rm(e+"/fulfilled",(f,h,p,g)=>({payload:f,meta:{...g||{},arg:p,requestId:h,requestStatus:"fulfilled"}})),l=rm(e+"/pending",(f,h,p)=>({payload:void 0,meta:{...p||{},arg:h,requestId:f,requestStatus:"pending"}})),c=rm(e+"/rejected",(f,h,p,g,y)=>({payload:g,error:(n&&n.serializeError||W$)(f||"Rejected"),meta:{...y||{},arg:p,requestId:h,rejectedWithValue:!!g,requestStatus:"rejected",aborted:(f==null?void 0:f.name)==="AbortError",condition:(f==null?void 0:f.name)==="ConditionError"}}));function d(f,{signal:h}={}){return(p,g,y)=>{const b=n!=null&&n.idGenerator?n.idGenerator(f):V$(),j=new AbortController;let w,_;function E(k){_=k,j.abort()}h&&(h.aborted?E(wk):h.addEventListener("abort",()=>E(wk),{once:!0}));const S=async function(){var L,I;let k;try{let T=(L=n==null?void 0:n.condition)==null?void 0:L.call(n,f,{getState:g,extra:y});if(Z$(T)&&(T=await T),T===!1||j.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const O=new Promise((P,X)=>{w=()=>{X({name:"AbortError",message:_||"Aborted"})},j.signal.addEventListener("abort",w)});p(l(b,f,(I=n==null?void 0:n.getPendingMeta)==null?void 0:I.call(n,{requestId:b,arg:f},{getState:g,extra:y}))),k=await Promise.race([O,Promise.resolve(r(f,{dispatch:p,getState:g,extra:y,requestId:b,signal:j.signal,abort:E,rejectWithValue:(P,X)=>new Gj(P,X),fulfillWithValue:(P,X)=>new jk(P,X)})).then(P=>{if(P instanceof Gj)throw P;return P instanceof jk?a(P.payload,b,f,P.meta):a(P,b,f)})])}catch(T){k=T instanceof Gj?c(null,b,f,T.payload,T.meta):c(T,b,f)}finally{w&&j.signal.removeEventListener("abort",w)}return n&&!n.dispatchConditionRejection&&c.match(k)&&k.meta.condition||p(k),k}();return Object.assign(S,{abort:E,requestId:b,arg:f,unwrap(){return S.then(G$)}})}}return Object.assign(d,{pending:l,rejected:c,fulfilled:a,settled:B$(c,a),typePrefix:e})}return t.withTypes=()=>t,t})();function G$(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function Z$(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var K$=Symbol.for("rtk-slice-createasyncthunk");function X$(t,e){return`${t}/${e}`}function Q$({creators:t}={}){var r;const e=(r=t==null?void 0:t.asyncThunk)==null?void 0:r[K$];return function(a){const{name:l,reducerPath:c=l}=a;if(!l)throw new Error(Gl(11));const d=(typeof a.reducers=="function"?a.reducers(eq()):a.reducers)||{},f=Object.keys(d),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},p={addCase(R,L){const I=typeof R=="string"?R:R.type;if(!I)throw new Error(Gl(12));if(I in h.sliceCaseReducersByType)throw new Error(Gl(13));return h.sliceCaseReducersByType[I]=L,p},addMatcher(R,L){return h.sliceMatchers.push({matcher:R,reducer:L}),p},exposeAction(R,L){return h.actionCreators[R]=L,p},exposeCaseReducer(R,L){return h.sliceCaseReducersByName[R]=L,p}};f.forEach(R=>{const L=d[R],I={reducerName:R,type:X$(l,R),createNotation:typeof a.reducers=="function"};sq(L)?nq(I,L,p,e):tq(I,L,p)});function g(){const[R={},L=[],I=void 0]=typeof a.extraReducers=="function"?LT(a.extraReducers):[a.extraReducers],T={...R,...h.sliceCaseReducersByType};return $$(a.initialState,O=>{for(let P in T)O.addCase(P,T[P]);for(let P of h.sliceMatchers)O.addMatcher(P.matcher,P.reducer);for(let P of L)O.addMatcher(P.matcher,P.reducer);I&&O.addDefaultCase(I)})}const y=R=>R,b=new Map,j=new WeakMap;let w;function _(R,L){return w||(w=g()),w(R,L)}function E(){return w||(w=g()),w.getInitialState()}function S(R,L=!1){function I(O){let P=O[R];return typeof P>"u"&&L&&(P=Tx(j,I,E)),P}function T(O=y){const P=Tx(b,L,()=>new WeakMap);return Tx(P,O,()=>{const X={};for(const[A,z]of Object.entries(a.selectors??{}))X[A]=J$(z,O,()=>Tx(j,O,E),L);return X})}return{reducerPath:R,getSelectors:T,get selectors(){return T(I)},selectSlice:I}}const k={name:l,reducer:_,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:E,...S(c),injectInto(R,{reducerPath:L,...I}={}){const T=L??c;return R.inject({reducerPath:T,reducer:_},I),{...k,...S(T,!0)}}};return k}}function J$(t,e,r,n){function a(l,...c){let d=e(l);return typeof d>"u"&&n&&(d=r()),t(d,...c)}return a.unwrapped=t,a}var IT=Q$();function eq(){function t(e,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...r}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...r){return e(...r)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:r}},asyncThunk:t}}function tq({type:t,reducerName:e,createNotation:r},n,a){let l,c;if("reducer"in n){if(r&&!rq(n))throw new Error(Gl(17));l=n.reducer,c=n.prepare}else l=n;a.addCase(t,l).exposeCaseReducer(e,l).exposeAction(e,c?rm(t,c):rm(t))}function sq(t){return t._reducerDefinitionType==="asyncThunk"}function rq(t){return t._reducerDefinitionType==="reducerWithPrepare"}function nq({type:t,reducerName:e},r,n,a){if(!a)throw new Error(Gl(18));const{payloadCreator:l,fulfilled:c,pending:d,rejected:f,settled:h,options:p}=r,g=a(t,l,p);n.exposeAction(e,g),c&&n.addCase(g.fulfilled,c),d&&n.addCase(g.pending,d),f&&n.addCase(g.rejected,f),h&&n.addMatcher(g.settled,h),n.exposeCaseReducer(e,{fulfilled:c||Rx,pending:d||Rx,rejected:f||Rx,settled:h||Rx})}function Rx(){}function Gl(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var IN="persist:",UN="persist/FLUSH",Ay="persist/REHYDRATE",FN="persist/PAUSE",zN="persist/PERSIST",$N="persist/PURGE",qN="persist/REGISTER",aq=-1;function cg(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?cg=function(r){return typeof r}:cg=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},cg(t)}function Nk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function iq(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Nk(r,!0).forEach(function(n){lq(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Nk(r).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lq(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oq(t,e,r,n){n.debug;var a=iq({},r);return t&&cg(t)==="object"&&Object.keys(t).forEach(function(l){l!=="_persist"&&e[l]===r[l]&&(a[l]=t[l])}),a}function cq(t){var e=t.blacklist||null,r=t.whitelist||null,n=t.transforms||[],a=t.throttle||0,l="".concat(t.keyPrefix!==void 0?t.keyPrefix:IN).concat(t.key),c=t.storage,d;t.serialize===!1?d=function(L){return L}:typeof t.serialize=="function"?d=t.serialize:d=dq;var f=t.writeFailHandler||null,h={},p={},g=[],y=null,b=null,j=function(L){Object.keys(L).forEach(function(I){E(I)&&h[I]!==L[I]&&g.indexOf(I)===-1&&g.push(I)}),Object.keys(h).forEach(function(I){L[I]===void 0&&E(I)&&g.indexOf(I)===-1&&h[I]!==void 0&&g.push(I)}),y===null&&(y=setInterval(w,a)),h=L};function w(){if(g.length===0){y&&clearInterval(y),y=null;return}var R=g.shift(),L=n.reduce(function(I,T){return T.in(I,R,h)},h[R]);if(L!==void 0)try{p[R]=d(L)}catch(I){console.error("redux-persist/createPersistoid: error serializing state",I)}else delete p[R];g.length===0&&_()}function _(){Object.keys(p).forEach(function(R){h[R]===void 0&&delete p[R]}),b=c.setItem(l,d(p)).catch(S)}function E(R){return!(r&&r.indexOf(R)===-1&&R!=="_persist"||e&&e.indexOf(R)!==-1)}function S(R){f&&f(R)}var k=function(){for(;g.length!==0;)w();return b||Promise.resolve()};return{update:j,flush:k}}function dq(t){return JSON.stringify(t)}function uq(t){var e=t.transforms||[],r="".concat(t.keyPrefix!==void 0?t.keyPrefix:IN).concat(t.key),n=t.storage;t.debug;var a;return t.deserialize===!1?a=function(c){return c}:typeof t.deserialize=="function"?a=t.deserialize:a=fq,n.getItem(r).then(function(l){if(l)try{var c={},d=a(l);return Object.keys(d).forEach(function(f){c[f]=e.reduceRight(function(h,p){return p.out(h,f,d)},a(d[f]))}),c}catch(f){throw f}else return})}function fq(t){return JSON.parse(t)}function hq(t){var e=t.storage,r="".concat(t.keyPrefix!==void 0?t.keyPrefix:IN).concat(t.key);return e.removeItem(r,mq)}function mq(t){}function _k(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ul(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_k(r,!0).forEach(function(n){pq(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_k(r).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pq(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xq(t,e){if(t==null)return{};var r=gq(t,e),n,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)n=l[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function gq(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,l;for(l=0;l<n.length;l++)a=n[l],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}var yq=5e3;function vq(t,e){var r=t.version!==void 0?t.version:aq;t.debug;var n=t.stateReconciler===void 0?oq:t.stateReconciler,a=t.getStoredState||uq,l=t.timeout!==void 0?t.timeout:yq,c=null,d=!1,f=!0,h=function(g){return g._persist.rehydrated&&c&&!f&&c.update(g),g};return function(p,g){var y=p||{},b=y._persist,j=xq(y,["_persist"]),w=j;if(g.type===zN){var _=!1,E=function(O,P){_||(g.rehydrate(t.key,O,P),_=!0)};if(l&&setTimeout(function(){!_&&E(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(t.key,'"')))},l),f=!1,c||(c=cq(t)),b)return Ul({},e(w,g),{_persist:b});if(typeof g.rehydrate!="function"||typeof g.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return g.register(t.key),a(t).then(function(T){var O=t.migrate||function(P,X){return Promise.resolve(P)};O(T,r).then(function(P){E(P)},function(P){E(void 0,P)})},function(T){E(void 0,T)}),Ul({},e(w,g),{_persist:{version:r,rehydrated:!1}})}else{if(g.type===$N)return d=!0,g.result(hq(t)),Ul({},e(w,g),{_persist:b});if(g.type===UN)return g.result(c&&c.flush()),Ul({},e(w,g),{_persist:b});if(g.type===FN)f=!0;else if(g.type===Ay){if(d)return Ul({},w,{_persist:Ul({},b,{rehydrated:!0})});if(g.key===t.key){var S=e(w,g),k=g.payload,R=n!==!1&&k!==void 0?n(k,p,S,t):S,L=Ul({},R,{_persist:Ul({},b,{rehydrated:!0})});return h(L)}}}if(!b)return e(p,g);var I=e(w,g);return I===w?p:h(Ul({},I,{_persist:b}))}}function Sk(t){return wq(t)||jq(t)||bq()}function bq(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function jq(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function wq(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}function Ek(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function uw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ek(r,!0).forEach(function(n){Nq(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ek(r).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Nq(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var UT={registry:[],bootstrapped:!1},_q=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:UT,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case qN:return uw({},e,{registry:[].concat(Sk(e.registry),[r.key])});case Ay:var n=e.registry.indexOf(r.key),a=Sk(e.registry);return a.splice(n,1),uw({},e,{registry:a,bootstrapped:a.length===0});default:return e}};function Sq(t,e,r){var n=MN(_q,UT,void 0),a=function(f){n.dispatch({type:qN,key:f})},l=function(f,h,p){var g={type:Ay,payload:h,err:p,key:f};t.dispatch(g),n.dispatch(g)},c=uw({},n,{purge:function(){var f=[];return t.dispatch({type:$N,result:function(p){f.push(p)}}),Promise.all(f)},flush:function(){var f=[];return t.dispatch({type:UN,result:function(p){f.push(p)}}),Promise.all(f)},pause:function(){t.dispatch({type:FN})},persist:function(){t.dispatch({type:zN,register:a,rehydrate:l})}});return c.persist(),c}var Uh={},Dx={},Ox={},kk;function Eq(){if(kk)return Ox;kk=1,Ox.__esModule=!0,Ox.default=a;function t(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(d){return typeof d}:t=function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},t(l)}function e(){}var r={getItem:e,setItem:e,removeItem:e};function n(l){if((typeof self>"u"?"undefined":t(self))!=="object"||!(l in self))return!1;try{var c=self[l],d="redux-persist ".concat(l," test");c.setItem(d,"test"),c.getItem(d),c.removeItem(d)}catch{return!1}return!0}function a(l){var c="".concat(l,"Storage");return n(c)?self[c]:r}return Ox}var Ck;function kq(){if(Ck)return Dx;Ck=1,Dx.__esModule=!0,Dx.default=r;var t=e(Eq());function e(n){return n&&n.__esModule?n:{default:n}}function r(n){var a=(0,t.default)(n);return{getItem:function(c){return new Promise(function(d,f){d(a.getItem(c))})},setItem:function(c,d){return new Promise(function(f,h){f(a.setItem(c,d))})},removeItem:function(c){return new Promise(function(d,f){d(a.removeItem(c))})}}}return Dx}var Ak;function Cq(){if(Ak)return Uh;Ak=1,Uh.__esModule=!0,Uh.default=void 0;var t=e(kq());function e(n){return n&&n.__esModule?n:{default:n}}var r=(0,t.default)("local");return Uh.default=r,Uh}var Aq=Cq();const Tq=bc(Aq);function FT(t,e){return function(){return t.apply(e,arguments)}}const{toString:Rq}=Object.prototype,{getPrototypeOf:BN}=Object,{iterator:Ty,toStringTag:zT}=Symbol,Ry=(t=>e=>{const r=Rq.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Ri=t=>(t=t.toLowerCase(),e=>Ry(e)===t),Dy=t=>e=>typeof e===t,{isArray:Cf}=Array,gm=Dy("undefined");function Dq(t){return t!==null&&!gm(t)&&t.constructor!==null&&!gm(t.constructor)&&Kn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const $T=Ri("ArrayBuffer");function Oq(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&$T(t.buffer),e}const Mq=Dy("string"),Kn=Dy("function"),qT=Dy("number"),Oy=t=>t!==null&&typeof t=="object",Pq=t=>t===!0||t===!1,dg=t=>{if(Ry(t)!=="object")return!1;const e=BN(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(zT in t)&&!(Ty in t)},Lq=Ri("Date"),Iq=Ri("File"),Uq=Ri("Blob"),Fq=Ri("FileList"),zq=t=>Oy(t)&&Kn(t.pipe),$q=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Kn(t.append)&&((e=Ry(t))==="formdata"||e==="object"&&Kn(t.toString)&&t.toString()==="[object FormData]"))},qq=Ri("URLSearchParams"),[Bq,Hq,Vq,Yq]=["ReadableStream","Request","Response","Headers"].map(Ri),Wq=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function tp(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,a;if(typeof t!="object"&&(t=[t]),Cf(t))for(n=0,a=t.length;n<a;n++)e.call(null,t[n],n,t);else{const l=r?Object.getOwnPropertyNames(t):Object.keys(t),c=l.length;let d;for(n=0;n<c;n++)d=l[n],e.call(null,t[d],d,t)}}function BT(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,a;for(;n-- >0;)if(a=r[n],e===a.toLowerCase())return a;return null}const sd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,HT=t=>!gm(t)&&t!==sd;function fw(){const{caseless:t}=HT(this)&&this||{},e={},r=(n,a)=>{const l=t&&BT(e,a)||a;dg(e[l])&&dg(n)?e[l]=fw(e[l],n):dg(n)?e[l]=fw({},n):Cf(n)?e[l]=n.slice():e[l]=n};for(let n=0,a=arguments.length;n<a;n++)arguments[n]&&tp(arguments[n],r);return e}const Gq=(t,e,r,{allOwnKeys:n}={})=>(tp(e,(a,l)=>{r&&Kn(a)?t[l]=FT(a,r):t[l]=a},{allOwnKeys:n}),t),Zq=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Kq=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},Xq=(t,e,r,n)=>{let a,l,c;const d={};if(e=e||{},t==null)return e;do{for(a=Object.getOwnPropertyNames(t),l=a.length;l-- >0;)c=a[l],(!n||n(c,t,e))&&!d[c]&&(e[c]=t[c],d[c]=!0);t=r!==!1&&BN(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},Qq=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},Jq=t=>{if(!t)return null;if(Cf(t))return t;let e=t.length;if(!qT(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},e9=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&BN(Uint8Array)),t9=(t,e)=>{const n=(t&&t[Ty]).call(t);let a;for(;(a=n.next())&&!a.done;){const l=a.value;e.call(t,l[0],l[1])}},s9=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},r9=Ri("HTMLFormElement"),n9=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),Tk=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),a9=Ri("RegExp"),VT=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};tp(r,(a,l)=>{let c;(c=e(a,l,t))!==!1&&(n[l]=c||a)}),Object.defineProperties(t,n)},i9=t=>{VT(t,(e,r)=>{if(Kn(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(Kn(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},l9=(t,e)=>{const r={},n=a=>{a.forEach(l=>{r[l]=!0})};return Cf(t)?n(t):n(String(t).split(e)),r},o9=()=>{},c9=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function d9(t){return!!(t&&Kn(t.append)&&t[zT]==="FormData"&&t[Ty])}const u9=t=>{const e=new Array(10),r=(n,a)=>{if(Oy(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[a]=n;const l=Cf(n)?[]:{};return tp(n,(c,d)=>{const f=r(c,a+1);!gm(f)&&(l[d]=f)}),e[a]=void 0,l}}return n};return r(t,0)},f9=Ri("AsyncFunction"),h9=t=>t&&(Oy(t)||Kn(t))&&Kn(t.then)&&Kn(t.catch),YT=((t,e)=>t?setImmediate:e?((r,n)=>(sd.addEventListener("message",({source:a,data:l})=>{a===sd&&l===r&&n.length&&n.shift()()},!1),a=>{n.push(a),sd.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Kn(sd.postMessage)),m9=typeof queueMicrotask<"u"?queueMicrotask.bind(sd):typeof process<"u"&&process.nextTick||YT,p9=t=>t!=null&&Kn(t[Ty]),ke={isArray:Cf,isArrayBuffer:$T,isBuffer:Dq,isFormData:$q,isArrayBufferView:Oq,isString:Mq,isNumber:qT,isBoolean:Pq,isObject:Oy,isPlainObject:dg,isReadableStream:Bq,isRequest:Hq,isResponse:Vq,isHeaders:Yq,isUndefined:gm,isDate:Lq,isFile:Iq,isBlob:Uq,isRegExp:a9,isFunction:Kn,isStream:zq,isURLSearchParams:qq,isTypedArray:e9,isFileList:Fq,forEach:tp,merge:fw,extend:Gq,trim:Wq,stripBOM:Zq,inherits:Kq,toFlatObject:Xq,kindOf:Ry,kindOfTest:Ri,endsWith:Qq,toArray:Jq,forEachEntry:t9,matchAll:s9,isHTMLForm:r9,hasOwnProperty:Tk,hasOwnProp:Tk,reduceDescriptors:VT,freezeMethods:i9,toObjectSet:l9,toCamelCase:n9,noop:o9,toFiniteNumber:c9,findKey:BT,global:sd,isContextDefined:HT,isSpecCompliantForm:d9,toJSONObject:u9,isAsyncFn:f9,isThenable:h9,setImmediate:YT,asap:m9,isIterable:p9};function Ft(t,e,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}ke.inherits(Ft,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ke.toJSONObject(this.config),code:this.code,status:this.status}}});const WT=Ft.prototype,GT={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{GT[t]={value:t}});Object.defineProperties(Ft,GT);Object.defineProperty(WT,"isAxiosError",{value:!0});Ft.from=(t,e,r,n,a,l)=>{const c=Object.create(WT);return ke.toFlatObject(t,c,function(f){return f!==Error.prototype},d=>d!=="isAxiosError"),Ft.call(c,t.message,e,r,n,a),c.cause=t,c.name=t.name,l&&Object.assign(c,l),c};const x9=null;function hw(t){return ke.isPlainObject(t)||ke.isArray(t)}function ZT(t){return ke.endsWith(t,"[]")?t.slice(0,-2):t}function Rk(t,e,r){return t?t.concat(e).map(function(a,l){return a=ZT(a),!r&&l?"["+a+"]":a}).join(r?".":""):e}function g9(t){return ke.isArray(t)&&!t.some(hw)}const y9=ke.toFlatObject(ke,{},null,function(e){return/^is[A-Z]/.test(e)});function My(t,e,r){if(!ke.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=ke.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,_){return!ke.isUndefined(_[w])});const n=r.metaTokens,a=r.visitor||p,l=r.dots,c=r.indexes,f=(r.Blob||typeof Blob<"u"&&Blob)&&ke.isSpecCompliantForm(e);if(!ke.isFunction(a))throw new TypeError("visitor must be a function");function h(j){if(j===null)return"";if(ke.isDate(j))return j.toISOString();if(!f&&ke.isBlob(j))throw new Ft("Blob is not supported. Use a Buffer instead.");return ke.isArrayBuffer(j)||ke.isTypedArray(j)?f&&typeof Blob=="function"?new Blob([j]):Buffer.from(j):j}function p(j,w,_){let E=j;if(j&&!_&&typeof j=="object"){if(ke.endsWith(w,"{}"))w=n?w:w.slice(0,-2),j=JSON.stringify(j);else if(ke.isArray(j)&&g9(j)||(ke.isFileList(j)||ke.endsWith(w,"[]"))&&(E=ke.toArray(j)))return w=ZT(w),E.forEach(function(k,R){!(ke.isUndefined(k)||k===null)&&e.append(c===!0?Rk([w],R,l):c===null?w:w+"[]",h(k))}),!1}return hw(j)?!0:(e.append(Rk(_,w,l),h(j)),!1)}const g=[],y=Object.assign(y9,{defaultVisitor:p,convertValue:h,isVisitable:hw});function b(j,w){if(!ke.isUndefined(j)){if(g.indexOf(j)!==-1)throw Error("Circular reference detected in "+w.join("."));g.push(j),ke.forEach(j,function(E,S){(!(ke.isUndefined(E)||E===null)&&a.call(e,E,ke.isString(S)?S.trim():S,w,y))===!0&&b(E,w?w.concat(S):[S])}),g.pop()}}if(!ke.isObject(t))throw new TypeError("data must be an object");return b(t),e}function Dk(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function HN(t,e){this._pairs=[],t&&My(t,this,e)}const KT=HN.prototype;KT.append=function(e,r){this._pairs.push([e,r])};KT.toString=function(e){const r=e?function(n){return e.call(this,n,Dk)}:Dk;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function v9(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function XT(t,e,r){if(!e)return t;const n=r&&r.encode||v9;ke.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let l;if(a?l=a(e,r):l=ke.isURLSearchParams(e)?e.toString():new HN(e,r).toString(n),l){const c=t.indexOf("#");c!==-1&&(t=t.slice(0,c)),t+=(t.indexOf("?")===-1?"?":"&")+l}return t}class Ok{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ke.forEach(this.handlers,function(n){n!==null&&e(n)})}}const QT={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},b9=typeof URLSearchParams<"u"?URLSearchParams:HN,j9=typeof FormData<"u"?FormData:null,w9=typeof Blob<"u"?Blob:null,N9={isBrowser:!0,classes:{URLSearchParams:b9,FormData:j9,Blob:w9},protocols:["http","https","file","blob","url","data"]},VN=typeof window<"u"&&typeof document<"u",mw=typeof navigator=="object"&&navigator||void 0,_9=VN&&(!mw||["ReactNative","NativeScript","NS"].indexOf(mw.product)<0),S9=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",E9=VN&&window.location.href||"http://localhost",k9=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:VN,hasStandardBrowserEnv:_9,hasStandardBrowserWebWorkerEnv:S9,navigator:mw,origin:E9},Symbol.toStringTag,{value:"Module"})),En={...k9,...N9};function C9(t,e){return My(t,new En.classes.URLSearchParams,Object.assign({visitor:function(r,n,a,l){return En.isNode&&ke.isBuffer(r)?(this.append(n,r.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)}},e))}function A9(t){return ke.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function T9(t){const e={},r=Object.keys(t);let n;const a=r.length;let l;for(n=0;n<a;n++)l=r[n],e[l]=t[l];return e}function JT(t){function e(r,n,a,l){let c=r[l++];if(c==="__proto__")return!0;const d=Number.isFinite(+c),f=l>=r.length;return c=!c&&ke.isArray(a)?a.length:c,f?(ke.hasOwnProp(a,c)?a[c]=[a[c],n]:a[c]=n,!d):((!a[c]||!ke.isObject(a[c]))&&(a[c]=[]),e(r,n,a[c],l)&&ke.isArray(a[c])&&(a[c]=T9(a[c])),!d)}if(ke.isFormData(t)&&ke.isFunction(t.entries)){const r={};return ke.forEachEntry(t,(n,a)=>{e(A9(n),a,r,0)}),r}return null}function R9(t,e,r){if(ke.isString(t))try{return(e||JSON.parse)(t),ke.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const sp={transitional:QT,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,l=ke.isObject(e);if(l&&ke.isHTMLForm(e)&&(e=new FormData(e)),ke.isFormData(e))return a?JSON.stringify(JT(e)):e;if(ke.isArrayBuffer(e)||ke.isBuffer(e)||ke.isStream(e)||ke.isFile(e)||ke.isBlob(e)||ke.isReadableStream(e))return e;if(ke.isArrayBufferView(e))return e.buffer;if(ke.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let d;if(l){if(n.indexOf("application/x-www-form-urlencoded")>-1)return C9(e,this.formSerializer).toString();if((d=ke.isFileList(e))||n.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return My(d?{"files[]":e}:e,f&&new f,this.formSerializer)}}return l||a?(r.setContentType("application/json",!1),R9(e)):e}],transformResponse:[function(e){const r=this.transitional||sp.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(ke.isResponse(e)||ke.isReadableStream(e))return e;if(e&&ke.isString(e)&&(n&&!this.responseType||a)){const c=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(d){if(c)throw d.name==="SyntaxError"?Ft.from(d,Ft.ERR_BAD_RESPONSE,this,null,this.response):d}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:En.classes.FormData,Blob:En.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ke.forEach(["delete","get","head","post","put","patch"],t=>{sp.headers[t]={}});const D9=ke.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),O9=t=>{const e={};let r,n,a;return t&&t.split(`
`).forEach(function(c){a=c.indexOf(":"),r=c.substring(0,a).trim().toLowerCase(),n=c.substring(a+1).trim(),!(!r||e[r]&&D9[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},Mk=Symbol("internals");function Fh(t){return t&&String(t).trim().toLowerCase()}function ug(t){return t===!1||t==null?t:ke.isArray(t)?t.map(ug):String(t)}function M9(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const P9=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Zj(t,e,r,n,a){if(ke.isFunction(n))return n.call(this,e,r);if(a&&(e=r),!!ke.isString(e)){if(ke.isString(n))return e.indexOf(n)!==-1;if(ke.isRegExp(n))return n.test(e)}}function L9(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function I9(t,e){const r=ke.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(a,l,c){return this[n].call(this,e,a,l,c)},configurable:!0})})}let Xn=class{constructor(e){e&&this.set(e)}set(e,r,n){const a=this;function l(d,f,h){const p=Fh(f);if(!p)throw new Error("header name must be a non-empty string");const g=ke.findKey(a,p);(!g||a[g]===void 0||h===!0||h===void 0&&a[g]!==!1)&&(a[g||f]=ug(d))}const c=(d,f)=>ke.forEach(d,(h,p)=>l(h,p,f));if(ke.isPlainObject(e)||e instanceof this.constructor)c(e,r);else if(ke.isString(e)&&(e=e.trim())&&!P9(e))c(O9(e),r);else if(ke.isObject(e)&&ke.isIterable(e)){let d={},f,h;for(const p of e){if(!ke.isArray(p))throw TypeError("Object iterator must return a key-value pair");d[h=p[0]]=(f=d[h])?ke.isArray(f)?[...f,p[1]]:[f,p[1]]:p[1]}c(d,r)}else e!=null&&l(r,e,n);return this}get(e,r){if(e=Fh(e),e){const n=ke.findKey(this,e);if(n){const a=this[n];if(!r)return a;if(r===!0)return M9(a);if(ke.isFunction(r))return r.call(this,a,n);if(ke.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Fh(e),e){const n=ke.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||Zj(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let a=!1;function l(c){if(c=Fh(c),c){const d=ke.findKey(n,c);d&&(!r||Zj(n,n[d],d,r))&&(delete n[d],a=!0)}}return ke.isArray(e)?e.forEach(l):l(e),a}clear(e){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const l=r[n];(!e||Zj(this,this[l],l,e,!0))&&(delete this[l],a=!0)}return a}normalize(e){const r=this,n={};return ke.forEach(this,(a,l)=>{const c=ke.findKey(n,l);if(c){r[c]=ug(a),delete r[l];return}const d=e?L9(l):String(l).trim();d!==l&&delete r[l],r[d]=ug(a),n[d]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return ke.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=e&&ke.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(a=>n.set(a)),n}static accessor(e){const n=(this[Mk]=this[Mk]={accessors:{}}).accessors,a=this.prototype;function l(c){const d=Fh(c);n[d]||(I9(a,c),n[d]=!0)}return ke.isArray(e)?e.forEach(l):l(e),this}};Xn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ke.reduceDescriptors(Xn.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});ke.freezeMethods(Xn);function Kj(t,e){const r=this||sp,n=e||r,a=Xn.from(n.headers);let l=n.data;return ke.forEach(t,function(d){l=d.call(r,l,a.normalize(),e?e.status:void 0)}),a.normalize(),l}function eR(t){return!!(t&&t.__CANCEL__)}function Af(t,e,r){Ft.call(this,t??"canceled",Ft.ERR_CANCELED,e,r),this.name="CanceledError"}ke.inherits(Af,Ft,{__CANCEL__:!0});function tR(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new Ft("Request failed with status code "+r.status,[Ft.ERR_BAD_REQUEST,Ft.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function U9(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function F9(t,e){t=t||10;const r=new Array(t),n=new Array(t);let a=0,l=0,c;return e=e!==void 0?e:1e3,function(f){const h=Date.now(),p=n[l];c||(c=h),r[a]=f,n[a]=h;let g=l,y=0;for(;g!==a;)y+=r[g++],g=g%t;if(a=(a+1)%t,a===l&&(l=(l+1)%t),h-c<e)return;const b=p&&h-p;return b?Math.round(y*1e3/b):void 0}}function z9(t,e){let r=0,n=1e3/e,a,l;const c=(h,p=Date.now())=>{r=p,a=null,l&&(clearTimeout(l),l=null),t.apply(null,h)};return[(...h)=>{const p=Date.now(),g=p-r;g>=n?c(h,p):(a=h,l||(l=setTimeout(()=>{l=null,c(a)},n-g)))},()=>a&&c(a)]}const Ig=(t,e,r=3)=>{let n=0;const a=F9(50,250);return z9(l=>{const c=l.loaded,d=l.lengthComputable?l.total:void 0,f=c-n,h=a(f),p=c<=d;n=c;const g={loaded:c,total:d,progress:d?c/d:void 0,bytes:f,rate:h||void 0,estimated:h&&d&&p?(d-c)/h:void 0,event:l,lengthComputable:d!=null,[e?"download":"upload"]:!0};t(g)},r)},Pk=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},Lk=t=>(...e)=>ke.asap(()=>t(...e)),$9=En.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,En.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(En.origin),En.navigator&&/(msie|trident)/i.test(En.navigator.userAgent)):()=>!0,q9=En.hasStandardBrowserEnv?{write(t,e,r,n,a,l){const c=[t+"="+encodeURIComponent(e)];ke.isNumber(r)&&c.push("expires="+new Date(r).toGMTString()),ke.isString(n)&&c.push("path="+n),ke.isString(a)&&c.push("domain="+a),l===!0&&c.push("secure"),document.cookie=c.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function B9(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function H9(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function sR(t,e,r){let n=!B9(e);return t&&(n||r==!1)?H9(t,e):e}const Ik=t=>t instanceof Xn?{...t}:t;function md(t,e){e=e||{};const r={};function n(h,p,g,y){return ke.isPlainObject(h)&&ke.isPlainObject(p)?ke.merge.call({caseless:y},h,p):ke.isPlainObject(p)?ke.merge({},p):ke.isArray(p)?p.slice():p}function a(h,p,g,y){if(ke.isUndefined(p)){if(!ke.isUndefined(h))return n(void 0,h,g,y)}else return n(h,p,g,y)}function l(h,p){if(!ke.isUndefined(p))return n(void 0,p)}function c(h,p){if(ke.isUndefined(p)){if(!ke.isUndefined(h))return n(void 0,h)}else return n(void 0,p)}function d(h,p,g){if(g in e)return n(h,p);if(g in t)return n(void 0,h)}const f={url:l,method:l,data:l,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:d,headers:(h,p,g)=>a(Ik(h),Ik(p),g,!0)};return ke.forEach(Object.keys(Object.assign({},t,e)),function(p){const g=f[p]||a,y=g(t[p],e[p],p);ke.isUndefined(y)&&g!==d||(r[p]=y)}),r}const rR=t=>{const e=md({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:l,headers:c,auth:d}=e;e.headers=c=Xn.from(c),e.url=XT(sR(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),d&&c.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):"")));let f;if(ke.isFormData(r)){if(En.hasStandardBrowserEnv||En.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if((f=c.getContentType())!==!1){const[h,...p]=f?f.split(";").map(g=>g.trim()).filter(Boolean):[];c.setContentType([h||"multipart/form-data",...p].join("; "))}}if(En.hasStandardBrowserEnv&&(n&&ke.isFunction(n)&&(n=n(e)),n||n!==!1&&$9(e.url))){const h=a&&l&&q9.read(l);h&&c.set(a,h)}return e},V9=typeof XMLHttpRequest<"u",Y9=V9&&function(t){return new Promise(function(r,n){const a=rR(t);let l=a.data;const c=Xn.from(a.headers).normalize();let{responseType:d,onUploadProgress:f,onDownloadProgress:h}=a,p,g,y,b,j;function w(){b&&b(),j&&j(),a.cancelToken&&a.cancelToken.unsubscribe(p),a.signal&&a.signal.removeEventListener("abort",p)}let _=new XMLHttpRequest;_.open(a.method.toUpperCase(),a.url,!0),_.timeout=a.timeout;function E(){if(!_)return;const k=Xn.from("getAllResponseHeaders"in _&&_.getAllResponseHeaders()),L={data:!d||d==="text"||d==="json"?_.responseText:_.response,status:_.status,statusText:_.statusText,headers:k,config:t,request:_};tR(function(T){r(T),w()},function(T){n(T),w()},L),_=null}"onloadend"in _?_.onloadend=E:_.onreadystatechange=function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(E)},_.onabort=function(){_&&(n(new Ft("Request aborted",Ft.ECONNABORTED,t,_)),_=null)},_.onerror=function(){n(new Ft("Network Error",Ft.ERR_NETWORK,t,_)),_=null},_.ontimeout=function(){let R=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const L=a.transitional||QT;a.timeoutErrorMessage&&(R=a.timeoutErrorMessage),n(new Ft(R,L.clarifyTimeoutError?Ft.ETIMEDOUT:Ft.ECONNABORTED,t,_)),_=null},l===void 0&&c.setContentType(null),"setRequestHeader"in _&&ke.forEach(c.toJSON(),function(R,L){_.setRequestHeader(L,R)}),ke.isUndefined(a.withCredentials)||(_.withCredentials=!!a.withCredentials),d&&d!=="json"&&(_.responseType=a.responseType),h&&([y,j]=Ig(h,!0),_.addEventListener("progress",y)),f&&_.upload&&([g,b]=Ig(f),_.upload.addEventListener("progress",g),_.upload.addEventListener("loadend",b)),(a.cancelToken||a.signal)&&(p=k=>{_&&(n(!k||k.type?new Af(null,t,_):k),_.abort(),_=null)},a.cancelToken&&a.cancelToken.subscribe(p),a.signal&&(a.signal.aborted?p():a.signal.addEventListener("abort",p)));const S=U9(a.url);if(S&&En.protocols.indexOf(S)===-1){n(new Ft("Unsupported protocol "+S+":",Ft.ERR_BAD_REQUEST,t));return}_.send(l||null)})},W9=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,a;const l=function(h){if(!a){a=!0,d();const p=h instanceof Error?h:this.reason;n.abort(p instanceof Ft?p:new Af(p instanceof Error?p.message:p))}};let c=e&&setTimeout(()=>{c=null,l(new Ft(`timeout ${e} of ms exceeded`,Ft.ETIMEDOUT))},e);const d=()=>{t&&(c&&clearTimeout(c),c=null,t.forEach(h=>{h.unsubscribe?h.unsubscribe(l):h.removeEventListener("abort",l)}),t=null)};t.forEach(h=>h.addEventListener("abort",l));const{signal:f}=n;return f.unsubscribe=()=>ke.asap(d),f}},G9=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,a;for(;n<r;)a=n+e,yield t.slice(n,a),n=a},Z9=async function*(t,e){for await(const r of K9(t))yield*G9(r,e)},K9=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},Uk=(t,e,r,n)=>{const a=Z9(t,e);let l=0,c,d=f=>{c||(c=!0,n&&n(f))};return new ReadableStream({async pull(f){try{const{done:h,value:p}=await a.next();if(h){d(),f.close();return}let g=p.byteLength;if(r){let y=l+=g;r(y)}f.enqueue(new Uint8Array(p))}catch(h){throw d(h),h}},cancel(f){return d(f),a.return()}},{highWaterMark:2})},Py=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",nR=Py&&typeof ReadableStream=="function",X9=Py&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),aR=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Q9=nR&&aR(()=>{let t=!1;const e=new Request(En.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),Fk=64*1024,pw=nR&&aR(()=>ke.isReadableStream(new Response("").body)),Ug={stream:pw&&(t=>t.body)};Py&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Ug[e]&&(Ug[e]=ke.isFunction(t[e])?r=>r[e]():(r,n)=>{throw new Ft(`Response type '${e}' is not supported`,Ft.ERR_NOT_SUPPORT,n)})})})(new Response);const J9=async t=>{if(t==null)return 0;if(ke.isBlob(t))return t.size;if(ke.isSpecCompliantForm(t))return(await new Request(En.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(ke.isArrayBufferView(t)||ke.isArrayBuffer(t))return t.byteLength;if(ke.isURLSearchParams(t)&&(t=t+""),ke.isString(t))return(await X9(t)).byteLength},e7=async(t,e)=>{const r=ke.toFiniteNumber(t.getContentLength());return r??J9(e)},t7=Py&&(async t=>{let{url:e,method:r,data:n,signal:a,cancelToken:l,timeout:c,onDownloadProgress:d,onUploadProgress:f,responseType:h,headers:p,withCredentials:g="same-origin",fetchOptions:y}=rR(t);h=h?(h+"").toLowerCase():"text";let b=W9([a,l&&l.toAbortSignal()],c),j;const w=b&&b.unsubscribe&&(()=>{b.unsubscribe()});let _;try{if(f&&Q9&&r!=="get"&&r!=="head"&&(_=await e7(p,n))!==0){let L=new Request(e,{method:"POST",body:n,duplex:"half"}),I;if(ke.isFormData(n)&&(I=L.headers.get("content-type"))&&p.setContentType(I),L.body){const[T,O]=Pk(_,Ig(Lk(f)));n=Uk(L.body,Fk,T,O)}}ke.isString(g)||(g=g?"include":"omit");const E="credentials"in Request.prototype;j=new Request(e,{...y,signal:b,method:r.toUpperCase(),headers:p.normalize().toJSON(),body:n,duplex:"half",credentials:E?g:void 0});let S=await fetch(j);const k=pw&&(h==="stream"||h==="response");if(pw&&(d||k&&w)){const L={};["status","statusText","headers"].forEach(P=>{L[P]=S[P]});const I=ke.toFiniteNumber(S.headers.get("content-length")),[T,O]=d&&Pk(I,Ig(Lk(d),!0))||[];S=new Response(Uk(S.body,Fk,T,()=>{O&&O(),w&&w()}),L)}h=h||"text";let R=await Ug[ke.findKey(Ug,h)||"text"](S,t);return!k&&w&&w(),await new Promise((L,I)=>{tR(L,I,{data:R,headers:Xn.from(S.headers),status:S.status,statusText:S.statusText,config:t,request:j})})}catch(E){throw w&&w(),E&&E.name==="TypeError"&&/Load failed|fetch/i.test(E.message)?Object.assign(new Ft("Network Error",Ft.ERR_NETWORK,t,j),{cause:E.cause||E}):Ft.from(E,E&&E.code,t,j)}}),xw={http:x9,xhr:Y9,fetch:t7};ke.forEach(xw,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const zk=t=>`- ${t}`,s7=t=>ke.isFunction(t)||t===null||t===!1,iR={getAdapter:t=>{t=ke.isArray(t)?t:[t];const{length:e}=t;let r,n;const a={};for(let l=0;l<e;l++){r=t[l];let c;if(n=r,!s7(r)&&(n=xw[(c=String(r)).toLowerCase()],n===void 0))throw new Ft(`Unknown adapter '${c}'`);if(n)break;a[c||"#"+l]=n}if(!n){const l=Object.entries(a).map(([d,f])=>`adapter ${d} `+(f===!1?"is not supported by the environment":"is not available in the build"));let c=e?l.length>1?`since :
`+l.map(zk).join(`
`):" "+zk(l[0]):"as no adapter specified";throw new Ft("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return n},adapters:xw};function Xj(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Af(null,t)}function $k(t){return Xj(t),t.headers=Xn.from(t.headers),t.data=Kj.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),iR.getAdapter(t.adapter||sp.adapter)(t).then(function(n){return Xj(t),n.data=Kj.call(t,t.transformResponse,n),n.headers=Xn.from(n.headers),n},function(n){return eR(n)||(Xj(t),n&&n.response&&(n.response.data=Kj.call(t,t.transformResponse,n.response),n.response.headers=Xn.from(n.response.headers))),Promise.reject(n)})}const lR="1.9.0",Ly={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Ly[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const qk={};Ly.transitional=function(e,r,n){function a(l,c){return"[Axios v"+lR+"] Transitional option '"+l+"'"+c+(n?". "+n:"")}return(l,c,d)=>{if(e===!1)throw new Ft(a(c," has been removed"+(r?" in "+r:"")),Ft.ERR_DEPRECATED);return r&&!qk[c]&&(qk[c]=!0,console.warn(a(c," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(l,c,d):!0}};Ly.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function r7(t,e,r){if(typeof t!="object")throw new Ft("options must be an object",Ft.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let a=n.length;for(;a-- >0;){const l=n[a],c=e[l];if(c){const d=t[l],f=d===void 0||c(d,l,t);if(f!==!0)throw new Ft("option "+l+" must be "+f,Ft.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Ft("Unknown option "+l,Ft.ERR_BAD_OPTION)}}const fg={assertOptions:r7,validators:Ly},Qi=fg.validators;let id=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Ok,response:new Ok}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const l=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?l&&!String(n.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+l):n.stack=l}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=md(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:l}=r;n!==void 0&&fg.assertOptions(n,{silentJSONParsing:Qi.transitional(Qi.boolean),forcedJSONParsing:Qi.transitional(Qi.boolean),clarifyTimeoutError:Qi.transitional(Qi.boolean)},!1),a!=null&&(ke.isFunction(a)?r.paramsSerializer={serialize:a}:fg.assertOptions(a,{encode:Qi.function,serialize:Qi.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),fg.assertOptions(r,{baseUrl:Qi.spelling("baseURL"),withXsrfToken:Qi.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let c=l&&ke.merge(l.common,l[r.method]);l&&ke.forEach(["delete","get","head","post","put","patch","common"],j=>{delete l[j]}),r.headers=Xn.concat(c,l);const d=[];let f=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(r)===!1||(f=f&&w.synchronous,d.unshift(w.fulfilled,w.rejected))});const h=[];this.interceptors.response.forEach(function(w){h.push(w.fulfilled,w.rejected)});let p,g=0,y;if(!f){const j=[$k.bind(this),void 0];for(j.unshift.apply(j,d),j.push.apply(j,h),y=j.length,p=Promise.resolve(r);g<y;)p=p.then(j[g++],j[g++]);return p}y=d.length;let b=r;for(g=0;g<y;){const j=d[g++],w=d[g++];try{b=j(b)}catch(_){w.call(this,_);break}}try{p=$k.call(this,b)}catch(j){return Promise.reject(j)}for(g=0,y=h.length;g<y;)p=p.then(h[g++],h[g++]);return p}getUri(e){e=md(this.defaults,e);const r=sR(e.baseURL,e.url,e.allowAbsoluteUrls);return XT(r,e.params,e.paramsSerializer)}};ke.forEach(["delete","get","head","options"],function(e){id.prototype[e]=function(r,n){return this.request(md(n||{},{method:e,url:r,data:(n||{}).data}))}});ke.forEach(["post","put","patch"],function(e){function r(n){return function(l,c,d){return this.request(md(d||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:l,data:c}))}}id.prototype[e]=r(),id.prototype[e+"Form"]=r(!0)});let n7=class oR{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(l){r=l});const n=this;this.promise.then(a=>{if(!n._listeners)return;let l=n._listeners.length;for(;l-- >0;)n._listeners[l](a);n._listeners=null}),this.promise.then=a=>{let l;const c=new Promise(d=>{n.subscribe(d),l=d}).then(a);return c.cancel=function(){n.unsubscribe(l)},c},e(function(l,c,d){n.reason||(n.reason=new Af(l,c,d),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new oR(function(a){e=a}),cancel:e}}};function a7(t){return function(r){return t.apply(null,r)}}function i7(t){return ke.isObject(t)&&t.isAxiosError===!0}const gw={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(gw).forEach(([t,e])=>{gw[e]=t});function cR(t){const e=new id(t),r=FT(id.prototype.request,e);return ke.extend(r,id.prototype,e,{allOwnKeys:!0}),ke.extend(r,e,null,{allOwnKeys:!0}),r.create=function(a){return cR(md(t,a))},r}const cs=cR(sp);cs.Axios=id;cs.CanceledError=Af;cs.CancelToken=n7;cs.isCancel=eR;cs.VERSION=lR;cs.toFormData=My;cs.AxiosError=Ft;cs.Cancel=cs.CanceledError;cs.all=function(e){return Promise.all(e)};cs.spread=a7;cs.isAxiosError=i7;cs.mergeConfig=md;cs.AxiosHeaders=Xn;cs.formToJSON=t=>JT(ke.isHTMLForm(t)?new FormData(t):t);cs.getAdapter=iR.getAdapter;cs.HttpStatusCode=gw;cs.default=cs;const{Axios:gce,AxiosError:yce,CanceledError:vce,isCancel:bce,CancelToken:jce,VERSION:wce,all:Nce,Cancel:_ce,isAxiosError:Sce,spread:Ece,toFormData:kce,AxiosHeaders:Cce,HttpStatusCode:Ace,formToJSON:Tce,getAdapter:Rce,mergeConfig:Dce}=cs,ao="https://api.hrisokoce.site/api/v1";class Zh extends Error{}Zh.prototype.name="InvalidTokenError";function l7(t){return decodeURIComponent(atob(t).replace(/(.)/g,(e,r)=>{let n=r.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}function o7(t){let e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return l7(e)}catch{return atob(e)}}function dR(t,e){if(typeof t!="string")throw new Zh("Invalid token specified: must be a string");e||(e={});const r=e.header===!0?0:1,n=t.split(".")[r];if(typeof n!="string")throw new Zh(`Invalid token specified: missing part #${r+1}`);let a;try{a=o7(n)}catch(l){throw new Zh(`Invalid token specified: invalid base64 for part #${r+1} (${l.message})`)}try{return JSON.parse(a)}catch(l){throw new Zh(`Invalid token specified: invalid json for part #${r+1} (${l.message})`)}}function Qj(t){if(!t)return null;try{return dR(t).exp*1e3}catch(e){return console.error("Error decoding token:",e),null}}function c7(t){if(!t)return"Login failed";const e=t.detail||t.message||t;if(typeof e=="string"){if(e.includes("Incorrect email or password"))return"Invalid email or password. Please check your credentials and try again.";if(e.includes("Account is temporarily locked"))return"Your account has been temporarily locked due to multiple failed login attempts. Please try again later.";if(e.includes("Account locked due to too many failed login attempts")){const r=e.match(/Try again in (\d+) minutes/);return r?`Your account has been locked due to multiple failed login attempts. Please try again in ${r[1]} minutes.`:"Your account has been locked due to multiple failed login attempts. Please try again later."}return e.includes("Inactive user")?"Your account has been deactivated. Please contact your administrator.":e.includes("Password change required")?"You must change your password before logging in. Please contact your administrator.":e.includes("MFA code required")?"Two-factor authentication code is required. Please enter your authenticator code.":e.includes("Invalid MFA code")?"Invalid two-factor authentication code. Please check your authenticator app and try again.":e}return Array.isArray(e)?e.join(", "):"Login failed. Please try again."}const d7={isAuthenticated:!1,user:null,accessToken:null,refreshToken:null,tokenExpiration:null,sessionId:null,deviceFingerprint:null,loading:!1,error:null,mfaRequired:!1,mfaVerified:!1,lastErrorToast:null},hg=Cd("auth/loginUser",async(t,{rejectWithValue:e})=>{var r;try{const n=await cs.post(`${ao}/auth/login`,t);return n.data.requires_mfa&&!n.data.mfa_verified&&!t.mfa_code?e({message:"MFA code required",requires_mfa:!0}):n.data}catch(n){if(cs.isAxiosError(n)&&n.response){const a=n.response.data,l=n.response.status;let c={message:c7(a),requires_mfa:!1,status_code:l};return l===422&&((r=a.detail)!=null&&r.includes("MFA"))&&(c.requires_mfa=!0),l===423&&(c.requires_mfa=!1),l===403&&(c.requires_mfa=!1),l===400&&(c.requires_mfa=!1),l===401&&(c.requires_mfa=!1),e(c)}return e({message:"Network error occurred. Please check your internet connection and try again.",requires_mfa:!1,status_code:0})}}),ld=Cd("auth/fetchCurrentUser",async(t,{getState:e,rejectWithValue:r})=>{try{const{auth:n}=e();return n.accessToken?(await cs.get(`${ao}/users/me`,{headers:{Authorization:`Bearer ${n.accessToken}`}})).data:r("No access token found")}catch(n){if(cs.isAxiosError(n)&&n.response){const a=n.response.data;return r((a==null?void 0:a.detail)||(a==null?void 0:a.message)||"An error occurred fetching user data")}return r("An error occurred fetching user data")}}),mg=Cd("auth/updateCurrentUserProfile",async(t,{getState:e,rejectWithValue:r})=>{try{const{auth:n}=e();return n.accessToken?(await cs.put(`${ao}/users/me`,t,{headers:{Authorization:`Bearer ${n.accessToken}`,"Content-Type":"multipart/form-data"}})).data:r("No access token found")}catch(n){if(cs.isAxiosError(n)&&n.response){const a=n.response.data;return r((a==null?void 0:a.detail)||(a==null?void 0:a.message)||"Failed to update profile")}return r("Failed to update profile")}}),od=Cd("auth/refreshToken",async(t,{getState:e,rejectWithValue:r})=>{try{const{auth:n}=e();return n.refreshToken?(await cs.post(`${ao}/auth/refresh`,{refresh_token:n.refreshToken},{headers:{Authorization:`Bearer ${n.refreshToken}`}})).data:r("No refresh token found")}catch(n){if(cs.isAxiosError(n)&&n.response){const a=n.response.data;return r((a==null?void 0:a.detail)||(a==null?void 0:a.message)||"Failed to refresh token")}return r("Failed to refresh token")}}),pg=Cd("auth/verifyToken",async(t,{getState:e,rejectWithValue:r})=>{try{const{auth:n}=e();return n.accessToken?(await cs.post(`${ao}/auth/verify`,{},{headers:{Authorization:`Bearer ${n.accessToken}`}})).data:r("No access token found")}catch(n){if(cs.isAxiosError(n)&&n.response){const a=n.response.data;return r((a==null?void 0:a.detail)||(a==null?void 0:a.message)||"Token verification failed")}return r("Token verification failed")}}),uR=Cd("auth/logoutUser",async(t,{getState:e,rejectWithValue:r})=>{try{const{auth:n}=e(),a=t||n.sessionId;if(n.accessToken&&a)try{await cs.post(`${ao}/auth/logout`,{session_id:a},{headers:{Authorization:`Bearer ${n.accessToken}`}})}catch(l){console.error("Error during logout:",l)}return null}catch{return r("An error occurred during logout")}}),xg=Cd("auth/changePassword",async(t,{getState:e,rejectWithValue:r})=>{try{const{auth:n}=e();return n.accessToken?(await cs.post(`${ao}/auth/change-password`,t,{headers:{Authorization:`Bearer ${n.accessToken}`}})).data:r("No access token found")}catch(n){if(cs.isAxiosError(n)&&n.response){const a=n.response.data;return r((a==null?void 0:a.detail)||(a==null?void 0:a.message)||"Password change failed")}return r("Password change failed")}}),fR=IT({name:"auth",initialState:d7,reducers:{setTokens:(t,e)=>{const{access_token:r,refresh_token:n,mfa_verified:a,requires_mfa:l,session_id:c,device_fingerprint:d}=e.payload;t.accessToken=r,t.refreshToken=n,t.isAuthenticated=!0,t.tokenExpiration=Qj(r),t.mfaRequired=l,t.mfaVerified=a,t.sessionId=c||null,t.deviceFingerprint=d||null,t.error=null},clearAuth:t=>{t.isAuthenticated=!1,t.user=null,t.accessToken=null,t.refreshToken=null,t.tokenExpiration=null,t.sessionId=null,t.deviceFingerprint=null,t.loading=!1,t.error=null,t.mfaRequired=!1,t.mfaVerified=!1,t.lastErrorToast=null},updateUserData:(t,e)=>{t.user=e.payload},clearError:t=>{t.error=null,t.lastErrorToast=null},clearErrorToast:t=>{t.lastErrorToast=null},sanitizeError:t=>{if(typeof t.error=="object"&&t.error!==null){const e=t.error;t.error=Array.isArray(e.detail)?e.detail.join(", "):e.detail||e.message||"An error occurred"}},setMfaRequired:(t,e)=>{t.mfaRequired=e.payload}},extraReducers:t=>{t.addCase(hg.pending,e=>{e.loading=!0,e.error=null,e.mfaRequired=!1}),t.addCase(hg.fulfilled,(e,r)=>{e.loading=!1;const n=r.payload;e.accessToken=n.access_token,e.refreshToken=n.refresh_token,e.isAuthenticated=!0,e.tokenExpiration=Qj(n.access_token),e.mfaRequired=n.requires_mfa,e.mfaVerified=n.mfa_verified,e.sessionId=n.session_id||null,e.deviceFingerprint=n.device_fingerprint||null}),t.addCase(hg.rejected,(e,r)=>{e.loading=!1;const n=r.payload,a=(n==null?void 0:n.message)||"Login failed";e.error=a,e.mfaRequired=(n==null?void 0:n.requires_mfa)||!1,n!=null&&n.requires_mfa?e.lastErrorToast=null:e.lastErrorToast=a}),t.addCase(ld.pending,e=>{e.loading=!0,e.error=null}),t.addCase(ld.fulfilled,(e,r)=>{e.loading=!1,e.user=r.payload}),t.addCase(ld.rejected,(e,r)=>{e.loading=!1,e.error=r.payload}),t.addCase(pg.pending,e=>{e.loading=!0,e.error=null}),t.addCase(pg.fulfilled,e=>{e.loading=!1}),t.addCase(pg.rejected,(e,r)=>{e.loading=!1,e.error=r.payload,e.isAuthenticated=!1,e.user=null,e.accessToken=null,e.refreshToken=null,e.tokenExpiration=null,e.sessionId=null,e.deviceFingerprint=null,e.mfaRequired=!1,e.mfaVerified=!1}),t.addCase(od.pending,e=>{e.loading=!0,e.error=null}),t.addCase(od.fulfilled,(e,r)=>{e.loading=!1,e.accessToken=r.payload.access_token,e.tokenExpiration=Qj(r.payload.access_token)}),t.addCase(od.rejected,(e,r)=>{e.loading=!1,e.error=r.payload,e.isAuthenticated=!1,e.user=null,e.accessToken=null,e.refreshToken=null,e.tokenExpiration=null,e.sessionId=null,e.deviceFingerprint=null,e.mfaRequired=!1,e.mfaVerified=!1}),t.addCase(uR.fulfilled,e=>{e.isAuthenticated=!1,e.user=null,e.accessToken=null,e.refreshToken=null,e.tokenExpiration=null,e.sessionId=null,e.deviceFingerprint=null,e.loading=!1,e.mfaRequired=!1,e.mfaVerified=!1}),t.addCase(xg.pending,e=>{e.loading=!0,e.error=null}),t.addCase(xg.fulfilled,e=>{e.loading=!1}),t.addCase(xg.rejected,(e,r)=>{e.loading=!1,e.error=r.payload}),t.addCase(mg.pending,e=>{e.loading=!0,e.error=null}),t.addCase(mg.fulfilled,(e,r)=>{e.loading=!1,e.user=r.payload}),t.addCase(mg.rejected,(e,r)=>{e.loading=!1,e.error=r.payload})}}),{setTokens:Oce,clearAuth:nm,updateUserData:Mce,clearError:u7,clearErrorToast:Bk,sanitizeError:f7,setMfaRequired:Pce}=fR.actions,h7=t=>t.auth.user,hR=t=>t.auth.loading,m7=fR.reducer,p7={isDarkMode:typeof window<"u"?localStorage.getItem("darkMode")==="true":!1},mR=IT({name:"theme",initialState:p7,reducers:{toggleTheme:t=>{t.isDarkMode=!t.isDarkMode,typeof window<"u"&&localStorage.setItem("darkMode",t.isDarkMode.toString())},setTheme:(t,e)=>{t.isDarkMode=e.payload,typeof window<"u"&&localStorage.setItem("darkMode",t.isDarkMode.toString())}}}),{toggleTheme:x7,setTheme:g7}=mR.actions,y7=mR.reducer,v7=ET({auth:m7,theme:y7}),b7={key:"root",storage:Tq,whitelist:["auth","theme"]},j7=vq(b7,v7),Qo=F$({reducer:j7,middleware:t=>t({serializableCheck:{ignoredActions:[UN,Ay,FN,zN,$N,qN]}})}),w7=Sq(Qo);function N7(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}const _7=t=>{switch(t){case"success":return k7;case"info":return A7;case"warning":return C7;case"error":return T7;default:return null}},S7=Array(12).fill(0),E7=({visible:t,className:e})=>ye.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},ye.createElement("div",{className:"sonner-spinner"},S7.map((r,n)=>ye.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),k7=ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ye.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),C7=ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ye.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),A7=ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ye.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),T7=ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ye.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),R7=ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ye.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ye.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),D7=()=>{const[t,e]=ye.useState(document.hidden);return ye.useEffect(()=>{const r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t};let yw=1;class O7{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const r=this.subscribers.indexOf(e);this.subscribers.splice(r,1)}),this.publish=e=>{this.subscribers.forEach(r=>r(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var r;const{message:n,...a}=e,l=typeof(e==null?void 0:e.id)=="number"||((r=e.id)==null?void 0:r.length)>0?e.id:yw++,c=this.toasts.find(f=>f.id===l),d=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(l)&&this.dismissedToasts.delete(l),c?this.toasts=this.toasts.map(f=>f.id===l?(this.publish({...f,...e,id:l,title:n}),{...f,...e,id:l,dismissible:d,title:n}):f):this.addToast({title:n,...a,dismissible:d,id:l}),l},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:e,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),e),this.message=(e,r)=>this.create({...r,message:e}),this.error=(e,r)=>this.create({...r,message:e,type:"error"}),this.success=(e,r)=>this.create({...r,type:"success",message:e}),this.info=(e,r)=>this.create({...r,type:"info",message:e}),this.warning=(e,r)=>this.create({...r,type:"warning",message:e}),this.loading=(e,r)=>this.create({...r,type:"loading",message:e}),this.promise=(e,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:e,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const a=Promise.resolve(e instanceof Function?e():e);let l=n!==void 0,c;const d=a.then(async h=>{if(c=["resolve",h],ye.isValidElement(h))l=!1,this.create({id:n,type:"default",message:h});else if(P7(h)&&!h.ok){l=!1;const g=typeof r.error=="function"?await r.error(`HTTP error! status: ${h.status}`):r.error,y=typeof r.description=="function"?await r.description(`HTTP error! status: ${h.status}`):r.description,j=typeof g=="object"&&!ye.isValidElement(g)?g:{message:g};this.create({id:n,type:"error",description:y,...j})}else if(h instanceof Error){l=!1;const g=typeof r.error=="function"?await r.error(h):r.error,y=typeof r.description=="function"?await r.description(h):r.description,j=typeof g=="object"&&!ye.isValidElement(g)?g:{message:g};this.create({id:n,type:"error",description:y,...j})}else if(r.success!==void 0){l=!1;const g=typeof r.success=="function"?await r.success(h):r.success,y=typeof r.description=="function"?await r.description(h):r.description,j=typeof g=="object"&&!ye.isValidElement(g)?g:{message:g};this.create({id:n,type:"success",description:y,...j})}}).catch(async h=>{if(c=["reject",h],r.error!==void 0){l=!1;const p=typeof r.error=="function"?await r.error(h):r.error,g=typeof r.description=="function"?await r.description(h):r.description,b=typeof p=="object"&&!ye.isValidElement(p)?p:{message:p};this.create({id:n,type:"error",description:g,...b})}}).finally(()=>{l&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),f=()=>new Promise((h,p)=>d.then(()=>c[0]==="reject"?p(c[1]):h(c[1])).catch(p));return typeof n!="string"&&typeof n!="number"?{unwrap:f}:Object.assign(n,{unwrap:f})},this.custom=(e,r)=>{const n=(r==null?void 0:r.id)||yw++;return this.create({jsx:e(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Gn=new O7,M7=(t,e)=>{const r=(e==null?void 0:e.id)||yw++;return Gn.addToast({title:t,...e,id:r}),r},P7=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",L7=M7,I7=()=>Gn.toasts,U7=()=>Gn.getActiveToasts(),Jj=Object.assign(L7,{success:Gn.success,info:Gn.info,warning:Gn.warning,error:Gn.error,custom:Gn.custom,message:Gn.message,promise:Gn.promise,dismiss:Gn.dismiss,loading:Gn.loading},{getHistory:I7,getToasts:U7});N7("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Mx(t){return t.label!==void 0}const F7=3,z7="24px",$7="16px",Hk=4e3,q7=356,B7=14,H7=45,V7=200;function Ji(...t){return t.filter(Boolean).join(" ")}function Y7(t){const[e,r]=t.split("-"),n=[];return e&&n.push(e),r&&n.push(r),n}const W7=t=>{var e,r,n,a,l,c,d,f,h;const{invert:p,toast:g,unstyled:y,interacting:b,setHeights:j,visibleToasts:w,heights:_,index:E,toasts:S,expanded:k,removeToast:R,defaultRichColors:L,closeButton:I,style:T,cancelButtonStyle:O,actionButtonStyle:P,className:X="",descriptionClassName:A="",duration:z,position:$,gap:J,expandByDefault:B,classNames:M,icons:V,closeButtonAriaLabel:Q="Close toast"}=t,[le,H]=ye.useState(null),[K,Y]=ye.useState(null),[se,G]=ye.useState(!1),[C,U]=ye.useState(!1),[ne,me]=ye.useState(!1),[ie,Ee]=ye.useState(!1),[Oe,fe]=ye.useState(!1),[Ce,pe]=ye.useState(0),[ze,lt]=ye.useState(0),Je=ye.useRef(g.duration||z||Hk),Zt=ye.useRef(null),jt=ye.useRef(null),kr=E===0,dr=E+1<=w,q=g.type,de=g.dismissible!==!1,je=g.className||"",Ue=g.descriptionClassName||"",Le=ye.useMemo(()=>_.findIndex(gt=>gt.toastId===g.id)||0,[_,g.id]),ae=ye.useMemo(()=>{var gt;return(gt=g.closeButton)!=null?gt:I},[g.closeButton,I]),Ie=ye.useMemo(()=>g.duration||z||Hk,[g.duration,z]),et=ye.useRef(0),St=ye.useRef(0),Ts=ye.useRef(0),sn=ye.useRef(null),[fn,hn]=$.split("-"),Pr=ye.useMemo(()=>_.reduce((gt,Is,$s)=>$s>=Le?gt:gt+Is.height,0),[_,Le]),Pn=D7(),mn=g.invert||p,pn=q==="loading";St.current=ye.useMemo(()=>Le*J+Pr,[Le,Pr]),ye.useEffect(()=>{Je.current=Ie},[Ie]),ye.useEffect(()=>{G(!0)},[]),ye.useEffect(()=>{const gt=jt.current;if(gt){const Is=gt.getBoundingClientRect().height;return lt(Is),j($s=>[{toastId:g.id,height:Is,position:g.position},...$s]),()=>j($s=>$s.filter(rr=>rr.toastId!==g.id))}},[j,g.id]),ye.useLayoutEffect(()=>{if(!se)return;const gt=jt.current,Is=gt.style.height;gt.style.height="auto";const $s=gt.getBoundingClientRect().height;gt.style.height=Is,lt($s),j(rr=>rr.find(Xs=>Xs.toastId===g.id)?rr.map(Xs=>Xs.toastId===g.id?{...Xs,height:$s}:Xs):[{toastId:g.id,height:$s,position:g.position},...rr])},[se,g.title,g.description,j,g.id]);const sr=ye.useCallback(()=>{U(!0),pe(St.current),j(gt=>gt.filter(Is=>Is.toastId!==g.id)),setTimeout(()=>{R(g)},V7)},[g,R,j,St]);ye.useEffect(()=>{if(g.promise&&q==="loading"||g.duration===1/0||g.type==="loading")return;let gt;return k||b||Pn?(()=>{if(Ts.current<et.current){const rr=new Date().getTime()-et.current;Je.current=Je.current-rr}Ts.current=new Date().getTime()})():(()=>{Je.current!==1/0&&(et.current=new Date().getTime(),gt=setTimeout(()=>{g.onAutoClose==null||g.onAutoClose.call(g,g),sr()},Je.current))})(),()=>clearTimeout(gt)},[k,b,g,q,Pn,sr]),ye.useEffect(()=>{g.delete&&sr()},[sr,g.delete]);function ri(){var gt;if(V!=null&&V.loading){var Is;return ye.createElement("div",{className:Ji(M==null?void 0:M.loader,g==null||(Is=g.classNames)==null?void 0:Is.loader,"sonner-loader"),"data-visible":q==="loading"},V.loading)}return ye.createElement(E7,{className:Ji(M==null?void 0:M.loader,g==null||(gt=g.classNames)==null?void 0:gt.loader),visible:q==="loading"})}const ni=g.icon||(V==null?void 0:V[q])||_7(q);var xn,Ui;return ye.createElement("li",{tabIndex:0,ref:jt,className:Ji(X,je,M==null?void 0:M.toast,g==null||(e=g.classNames)==null?void 0:e.toast,M==null?void 0:M.default,M==null?void 0:M[q],g==null||(r=g.classNames)==null?void 0:r[q]),"data-sonner-toast":"","data-rich-colors":(xn=g.richColors)!=null?xn:L,"data-styled":!(g.jsx||g.unstyled||y),"data-mounted":se,"data-promise":!!g.promise,"data-swiped":Oe,"data-removed":C,"data-visible":dr,"data-y-position":fn,"data-x-position":hn,"data-index":E,"data-front":kr,"data-swiping":ne,"data-dismissible":de,"data-type":q,"data-invert":mn,"data-swipe-out":ie,"data-swipe-direction":K,"data-expanded":!!(k||B&&se),style:{"--index":E,"--toasts-before":E,"--z-index":S.length-E,"--offset":`${C?Ce:St.current}px`,"--initial-height":B?"auto":`${ze}px`,...T,...g.style},onDragEnd:()=>{me(!1),H(null),sn.current=null},onPointerDown:gt=>{pn||!de||(Zt.current=new Date,pe(St.current),gt.target.setPointerCapture(gt.pointerId),gt.target.tagName!=="BUTTON"&&(me(!0),sn.current={x:gt.clientX,y:gt.clientY}))},onPointerUp:()=>{var gt,Is,$s;if(ie||!de)return;sn.current=null;const rr=Number(((gt=jt.current)==null?void 0:gt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),gn=Number(((Is=jt.current)==null?void 0:Is.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Xs=new Date().getTime()-(($s=Zt.current)==null?void 0:$s.getTime()),fs=le==="x"?rr:gn,Ws=Math.abs(fs)/Xs;if(Math.abs(fs)>=H7||Ws>.11){pe(St.current),g.onDismiss==null||g.onDismiss.call(g,g),Y(le==="x"?rr>0?"right":"left":gn>0?"down":"up"),sr(),Ee(!0);return}else{var ms,ur;(ms=jt.current)==null||ms.style.setProperty("--swipe-amount-x","0px"),(ur=jt.current)==null||ur.style.setProperty("--swipe-amount-y","0px")}fe(!1),me(!1),H(null)},onPointerMove:gt=>{var Is,$s,rr;if(!sn.current||!de||((Is=window.getSelection())==null?void 0:Is.toString().length)>0)return;const Xs=gt.clientY-sn.current.y,fs=gt.clientX-sn.current.x;var Ws;const ms=(Ws=t.swipeDirections)!=null?Ws:Y7($);!le&&(Math.abs(fs)>1||Math.abs(Xs)>1)&&H(Math.abs(fs)>Math.abs(Xs)?"x":"y");let ur={x:0,y:0};const ai=Ln=>1/(1.5+Math.abs(Ln)/20);if(le==="y"){if(ms.includes("top")||ms.includes("bottom"))if(ms.includes("top")&&Xs<0||ms.includes("bottom")&&Xs>0)ur.y=Xs;else{const Ln=Xs*ai(Xs);ur.y=Math.abs(Ln)<Math.abs(Xs)?Ln:Xs}}else if(le==="x"&&(ms.includes("left")||ms.includes("right")))if(ms.includes("left")&&fs<0||ms.includes("right")&&fs>0)ur.x=fs;else{const Ln=fs*ai(fs);ur.x=Math.abs(Ln)<Math.abs(fs)?Ln:fs}(Math.abs(ur.x)>0||Math.abs(ur.y)>0)&&fe(!0),($s=jt.current)==null||$s.style.setProperty("--swipe-amount-x",`${ur.x}px`),(rr=jt.current)==null||rr.style.setProperty("--swipe-amount-y",`${ur.y}px`)}},ae&&!g.jsx&&q!=="loading"?ye.createElement("button",{"aria-label":Q,"data-disabled":pn,"data-close-button":!0,onClick:pn||!de?()=>{}:()=>{sr(),g.onDismiss==null||g.onDismiss.call(g,g)},className:Ji(M==null?void 0:M.closeButton,g==null||(n=g.classNames)==null?void 0:n.closeButton)},(Ui=V==null?void 0:V.close)!=null?Ui:R7):null,(q||g.icon||g.promise)&&g.icon!==null&&((V==null?void 0:V[q])!==null||g.icon)?ye.createElement("div",{"data-icon":"",className:Ji(M==null?void 0:M.icon,g==null||(a=g.classNames)==null?void 0:a.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||ri():null,g.type!=="loading"?ni:null):null,ye.createElement("div",{"data-content":"",className:Ji(M==null?void 0:M.content,g==null||(l=g.classNames)==null?void 0:l.content)},ye.createElement("div",{"data-title":"",className:Ji(M==null?void 0:M.title,g==null||(c=g.classNames)==null?void 0:c.title)},g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title),g.description?ye.createElement("div",{"data-description":"",className:Ji(A,Ue,M==null?void 0:M.description,g==null||(d=g.classNames)==null?void 0:d.description)},typeof g.description=="function"?g.description():g.description):null),ye.isValidElement(g.cancel)?g.cancel:g.cancel&&Mx(g.cancel)?ye.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||O,onClick:gt=>{Mx(g.cancel)&&de&&(g.cancel.onClick==null||g.cancel.onClick.call(g.cancel,gt),sr())},className:Ji(M==null?void 0:M.cancelButton,g==null||(f=g.classNames)==null?void 0:f.cancelButton)},g.cancel.label):null,ye.isValidElement(g.action)?g.action:g.action&&Mx(g.action)?ye.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||P,onClick:gt=>{Mx(g.action)&&(g.action.onClick==null||g.action.onClick.call(g.action,gt),!gt.defaultPrevented&&sr())},className:Ji(M==null?void 0:M.actionButton,g==null||(h=g.classNames)==null?void 0:h.actionButton)},g.action.label):null)};function Vk(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function G7(t,e){const r={};return[t,e].forEach((n,a)=>{const l=a===1,c=l?"--mobile-offset":"--offset",d=l?$7:z7;function f(h){["top","right","bottom","left"].forEach(p=>{r[`${c}-${p}`]=typeof h=="number"?`${h}px`:h})}typeof n=="number"||typeof n=="string"?f(n):typeof n=="object"?["top","right","bottom","left"].forEach(h=>{n[h]===void 0?r[`${c}-${h}`]=d:r[`${c}-${h}`]=typeof n[h]=="number"?`${n[h]}px`:n[h]}):f(d)}),r}const Z7=ye.forwardRef(function(e,r){const{invert:n,position:a="bottom-right",hotkey:l=["altKey","KeyT"],expand:c,closeButton:d,className:f,offset:h,mobileOffset:p,theme:g="light",richColors:y,duration:b,style:j,visibleToasts:w=F7,toastOptions:_,dir:E=Vk(),gap:S=B7,icons:k,containerAriaLabel:R="Notifications"}=e,[L,I]=ye.useState([]),T=ye.useMemo(()=>Array.from(new Set([a].concat(L.filter(K=>K.position).map(K=>K.position)))),[L,a]),[O,P]=ye.useState([]),[X,A]=ye.useState(!1),[z,$]=ye.useState(!1),[J,B]=ye.useState(g!=="system"?g:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),M=ye.useRef(null),V=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),Q=ye.useRef(null),le=ye.useRef(!1),H=ye.useCallback(K=>{I(Y=>{var se;return(se=Y.find(G=>G.id===K.id))!=null&&se.delete||Gn.dismiss(K.id),Y.filter(({id:G})=>G!==K.id)})},[]);return ye.useEffect(()=>Gn.subscribe(K=>{if(K.dismiss){requestAnimationFrame(()=>{I(Y=>Y.map(se=>se.id===K.id?{...se,delete:!0}:se))});return}setTimeout(()=>{k4.flushSync(()=>{I(Y=>{const se=Y.findIndex(G=>G.id===K.id);return se!==-1?[...Y.slice(0,se),{...Y[se],...K},...Y.slice(se+1)]:[K,...Y]})})})}),[L]),ye.useEffect(()=>{if(g!=="system"){B(g);return}if(g==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?B("dark"):B("light")),typeof window>"u")return;const K=window.matchMedia("(prefers-color-scheme: dark)");try{K.addEventListener("change",({matches:Y})=>{B(Y?"dark":"light")})}catch{K.addListener(({matches:se})=>{try{B(se?"dark":"light")}catch(G){console.error(G)}})}},[g]),ye.useEffect(()=>{L.length<=1&&A(!1)},[L]),ye.useEffect(()=>{const K=Y=>{var se;if(l.every(U=>Y[U]||Y.code===U)){var C;A(!0),(C=M.current)==null||C.focus()}Y.code==="Escape"&&(document.activeElement===M.current||(se=M.current)!=null&&se.contains(document.activeElement))&&A(!1)};return document.addEventListener("keydown",K),()=>document.removeEventListener("keydown",K)},[l]),ye.useEffect(()=>{if(M.current)return()=>{Q.current&&(Q.current.focus({preventScroll:!0}),Q.current=null,le.current=!1)}},[M.current]),ye.createElement("section",{ref:r,"aria-label":`${R} ${V}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},T.map((K,Y)=>{var se;const[G,C]=K.split("-");return L.length?ye.createElement("ol",{key:K,dir:E==="auto"?Vk():E,tabIndex:-1,ref:M,className:f,"data-sonner-toaster":!0,"data-sonner-theme":J,"data-y-position":G,"data-lifted":X&&L.length>1&&!c,"data-x-position":C,style:{"--front-toast-height":`${((se=O[0])==null?void 0:se.height)||0}px`,"--width":`${q7}px`,"--gap":`${S}px`,...j,...G7(h,p)},onBlur:U=>{le.current&&!U.currentTarget.contains(U.relatedTarget)&&(le.current=!1,Q.current&&(Q.current.focus({preventScroll:!0}),Q.current=null))},onFocus:U=>{U.target instanceof HTMLElement&&U.target.dataset.dismissible==="false"||le.current||(le.current=!0,Q.current=U.relatedTarget)},onMouseEnter:()=>A(!0),onMouseMove:()=>A(!0),onMouseLeave:()=>{z||A(!1)},onDragEnd:()=>A(!1),onPointerDown:U=>{U.target instanceof HTMLElement&&U.target.dataset.dismissible==="false"||$(!0)},onPointerUp:()=>$(!1)},L.filter(U=>!U.position&&Y===0||U.position===K).map((U,ne)=>{var me,ie;return ye.createElement(W7,{key:U.id,icons:k,index:ne,toast:U,defaultRichColors:y,duration:(me=_==null?void 0:_.duration)!=null?me:b,className:_==null?void 0:_.className,descriptionClassName:_==null?void 0:_.descriptionClassName,invert:n,visibleToasts:w,closeButton:(ie=_==null?void 0:_.closeButton)!=null?ie:d,interacting:z,position:K,style:_==null?void 0:_.style,unstyled:_==null?void 0:_.unstyled,classNames:_==null?void 0:_.classNames,cancelButtonStyle:_==null?void 0:_.cancelButtonStyle,actionButtonStyle:_==null?void 0:_.actionButtonStyle,closeButtonAriaLabel:_==null?void 0:_.closeButtonAriaLabel,removeToast:H,toasts:L.filter(Ee=>Ee.position==U.position),heights:O.filter(Ee=>Ee.position==U.position),setHeights:P,expandByDefault:c,gap:S,expanded:X,swipeDirections:e.swipeDirections})})):null}))}),K7=({...t})=>s.jsx(Z7,{className:"toaster group",toastOptions:{style:{background:"#fff"}},style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...t}),Yk={duration:5e3,position:"bottom-right",background:"red"};function tr(){const t=({title:e,description:r,variant:n="default",...a})=>(n==="destructive"?Jj.error:Jj)(e||"",{description:r,...Yk,position:Yk.position,...a});return{toast:t,dismiss:Jj.dismiss,error:e=>t({...e,variant:"destructive"}),success:e=>t({...e,variant:"default"})}}const Iy=()=>l$(),Jn=wc,Px={APP_NAME:"HRIS App",APP_SHORT_NAME:"HRIS",APP_DESCRIPTION:"Human Resource Information System",THEME_COLOR:"#1f2937",BACKGROUND_COLOR:"#ffffff",SW_PATH:"/sw.js",NOTIFICATION_ICON:"/android-chrome-192x192.png",CACHE_NAMES:{STATIC:"hris-static-v1",API:"hris-api-v1",IMAGES:"hris-images-v1"},VAPID_PUBLIC_KEY:"BL0co3ZXsvQUQqkK7_X-hYf24ERinRX9MvMapN5Ux7A4Jf7NBMbXwgVBCUvTmnoNx17okCKzyuF2yoQ6N94k8Y4",PUSH_SERVICE_URL:`${ao}/notifications`||"/api/notifications"};class X7{constructor(){qe(this,"swRegistration",null)}async initialize(){if(!("serviceWorker"in navigator)||!("PushManager"in window))return console.warn("Push notifications not supported"),!1;try{const e=await navigator.serviceWorker.ready;return this.swRegistration=e,console.log("Using existing SW registration for push:",this.swRegistration),!0}catch(e){return console.error("Failed to get SW registration:",e),!1}}async requestPermission(){if(!("Notification"in window))throw new Error("Notifications not supported");const e=await Notification.requestPermission();return console.log("Notification permission:",e),e}async checkPermission(){return"Notification"in window?Notification.permission:"denied"}async subscribeToPush(){if(!this.swRegistration)throw new Error("Service Worker not registered");console.log("PWA_CONFIG:",Px),console.log("VAPID_PUBLIC_KEY:",Px.VAPID_PUBLIC_KEY);try{console.log("Converting VAPID key...");const e=this.urlBase64ToUint8Array(Px.VAPID_PUBLIC_KEY);console.log("Converted key length:",e.length);const r=await this.swRegistration.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:e}),n={endpoint:r.endpoint,keys:{p256dh:this.arrayBufferToBase64(r.getKey("p256dh")),auth:this.arrayBufferToBase64(r.getKey("auth"))},deviceInfo:{userAgent:navigator.userAgent,platform:navigator.platform}};return console.log("Push subscription created:",n),n}catch(e){return console.error("Push subscription failed:",e),null}}async getExistingSubscription(){if(!this.swRegistration)return null;try{const e=await this.swRegistration.pushManager.getSubscription();return e?{endpoint:e.endpoint,keys:{p256dh:this.arrayBufferToBase64(e.getKey("p256dh")),auth:this.arrayBufferToBase64(e.getKey("auth"))}}:null}catch(e){return console.error("Error getting existing subscription:",e),null}}async unsubscribe(){if(!this.swRegistration)return!1;try{const e=await this.swRegistration.pushManager.getSubscription();if(e){const r=await e.unsubscribe();return console.log("Push unsubscribed:",r),r}return!0}catch(e){return console.error("Push unsubscribe failed:",e),!1}}async sendTestNotification(e){if(!this.swRegistration)throw new Error("Service Worker not registered");if(console.log("Sending test notification with payload:",e),console.log("Notification permission:",Notification.permission),console.log("SW Registration:",this.swRegistration),Notification.permission==="granted"){const r=new Notification(e.title,{body:e.body,icon:e.icon||Px.NOTIFICATION_ICON,badge:e.badge,tag:e.tag||`test-notification-${Date.now()}`,data:e.data,requireInteraction:e.requireInteraction,silent:e.silent,...e.vibrate&&"vibrate"in Notification.prototype&&{vibrate:e.vibrate}});console.log("Notification created:",r)}else console.error("Notification permission not granted:",Notification.permission)}urlBase64ToUint8Array(e){const r="=".repeat((4-e.length%4)%4),n=(e+r).replace(/-/g,"+").replace(/_/g,"/"),a=window.atob(n),l=new Uint8Array(a.length);for(let c=0;c<a.length;++c)l[c]=a.charCodeAt(c);return l}isSupported(){return"serviceWorker"in navigator&&"PushManager"in window}convertToPushSubscriptionCreate(e){return{endpoint:e.endpoint,keys:e.keys,browser_info:{browser:this.getBrowserName(),version:this.getBrowserVersion(),os:this.getOSName(),user_agent:navigator.userAgent,platform:navigator.platform,language:navigator.language,viewport:`${window.innerWidth}x${window.innerHeight}`}}}getBrowserName(){const e=navigator.userAgent;return e.indexOf("Chrome")>-1?"Chrome":e.indexOf("Safari")>-1?"Safari":e.indexOf("Firefox")>-1?"Firefox":e.indexOf("Edge")>-1?"Edge":"Unknown"}getBrowserVersion(){var r,n,a;const e=navigator.userAgent;return e.indexOf("Chrome")>-1?((r=e.match(/Chrome\/(\d+)/))==null?void 0:r[1])||"0":e.indexOf("Safari")>-1?((n=e.match(/Version\/(\d+)/))==null?void 0:n[1])||"0":e.indexOf("Firefox")>-1&&((a=e.match(/Firefox\/(\d+)/))==null?void 0:a[1])||"0"}getOSName(){const e=navigator.userAgent;return e.indexOf("Windows")>-1?"Windows":e.indexOf("Mac")>-1?"MacOS":e.indexOf("Linux")>-1?"Linux":e.indexOf("Android")>-1?"Android":e.indexOf("iOS")>-1?"iOS":"Unknown"}arrayBufferToBase64(e){const r=new Uint8Array(e);let n="";for(let a=0;a<r.byteLength;a++)n+=String.fromCharCode(r[a]);return window.btoa(n)}}const Sn=new X7,Q7=()=>"serviceWorker"in navigator&&"PushManager"in window,J7=()=>"Notification"in window,eB=()=>J7()?Notification.permission:"denied",tB=t=>{try{const e=dR(t),r=Date.now()/1e3+60;return e.exp<r}catch{return!0}},ve=cs.create({baseURL:ao});let Eu=!1,Fg=[];const Lx=(t,e)=>{Fg.forEach(r=>{t?r.reject(new Error("Token refresh failed")):e&&r.resolve(e)}),Fg=[]},sB=t=>{t.interceptors.request.use(async e=>{var a;const n=(a=Qo.getState().auth)==null?void 0:a.accessToken;if(!n)return e;if(tB(n)){let l;if(Eu)try{l=await new Promise((c,d)=>{Fg.push({resolve:c,reject:d})}),e.headers.Authorization=`Bearer ${l}`}catch(c){return Promise.reject(c)}else{Eu=!0;try{l=(await Qo.dispatch(od()).unwrap()).access_token,e.headers.Authorization=`Bearer ${l}`,Lx(!1,l)}catch{return Lx(!0),Qo.dispatch(nm()),Promise.reject(new Error("Session expired. Please login again."))}finally{Eu=!1}}}else e.headers.Authorization=`Bearer ${n}`;return e},e=>Promise.reject(e)),t.interceptors.response.use(e=>e,async e=>{var n;const r=e.config;if(((n=e.response)==null?void 0:n.status)===401&&!r._retry){if(r._retry=!0,Eu)try{const a=await new Promise((l,c)=>{Fg.push({resolve:l,reject:c})});return r.headers.Authorization=`Bearer ${a}`,t(r)}catch(a){return Promise.reject(a)}Eu=!0;try{if(!Qo.getState().auth.refreshToken)throw new Error("No refresh token available");const c=(await Qo.dispatch(od()).unwrap()).access_token;return r.headers.Authorization=`Bearer ${c}`,Lx(!1,c),t(r)}catch{return Lx(!0),Qo.dispatch(nm()),Promise.reject(new Error("Session expired. Please login again."))}finally{Eu=!1}}return Promise.reject(e)})};sB(ve);const Wk=Object.freeze(Object.defineProperty({__proto__:null,api:ve,default:ve},Symbol.toStringTag,{value:"Module"}));class rB{constructor(){qe(this,"baseUrl","/notifications")}async subscribe(e){try{return(await ve.post(`${this.baseUrl}/subscribe`,e)).data}catch(r){throw console.error("Push subscription error:",r),new Error("Failed to subscribe to push notifications")}}async unsubscribe(e){try{await ve.delete(`${this.baseUrl}/unsubscribe/${e}`)}catch(r){throw console.error("Push unsubscription error:",r),new Error("Failed to unsubscribe from push notifications")}}async getSubscriptions(){try{return(await ve.get(`${this.baseUrl}/subscriptions`)).data}catch(e){throw console.error("Get subscriptions error:",e),new Error("Failed to get subscriptions")}}async sendTestNotification(){try{return(await ve.post(`${this.baseUrl}/test`)).data}catch(e){throw console.error("Send test notification error:",e),new Error("Failed to send test notification")}}async markNotificationAsRead(e){try{await ve.post(`${this.baseUrl}/notifications/${e}/mark-read`)}catch(r){throw console.error("Mark notification as read error:",r),new Error("Failed to mark notification as read")}}async markNotificationAsClicked(e){try{await ve.post(`${this.baseUrl}/notifications/${e}/mark-clicked`)}catch(r){throw console.error("Mark notification as clicked error:",r),new Error("Failed to mark notification as clicked")}}async getNotificationHistory(e=1,r=20){try{return(await ve.get(`${this.baseUrl}/notifications`,{params:{page:e,size:r}})).data}catch(n){throw console.error("Get notification history error:",n),new Error("Failed to get notification history")}}async createTemplate(e){try{return(await ve.post(`${this.baseUrl}/admin/templates`,e)).data}catch(r){throw console.error("Create template error:",r),new Error("Failed to create template")}}async getTemplates(e=1,r=20){try{return(await ve.get(`${this.baseUrl}/admin/templates`,{params:{page:e,size:r}})).data}catch(n){throw console.error("Get templates error:",n),new Error("Failed to get notification templates")}}async getTemplateById(e){try{return(await ve.get(`${this.baseUrl}/admin/templates/${e}`)).data}catch(r){throw console.error("Get template by ID error:",r),new Error("Failed to get template by ID")}}async updateTemplate(e,r){try{return(await ve.put(`${this.baseUrl}/admin/templates/${e}`,r)).data}catch(n){throw console.error("Update template error:",n),new Error("Failed to update template")}}async deleteTemplate(e){try{await ve.delete(`${this.baseUrl}/admin/templates/${e}`)}catch(r){throw console.error("Delete template error:",r),new Error("Failed to delete template")}}async sendNotification(e){try{return(await ve.post(`${this.baseUrl}/admin/send`,e)).data}catch(r){throw console.error("Send notification error:",r),new Error("Failed to send notification")}}async sendBulkNotification(e){try{return(await ve.post(`${this.baseUrl}/admin/send-bulk`,e)).data}catch(r){throw console.error("Send bulk notification error:",r),new Error("Failed to send bulk notification")}}async sendToAllUsers(e,r){try{return(await ve.post(`${this.baseUrl}/admin/send-to-all`,r,{params:{template_key:e}})).data}catch(n){throw console.error("Send to all users error:",n),new Error("Failed to send notification to all users")}}async getAdminNotificationHistory(e=1,r=20,n,a){try{const l={page:e,size:r};return n&&(l.user_id=n),a&&(l.template_key=a),(await ve.get(`${this.baseUrl}/admin/notifications`,{params:l})).data}catch(l){throw console.error("Get admin notification history error:",l),new Error("Failed to get admin notification history")}}getBrowserInfo(){var l,c,d;const e=navigator.userAgent;let r="Unknown",n="0",a="Unknown";return e.indexOf("Chrome")>-1?(r="Chrome",n=((l=e.match(/Chrome\/(\d+)/))==null?void 0:l[1])||"0"):e.indexOf("Safari")>-1?(r="Safari",n=((c=e.match(/Version\/(\d+)/))==null?void 0:c[1])||"0"):e.indexOf("Firefox")>-1&&(r="Firefox",n=((d=e.match(/Firefox\/(\d+)/))==null?void 0:d[1])||"0"),e.indexOf("Windows")>-1?a="Windows":e.indexOf("Mac")>-1?a="MacOS":e.indexOf("Linux")>-1?a="Linux":e.indexOf("Android")>-1?a="Android":e.indexOf("iOS")>-1&&(a="iOS"),{browser:r,version:n,os:a,user_agent:e,platform:navigator.platform,language:navigator.language,viewport:`${window.innerWidth}x${window.innerHeight}`}}convertToPushSubscriptionCreate(e){return{endpoint:e.endpoint,keys:e.keys,browser_info:this.getBrowserInfo()}}}const wi=new rB,pR=x.createContext(void 0),nB=({children:t})=>{const e=Iy(),{toast:r}=tr(),{isAuthenticated:n,user:a,loading:l,error:c,accessToken:d,refreshToken:f,tokenExpiration:h,mfaRequired:p,mfaVerified:g,sessionId:y,lastErrorToast:b}=Jn(I=>I.auth);x.useEffect(()=>{typeof c=="object"&&c!==null&&e(f7())},[e,c]),x.useEffect(()=>{b&&(r({title:"Login Failed",description:b,variant:"destructive"}),e(Bk()))},[b,r,e]);const j=async I=>{try{const T=await e(hg(I)).unwrap();(T.mfa_verified||!T.requires_mfa)&&await e(ld()).unwrap()}catch(T){throw T}},w=async I=>{try{await e(uR(I)).unwrap()}catch(T){console.error("Logout error:",T),e(nm())}},_=async()=>{if(d)try{if(h&&h<Date.now())if(f)await e(od()).unwrap();else{e(nm());return}await e(pg()).unwrap(),!a&&n&&await e(ld()).unwrap()}catch(I){console.error("Auth check failed:",I),e(nm())}},E=async I=>{try{await e(xg(I)).unwrap()}catch(T){throw T}},S=()=>{e(u7()),e(Bk())},k=()=>{if(!d||!h)return!1;const I=Date.now()+5*60*1e3;return h>I},R=()=>d;x.useEffect(()=>{n&&d&&_()},[]),x.useEffect(()=>{if(d&&h&&f){const I=h-Date.now(),T=Math.max(I-5*60*1e3,0);if(T>60*1e3){const O=setTimeout(()=>{n&&e(od())},T);return()=>clearTimeout(O)}}},[d,h,f,n,e]),x.useEffect(()=>{if(n&&d){const I=setInterval(()=>{k()||_()},6e5);return()=>clearInterval(I)}},[n,d]),x.useEffect(()=>{(async()=>{if(n&&a&&Sn.isSupported())try{if(await Sn.getExistingSubscription())try{await wi.getSubscriptions()}catch{if(console.log("Resubscribing to push notifications..."),await Sn.requestPermission()==="granted"){const X=await Sn.subscribeToPush();X&&await wi.subscribe(Sn.convertToPushSubscriptionCreate(X))}}else if(await Sn.requestPermission()==="granted"){const P=await Sn.subscribeToPush();P&&(await wi.subscribe(Sn.convertToPushSubscriptionCreate(P)),console.log("Push notification subscription successful"))}}catch(T){console.error("Push notification setup failed:",T)}})()},[n,a]);const L={isAuthenticated:n,user:a,loading:l,error:c,mfaRequired:p,mfaVerified:g,sessionId:y,login:j,logout:w,checkAuth:_,changeUserPassword:E,clearAuthError:S,isTokenValid:k,getAccessToken:R};return s.jsx(pR.Provider,{value:L,children:t})},yr=()=>{const t=x.useContext(pR);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},aB=(t,e)=>{const r=()=>{console.log("Network status: online"),t()},n=()=>{console.log("Network status: offline"),e()};return window.addEventListener("online",r),window.addEventListener("offline",n),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}},iB=()=>{const[t,e]=x.useState(navigator.onLine),[r,n]=x.useState(!1);return x.useEffect(()=>aB(()=>{e(!0),r&&(n(!1),console.log("Connection restored"))},()=>{e(!1),n(!0),console.log("Connection lost")}),[r]),{isOnline:t,isOffline:!t,wasOffline:r}};/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lB=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),oB=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),Gk=t=>{const e=oB(t);return e.charAt(0).toUpperCase()+e.slice(1)},xR=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var cB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dB=x.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:l,iconNode:c,...d},f)=>x.createElement("svg",{ref:f,...cB,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:xR("lucide",a),...d},[...c.map(([h,p])=>x.createElement(h,p)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=(t,e)=>{const r=x.forwardRef(({className:n,...a},l)=>x.createElement(dB,{ref:l,iconNode:e,className:xR(`lucide-${lB(Gk(t))}`,`lucide-${t}`,n),...a}));return r.displayName=Gk(t),r};/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uB=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Zk=Ve("activity",uB);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fB=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],$t=Ve("arrow-left",fB);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hB=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}]],mB=Ve("badge",hB);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pB=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]],Kk=Ve("bell-off",pB);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xB=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],cd=Ve("bell",xB);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gB=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],zg=Ve("book-open",gB);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yB=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],vB=Ve("briefcase",yB);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bB=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],Na=Ve("building-2",bB);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jB=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],rp=Ve("building",jB);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wB=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],NB=Ve("calculator",wB);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _B=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],YN=Ve("calendar-days",_B);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SB=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ze=Ve("calendar",SB);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EB=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Wa=Ve("camera",EB);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kB=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],on=Ve("chart-column",kB);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CB=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],AB=Ve("chart-pie",CB);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TB=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],$g=Ve("check",TB);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RB=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],WN=Ve("chevron-down",RB);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DB=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Uy=Ve("chevron-left",DB);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OB=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Fy=Ve("chevron-right",OB);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MB=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],PB=Ve("chevron-up",MB);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ym=Ve("circle-alert",LB);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IB=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],cr=Ve("circle-check-big",IB);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],FB=Ve("circle-help",UB);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],An=Ve("circle-x",zB);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $B=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],qB=Ve("clipboard-list",$B);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Pt=Ve("clock",BB);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HB=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],VB=Ve("credit-card",HB);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YB=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],WB=Ve("database",YB);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GB=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Qn=Ve("dollar-sign",GB);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZB=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],pl=Ve("download",ZB);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KB=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],ra=Ve("ellipsis",KB);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XB=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],am=Ve("external-link",XB);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QB=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],nl=Ve("eye-off",QB);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JB=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ut=Ve("eye",JB);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eH=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],bs=Ve("file-text",eH);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tH=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],GN=Ve("file",tH);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sH=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Di=Ve("funnel",sH);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Xk=Ve("globe",rH);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nH=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],im=Ve("image",nH);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],gR=Ve("info",aH);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iH=[["path",{d:"M6 5v11",key:"mdvv1e"}],["path",{d:"M12 5v6",key:"14ar3b"}],["path",{d:"M18 5v14",key:"7ji314"}]],lH=Ve("kanban",iH);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oH=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],yR=Ve("link",oH);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cH=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],js=Ve("loader-circle",cH);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dH=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],uH=Ve("lock-open",dH);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fH=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],qg=Ve("lock",fH);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hH=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],mH=Ve("log-out",hH);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pH=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],vm=Ve("mail",pH);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xH=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Ka=Ve("map-pin",xH);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gH=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],yH=Ve("menu",gH);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vH=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],bH=Ve("moon",vH);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jH=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],Qk=Ve("navigation",jH);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wH=[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]],Tf=Ve("paperclip",wH);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NH=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],zy=Ve("phone",NH);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _H=[["path",{d:"M2 22h20",key:"272qi7"}],["path",{d:"M6.36 17.4 4 17l-2-4 1.1-.55a2 2 0 0 1 1.8 0l.17.1a2 2 0 0 0 1.8 0L8 12 5 6l.9-.45a2 2 0 0 1 2.09.2l4.02 3a2 2 0 0 0 2.1.2l4.19-2.06a2.41 2.41 0 0 1 1.73-.17L21 7a1.4 1.4 0 0 1 .87 1.99l-.38.76c-.23.46-.6.84-1.07 1.08L7.58 17.2a2 2 0 0 1-1.22.18Z",key:"fkigj9"}]],Jk=Ve("plane-takeoff",_H);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SH=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],EH=Ve("plane",SH);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kH=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],or=Ve("plus",kH);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CH=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],AH=Ve("receipt",CH);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TH=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],RH=Ve("refresh-cw",TH);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DH=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],hc=Ve("rotate-ccw",DH);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OH=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],$y=Ve("save",OH);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MH=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],qy=Ve("send",MH);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PH=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],bm=Ve("settings",PH);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LH=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ol=Ve("shield",LH);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IH=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],UH=Ve("smartphone",IH);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FH=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],en=Ve("square-pen",FH);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zH=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],$H=Ve("sun",zH);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],eC=Ve("target",qH);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BH=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],ea=Ve("trash-2",BH);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HH=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],vw=Ve("trending-down",HH);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VH=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],cl=Ve("trending-up",VH);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YH=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Zl=Ve("triangle-alert",YH);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WH=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],vR=Ve("upload",WH);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GH=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],Ad=Ve("user-check",GH);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZH=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],KH=Ve("user-minus",ZH);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XH=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],jm=Ve("user-plus",XH);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QH=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],JH=Ve("user-x",QH);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eV=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],to=Ve("user",eV);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tV=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],ws=Ve("users",tV);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sV=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Gu=Ve("video",sV);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rV=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],nV=Ve("wifi-off",rV);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aV=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],iV=Ve("wifi",aV);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lV=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ZN=Ve("x",lV);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oV=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],KN=Ve("zap",oV),cV=()=>{const{isOnline:t,wasOffline:e}=iB();return t&&!e?null:s.jsx("div",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${t?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:s.jsx("div",{className:"container mx-auto px-4 py-2",children:s.jsx("div",{className:"flex items-center justify-center space-x-2 text-sm",children:t?s.jsxs(s.Fragment,{children:[s.jsx(iV,{className:"h-4 w-4"}),s.jsx("span",{children:"Koneksi internet tersambung kembali"})]}):s.jsxs(s.Fragment,{children:[s.jsx(nV,{className:"h-4 w-4"}),s.jsx("span",{children:"Tidak ada koneksi internet - Mode offline"})]})})})})},tC=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,sC=dT,By=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return sC(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:l}=e,c=Object.keys(a).map(h=>{const p=r==null?void 0:r[h],g=l==null?void 0:l[h];if(p===null)return null;const y=tC(p)||tC(g);return a[h][y]}),d=r&&Object.entries(r).reduce((h,p)=>{let[g,y]=p;return y===void 0||(h[g]=y),h},{}),f=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((h,p)=>{let{class:g,className:y,...b}=p;return Object.entries(b).every(j=>{let[w,_]=j;return Array.isArray(_)?_.includes({...l,...d}[w]):{...l,...d}[w]===_})?[...h,g,y]:h},[]);return sC(t,c,f,r==null?void 0:r.class,r==null?void 0:r.className)},XN=By("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},effect:{expandIcon:"group gap-0 relative",ringHover:"transition-all duration-300 hover:ring-2 hover:ring-primary/90 hover:ring-offset-2",shine:"before:animate-shine relative overflow-hidden before:absolute before:inset-0 before:rounded-[inherit] before:bg-[linear-gradient(45deg,transparent_25%,rgba(255,255,255,0.5)_50%,transparent_75%,transparent_100%)] before:bg-[length:250%_250%,100%_100%] before:bg-no-repeat background-position_0s_ease",shineHover:"relative overflow-hidden before:absolute before:inset-0 before:rounded-[inherit] before:bg-[linear-gradient(45deg,transparent_25%,rgba(255,255,255,0.5)_50%,transparent_75%,transparent_100%)] before:bg-[length:250%_250%,100%_100%] before:bg-[position:200%_0,0_0] before:bg-no-repeat before:transition-[background-position_0s_ease] hover:before:bg-[position:-100%_0,0_0] before:duration-1000",gooeyRight:"relative z-0 overflow-hidden transition-all duration-500 before:absolute before:inset-0 before:-z-10 before:translate-x-[150%] before:translate-y-[150%] before:scale-[2.5] before:rounded-[100%] before:bg-gradient-to-r from-white/40 before:transition-transform before:duration-1000  hover:before:translate-x-[0%] hover:before:translate-y-[0%]",gooeyLeft:"relative z-0 overflow-hidden transition-all duration-500 after:absolute after:inset-0 after:-z-10 after:translate-x-[-150%] after:translate-y-[150%] after:scale-[2.5] after:rounded-[100%] after:bg-gradient-to-l from-white/40 after:transition-transform after:duration-1000  hover:after:translate-x-[0%] hover:after:translate-y-[0%]",underline:"relative !no-underline after:absolute after:bg-primary after:bottom-2 after:h-[1px] after:w-2/3 after:origin-bottom-left after:scale-x-100 hover:after:origin-bottom-right hover:after:scale-x-0 after:transition-transform after:ease-in-out after:duration-300",hoverUnderline:"relative !no-underline after:absolute after:bg-primary after:bottom-2 after:h-[1px] after:w-2/3 after:origin-bottom-right after:scale-x-0 hover:after:origin-bottom-left hover:after:scale-x-100 after:transition-transform after:ease-in-out after:duration-300",gradientSlideShow:"bg-[size:400%] bg-[linear-gradient(-45deg,var(--gradient-lime),var(--gradient-ocean),var(--gradient-wine),var(--gradient-rust))] animate-gradient-flow"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),re=x.forwardRef(({className:t,variant:e,effect:r,size:n,icon:a,iconPlacement:l,asChild:c=!1,...d},f)=>{const h=c?gN:"button";return s.jsxs(h,{className:Pe(XN({variant:e,effect:r,size:n,className:t})),ref:f,...d,children:[a&&l==="left"&&(r==="expandIcon"?s.jsx("div",{className:"w-0 translate-x-[0%] pr-0 opacity-0 transition-all duration-200 group-hover:w-5 group-hover:translate-x-100 group-hover:pr-2 group-hover:opacity-100",children:s.jsx(a,{})}):s.jsx(a,{})),s.jsx(hF,{children:d.children}),a&&l==="right"&&(r==="expandIcon"?s.jsx("div",{className:"w-0 translate-x-[100%] pl-0 opacity-0 transition-all duration-200 group-hover:w-5 group-hover:translate-x-0 group-hover:pl-2 group-hover:opacity-100",children:s.jsx(a,{})}):s.jsx(a,{}))]})});re.displayName="Button";const nc="/assets/logo-DIAeA-J0.png";var e0="focusScope.autoFocusOnMount",t0="focusScope.autoFocusOnUnmount",rC={bubbles:!1,cancelable:!0},dV="FocusScope",np=x.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:l,...c}=t,[d,f]=x.useState(null),h=Jr(a),p=Jr(l),g=x.useRef(null),y=Rt(e,w=>f(w)),b=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(n){let w=function(k){if(b.paused||!d)return;const R=k.target;d.contains(R)?g.current=R:Zo(g.current,{select:!0})},_=function(k){if(b.paused||!d)return;const R=k.relatedTarget;R!==null&&(d.contains(R)||Zo(g.current,{select:!0}))},E=function(k){if(document.activeElement===document.body)for(const L of k)L.removedNodes.length>0&&Zo(d)};document.addEventListener("focusin",w),document.addEventListener("focusout",_);const S=new MutationObserver(E);return d&&S.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",_),S.disconnect()}}},[n,d,b.paused]),x.useEffect(()=>{if(d){aC.add(b);const w=document.activeElement;if(!d.contains(w)){const E=new CustomEvent(e0,rC);d.addEventListener(e0,h),d.dispatchEvent(E),E.defaultPrevented||(uV(xV(bR(d)),{select:!0}),document.activeElement===w&&Zo(d))}return()=>{d.removeEventListener(e0,h),setTimeout(()=>{const E=new CustomEvent(t0,rC);d.addEventListener(t0,p),d.dispatchEvent(E),E.defaultPrevented||Zo(w??document.body,{select:!0}),d.removeEventListener(t0,p),aC.remove(b)},0)}}},[d,h,p,b]);const j=x.useCallback(w=>{if(!r&&!n||b.paused)return;const _=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,E=document.activeElement;if(_&&E){const S=w.currentTarget,[k,R]=fV(S);k&&R?!w.shiftKey&&E===R?(w.preventDefault(),r&&Zo(k,{select:!0})):w.shiftKey&&E===k&&(w.preventDefault(),r&&Zo(R,{select:!0})):E===S&&w.preventDefault()}},[r,n,b.paused]);return s.jsx(Xe.div,{tabIndex:-1,...c,ref:y,onKeyDown:j})});np.displayName=dV;function uV(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(Zo(n,{select:e}),document.activeElement!==r)return}function fV(t){const e=bR(t),r=nC(e,t),n=nC(e.reverse(),t);return[r,n]}function bR(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function nC(t,e){for(const r of t)if(!hV(r,{upTo:e}))return r}function hV(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function mV(t){return t instanceof HTMLInputElement&&"select"in t}function Zo(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&mV(t)&&e&&t.select()}}var aC=pV();function pV(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=iC(t,e),t.unshift(e)},remove(e){var r;t=iC(t,e),(r=t[0])==null||r.resume()}}}function iC(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function xV(t){return t.filter(e=>e.tagName!=="A")}var s0=0;function Hy(){x.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??lC()),document.body.insertAdjacentElement("beforeend",t[1]??lC()),s0++,()=>{s0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),s0--}},[])}function lC(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var tl=function(){return tl=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},tl.apply(this,arguments)};function jR(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r}function gV(t,e,r){if(r||arguments.length===2)for(var n=0,a=e.length,l;n<a;n++)(l||!(n in e))&&(l||(l=Array.prototype.slice.call(e,0,n)),l[n]=e[n]);return t.concat(l||Array.prototype.slice.call(e))}var gg="right-scroll-bar-position",yg="width-before-scroll-bar",yV="with-scroll-bars-hidden",vV="--removed-body-scroll-bar-size";function r0(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function bV(t,e){var r=x.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=e,r.facade}var jV=typeof window<"u"?x.useLayoutEffect:x.useEffect,oC=new WeakMap;function wV(t,e){var r=bV(null,function(n){return t.forEach(function(a){return r0(a,n)})});return jV(function(){var n=oC.get(r);if(n){var a=new Set(n),l=new Set(t),c=r.current;a.forEach(function(d){l.has(d)||r0(d,null)}),l.forEach(function(d){a.has(d)||r0(d,c)})}oC.set(r,t)},[t]),r}function NV(t){return t}function _V(t,e){e===void 0&&(e=NV);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(l){var c=e(l,n);return r.push(c),function(){r=r.filter(function(d){return d!==c})}},assignSyncMedium:function(l){for(n=!0;r.length;){var c=r;r=[],c.forEach(l)}r={push:function(d){return l(d)},filter:function(){return r}}},assignMedium:function(l){n=!0;var c=[];if(r.length){var d=r;r=[],d.forEach(l),c=r}var f=function(){var p=c;c=[],p.forEach(l)},h=function(){return Promise.resolve().then(f)};h(),r={push:function(p){c.push(p),h()},filter:function(p){return c=c.filter(p),r}}}};return a}function SV(t){t===void 0&&(t={});var e=_V(null);return e.options=tl({async:!0,ssr:!1},t),e}var wR=function(t){var e=t.sideCar,r=jR(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return x.createElement(n,tl({},r))};wR.isSideCarExport=!0;function EV(t,e){return t.useMedium(e),wR}var NR=SV(),n0=function(){},Vy=x.forwardRef(function(t,e){var r=x.useRef(null),n=x.useState({onScrollCapture:n0,onWheelCapture:n0,onTouchMoveCapture:n0}),a=n[0],l=n[1],c=t.forwardProps,d=t.children,f=t.className,h=t.removeScrollBar,p=t.enabled,g=t.shards,y=t.sideCar,b=t.noIsolation,j=t.inert,w=t.allowPinchZoom,_=t.as,E=_===void 0?"div":_,S=t.gapMode,k=jR(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),R=y,L=wV([r,e]),I=tl(tl({},k),a);return x.createElement(x.Fragment,null,p&&x.createElement(R,{sideCar:NR,removeScrollBar:h,shards:g,noIsolation:b,inert:j,setCallbacks:l,allowPinchZoom:!!w,lockRef:r,gapMode:S}),c?x.cloneElement(x.Children.only(d),tl(tl({},I),{ref:L})):x.createElement(E,tl({},I,{className:f,ref:L}),d))});Vy.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Vy.classNames={fullWidth:yg,zeroRight:gg};var kV=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function CV(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=kV();return e&&t.setAttribute("nonce",e),t}function AV(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function TV(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var RV=function(){var t=0,e=null;return{add:function(r){t==0&&(e=CV())&&(AV(e,r),TV(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},DV=function(){var t=RV();return function(e,r){x.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},_R=function(){var t=DV(),e=function(r){var n=r.styles,a=r.dynamic;return t(n,a),null};return e},OV={left:0,top:0,right:0,gap:0},a0=function(t){return parseInt(t||"",10)||0},MV=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],a=e[t==="padding"?"paddingRight":"marginRight"];return[a0(r),a0(n),a0(a)]},PV=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return OV;var e=MV(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},LV=_R(),Zu="data-scroll-locked",IV=function(t,e,r,n){var a=t.left,l=t.top,c=t.right,d=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(yV,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(d,"px ").concat(n,`;
  }
  body[`).concat(Zu,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(d,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(gg,` {
    right: `).concat(d,"px ").concat(n,`;
  }
  
  .`).concat(yg,` {
    margin-right: `).concat(d,"px ").concat(n,`;
  }
  
  .`).concat(gg," .").concat(gg,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(yg," .").concat(yg,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Zu,`] {
    `).concat(vV,": ").concat(d,`px;
  }
`)},cC=function(){var t=parseInt(document.body.getAttribute(Zu)||"0",10);return isFinite(t)?t:0},UV=function(){x.useEffect(function(){return document.body.setAttribute(Zu,(cC()+1).toString()),function(){var t=cC()-1;t<=0?document.body.removeAttribute(Zu):document.body.setAttribute(Zu,t.toString())}},[])},FV=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,a=n===void 0?"margin":n;UV();var l=x.useMemo(function(){return PV(a)},[a]);return x.createElement(LV,{styles:IV(l,!e,a,r?"":"!important")})},bw=!1;if(typeof window<"u")try{var Ix=Object.defineProperty({},"passive",{get:function(){return bw=!0,!0}});window.addEventListener("test",Ix,Ix),window.removeEventListener("test",Ix,Ix)}catch{bw=!1}var ku=bw?{passive:!1}:!1,zV=function(t){return t.tagName==="TEXTAREA"},SR=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!zV(t)&&r[e]==="visible")},$V=function(t){return SR(t,"overflowY")},qV=function(t){return SR(t,"overflowX")},dC=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=ER(t,n);if(a){var l=kR(t,n),c=l[1],d=l[2];if(c>d)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},BV=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},HV=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},ER=function(t,e){return t==="v"?$V(e):qV(e)},kR=function(t,e){return t==="v"?BV(e):HV(e)},VV=function(t,e){return t==="h"&&e==="rtl"?-1:1},YV=function(t,e,r,n,a){var l=VV(t,window.getComputedStyle(e).direction),c=l*n,d=r.target,f=e.contains(d),h=!1,p=c>0,g=0,y=0;do{var b=kR(t,d),j=b[0],w=b[1],_=b[2],E=w-_-l*j;(j||E)&&ER(t,d)&&(g+=E,y+=j),d instanceof ShadowRoot?d=d.host:d=d.parentNode}while(!f&&d!==document.body||f&&(e.contains(d)||e===d));return(p&&Math.abs(g)<1||!p&&Math.abs(y)<1)&&(h=!0),h},Ux=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},uC=function(t){return[t.deltaX,t.deltaY]},fC=function(t){return t&&"current"in t?t.current:t},WV=function(t,e){return t[0]===e[0]&&t[1]===e[1]},GV=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},ZV=0,Cu=[];function KV(t){var e=x.useRef([]),r=x.useRef([0,0]),n=x.useRef(),a=x.useState(ZV++)[0],l=x.useState(_R)[0],c=x.useRef(t);x.useEffect(function(){c.current=t},[t]),x.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(a));var w=gV([t.lockRef.current],(t.shards||[]).map(fC),!0).filter(Boolean);return w.forEach(function(_){return _.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),w.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(a))})}}},[t.inert,t.lockRef.current,t.shards]);var d=x.useCallback(function(w,_){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!c.current.allowPinchZoom;var E=Ux(w),S=r.current,k="deltaX"in w?w.deltaX:S[0]-E[0],R="deltaY"in w?w.deltaY:S[1]-E[1],L,I=w.target,T=Math.abs(k)>Math.abs(R)?"h":"v";if("touches"in w&&T==="h"&&I.type==="range")return!1;var O=dC(T,I);if(!O)return!0;if(O?L=T:(L=T==="v"?"h":"v",O=dC(T,I)),!O)return!1;if(!n.current&&"changedTouches"in w&&(k||R)&&(n.current=L),!L)return!0;var P=n.current||L;return YV(P,_,w,P==="h"?k:R)},[]),f=x.useCallback(function(w){var _=w;if(!(!Cu.length||Cu[Cu.length-1]!==l)){var E="deltaY"in _?uC(_):Ux(_),S=e.current.filter(function(L){return L.name===_.type&&(L.target===_.target||_.target===L.shadowParent)&&WV(L.delta,E)})[0];if(S&&S.should){_.cancelable&&_.preventDefault();return}if(!S){var k=(c.current.shards||[]).map(fC).filter(Boolean).filter(function(L){return L.contains(_.target)}),R=k.length>0?d(_,k[0]):!c.current.noIsolation;R&&_.cancelable&&_.preventDefault()}}},[]),h=x.useCallback(function(w,_,E,S){var k={name:w,delta:_,target:E,should:S,shadowParent:XV(E)};e.current.push(k),setTimeout(function(){e.current=e.current.filter(function(R){return R!==k})},1)},[]),p=x.useCallback(function(w){r.current=Ux(w),n.current=void 0},[]),g=x.useCallback(function(w){h(w.type,uC(w),w.target,d(w,t.lockRef.current))},[]),y=x.useCallback(function(w){h(w.type,Ux(w),w.target,d(w,t.lockRef.current))},[]);x.useEffect(function(){return Cu.push(l),t.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:y}),document.addEventListener("wheel",f,ku),document.addEventListener("touchmove",f,ku),document.addEventListener("touchstart",p,ku),function(){Cu=Cu.filter(function(w){return w!==l}),document.removeEventListener("wheel",f,ku),document.removeEventListener("touchmove",f,ku),document.removeEventListener("touchstart",p,ku)}},[]);var b=t.removeScrollBar,j=t.inert;return x.createElement(x.Fragment,null,j?x.createElement(l,{styles:GV(a)}):null,b?x.createElement(FV,{gapMode:t.gapMode}):null)}function XV(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const QV=EV(NR,KV);var ap=x.forwardRef(function(t,e){return x.createElement(Vy,tl({},t,{ref:e,sideCar:QV}))});ap.classNames=Vy.classNames;var JV=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Au=new WeakMap,Fx=new WeakMap,zx={},i0=0,CR=function(t){return t&&(t.host||CR(t.parentNode))},eY=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=CR(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},tY=function(t,e,r,n){var a=eY(e,Array.isArray(t)?t:[t]);zx[r]||(zx[r]=new WeakMap);var l=zx[r],c=[],d=new Set,f=new Set(a),h=function(g){!g||d.has(g)||(d.add(g),h(g.parentNode))};a.forEach(h);var p=function(g){!g||f.has(g)||Array.prototype.forEach.call(g.children,function(y){if(d.has(y))p(y);else try{var b=y.getAttribute(n),j=b!==null&&b!=="false",w=(Au.get(y)||0)+1,_=(l.get(y)||0)+1;Au.set(y,w),l.set(y,_),c.push(y),w===1&&j&&Fx.set(y,!0),_===1&&y.setAttribute(r,"true"),j||y.setAttribute(n,"true")}catch(E){console.error("aria-hidden: cannot operate on ",y,E)}})};return p(e),d.clear(),i0++,function(){c.forEach(function(g){var y=Au.get(g)-1,b=l.get(g)-1;Au.set(g,y),l.set(g,b),y||(Fx.has(g)||g.removeAttribute(n),Fx.delete(g)),b||g.removeAttribute(r)}),i0--,i0||(Au=new WeakMap,Au=new WeakMap,Fx=new WeakMap,zx={})}},Yy=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),a=JV(t);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),tY(n,a,r,"aria-hidden")):function(){return null}},Wy="Dialog",[AR,TR]=tn(Wy),[sY,Oi]=AR(Wy),RR=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:a,onOpenChange:l,modal:c=!0}=t,d=x.useRef(null),f=x.useRef(null),[h,p]=Sa({prop:n,defaultProp:a??!1,onChange:l,caller:Wy});return s.jsx(sY,{scope:e,triggerRef:d,contentRef:f,contentId:Mr(),titleId:Mr(),descriptionId:Mr(),open:h,onOpenChange:p,onOpenToggle:x.useCallback(()=>p(g=>!g),[p]),modal:c,children:r})};RR.displayName=Wy;var DR="DialogTrigger",OR=x.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=Oi(DR,r),l=Rt(e,a.triggerRef);return s.jsx(Xe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":e1(a.open),...n,ref:l,onClick:He(t.onClick,a.onOpenToggle)})});OR.displayName=DR;var QN="DialogPortal",[rY,MR]=AR(QN,{forceMount:void 0}),PR=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:a}=t,l=Oi(QN,e);return s.jsx(rY,{scope:e,forceMount:r,children:x.Children.map(n,c=>s.jsx(Vr,{present:r||l.open,children:s.jsx(Sf,{asChild:!0,container:a,children:c})}))})};PR.displayName=QN;var Bg="DialogOverlay",LR=x.forwardRef((t,e)=>{const r=MR(Bg,t.__scopeDialog),{forceMount:n=r.forceMount,...a}=t,l=Oi(Bg,t.__scopeDialog);return l.modal?s.jsx(Vr,{present:n||l.open,children:s.jsx(aY,{...a,ref:e})}):null});LR.displayName=Bg;var nY=oc("DialogOverlay.RemoveScroll"),aY=x.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=Oi(Bg,r);return s.jsx(ap,{as:nY,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(Xe.div,{"data-state":e1(a.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),pd="DialogContent",IR=x.forwardRef((t,e)=>{const r=MR(pd,t.__scopeDialog),{forceMount:n=r.forceMount,...a}=t,l=Oi(pd,t.__scopeDialog);return s.jsx(Vr,{present:n||l.open,children:l.modal?s.jsx(iY,{...a,ref:e}):s.jsx(lY,{...a,ref:e})})});IR.displayName=pd;var iY=x.forwardRef((t,e)=>{const r=Oi(pd,t.__scopeDialog),n=x.useRef(null),a=Rt(e,r.contentRef,n);return x.useEffect(()=>{const l=n.current;if(l)return Yy(l)},[]),s.jsx(UR,{...t,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:He(t.onCloseAutoFocus,l=>{var c;l.preventDefault(),(c=r.triggerRef.current)==null||c.focus()}),onPointerDownOutside:He(t.onPointerDownOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0;(c.button===2||d)&&l.preventDefault()}),onFocusOutside:He(t.onFocusOutside,l=>l.preventDefault())})}),lY=x.forwardRef((t,e)=>{const r=Oi(pd,t.__scopeDialog),n=x.useRef(!1),a=x.useRef(!1);return s.jsx(UR,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var c,d;(c=t.onCloseAutoFocus)==null||c.call(t,l),l.defaultPrevented||(n.current||(d=r.triggerRef.current)==null||d.focus(),l.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:l=>{var f,h;(f=t.onInteractOutside)==null||f.call(t,l),l.defaultPrevented||(n.current=!0,l.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const c=l.target;((h=r.triggerRef.current)==null?void 0:h.contains(c))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&a.current&&l.preventDefault()}})}),UR=x.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:l,...c}=t,d=Oi(pd,r),f=x.useRef(null),h=Rt(e,f);return Hy(),s.jsxs(s.Fragment,{children:[s.jsx(np,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:l,children:s.jsx(wf,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":e1(d.open),...c,ref:h,onDismiss:()=>d.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(cY,{titleId:d.titleId}),s.jsx(uY,{contentRef:f,descriptionId:d.descriptionId})]})]})}),JN="DialogTitle",FR=x.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=Oi(JN,r);return s.jsx(Xe.h2,{id:a.titleId,...n,ref:e})});FR.displayName=JN;var zR="DialogDescription",$R=x.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=Oi(zR,r);return s.jsx(Xe.p,{id:a.descriptionId,...n,ref:e})});$R.displayName=zR;var qR="DialogClose",BR=x.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=Oi(qR,r);return s.jsx(Xe.button,{type:"button",...n,ref:e,onClick:He(t.onClick,()=>a.onOpenChange(!1))})});BR.displayName=qR;function e1(t){return t?"open":"closed"}var HR="DialogTitleWarning",[oY,VR]=dF(HR,{contentName:pd,titleName:JN,docsSlug:"dialog"}),cY=({titleId:t})=>{const e=VR(HR),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return x.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},dY="DialogDescriptionWarning",uY=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${VR(dY).contentName}}.`;return x.useEffect(()=>{var l;const a=(l=t.current)==null?void 0:l.getAttribute("aria-describedby");e&&a&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},Gy=RR,YR=OR,Zy=PR,Ky=LR,Xy=IR,t1=FR,fY=$R,Qy=BR;/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hY=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),WR=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var mY={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pY=x.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:l,iconNode:c,...d},f)=>x.createElement("svg",{ref:f,...mY,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:WR("lucide",a),...d},[...c.map(([h,p])=>x.createElement(h,p)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const io=(t,e)=>{const r=x.forwardRef(({className:n,...a},l)=>x.createElement(pY,{ref:l,iconNode:e,className:WR(`lucide-${hY(t)}`,n),...a}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xY=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Jy=io("Check",xY);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gY=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],s1=io("ChevronDown",gY);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yY=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],GR=io("ChevronRight",yY);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vY=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],bY=io("ChevronUp",vY);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jY=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],wY=io("ChevronsUpDown",jY);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NY=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],_Y=io("Circle",NY);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SY=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],hC=io("LoaderCircle",SY);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EY=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],kY=io("Search",EY);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CY=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ZR=io("X",CY);function KR({...t}){return s.jsx(Gy,{"data-slot":"sheet",...t})}function AY({...t}){return s.jsx(Zy,{"data-slot":"sheet-portal",...t})}function TY({className:t,...e}){return s.jsx(Ky,{"data-slot":"sheet-overlay",className:Pe("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function XR({className:t,children:e,side:r="right",...n}){return s.jsxs(AY,{children:[s.jsx(TY,{}),s.jsxs(Xy,{"data-slot":"sheet-content",className:Pe("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",r==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",r==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",r==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",r==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",t),...n,children:[e,s.jsxs(Qy,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[s.jsx(ZR,{className:"size-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function RY({className:t,...e}){return s.jsx("div",{"data-slot":"sheet-header",className:Pe("flex flex-col gap-1.5 p-4",t),...e})}function DY({className:t,...e}){return s.jsx(t1,{"data-slot":"sheet-title",className:Pe("text-foreground font-semibold",t),...e})}var OY=x.createContext(void 0);function Rf(t){const e=x.useContext(OY);return t||e||"ltr"}function jw(t,[e,r]){return Math.min(r,Math.max(e,t))}function MY(t,e){return x.useReducer((r,n)=>e[r][n]??r,t)}var r1="ScrollArea",[QR,Lce]=tn(r1),[PY,ei]=QR(r1),JR=x.forwardRef((t,e)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:l=600,...c}=t,[d,f]=x.useState(null),[h,p]=x.useState(null),[g,y]=x.useState(null),[b,j]=x.useState(null),[w,_]=x.useState(null),[E,S]=x.useState(0),[k,R]=x.useState(0),[L,I]=x.useState(!1),[T,O]=x.useState(!1),P=Rt(e,A=>f(A)),X=Rf(a);return s.jsx(PY,{scope:r,type:n,dir:X,scrollHideDelay:l,scrollArea:d,viewport:h,onViewportChange:p,content:g,onContentChange:y,scrollbarX:b,onScrollbarXChange:j,scrollbarXEnabled:L,onScrollbarXEnabledChange:I,scrollbarY:w,onScrollbarYChange:_,scrollbarYEnabled:T,onScrollbarYEnabledChange:O,onCornerWidthChange:S,onCornerHeightChange:R,children:s.jsx(Xe.div,{dir:X,...c,ref:P,style:{position:"relative","--radix-scroll-area-corner-width":E+"px","--radix-scroll-area-corner-height":k+"px",...t.style}})})});JR.displayName=r1;var eD="ScrollAreaViewport",tD=x.forwardRef((t,e)=>{const{__scopeScrollArea:r,children:n,nonce:a,...l}=t,c=ei(eD,r),d=x.useRef(null),f=Rt(e,d,c.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),s.jsx(Xe.div,{"data-radix-scroll-area-viewport":"",...l,ref:f,style:{overflowX:c.scrollbarXEnabled?"scroll":"hidden",overflowY:c.scrollbarYEnabled?"scroll":"hidden",...t.style},children:s.jsx("div",{ref:c.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});tD.displayName=eD;var xl="ScrollAreaScrollbar",sD=x.forwardRef((t,e)=>{const{forceMount:r,...n}=t,a=ei(xl,t.__scopeScrollArea),{onScrollbarXEnabledChange:l,onScrollbarYEnabledChange:c}=a,d=t.orientation==="horizontal";return x.useEffect(()=>(d?l(!0):c(!0),()=>{d?l(!1):c(!1)}),[d,l,c]),a.type==="hover"?s.jsx(LY,{...n,ref:e,forceMount:r}):a.type==="scroll"?s.jsx(IY,{...n,ref:e,forceMount:r}):a.type==="auto"?s.jsx(rD,{...n,ref:e,forceMount:r}):a.type==="always"?s.jsx(n1,{...n,ref:e}):null});sD.displayName=xl;var LY=x.forwardRef((t,e)=>{const{forceMount:r,...n}=t,a=ei(xl,t.__scopeScrollArea),[l,c]=x.useState(!1);return x.useEffect(()=>{const d=a.scrollArea;let f=0;if(d){const h=()=>{window.clearTimeout(f),c(!0)},p=()=>{f=window.setTimeout(()=>c(!1),a.scrollHideDelay)};return d.addEventListener("pointerenter",h),d.addEventListener("pointerleave",p),()=>{window.clearTimeout(f),d.removeEventListener("pointerenter",h),d.removeEventListener("pointerleave",p)}}},[a.scrollArea,a.scrollHideDelay]),s.jsx(Vr,{present:r||l,children:s.jsx(rD,{"data-state":l?"visible":"hidden",...n,ref:e})})}),IY=x.forwardRef((t,e)=>{const{forceMount:r,...n}=t,a=ei(xl,t.__scopeScrollArea),l=t.orientation==="horizontal",c=tv(()=>f("SCROLL_END"),100),[d,f]=MY("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return x.useEffect(()=>{if(d==="idle"){const h=window.setTimeout(()=>f("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(h)}},[d,a.scrollHideDelay,f]),x.useEffect(()=>{const h=a.viewport,p=l?"scrollLeft":"scrollTop";if(h){let g=h[p];const y=()=>{const b=h[p];g!==b&&(f("SCROLL"),c()),g=b};return h.addEventListener("scroll",y),()=>h.removeEventListener("scroll",y)}},[a.viewport,l,f,c]),s.jsx(Vr,{present:r||d!=="hidden",children:s.jsx(n1,{"data-state":d==="hidden"?"hidden":"visible",...n,ref:e,onPointerEnter:He(t.onPointerEnter,()=>f("POINTER_ENTER")),onPointerLeave:He(t.onPointerLeave,()=>f("POINTER_LEAVE"))})})}),rD=x.forwardRef((t,e)=>{const r=ei(xl,t.__scopeScrollArea),{forceMount:n,...a}=t,[l,c]=x.useState(!1),d=t.orientation==="horizontal",f=tv(()=>{if(r.viewport){const h=r.viewport.offsetWidth<r.viewport.scrollWidth,p=r.viewport.offsetHeight<r.viewport.scrollHeight;c(d?h:p)}},10);return af(r.viewport,f),af(r.content,f),s.jsx(Vr,{present:n||l,children:s.jsx(n1,{"data-state":l?"visible":"hidden",...a,ref:e})})}),n1=x.forwardRef((t,e)=>{const{orientation:r="vertical",...n}=t,a=ei(xl,t.__scopeScrollArea),l=x.useRef(null),c=x.useRef(0),[d,f]=x.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),h=oD(d.viewport,d.content),p={...n,sizes:d,onSizesChange:f,hasThumb:h>0&&h<1,onThumbChange:y=>l.current=y,onThumbPointerUp:()=>c.current=0,onThumbPointerDown:y=>c.current=y};function g(y,b){return BY(y,c.current,d,b)}return r==="horizontal"?s.jsx(UY,{...p,ref:e,onThumbPositionChange:()=>{if(a.viewport&&l.current){const y=a.viewport.scrollLeft,b=mC(y,d,a.dir);l.current.style.transform=`translate3d(${b}px, 0, 0)`}},onWheelScroll:y=>{a.viewport&&(a.viewport.scrollLeft=y)},onDragScroll:y=>{a.viewport&&(a.viewport.scrollLeft=g(y,a.dir))}}):r==="vertical"?s.jsx(FY,{...p,ref:e,onThumbPositionChange:()=>{if(a.viewport&&l.current){const y=a.viewport.scrollTop,b=mC(y,d);l.current.style.transform=`translate3d(0, ${b}px, 0)`}},onWheelScroll:y=>{a.viewport&&(a.viewport.scrollTop=y)},onDragScroll:y=>{a.viewport&&(a.viewport.scrollTop=g(y))}}):null}),UY=x.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...a}=t,l=ei(xl,t.__scopeScrollArea),[c,d]=x.useState(),f=x.useRef(null),h=Rt(e,f,l.onScrollbarXChange);return x.useEffect(()=>{f.current&&d(getComputedStyle(f.current))},[f]),s.jsx(aD,{"data-orientation":"horizontal",...a,ref:h,sizes:r,style:{bottom:0,left:l.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:l.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":ev(r)+"px",...t.style},onThumbPointerDown:p=>t.onThumbPointerDown(p.x),onDragScroll:p=>t.onDragScroll(p.x),onWheelScroll:(p,g)=>{if(l.viewport){const y=l.viewport.scrollLeft+p.deltaX;t.onWheelScroll(y),dD(y,g)&&p.preventDefault()}},onResize:()=>{f.current&&l.viewport&&c&&n({content:l.viewport.scrollWidth,viewport:l.viewport.offsetWidth,scrollbar:{size:f.current.clientWidth,paddingStart:Vg(c.paddingLeft),paddingEnd:Vg(c.paddingRight)}})}})}),FY=x.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...a}=t,l=ei(xl,t.__scopeScrollArea),[c,d]=x.useState(),f=x.useRef(null),h=Rt(e,f,l.onScrollbarYChange);return x.useEffect(()=>{f.current&&d(getComputedStyle(f.current))},[f]),s.jsx(aD,{"data-orientation":"vertical",...a,ref:h,sizes:r,style:{top:0,right:l.dir==="ltr"?0:void 0,left:l.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":ev(r)+"px",...t.style},onThumbPointerDown:p=>t.onThumbPointerDown(p.y),onDragScroll:p=>t.onDragScroll(p.y),onWheelScroll:(p,g)=>{if(l.viewport){const y=l.viewport.scrollTop+p.deltaY;t.onWheelScroll(y),dD(y,g)&&p.preventDefault()}},onResize:()=>{f.current&&l.viewport&&c&&n({content:l.viewport.scrollHeight,viewport:l.viewport.offsetHeight,scrollbar:{size:f.current.clientHeight,paddingStart:Vg(c.paddingTop),paddingEnd:Vg(c.paddingBottom)}})}})}),[zY,nD]=QR(xl),aD=x.forwardRef((t,e)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:l,onThumbPointerUp:c,onThumbPointerDown:d,onThumbPositionChange:f,onDragScroll:h,onWheelScroll:p,onResize:g,...y}=t,b=ei(xl,r),[j,w]=x.useState(null),_=Rt(e,P=>w(P)),E=x.useRef(null),S=x.useRef(""),k=b.viewport,R=n.content-n.viewport,L=Jr(p),I=Jr(f),T=tv(g,10);function O(P){if(E.current){const X=P.clientX-E.current.left,A=P.clientY-E.current.top;h({x:X,y:A})}}return x.useEffect(()=>{const P=X=>{const A=X.target;(j==null?void 0:j.contains(A))&&L(X,R)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[k,j,R,L]),x.useEffect(I,[n,I]),af(j,T),af(b.content,T),s.jsx(zY,{scope:r,scrollbar:j,hasThumb:a,onThumbChange:Jr(l),onThumbPointerUp:Jr(c),onThumbPositionChange:I,onThumbPointerDown:Jr(d),children:s.jsx(Xe.div,{...y,ref:_,style:{position:"absolute",...y.style},onPointerDown:He(t.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),E.current=j.getBoundingClientRect(),S.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",b.viewport&&(b.viewport.style.scrollBehavior="auto"),O(P))}),onPointerMove:He(t.onPointerMove,O),onPointerUp:He(t.onPointerUp,P=>{const X=P.target;X.hasPointerCapture(P.pointerId)&&X.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=S.current,b.viewport&&(b.viewport.style.scrollBehavior=""),E.current=null})})})}),Hg="ScrollAreaThumb",iD=x.forwardRef((t,e)=>{const{forceMount:r,...n}=t,a=nD(Hg,t.__scopeScrollArea);return s.jsx(Vr,{present:r||a.hasThumb,children:s.jsx($Y,{ref:e,...n})})}),$Y=x.forwardRef((t,e)=>{const{__scopeScrollArea:r,style:n,...a}=t,l=ei(Hg,r),c=nD(Hg,r),{onThumbPositionChange:d}=c,f=Rt(e,g=>c.onThumbChange(g)),h=x.useRef(void 0),p=tv(()=>{h.current&&(h.current(),h.current=void 0)},100);return x.useEffect(()=>{const g=l.viewport;if(g){const y=()=>{if(p(),!h.current){const b=HY(g,d);h.current=b,d()}};return d(),g.addEventListener("scroll",y),()=>g.removeEventListener("scroll",y)}},[l.viewport,p,d]),s.jsx(Xe.div,{"data-state":c.hasThumb?"visible":"hidden",...a,ref:f,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:He(t.onPointerDownCapture,g=>{const b=g.target.getBoundingClientRect(),j=g.clientX-b.left,w=g.clientY-b.top;c.onThumbPointerDown({x:j,y:w})}),onPointerUp:He(t.onPointerUp,c.onThumbPointerUp)})});iD.displayName=Hg;var a1="ScrollAreaCorner",lD=x.forwardRef((t,e)=>{const r=ei(a1,t.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?s.jsx(qY,{...t,ref:e}):null});lD.displayName=a1;var qY=x.forwardRef((t,e)=>{const{__scopeScrollArea:r,...n}=t,a=ei(a1,r),[l,c]=x.useState(0),[d,f]=x.useState(0),h=!!(l&&d);return af(a.scrollbarX,()=>{var g;const p=((g=a.scrollbarX)==null?void 0:g.offsetHeight)||0;a.onCornerHeightChange(p),f(p)}),af(a.scrollbarY,()=>{var g;const p=((g=a.scrollbarY)==null?void 0:g.offsetWidth)||0;a.onCornerWidthChange(p),c(p)}),h?s.jsx(Xe.div,{...n,ref:e,style:{width:l,height:d,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Vg(t){return t?parseInt(t,10):0}function oD(t,e){const r=t/e;return isNaN(r)?0:r}function ev(t){const e=oD(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-r)*e;return Math.max(n,18)}function BY(t,e,r,n="ltr"){const a=ev(r),l=a/2,c=e||l,d=a-c,f=r.scrollbar.paddingStart+c,h=r.scrollbar.size-r.scrollbar.paddingEnd-d,p=r.content-r.viewport,g=n==="ltr"?[0,p]:[p*-1,0];return cD([f,h],g)(t)}function mC(t,e,r="ltr"){const n=ev(e),a=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,l=e.scrollbar.size-a,c=e.content-e.viewport,d=l-n,f=r==="ltr"?[0,c]:[c*-1,0],h=jw(t,f);return cD([0,c],[0,d])(h)}function cD(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function dD(t,e){return t>0&&t<e}var HY=(t,e=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},n=0;return function a(){const l={left:t.scrollLeft,top:t.scrollTop},c=r.left!==l.left,d=r.top!==l.top;(c||d)&&e(),r=l,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function tv(t,e){const r=Jr(t),n=x.useRef(0);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),x.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,e)},[r,e])}function af(t,e){const r=Jr(e);Er(()=>{let n=0;if(t){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(t),()=>{window.cancelAnimationFrame(n),a.unobserve(t)}}},[t,r])}var VY=JR,YY=tD,WY=lD;function GY({className:t,children:e,...r}){return s.jsxs(VY,{"data-slot":"scroll-area",className:Pe("relative",t),...r,children:[s.jsx(YY,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:e}),s.jsx(uD,{}),s.jsx(WY,{})]})}function uD({className:t,orientation:e="vertical",...r}){return s.jsx(sD,{"data-slot":"scroll-area-scrollbar",orientation:e,className:Pe("flex touch-none p-px transition-colors select-none",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",t),...r,children:s.jsx(iD,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}const ZY="/assets/logoMini-BTe7sHu4.png";function KY({collapsed:t,onToggleCollapse:e}){return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:Pe("flex h-16 items-center flex-shrink-0 border-b border-sidebar-border",t?"px-3 justify-center":"px-6 justify-between"),children:[s.jsx(ja,{to:"/admin",className:Pe("flex items-center",t?"justify-center":"space-x-2"),children:t?s.jsx("img",{src:ZY,className:"w-20",alt:"logo okoce"}):s.jsx("img",{src:nc,className:"w-20",alt:"logo okoce"})}),!t&&s.jsx(re,{variant:"ghost",size:"sm",className:"hidden md:flex h-8 w-8 p-0 flex-shrink-0",onClick:e,title:"Collapse sidebar",children:s.jsx(Uy,{className:"h-4 w-4"})})]}),t&&s.jsx("div",{className:"flex justify-center px-3 py-2 border-b border-sidebar-border flex-shrink-0",children:s.jsx(re,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:e,title:"Expand sidebar",children:s.jsx(Fy,{className:"h-4 w-4"})})})]})}const XY=()=>{const t=Iy(),e=Jn(r=>r.theme.isDarkMode);return x.useEffect(()=>{e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[e]),{isDarkMode:e,toggleTheme:()=>t(x7()),setDarkMode:r=>t(g7(r))}};function QY({variant:t="ghost",size:e="sm",className:r}){const{isDarkMode:n,toggleTheme:a}=XY();return s.jsx(re,{variant:t,size:e,onClick:a,className:r,title:n?"Switch to light mode":"Switch to dark mode",children:n?s.jsx($H,{className:"h-4 w-4"}):s.jsx(bH,{className:"h-4 w-4"})})}var l0={exports:{}},o0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pC;function JY(){if(pC)return o0;pC=1;var t=Gm();function e(g,y){return g===y&&(g!==0||1/g===1/y)||g!==g&&y!==y}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,a=t.useEffect,l=t.useLayoutEffect,c=t.useDebugValue;function d(g,y){var b=y(),j=n({inst:{value:b,getSnapshot:y}}),w=j[0].inst,_=j[1];return l(function(){w.value=b,w.getSnapshot=y,f(w)&&_({inst:w})},[g,b,y]),a(function(){return f(w)&&_({inst:w}),g(function(){f(w)&&_({inst:w})})},[g]),c(b),b}function f(g){var y=g.getSnapshot;g=g.value;try{var b=y();return!r(g,b)}catch{return!0}}function h(g,y){return y()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:d;return o0.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,o0}var xC;function eW(){return xC||(xC=1,l0.exports=JY()),l0.exports}var tW=eW();function sW(){return tW.useSyncExternalStore(rW,()=>!0,()=>!1)}function rW(){return()=>{}}var i1="Avatar",[nW,Ice]=tn(i1),[aW,fD]=nW(i1),hD=x.forwardRef((t,e)=>{const{__scopeAvatar:r,...n}=t,[a,l]=x.useState("idle");return s.jsx(aW,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:l,children:s.jsx(Xe.span,{...n,ref:e})})});hD.displayName=i1;var mD="AvatarImage",pD=x.forwardRef((t,e)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...l}=t,c=fD(mD,r),d=iW(n,l),f=Jr(h=>{a(h),c.onImageLoadingStatusChange(h)});return Er(()=>{d!=="idle"&&f(d)},[d,f]),d==="loaded"?s.jsx(Xe.img,{...l,ref:e,src:n}):null});pD.displayName=mD;var xD="AvatarFallback",gD=x.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:n,...a}=t,l=fD(xD,r),[c,d]=x.useState(n===void 0);return x.useEffect(()=>{if(n!==void 0){const f=window.setTimeout(()=>d(!0),n);return()=>window.clearTimeout(f)}},[n]),c&&l.imageLoadingStatus!=="loaded"?s.jsx(Xe.span,{...a,ref:e}):null});gD.displayName=xD;function gC(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function iW(t,{referrerPolicy:e,crossOrigin:r}){const n=sW(),a=x.useRef(null),l=n?(a.current||(a.current=new window.Image),a.current):null,[c,d]=x.useState(()=>gC(l,t));return Er(()=>{d(gC(l,t))},[l,t]),Er(()=>{const f=g=>()=>{d(g)};if(!l)return;const h=f("loaded"),p=f("error");return l.addEventListener("load",h),l.addEventListener("error",p),e&&(l.referrerPolicy=e),typeof r=="string"&&(l.crossOrigin=r),()=>{l.removeEventListener("load",h),l.removeEventListener("error",p)}},[l,r,e]),c}var yD=hD,vD=pD,bD=gD;const na=x.forwardRef(({className:t,...e},r)=>s.jsx(yD,{ref:r,className:Pe("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));na.displayName=yD.displayName;const Td=x.forwardRef(({className:t,...e},r)=>s.jsx(vD,{ref:r,className:Pe("aspect-square h-full w-full",t),...e}));Td.displayName=vD.displayName;const aa=x.forwardRef(({className:t,...e},r)=>s.jsx(bD,{ref:r,className:Pe("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));aa.displayName=bD.displayName;function sv(t){const e=t+"CollectionProvider",[r,n]=tn(e),[a,l]=r(e,{collectionRef:{current:null},itemMap:new Map}),c=w=>{const{scope:_,children:E}=w,S=ye.useRef(null),k=ye.useRef(new Map).current;return s.jsx(a,{scope:_,itemMap:k,collectionRef:S,children:E})};c.displayName=e;const d=t+"CollectionSlot",f=oc(d),h=ye.forwardRef((w,_)=>{const{scope:E,children:S}=w,k=l(d,E),R=Rt(_,k.collectionRef);return s.jsx(f,{ref:R,children:S})});h.displayName=d;const p=t+"CollectionItemSlot",g="data-radix-collection-item",y=oc(p),b=ye.forwardRef((w,_)=>{const{scope:E,children:S,...k}=w,R=ye.useRef(null),L=Rt(_,R),I=l(p,E);return ye.useEffect(()=>(I.itemMap.set(R,{ref:R,...k}),()=>void I.itemMap.delete(R))),s.jsx(y,{[g]:"",ref:L,children:S})});b.displayName=p;function j(w){const _=l(t+"CollectionConsumer",w);return ye.useCallback(()=>{const S=_.collectionRef.current;if(!S)return[];const k=Array.from(S.querySelectorAll(`[${g}]`));return Array.from(_.itemMap.values()).sort((I,T)=>k.indexOf(I.ref.current)-k.indexOf(T.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:c,Slot:h,ItemSlot:b},j,n]}var c0="rovingFocusGroup.onEntryFocus",lW={bubbles:!1,cancelable:!0},ip="RovingFocusGroup",[ww,jD,oW]=sv(ip),[cW,rv]=tn(ip,[oW]),[dW,uW]=cW(ip),wD=x.forwardRef((t,e)=>s.jsx(ww.Provider,{scope:t.__scopeRovingFocusGroup,children:s.jsx(ww.Slot,{scope:t.__scopeRovingFocusGroup,children:s.jsx(fW,{...t,ref:e})})}));wD.displayName=ip;var fW=x.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:l,currentTabStopId:c,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:f,onEntryFocus:h,preventScrollOnEntryFocus:p=!1,...g}=t,y=x.useRef(null),b=Rt(e,y),j=Rf(l),[w,_]=Sa({prop:c,defaultProp:d??null,onChange:f,caller:ip}),[E,S]=x.useState(!1),k=Jr(h),R=jD(r),L=x.useRef(!1),[I,T]=x.useState(0);return x.useEffect(()=>{const O=y.current;if(O)return O.addEventListener(c0,k),()=>O.removeEventListener(c0,k)},[k]),s.jsx(dW,{scope:r,orientation:n,dir:j,loop:a,currentTabStopId:w,onItemFocus:x.useCallback(O=>_(O),[_]),onItemShiftTab:x.useCallback(()=>S(!0),[]),onFocusableItemAdd:x.useCallback(()=>T(O=>O+1),[]),onFocusableItemRemove:x.useCallback(()=>T(O=>O-1),[]),children:s.jsx(Xe.div,{tabIndex:E||I===0?-1:0,"data-orientation":n,...g,ref:b,style:{outline:"none",...t.style},onMouseDown:He(t.onMouseDown,()=>{L.current=!0}),onFocus:He(t.onFocus,O=>{const P=!L.current;if(O.target===O.currentTarget&&P&&!E){const X=new CustomEvent(c0,lW);if(O.currentTarget.dispatchEvent(X),!X.defaultPrevented){const A=R().filter(M=>M.focusable),z=A.find(M=>M.active),$=A.find(M=>M.id===w),B=[z,$,...A].filter(Boolean).map(M=>M.ref.current);SD(B,p)}}L.current=!1}),onBlur:He(t.onBlur,()=>S(!1))})})}),ND="RovingFocusGroupItem",_D=x.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:l,children:c,...d}=t,f=Mr(),h=l||f,p=uW(ND,r),g=p.currentTabStopId===h,y=jD(r),{onFocusableItemAdd:b,onFocusableItemRemove:j,currentTabStopId:w}=p;return x.useEffect(()=>{if(n)return b(),()=>j()},[n,b,j]),s.jsx(ww.ItemSlot,{scope:r,id:h,focusable:n,active:a,children:s.jsx(Xe.span,{tabIndex:g?0:-1,"data-orientation":p.orientation,...d,ref:e,onMouseDown:He(t.onMouseDown,_=>{n?p.onItemFocus(h):_.preventDefault()}),onFocus:He(t.onFocus,()=>p.onItemFocus(h)),onKeyDown:He(t.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){p.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const E=pW(_,p.orientation,p.dir);if(E!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let k=y().filter(R=>R.focusable).map(R=>R.ref.current);if(E==="last")k.reverse();else if(E==="prev"||E==="next"){E==="prev"&&k.reverse();const R=k.indexOf(_.currentTarget);k=p.loop?xW(k,R+1):k.slice(R+1)}setTimeout(()=>SD(k))}}),children:typeof c=="function"?c({isCurrentTabStop:g,hasTabStop:w!=null}):c})})});_D.displayName=ND;var hW={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function mW(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function pW(t,e,r){const n=mW(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return hW[n]}function SD(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function xW(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var ED=wD,kD=_D,Nw=["Enter"," "],gW=["ArrowDown","PageUp","Home"],CD=["ArrowUp","PageDown","End"],yW=[...gW,...CD],vW={ltr:[...Nw,"ArrowRight"],rtl:[...Nw,"ArrowLeft"]},bW={ltr:["ArrowLeft"],rtl:["ArrowRight"]},lp="Menu",[wm,jW,wW]=sv(lp),[Rd,AD]=tn(lp,[wW,jc,rv]),nv=jc(),TD=rv(),[NW,Dd]=Rd(lp),[_W,op]=Rd(lp),RD=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:a,onOpenChange:l,modal:c=!0}=t,d=nv(e),[f,h]=x.useState(null),p=x.useRef(!1),g=Jr(l),y=Rf(a);return x.useEffect(()=>{const b=()=>{p.current=!0,document.addEventListener("pointerdown",j,{capture:!0,once:!0}),document.addEventListener("pointermove",j,{capture:!0,once:!0})},j=()=>p.current=!1;return document.addEventListener("keydown",b,{capture:!0}),()=>{document.removeEventListener("keydown",b,{capture:!0}),document.removeEventListener("pointerdown",j,{capture:!0}),document.removeEventListener("pointermove",j,{capture:!0})}},[]),s.jsx(by,{...d,children:s.jsx(NW,{scope:e,open:r,onOpenChange:g,content:f,onContentChange:h,children:s.jsx(_W,{scope:e,onClose:x.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:p,dir:y,modal:c,children:n})})})};RD.displayName=lp;var SW="MenuAnchor",l1=x.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,a=nv(r);return s.jsx(Jm,{...a,...n,ref:e})});l1.displayName=SW;var o1="MenuPortal",[EW,DD]=Rd(o1,{forceMount:void 0}),OD=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:a}=t,l=Dd(o1,e);return s.jsx(EW,{scope:e,forceMount:r,children:s.jsx(Vr,{present:r||l.open,children:s.jsx(Sf,{asChild:!0,container:a,children:n})})})};OD.displayName=o1;var Xa="MenuContent",[kW,c1]=Rd(Xa),MD=x.forwardRef((t,e)=>{const r=DD(Xa,t.__scopeMenu),{forceMount:n=r.forceMount,...a}=t,l=Dd(Xa,t.__scopeMenu),c=op(Xa,t.__scopeMenu);return s.jsx(wm.Provider,{scope:t.__scopeMenu,children:s.jsx(Vr,{present:n||l.open,children:s.jsx(wm.Slot,{scope:t.__scopeMenu,children:c.modal?s.jsx(CW,{...a,ref:e}):s.jsx(AW,{...a,ref:e})})})})}),CW=x.forwardRef((t,e)=>{const r=Dd(Xa,t.__scopeMenu),n=x.useRef(null),a=Rt(e,n);return x.useEffect(()=>{const l=n.current;if(l)return Yy(l)},[]),s.jsx(d1,{...t,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:He(t.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),AW=x.forwardRef((t,e)=>{const r=Dd(Xa,t.__scopeMenu);return s.jsx(d1,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),TW=oc("MenuContent.ScrollLock"),d1=x.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:l,onCloseAutoFocus:c,disableOutsidePointerEvents:d,onEntryFocus:f,onEscapeKeyDown:h,onPointerDownOutside:p,onFocusOutside:g,onInteractOutside:y,onDismiss:b,disableOutsideScroll:j,...w}=t,_=Dd(Xa,r),E=op(Xa,r),S=nv(r),k=TD(r),R=jW(r),[L,I]=x.useState(null),T=x.useRef(null),O=Rt(e,T,_.onContentChange),P=x.useRef(0),X=x.useRef(""),A=x.useRef(0),z=x.useRef(null),$=x.useRef("right"),J=x.useRef(0),B=j?ap:x.Fragment,M=j?{as:TW,allowPinchZoom:!0}:void 0,V=le=>{var ne,me;const H=X.current+le,K=R().filter(ie=>!ie.disabled),Y=document.activeElement,se=(ne=K.find(ie=>ie.ref.current===Y))==null?void 0:ne.textValue,G=K.map(ie=>ie.textValue),C=qW(G,H,se),U=(me=K.find(ie=>ie.textValue===C))==null?void 0:me.ref.current;(function ie(Ee){X.current=Ee,window.clearTimeout(P.current),Ee!==""&&(P.current=window.setTimeout(()=>ie(""),1e3))})(H),U&&setTimeout(()=>U.focus())};x.useEffect(()=>()=>window.clearTimeout(P.current),[]),Hy();const Q=x.useCallback(le=>{var K,Y;return $.current===((K=z.current)==null?void 0:K.side)&&HW(le,(Y=z.current)==null?void 0:Y.area)},[]);return s.jsx(kW,{scope:r,searchRef:X,onItemEnter:x.useCallback(le=>{Q(le)&&le.preventDefault()},[Q]),onItemLeave:x.useCallback(le=>{var H;Q(le)||((H=T.current)==null||H.focus(),I(null))},[Q]),onTriggerLeave:x.useCallback(le=>{Q(le)&&le.preventDefault()},[Q]),pointerGraceTimerRef:A,onPointerGraceIntentChange:x.useCallback(le=>{z.current=le},[]),children:s.jsx(B,{...M,children:s.jsx(np,{asChild:!0,trapped:a,onMountAutoFocus:He(l,le=>{var H;le.preventDefault(),(H=T.current)==null||H.focus({preventScroll:!0})}),onUnmountAutoFocus:c,children:s.jsx(wf,{asChild:!0,disableOutsidePointerEvents:d,onEscapeKeyDown:h,onPointerDownOutside:p,onFocusOutside:g,onInteractOutside:y,onDismiss:b,children:s.jsx(ED,{asChild:!0,...k,dir:E.dir,orientation:"vertical",loop:n,currentTabStopId:L,onCurrentTabStopIdChange:I,onEntryFocus:He(f,le=>{E.isUsingKeyboardRef.current||le.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(jy,{role:"menu","aria-orientation":"vertical","data-state":KD(_.open),"data-radix-menu-content":"",dir:E.dir,...S,...w,ref:O,style:{outline:"none",...w.style},onKeyDown:He(w.onKeyDown,le=>{const K=le.target.closest("[data-radix-menu-content]")===le.currentTarget,Y=le.ctrlKey||le.altKey||le.metaKey,se=le.key.length===1;K&&(le.key==="Tab"&&le.preventDefault(),!Y&&se&&V(le.key));const G=T.current;if(le.target!==G||!yW.includes(le.key))return;le.preventDefault();const U=R().filter(ne=>!ne.disabled).map(ne=>ne.ref.current);CD.includes(le.key)&&U.reverse(),zW(U)}),onBlur:He(t.onBlur,le=>{le.currentTarget.contains(le.target)||(window.clearTimeout(P.current),X.current="")}),onPointerMove:He(t.onPointerMove,Nm(le=>{const H=le.target,K=J.current!==le.clientX;if(le.currentTarget.contains(H)&&K){const Y=le.clientX>J.current?"right":"left";$.current=Y,J.current=le.clientX}}))})})})})})})});MD.displayName=Xa;var RW="MenuGroup",u1=x.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return s.jsx(Xe.div,{role:"group",...n,ref:e})});u1.displayName=RW;var DW="MenuLabel",PD=x.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return s.jsx(Xe.div,{...n,ref:e})});PD.displayName=DW;var Yg="MenuItem",yC="menu.itemSelect",av=x.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...a}=t,l=x.useRef(null),c=op(Yg,t.__scopeMenu),d=c1(Yg,t.__scopeMenu),f=Rt(e,l),h=x.useRef(!1),p=()=>{const g=l.current;if(!r&&g){const y=new CustomEvent(yC,{bubbles:!0,cancelable:!0});g.addEventListener(yC,b=>n==null?void 0:n(b),{once:!0}),A4(g,y),y.defaultPrevented?h.current=!1:c.onClose()}};return s.jsx(LD,{...a,ref:f,disabled:r,onClick:He(t.onClick,p),onPointerDown:g=>{var y;(y=t.onPointerDown)==null||y.call(t,g),h.current=!0},onPointerUp:He(t.onPointerUp,g=>{var y;h.current||(y=g.currentTarget)==null||y.click()}),onKeyDown:He(t.onKeyDown,g=>{const y=d.searchRef.current!=="";r||y&&g.key===" "||Nw.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});av.displayName=Yg;var LD=x.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...l}=t,c=c1(Yg,r),d=TD(r),f=x.useRef(null),h=Rt(e,f),[p,g]=x.useState(!1),[y,b]=x.useState("");return x.useEffect(()=>{const j=f.current;j&&b((j.textContent??"").trim())},[l.children]),s.jsx(wm.ItemSlot,{scope:r,disabled:n,textValue:a??y,children:s.jsx(kD,{asChild:!0,...d,focusable:!n,children:s.jsx(Xe.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...l,ref:h,onPointerMove:He(t.onPointerMove,Nm(j=>{n?c.onItemLeave(j):(c.onItemEnter(j),j.defaultPrevented||j.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:He(t.onPointerLeave,Nm(j=>c.onItemLeave(j))),onFocus:He(t.onFocus,()=>g(!0)),onBlur:He(t.onBlur,()=>g(!1))})})})}),OW="MenuCheckboxItem",ID=x.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...a}=t;return s.jsx(qD,{scope:t.__scopeMenu,checked:r,children:s.jsx(av,{role:"menuitemcheckbox","aria-checked":Wg(r)?"mixed":r,...a,ref:e,"data-state":h1(r),onSelect:He(a.onSelect,()=>n==null?void 0:n(Wg(r)?!0:!r),{checkForDefaultPrevented:!1})})})});ID.displayName=OW;var UD="MenuRadioGroup",[MW,PW]=Rd(UD,{value:void 0,onValueChange:()=>{}}),FD=x.forwardRef((t,e)=>{const{value:r,onValueChange:n,...a}=t,l=Jr(n);return s.jsx(MW,{scope:t.__scopeMenu,value:r,onValueChange:l,children:s.jsx(u1,{...a,ref:e})})});FD.displayName=UD;var zD="MenuRadioItem",$D=x.forwardRef((t,e)=>{const{value:r,...n}=t,a=PW(zD,t.__scopeMenu),l=r===a.value;return s.jsx(qD,{scope:t.__scopeMenu,checked:l,children:s.jsx(av,{role:"menuitemradio","aria-checked":l,...n,ref:e,"data-state":h1(l),onSelect:He(n.onSelect,()=>{var c;return(c=a.onValueChange)==null?void 0:c.call(a,r)},{checkForDefaultPrevented:!1})})})});$D.displayName=zD;var f1="MenuItemIndicator",[qD,LW]=Rd(f1,{checked:!1}),BD=x.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...a}=t,l=LW(f1,r);return s.jsx(Vr,{present:n||Wg(l.checked)||l.checked===!0,children:s.jsx(Xe.span,{...a,ref:e,"data-state":h1(l.checked)})})});BD.displayName=f1;var IW="MenuSeparator",HD=x.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return s.jsx(Xe.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});HD.displayName=IW;var UW="MenuArrow",VD=x.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,a=nv(r);return s.jsx(wy,{...a,...n,ref:e})});VD.displayName=UW;var FW="MenuSub",[Uce,YD]=Rd(FW),Kh="MenuSubTrigger",WD=x.forwardRef((t,e)=>{const r=Dd(Kh,t.__scopeMenu),n=op(Kh,t.__scopeMenu),a=YD(Kh,t.__scopeMenu),l=c1(Kh,t.__scopeMenu),c=x.useRef(null),{pointerGraceTimerRef:d,onPointerGraceIntentChange:f}=l,h={__scopeMenu:t.__scopeMenu},p=x.useCallback(()=>{c.current&&window.clearTimeout(c.current),c.current=null},[]);return x.useEffect(()=>p,[p]),x.useEffect(()=>{const g=d.current;return()=>{window.clearTimeout(g),f(null)}},[d,f]),s.jsx(l1,{asChild:!0,...h,children:s.jsx(LD,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":KD(r.open),...t,ref:Xl(e,a.onTriggerChange),onClick:g=>{var y;(y=t.onClick)==null||y.call(t,g),!(t.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:He(t.onPointerMove,Nm(g=>{l.onItemEnter(g),!g.defaultPrevented&&!t.disabled&&!r.open&&!c.current&&(l.onPointerGraceIntentChange(null),c.current=window.setTimeout(()=>{r.onOpenChange(!0),p()},100))})),onPointerLeave:He(t.onPointerLeave,Nm(g=>{var b,j;p();const y=(b=r.content)==null?void 0:b.getBoundingClientRect();if(y){const w=(j=r.content)==null?void 0:j.dataset.side,_=w==="right",E=_?-5:5,S=y[_?"left":"right"],k=y[_?"right":"left"];l.onPointerGraceIntentChange({area:[{x:g.clientX+E,y:g.clientY},{x:S,y:y.top},{x:k,y:y.top},{x:k,y:y.bottom},{x:S,y:y.bottom}],side:w}),window.clearTimeout(d.current),d.current=window.setTimeout(()=>l.onPointerGraceIntentChange(null),300)}else{if(l.onTriggerLeave(g),g.defaultPrevented)return;l.onPointerGraceIntentChange(null)}})),onKeyDown:He(t.onKeyDown,g=>{var b;const y=l.searchRef.current!=="";t.disabled||y&&g.key===" "||vW[n.dir].includes(g.key)&&(r.onOpenChange(!0),(b=r.content)==null||b.focus(),g.preventDefault())})})})});WD.displayName=Kh;var GD="MenuSubContent",ZD=x.forwardRef((t,e)=>{const r=DD(Xa,t.__scopeMenu),{forceMount:n=r.forceMount,...a}=t,l=Dd(Xa,t.__scopeMenu),c=op(Xa,t.__scopeMenu),d=YD(GD,t.__scopeMenu),f=x.useRef(null),h=Rt(e,f);return s.jsx(wm.Provider,{scope:t.__scopeMenu,children:s.jsx(Vr,{present:n||l.open,children:s.jsx(wm.Slot,{scope:t.__scopeMenu,children:s.jsx(d1,{id:d.contentId,"aria-labelledby":d.triggerId,...a,ref:h,align:"start",side:c.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:p=>{var g;c.isUsingKeyboardRef.current&&((g=f.current)==null||g.focus()),p.preventDefault()},onCloseAutoFocus:p=>p.preventDefault(),onFocusOutside:He(t.onFocusOutside,p=>{p.target!==d.trigger&&l.onOpenChange(!1)}),onEscapeKeyDown:He(t.onEscapeKeyDown,p=>{c.onClose(),p.preventDefault()}),onKeyDown:He(t.onKeyDown,p=>{var b;const g=p.currentTarget.contains(p.target),y=bW[c.dir].includes(p.key);g&&y&&(l.onOpenChange(!1),(b=d.trigger)==null||b.focus(),p.preventDefault())})})})})})});ZD.displayName=GD;function KD(t){return t?"open":"closed"}function Wg(t){return t==="indeterminate"}function h1(t){return Wg(t)?"indeterminate":t?"checked":"unchecked"}function zW(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function $W(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function qW(t,e,r){const a=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,l=r?t.indexOf(r):-1;let c=$W(t,Math.max(l,0));a.length===1&&(c=c.filter(h=>h!==r));const f=c.find(h=>h.toLowerCase().startsWith(a.toLowerCase()));return f!==r?f:void 0}function BW(t,e){const{x:r,y:n}=t;let a=!1;for(let l=0,c=e.length-1;l<e.length;c=l++){const d=e[l],f=e[c],h=d.x,p=d.y,g=f.x,y=f.y;p>n!=y>n&&r<(g-h)*(n-p)/(y-p)+h&&(a=!a)}return a}function HW(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return BW(r,e)}function Nm(t){return e=>e.pointerType==="mouse"?t(e):void 0}var VW=RD,YW=l1,WW=OD,GW=MD,ZW=u1,KW=PD,XW=av,QW=ID,JW=FD,eG=$D,tG=BD,sG=HD,rG=VD,nG=WD,aG=ZD,iv="DropdownMenu",[iG,Fce]=tn(iv,[AD]),$n=AD(),[lG,XD]=iG(iv),QD=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:a,defaultOpen:l,onOpenChange:c,modal:d=!0}=t,f=$n(e),h=x.useRef(null),[p,g]=Sa({prop:a,defaultProp:l??!1,onChange:c,caller:iv});return s.jsx(lG,{scope:e,triggerId:Mr(),triggerRef:h,contentId:Mr(),open:p,onOpenChange:g,onOpenToggle:x.useCallback(()=>g(y=>!y),[g]),modal:d,children:s.jsx(VW,{...f,open:p,onOpenChange:g,dir:n,modal:d,children:r})})};QD.displayName=iv;var JD="DropdownMenuTrigger",eO=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=t,l=XD(JD,r),c=$n(r);return s.jsx(YW,{asChild:!0,...c,children:s.jsx(Xe.button,{type:"button",id:l.triggerId,"aria-haspopup":"menu","aria-expanded":l.open,"aria-controls":l.open?l.contentId:void 0,"data-state":l.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:Xl(e,l.triggerRef),onPointerDown:He(t.onPointerDown,d=>{!n&&d.button===0&&d.ctrlKey===!1&&(l.onOpenToggle(),l.open||d.preventDefault())}),onKeyDown:He(t.onKeyDown,d=>{n||(["Enter"," "].includes(d.key)&&l.onOpenToggle(),d.key==="ArrowDown"&&l.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(d.key)&&d.preventDefault())})})})});eO.displayName=JD;var oG="DropdownMenuPortal",tO=t=>{const{__scopeDropdownMenu:e,...r}=t,n=$n(e);return s.jsx(WW,{...n,...r})};tO.displayName=oG;var sO="DropdownMenuContent",rO=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=XD(sO,r),l=$n(r),c=x.useRef(!1);return s.jsx(GW,{id:a.contentId,"aria-labelledby":a.triggerId,...l,...n,ref:e,onCloseAutoFocus:He(t.onCloseAutoFocus,d=>{var f;c.current||(f=a.triggerRef.current)==null||f.focus(),c.current=!1,d.preventDefault()}),onInteractOutside:He(t.onInteractOutside,d=>{const f=d.detail.originalEvent,h=f.button===0&&f.ctrlKey===!0,p=f.button===2||h;(!a.modal||p)&&(c.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});rO.displayName=sO;var cG="DropdownMenuGroup",dG=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=$n(r);return s.jsx(ZW,{...a,...n,ref:e})});dG.displayName=cG;var uG="DropdownMenuLabel",nO=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=$n(r);return s.jsx(KW,{...a,...n,ref:e})});nO.displayName=uG;var fG="DropdownMenuItem",aO=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=$n(r);return s.jsx(XW,{...a,...n,ref:e})});aO.displayName=fG;var hG="DropdownMenuCheckboxItem",iO=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=$n(r);return s.jsx(QW,{...a,...n,ref:e})});iO.displayName=hG;var mG="DropdownMenuRadioGroup",pG=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=$n(r);return s.jsx(JW,{...a,...n,ref:e})});pG.displayName=mG;var xG="DropdownMenuRadioItem",lO=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=$n(r);return s.jsx(eG,{...a,...n,ref:e})});lO.displayName=xG;var gG="DropdownMenuItemIndicator",oO=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=$n(r);return s.jsx(tG,{...a,...n,ref:e})});oO.displayName=gG;var yG="DropdownMenuSeparator",cO=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=$n(r);return s.jsx(sG,{...a,...n,ref:e})});cO.displayName=yG;var vG="DropdownMenuArrow",bG=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=$n(r);return s.jsx(rG,{...a,...n,ref:e})});bG.displayName=vG;var jG="DropdownMenuSubTrigger",dO=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=$n(r);return s.jsx(nG,{...a,...n,ref:e})});dO.displayName=jG;var wG="DropdownMenuSubContent",uO=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=$n(r);return s.jsx(aG,{...a,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});uO.displayName=wG;var NG=QD,_G=eO,SG=tO,fO=rO,hO=nO,mO=aO,pO=iO,xO=lO,gO=oO,yO=cO,vO=dO,bO=uO;const On=NG,Mn=_G,EG=x.forwardRef(({className:t,inset:e,children:r,...n},a)=>s.jsxs(vO,{ref:a,className:Pe("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...n,children:[r,s.jsx(GR,{className:"ml-auto"})]}));EG.displayName=vO.displayName;const kG=x.forwardRef(({className:t,...e},r)=>s.jsx(bO,{ref:r,className:Pe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...e}));kG.displayName=bO.displayName;const un=x.forwardRef(({className:t,sideOffset:e=4,...r},n)=>s.jsx(SG,{children:s.jsx(fO,{ref:n,sideOffset:e,className:Pe("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...r})}));un.displayName=fO.displayName;const ts=x.forwardRef(({className:t,inset:e,...r},n)=>s.jsx(mO,{ref:n,className:Pe("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",e&&"pl-8",t),...r}));ts.displayName=mO.displayName;const CG=x.forwardRef(({className:t,children:e,checked:r,...n},a)=>s.jsxs(pO,{ref:a,className:Pe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:r,...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(gO,{children:s.jsx(Jy,{className:"h-4 w-4"})})}),e]}));CG.displayName=pO.displayName;const AG=x.forwardRef(({className:t,children:e,...r},n)=>s.jsxs(xO,{ref:n,className:Pe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(gO,{children:s.jsx(_Y,{className:"h-2 w-2 fill-current"})})}),e]}));AG.displayName=xO.displayName;const Df=x.forwardRef(({className:t,inset:e,...r},n)=>s.jsx(hO,{ref:n,className:Pe("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...r}));Df.displayName=hO.displayName;const cp=x.forwardRef(({className:t,...e},r)=>s.jsx(yO,{ref:r,className:Pe("-mx-1 my-1 h-px bg-muted",t),...e}));cp.displayName=yO.displayName;var TG="Separator",vC="horizontal",RG=["horizontal","vertical"],jO=x.forwardRef((t,e)=>{const{decorative:r,orientation:n=vC,...a}=t,l=DG(n)?n:vC,d=r?{role:"none"}:{"aria-orientation":l==="vertical"?l:void 0,role:"separator"};return s.jsx(Xe.div,{"data-orientation":l,...d,...a,ref:e})});jO.displayName=TG;function DG(t){return RG.includes(t)}var wO=jO;const ys=x.forwardRef(({className:t,orientation:e="horizontal",decorative:r=!0,...n},a)=>s.jsx(wO,{ref:a,decorative:r,orientation:e,className:Pe("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));ys.displayName=wO.displayName;const OG=By("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ke({className:t,variant:e,...r}){return s.jsx("div",{className:Pe(OG({variant:e}),t),...r})}const MG="modulepreload",PG=function(t){return"/"+t},bC={},Hl=function(e,r,n){let a=Promise.resolve();if(r&&r.length>0){let c=function(h){return Promise.all(h.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),f=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));a=c(r.map(h=>{if(h=PG(h),h in bC)return;bC[h]=!0;const p=h.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":MG,p||(y.as="script"),y.crossOrigin="",y.href=h,f&&y.setAttribute("nonce",f),document.head.appendChild(y),p)return new Promise((b,j)=>{y.addEventListener("load",b),y.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${h}`)))})}))}function l(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return a.then(c=>{for(const d of c||[])d.status==="rejected"&&l(d.reason);return e().catch(l)})},LG="https://api.hrisokoce.site",{toast:Nn}=tr(),Vs={uploadFile:async(t,e)=>{var r,n;try{const a=new FormData;a.append("file",t),e!=null&&e.folder&&a.append("folder",e.folder),(e==null?void 0:e.is_public)!==void 0&&a.append("is_public",String(e.is_public)),(e==null?void 0:e.is_temporary)!==void 0&&a.append("is_temporary",String(e.is_temporary)),e!=null&&e.expires_in_seconds&&a.append("expires_in_seconds",String(e.expires_in_seconds));const l=await ve.post("/files/upload",a,{headers:{"Content-Type":"multipart/form-data"}});return Nn({title:"Success",description:"File uploaded successfully"}),l.data}catch(a){const l=((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.detail)||"Failed to upload file";throw Nn({title:"Error",description:l,variant:"destructive"}),new Error(l)}},uploadMultipleFiles:async(t,e)=>{var r,n;try{const a=new FormData;t.forEach(c=>{a.append("files",c)}),e!=null&&e.folder&&a.append("folder",e.folder),(e==null?void 0:e.is_public)!==void 0&&a.append("is_public",String(e.is_public)),(e==null?void 0:e.is_temporary)!==void 0&&a.append("is_temporary",String(e.is_temporary)),e!=null&&e.expires_in_seconds&&a.append("expires_in_seconds",String(e.expires_in_seconds));const l=await ve.post("/files/upload-multiple",a,{headers:{"Content-Type":"multipart/form-data"}});return Nn({title:"Success",description:`${l.data.total_uploaded} files uploaded successfully`}),l.data}catch(a){const l=((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.detail)||"Failed to upload files";throw Nn({title:"Error",description:l,variant:"destructive"}),new Error(l)}},getAllFiles:async(t,e,r,n)=>{var a,l;try{const c={};return t!==void 0&&(c.skip=t),e!==void 0&&(c.limit=e),r&&(c.folder=r),n&&(c.content_type=n),(await ve.get("/files/",{params:c})).data}catch(c){const d=((l=(a=c.response)==null?void 0:a.data)==null?void 0:l.detail)||"Failed to fetch files";throw Nn({title:"Error",description:d,variant:"destructive"}),new Error(d)}},getMyFiles:async(t,e,r)=>{var n,a;try{const l={};return t!==void 0&&(l.skip=t),e!==void 0&&(l.limit=e),r&&(l.folder=r),(await ve.get("/files/my-files",{params:l})).data}catch(l){const c=((a=(n=l.response)==null?void 0:n.data)==null?void 0:a.detail)||"Failed to fetch your files";throw Nn({title:"Error",description:c,variant:"destructive"}),new Error(c)}},getFileById:async t=>{var e,r;try{return(await ve.get(`/files/${t}`)).data}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to fetch file";throw Nn({title:"Error",description:a,variant:"destructive"}),new Error(a)}},getFileUrl:async(t,e)=>{var r,n;try{const a={};return e&&(a.expires_in=e),(await ve.get(`/files/${t}/url`,{params:a})).data}catch(a){const l=((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.detail)||"Failed to get file URL";throw Nn({title:"Error",description:l,variant:"destructive"}),new Error(l)}},downloadPublicFile:async(t,e)=>{var r,n;try{const a=await ve.get(`/files/public/${t}/download`,{responseType:"blob"}),l=new Blob([a.data],{type:a.headers["content-type"]||"application/octet-stream"}),c=URL.createObjectURL(l),d=document.createElement("a");d.href=c;const f=a.headers["content-disposition"];let h=e;if(f&&!h){const p=f.match(/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/);p&&p[1]&&(h=p[1].replace(/['"]/g,""))}d.download=h||`file_${t}`,document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL(c),Nn({title:"Success",description:"File downloaded successfully"})}catch(a){const l=((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.detail)||"Failed to download file";throw Nn({title:"Error",description:l,variant:"destructive"}),new Error(l)}},deleteFile:async(t,e=!1)=>{var r,n;try{const a={};e&&(a.force_delete=e);const l=await ve.delete(`/files/${t}`,{params:a});return Nn({title:"Success",description:l.data.message||"File deleted successfully"}),l.data}catch(a){const l=((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.detail)||"Failed to delete file";throw Nn({title:"Error",description:l,variant:"destructive"}),new Error(l)}},admin:{getStats:async()=>{var t,e;try{return(await ve.get("/files/admin/stats")).data}catch(r){const n=((e=(t=r.response)==null?void 0:t.data)==null?void 0:e.detail)||"Failed to fetch file statistics";throw Nn({title:"Error",description:n,variant:"destructive"}),new Error(n)}},cleanupFiles:async()=>{var t,e;try{const r=await ve.post("/files/admin/cleanup");return Nn({title:"Success",description:`Cleaned up ${r.data.deleted_count} expired files`}),r.data}catch(r){const n=((e=(t=r.response)==null?void 0:t.data)==null?void 0:e.detail)||"Failed to cleanup files";throw Nn({title:"Error",description:n,variant:"destructive"}),new Error(n)}},getStorageInfo:async()=>{var t,e;try{return(await ve.get("/files/admin/storage-info")).data}catch(r){const n=((e=(t=r.response)==null?void 0:t.data)==null?void 0:e.detail)||"Failed to fetch storage information";throw Nn({title:"Error",description:n,variant:"destructive"}),new Error(n)}}},formatFileSize:t=>{if(t===0)return"0 Bytes";const e=1024,r=["Bytes","KB","MB","GB"],n=Math.floor(Math.log(t)/Math.log(e));return parseFloat((t/Math.pow(e,n)).toFixed(2))+" "+r[n]},isImageFile:t=>t.startsWith("image/"),isPdfFile:t=>t==="application/pdf",isDocumentFile:t=>["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","text/plain"].includes(t),getFileIcon:t=>Vs.isImageFile(t)?"":Vs.isPdfFile(t)?"":t.includes("word")?"":t.includes("excel")||t.includes("spreadsheet")?"":t.includes("powerpoint")||t.includes("presentation")?"":t.includes("text")?"":"",getFileExtension:t=>{var e;return((e=t.split(".").pop())==null?void 0:e.toLowerCase())||""},validateFile:(t,e=10*1024*1024)=>{const r=["image/jpeg","image/png","image/gif","image/webp","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","text/plain"];return t.size>e?{isValid:!1,error:`File "${t.name}" exceeds maximum size of ${Vs.formatFileSize(e)}`}:r.includes(t.type)?{isValid:!0}:{isValid:!1,error:`File type "${t.type}" is not allowed for "${t.name}"`}},validateFiles:(t,e=10*1024*1024)=>{for(const r of t){const n=Vs.validateFile(r,e);if(!n.isValid)return n}return{isValid:!0}},createPreviewUrl:t=>URL.createObjectURL(t),revokePreviewUrl:t=>{URL.revokeObjectURL(t)},isFileExpired:t=>t?new Date(t)<new Date:!1,getFileStatus:t=>t.is_temporary?Vs.isFileExpired(t.expires_at)?"expired":"temporary":"active"},td=Object.freeze(Object.defineProperty({__proto__:null,default:Vs,fileService:Vs},Symbol.toStringTag,{value:"Module"})),IG=()=>LG,qr={getFullFileUrl(t){if(!t)return"";if(t.startsWith("http://")||t.startsWith("https://"))return t;const e=IG(),r=t.startsWith("/")?t:`/${t}`;return`${e}${r}`},async getFileUrl(t,e){try{const r=await Vs.getFileUrl(t,e==null?void 0:e.expiresIn);return this.getFullFileUrl(r.url)}catch(r){throw console.error("Failed to get file URL:",r),r}},async downloadFileFromUrl(t,e){try{const r=this.getFullFileUrl(t),{api:n}=await Hl(async()=>{const{api:f}=await Promise.resolve().then(()=>Wk);return{api:f}},[]),a=await n.get(r,{responseType:"blob"}),l=new Blob([a.data],{type:a.headers["content-type"]}),c=URL.createObjectURL(l),d=document.createElement("a");d.href=c,d.download=e||"download",document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL(c)}catch(r){throw console.error("Failed to download file:",r),r}},async downloadFile(t,e){try{try{await Vs.downloadPublicFile(t,e)}catch(r){console.warn("Public download failed, trying authenticated download:",r);const n=await Vs.getFileUrl(t),{api:a}=await Hl(async()=>{const{api:h}=await Promise.resolve().then(()=>Wk);return{api:h}},void 0),l=await a.get(n.url,{responseType:"blob"}),c=new Blob([l.data],{type:l.headers["content-type"]}),d=URL.createObjectURL(c),f=document.createElement("a");f.href=d,f.download=e||`file_${t}`,document.body.appendChild(f),f.click(),document.body.removeChild(f),URL.revokeObjectURL(d)}}catch(r){throw console.error("Failed to download file:",r),r}},viewFileFromUrl(t,e=!0){const r=this.getFullFileUrl(t);e?window.open(r,"_blank"):window.location.href=r},async viewFile(t,e=!0){try{const r=await Vs.getFileUrl(t),n=this.getFullFileUrl(r.url);e?window.open(n,"_blank"):window.location.href=n}catch(r){throw console.error("Failed to view file:",r),r}},async previewFile(t){try{return await this.getFileUrl(t)}catch(e){throw console.error("Failed to get preview URL:",e),e}},getFileIcon(t){var r;if(!t)return"";switch((r=t.split(".").pop())==null?void 0:r.toLowerCase()){case"pdf":return"";case"jpg":case"jpeg":case"png":case"gif":return"";case"doc":case"docx":return"";case"xls":case"xlsx":return"";case"zip":case"rar":return"";default:return""}},formatFileSize(t){if(!t)return"0 B";const e=["B","KB","MB","GB"],r=Math.floor(Math.log(t)/Math.log(1024));return`${(t/Math.pow(1024,r)).toFixed(1)} ${e[r]}`}};function NO({collapsed:t=!1,className:e}){var y;const{user:r,logout:n,loading:a}=yr(),[l,c]=x.useState(!1),d=ht(),f=()=>{if(!r)return"U";const b=r.first_name||"",j=r.last_name||"";return`${b.charAt(0)}${j.charAt(0)}`.toUpperCase()||r.email.charAt(0).toUpperCase()},h=()=>r?`${r.first_name} ${r.last_name||""}`.trim()||r.email:"User",p=()=>{if(!(r!=null&&r.roles)||r.roles.length===0)return"User";const b=r.roles.map(j=>j.name);return b.includes("admin")?"Admin":b.includes("user")?"User":b[0]||"User"},g=async()=>{try{c(!0),await n(),d("/login",{replace:!0})}catch(b){console.error("Logout error:",b),d("/login",{replace:!0})}finally{c(!1)}};return r?s.jsx("div",{className:Pe("flex",t?"justify-center":"justify-start",e),children:s.jsxs(On,{children:[s.jsx(Mn,{asChild:!0,children:s.jsxs(re,{variant:"ghost",className:Pe("p-2 hover:bg-transparent",t?"flex items-center justify-center":"flex items-center space-x-2 w-full"),disabled:a||l,children:[s.jsxs("div",{className:"relative",children:[s.jsxs(na,{className:"h-6 w-6 flex-shrink-0",children:[s.jsx(Td,{src:qr.getFullFileUrl(((y=r==null?void 0:r.avatar_file)==null?void 0:y.file_url)||""),alt:h()}),s.jsx(aa,{className:"text-xs",children:f()})]}),r.mfa_enabled&&s.jsx("div",{className:"absolute -top-1 -right-1 h-3 w-3 bg-green-500 rounded-full border border-background flex items-center justify-center",children:s.jsx(ol,{className:"h-2 w-2 text-white"})})]}),!t&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex flex-col items-start flex-1 min-w-0",children:[s.jsx("span",{className:"text-sm font-medium text-sidebar-foreground truncate",children:h()}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"text-xs text-muted-foreground truncate",children:p()}),r.mfa_enabled&&s.jsx(ol,{className:"h-3 w-3 text-green-500"}),!r.is_verified&&s.jsx(Ke,{variant:"outline",className:"text-xs py-0 px-1",children:"Unverified"})]})]}),s.jsx(WN,{className:"h-4 w-4 flex-shrink-0"})]})]})}),s.jsxs(un,{align:t?"center":"end",className:"w-56",children:[s.jsx(Df,{children:s.jsxs("div",{className:"flex flex-col space-y-1",children:[s.jsx("span",{className:"font-medium",children:h()}),s.jsx("span",{className:"text-xs text-muted-foreground",children:r.email}),r.employee_id&&s.jsx("span",{className:"text-xs text-muted-foreground",children:r.employee_id})]})}),s.jsx(ys,{}),s.jsx(ts,{asChild:!0,children:s.jsxs(ja,{to:"/profile",className:"flex items-center",children:[s.jsx(to,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Profile"})]})}),s.jsx(ts,{onClick:g,disabled:l,children:l?s.jsxs(s.Fragment,{children:[s.jsx(js,{className:"mr-2 h-4 w-4 animate-spin"}),s.jsx("span",{children:"Signing out..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(mH,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Sign out"})]})})]})]})}):s.jsx("div",{className:Pe("flex",t?"justify-center":"justify-start",e),children:s.jsx("div",{className:"animate-pulse",children:s.jsx("div",{className:"h-8 w-8 bg-muted rounded-full"})})})}function Ne({className:t,...e}){return s.jsx("div",{"data-slot":"skeleton",className:Pe("bg-accent animate-pulse rounded-md",t),...e})}const UG=By("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Br=x.forwardRef(({className:t,variant:e,...r},n)=>s.jsx("div",{ref:n,role:"alert",className:Pe(UG({variant:e}),t),...r}));Br.displayName="Alert";const _O=x.forwardRef(({className:t,...e},r)=>s.jsx("h5",{ref:r,className:Pe("mb-1 font-medium leading-none tracking-tight",t),...e}));_O.displayName="AlertTitle";const Hr=x.forwardRef(({className:t,...e},r)=>s.jsx("div",{ref:r,className:Pe("text-sm [&_p]:leading-relaxed",t),...e}));Hr.displayName="AlertDescription";const SO=6048e5,FG=864e5,EO=6e4,kO=36e5,$x=43200,jC=1440,wC=Symbol.for("constructDateFrom");function ta(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&wC in t?t[wC](e):t instanceof Date?new t.constructor(e):new Date(e)}function er(t,e){return ta(e||t,t)}function zG(t,e,r){const n=er(t,r==null?void 0:r.in);return isNaN(e)?ta(t,NaN):(n.setDate(n.getDate()+e),n)}function CO(t,e,r){const n=er(t,r==null?void 0:r.in);if(isNaN(e))return ta(t,NaN);if(!e)return n;const a=n.getDate(),l=ta(t,n.getTime());l.setMonth(n.getMonth()+e+1,0);const c=l.getDate();return a>=c?l:(n.setFullYear(l.getFullYear(),l.getMonth(),a),n)}let $G={};function Of(){return $G}function lf(t,e){var d,f,h,p;const r=Of(),n=(e==null?void 0:e.weekStartsOn)??((f=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??r.weekStartsOn??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,a=er(t,e==null?void 0:e.in),l=a.getDay(),c=(l<n?7:0)+l-n;return a.setDate(a.getDate()-c),a.setHours(0,0,0,0),a}function Gg(t,e){return lf(t,{...e,weekStartsOn:1})}function AO(t,e){const r=er(t,e==null?void 0:e.in),n=r.getFullYear(),a=ta(r,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const l=Gg(a),c=ta(r,0);c.setFullYear(n,0,4),c.setHours(0,0,0,0);const d=Gg(c);return r.getTime()>=l.getTime()?n+1:r.getTime()>=d.getTime()?n:n-1}function Zg(t){const e=er(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function Mf(t,...e){const r=ta.bind(null,t||e.find(n=>typeof n=="object"));return e.map(r)}function Kg(t,e){const r=er(t,e==null?void 0:e.in);return r.setHours(0,0,0,0),r}function qG(t,e,r){const[n,a]=Mf(r==null?void 0:r.in,t,e),l=Kg(n),c=Kg(a),d=+l-Zg(l),f=+c-Zg(c);return Math.round((d-f)/FG)}function BG(t,e){const r=AO(t,e),n=ta(t,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Gg(n)}function vg(t,e){const r=+er(t)-+er(e);return r<0?-1:r>0?1:r}function TO(t){return ta(t,Date.now())}function m1(t,e,r){const[n,a]=Mf(r==null?void 0:r.in,t,e);return+Kg(n)==+Kg(a)}function HG(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function VG(t){return!(!HG(t)&&typeof t!="number"||isNaN(+er(t)))}function YG(t,e,r){const[n,a]=Mf(r==null?void 0:r.in,t,e),l=n.getFullYear()-a.getFullYear(),c=n.getMonth()-a.getMonth();return l*12+c}function WG(t){return e=>{const n=(t?Math[t]:Math.trunc)(e);return n===0?0:n}}function GG(t,e){return+er(t)-+er(e)}function ZG(t,e){const r=er(t,e==null?void 0:e.in);return r.setHours(23,59,59,999),r}function p1(t,e){const r=er(t,e==null?void 0:e.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function KG(t,e){const r=er(t,e==null?void 0:e.in);return+ZG(r,e)==+p1(r,e)}function XG(t,e,r){const[n,a,l]=Mf(r==null?void 0:r.in,t,t,e),c=vg(a,l),d=Math.abs(YG(a,l));if(d<1)return 0;a.getMonth()===1&&a.getDate()>27&&a.setDate(30),a.setMonth(a.getMonth()-c*d);let f=vg(a,l)===-c;KG(n)&&d===1&&vg(n,l)===1&&(f=!1);const h=c*(d-+f);return h===0?0:h}function QG(t,e,r){const n=GG(t,e)/1e3;return WG(r==null?void 0:r.roundingMethod)(n)}function RO(t,e){const r=er(t,e==null?void 0:e.in);return r.setDate(1),r.setHours(0,0,0,0),r}function JG(t,e){const r=er(t,e==null?void 0:e.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function eZ(t,e){var d,f;const r=Of(),n=r.weekStartsOn??((f=(d=r.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??0,a=er(t,e==null?void 0:e.in),l=a.getDay(),c=(l<n?-7:0)+6-(l-n);return a.setDate(a.getDate()+c),a.setHours(23,59,59,999),a}const tZ={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},sZ=(t,e,r)=>{let n;const a=tZ[t];return typeof a=="string"?n=a:e===1?n=a.one:n=a.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function d0(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const rZ={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},nZ={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},aZ={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},iZ={date:d0({formats:rZ,defaultWidth:"full"}),time:d0({formats:nZ,defaultWidth:"full"}),dateTime:d0({formats:aZ,defaultWidth:"full"})},lZ={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},oZ=(t,e,r,n)=>lZ[t];function zh(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&t.formattingValues){const c=t.defaultFormattingWidth||t.defaultWidth,d=r!=null&&r.width?String(r.width):c;a=t.formattingValues[d]||t.formattingValues[c]}else{const c=t.defaultWidth,d=r!=null&&r.width?String(r.width):t.defaultWidth;a=t.values[d]||t.values[c]}const l=t.argumentCallback?t.argumentCallback(e):e;return a[l]}}const cZ={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},dZ={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},uZ={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},fZ={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},hZ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},mZ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},pZ=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},xZ={ordinalNumber:pZ,era:zh({values:cZ,defaultWidth:"wide"}),quarter:zh({values:dZ,defaultWidth:"wide",argumentCallback:t=>t-1}),month:zh({values:uZ,defaultWidth:"wide"}),day:zh({values:fZ,defaultWidth:"wide"}),dayPeriod:zh({values:hZ,defaultWidth:"wide",formattingValues:mZ,defaultFormattingWidth:"wide"})};function $h(t){return(e,r={})=>{const n=r.width,a=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],l=e.match(a);if(!l)return null;const c=l[0],d=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],f=Array.isArray(d)?yZ(d,g=>g.test(c)):gZ(d,g=>g.test(c));let h;h=t.valueCallback?t.valueCallback(f):f,h=r.valueCallback?r.valueCallback(h):h;const p=e.slice(c.length);return{value:h,rest:p}}}function gZ(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function yZ(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function vZ(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const a=n[0],l=e.match(t.parsePattern);if(!l)return null;let c=t.valueCallback?t.valueCallback(l[0]):l[0];c=r.valueCallback?r.valueCallback(c):c;const d=e.slice(a.length);return{value:c,rest:d}}}const bZ=/^(\d+)(th|st|nd|rd)?/i,jZ=/\d+/i,wZ={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},NZ={any:[/^b/i,/^(a|c)/i]},_Z={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},SZ={any:[/1/i,/2/i,/3/i,/4/i]},EZ={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},kZ={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},CZ={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},AZ={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},TZ={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},RZ={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},DZ={ordinalNumber:vZ({matchPattern:bZ,parsePattern:jZ,valueCallback:t=>parseInt(t,10)}),era:$h({matchPatterns:wZ,defaultMatchWidth:"wide",parsePatterns:NZ,defaultParseWidth:"any"}),quarter:$h({matchPatterns:_Z,defaultMatchWidth:"wide",parsePatterns:SZ,defaultParseWidth:"any",valueCallback:t=>t+1}),month:$h({matchPatterns:EZ,defaultMatchWidth:"wide",parsePatterns:kZ,defaultParseWidth:"any"}),day:$h({matchPatterns:CZ,defaultMatchWidth:"wide",parsePatterns:AZ,defaultParseWidth:"any"}),dayPeriod:$h({matchPatterns:TZ,defaultMatchWidth:"any",parsePatterns:RZ,defaultParseWidth:"any"})},x1={code:"en-US",formatDistance:sZ,formatLong:iZ,formatRelative:oZ,localize:xZ,match:DZ,options:{weekStartsOn:0,firstWeekContainsDate:1}};function OZ(t,e){const r=er(t,e==null?void 0:e.in);return qG(r,JG(r))+1}function MZ(t,e){const r=er(t,e==null?void 0:e.in),n=+Gg(r)-+BG(r);return Math.round(n/SO)+1}function DO(t,e){var p,g,y,b;const r=er(t,e==null?void 0:e.in),n=r.getFullYear(),a=Of(),l=(e==null?void 0:e.firstWeekContainsDate)??((g=(p=e==null?void 0:e.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??a.firstWeekContainsDate??((b=(y=a.locale)==null?void 0:y.options)==null?void 0:b.firstWeekContainsDate)??1,c=ta((e==null?void 0:e.in)||t,0);c.setFullYear(n+1,0,l),c.setHours(0,0,0,0);const d=lf(c,e),f=ta((e==null?void 0:e.in)||t,0);f.setFullYear(n,0,l),f.setHours(0,0,0,0);const h=lf(f,e);return+r>=+d?n+1:+r>=+h?n:n-1}function PZ(t,e){var d,f,h,p;const r=Of(),n=(e==null?void 0:e.firstWeekContainsDate)??((f=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,a=DO(t,e),l=ta((e==null?void 0:e.in)||t,0);return l.setFullYear(a,0,n),l.setHours(0,0,0,0),lf(l,e)}function LZ(t,e){const r=er(t,e==null?void 0:e.in),n=+lf(r,e)-+PZ(r,e);return Math.round(n/SO)+1}function vs(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const Wo={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return vs(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):vs(r+1,2)},d(t,e){return vs(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return vs(t.getHours()%12||12,e.length)},H(t,e){return vs(t.getHours(),e.length)},m(t,e){return vs(t.getMinutes(),e.length)},s(t,e){return vs(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return vs(a,e.length)}},Tu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},NC={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Wo.y(t,e)},Y:function(t,e,r,n){const a=DO(t,n),l=a>0?a:1-a;if(e==="YY"){const c=l%100;return vs(c,2)}return e==="Yo"?r.ordinalNumber(l,{unit:"year"}):vs(l,e.length)},R:function(t,e){const r=AO(t);return vs(r,e.length)},u:function(t,e){const r=t.getFullYear();return vs(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return vs(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return vs(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return Wo.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return vs(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const a=LZ(t,n);return e==="wo"?r.ordinalNumber(a,{unit:"week"}):vs(a,e.length)},I:function(t,e,r){const n=MZ(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):vs(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Wo.d(t,e)},D:function(t,e,r){const n=OZ(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):vs(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const a=t.getDay(),l=(a-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(l);case"ee":return vs(l,2);case"eo":return r.ordinalNumber(l,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const a=t.getDay(),l=(a-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(l);case"cc":return vs(l,e.length);case"co":return r.ordinalNumber(l,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),a=n===0?7:n;switch(e){case"i":return String(a);case"ii":return vs(a,e.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const a=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let a;switch(n===12?a=Tu.noon:n===0?a=Tu.midnight:a=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let a;switch(n>=17?a=Tu.evening:n>=12?a=Tu.afternoon:n>=4?a=Tu.morning:a=Tu.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Wo.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Wo.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):vs(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):vs(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Wo.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Wo.s(t,e)},S:function(t,e){return Wo.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return SC(n);case"XXXX":case"XX":return ed(n);case"XXXXX":case"XXX":default:return ed(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return SC(n);case"xxxx":case"xx":return ed(n);case"xxxxx":case"xxx":default:return ed(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+_C(n,":");case"OOOO":default:return"GMT"+ed(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+_C(n,":");case"zzzz":default:return"GMT"+ed(n,":")}},t:function(t,e,r){const n=Math.trunc(+t/1e3);return vs(n,e.length)},T:function(t,e,r){return vs(+t,e.length)}};function _C(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=Math.trunc(n/60),l=n%60;return l===0?r+String(a):r+String(a)+e+vs(l,2)}function SC(t,e){return t%60===0?(t>0?"-":"+")+vs(Math.abs(t)/60,2):ed(t,e)}function ed(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=vs(Math.trunc(n/60),2),l=vs(n%60,2);return r+a+e+l}const EC=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},OO=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},IZ=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return EC(t,e);let l;switch(n){case"P":l=e.dateTime({width:"short"});break;case"PP":l=e.dateTime({width:"medium"});break;case"PPP":l=e.dateTime({width:"long"});break;case"PPPP":default:l=e.dateTime({width:"full"});break}return l.replace("{{date}}",EC(n,e)).replace("{{time}}",OO(a,e))},UZ={p:OO,P:IZ},FZ=/^D+$/,zZ=/^Y+$/,$Z=["D","DD","YY","YYYY"];function qZ(t){return FZ.test(t)}function BZ(t){return zZ.test(t)}function HZ(t,e,r){const n=VZ(t,e,r);if(console.warn(n),$Z.includes(t))throw new RangeError(n)}function VZ(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const YZ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,WZ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,GZ=/^'([^]*?)'?$/,ZZ=/''/g,KZ=/[a-zA-Z]/;function Ga(t,e,r){var p,g,y,b;const n=Of(),a=n.locale??x1,l=n.firstWeekContainsDate??((g=(p=n.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??1,c=n.weekStartsOn??((b=(y=n.locale)==null?void 0:y.options)==null?void 0:b.weekStartsOn)??0,d=er(t,r==null?void 0:r.in);if(!VG(d))throw new RangeError("Invalid time value");let f=e.match(WZ).map(j=>{const w=j[0];if(w==="p"||w==="P"){const _=UZ[w];return _(j,a.formatLong)}return j}).join("").match(YZ).map(j=>{if(j==="''")return{isToken:!1,value:"'"};const w=j[0];if(w==="'")return{isToken:!1,value:XZ(j)};if(NC[w])return{isToken:!0,value:j};if(w.match(KZ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:j}});a.localize.preprocessor&&(f=a.localize.preprocessor(d,f));const h={firstWeekContainsDate:l,weekStartsOn:c,locale:a};return f.map(j=>{if(!j.isToken)return j.value;const w=j.value;(BZ(w)||qZ(w))&&HZ(w,e,String(t));const _=NC[w[0]];return _(d,w,a.localize,h)}).join("")}function XZ(t){const e=t.match(GZ);return e?e[1].replace(ZZ,"'"):t}function QZ(t,e,r){const n=Of(),a=(r==null?void 0:r.locale)??n.locale??x1,l=2520,c=vg(t,e);if(isNaN(c))throw new RangeError("Invalid time value");const d=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:c}),[f,h]=Mf(r==null?void 0:r.in,...c>0?[e,t]:[t,e]),p=QG(h,f),g=(Zg(h)-Zg(f))/1e3,y=Math.round((p-g)/60);let b;if(y<2)return r!=null&&r.includeSeconds?p<5?a.formatDistance("lessThanXSeconds",5,d):p<10?a.formatDistance("lessThanXSeconds",10,d):p<20?a.formatDistance("lessThanXSeconds",20,d):p<40?a.formatDistance("halfAMinute",0,d):p<60?a.formatDistance("lessThanXMinutes",1,d):a.formatDistance("xMinutes",1,d):y===0?a.formatDistance("lessThanXMinutes",1,d):a.formatDistance("xMinutes",y,d);if(y<45)return a.formatDistance("xMinutes",y,d);if(y<90)return a.formatDistance("aboutXHours",1,d);if(y<jC){const j=Math.round(y/60);return a.formatDistance("aboutXHours",j,d)}else{if(y<l)return a.formatDistance("xDays",1,d);if(y<$x){const j=Math.round(y/jC);return a.formatDistance("xDays",j,d)}else if(y<$x*2)return b=Math.round(y/$x),a.formatDistance("aboutXMonths",b,d)}if(b=XG(h,f),b<12){const j=Math.round(y/$x);return a.formatDistance("xMonths",j,d)}else{const j=b%12,w=Math.trunc(b/12);return j<3?a.formatDistance("aboutXYears",w,d):j<9?a.formatDistance("overXYears",w,d):a.formatDistance("almostXYears",w+1,d)}}function JZ(t,e){return QZ(t,TO(t),e)}function eK(t,e,r){const[n,a]=Mf(r==null?void 0:r.in,t,e);return n.getFullYear()===a.getFullYear()&&n.getMonth()===a.getMonth()}function tK(t,e){return m1(ta(t,t),TO(t))}function u0(t,e){const r=()=>ta(e==null?void 0:e.in,NaN),a=aK(t);let l;if(a.date){const h=iK(a.date,2);l=lK(h.restDateString,h.year)}if(!l||isNaN(+l))return r();const c=+l;let d=0,f;if(a.time&&(d=oK(a.time),isNaN(d)))return r();if(a.timezone){if(f=cK(a.timezone),isNaN(f))return r()}else{const h=new Date(c+d),p=er(0,e==null?void 0:e.in);return p.setFullYear(h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate()),p.setHours(h.getUTCHours(),h.getUTCMinutes(),h.getUTCSeconds(),h.getUTCMilliseconds()),p}return er(c+d+f,e==null?void 0:e.in)}const qx={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},sK=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,rK=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,nK=/^([+-])(\d{2})(?::?(\d{2}))?$/;function aK(t){const e={},r=t.split(qx.dateTimeDelimiter);let n;if(r.length>2)return e;if(/:/.test(r[0])?n=r[0]:(e.date=r[0],n=r[1],qx.timeZoneDelimiter.test(e.date)&&(e.date=t.split(qx.timeZoneDelimiter)[0],n=t.substr(e.date.length,t.length))),n){const a=qx.timezone.exec(n);a?(e.time=n.replace(a[1],""),e.timezone=a[1]):e.time=n}return e}function iK(t,e){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=t.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,l=n[2]?parseInt(n[2]):null;return{year:l===null?a:l*100,restDateString:t.slice((n[1]||n[2]).length)}}function lK(t,e){if(e===null)return new Date(NaN);const r=t.match(sK);if(!r)return new Date(NaN);const n=!!r[4],a=qh(r[1]),l=qh(r[2])-1,c=qh(r[3]),d=qh(r[4]),f=qh(r[5])-1;if(n)return mK(e,d,f)?dK(e,d,f):new Date(NaN);{const h=new Date(0);return!fK(e,l,c)||!hK(e,a)?new Date(NaN):(h.setUTCFullYear(e,l,Math.max(a,c)),h)}}function qh(t){return t?parseInt(t):1}function oK(t){const e=t.match(rK);if(!e)return NaN;const r=f0(e[1]),n=f0(e[2]),a=f0(e[3]);return pK(r,n,a)?r*kO+n*EO+a*1e3:NaN}function f0(t){return t&&parseFloat(t.replace(",","."))||0}function cK(t){if(t==="Z")return 0;const e=t.match(nK);if(!e)return 0;const r=e[1]==="+"?-1:1,n=parseInt(e[2]),a=e[3]&&parseInt(e[3])||0;return xK(n,a)?r*(n*kO+a*EO):NaN}function dK(t,e,r){const n=new Date(0);n.setUTCFullYear(t,0,4);const a=n.getUTCDay()||7,l=(e-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+l),n}const uK=[31,null,31,30,31,30,31,31,30,31,30,31];function MO(t){return t%400===0||t%4===0&&t%100!==0}function fK(t,e,r){return e>=0&&e<=11&&r>=1&&r<=(uK[e]||(MO(t)?29:28))}function hK(t,e){return e>=1&&e<=(MO(t)?366:365)}function mK(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function pK(t,e,r){return t===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function xK(t,e){return e>=0&&e<=59}function gK(t,e,r){return CO(t,-1,r)}const yK=t=>{try{const e=new Date(t),r=7*60*60*1e3,n=new Date(e.getTime()+r);return JZ(n,{addSuffix:!0,locale:x1})}catch{return"Unknown time"}},PO=({open:t,onOpenChange:e,limit:r=20})=>{const n=wc(P=>P.auth.user),a=ht(),[l,c]=x.useState([]),[d,f]=x.useState(!1),[h,p]=x.useState(null),[g,y]=x.useState(!1),[b,j]=x.useState(1),[w,_]=x.useState("all");x.useEffect(()=>{t&&(n!=null&&n.id)&&E(1,!0)},[t,n==null?void 0:n.id,w]);const E=async(P=1,X=!1)=>{if(n!=null&&n.id)try{f(!0),p(null);const A=await wi.getNotificationHistory(P,r),z=A.items.map(($,J)=>{var B,M;return $.data&&typeof $.data=="object"&&"title"in $.data&&"body"in $.data?{...$,id:$.id||-(J+1),title:$.data.title,body:T($.data.body,((B=$.data.data)==null?void 0:B.context)||{}),template_key:((M=$.data.data)==null?void 0:M.template_key)||$.template_key}:{...$,id:$.id||-(J+1),title:$.title||"Notification",body:$.body||"No content"}});c(X?z:$=>[...$,...z]),y(A.page<A.pages),j(P)}catch(A){const z=A instanceof Error?A.message:"Failed to load notifications";p(z)}finally{f(!1)}},S=async P=>{if(!(!P||P<=0))try{await wi.markNotificationAsRead(P),c(X=>X.map(A=>A.id===P?{...A,read_at:new Date().toISOString()}:A))}catch(X){console.error("Failed to mark notification as read:",X)}},k=async P=>{var A,z;P.id&&P.id>0&&!P.read_at&&await S(P.id);const X=(z=(A=P.data)==null?void 0:A.data)==null?void 0:z.action_url;X&&(e(!1),a(X))},R=()=>{E(b+1,!1)},L=()=>{switch(w){case"unread":return l.filter(P=>!P.read_at);default:return l}},I=P=>{if(!P)return null;const X={leave_request_created:"bg-blue-100 text-blue-800",leave_request_submitted:"bg-yellow-100 text-yellow-800",leave_request_approved:"bg-green-100 text-green-800",leave_request_rejected:"bg-red-100 text-red-800",work_plan_created:"bg-blue-100 text-blue-800",work_plan_submitted:"bg-yellow-100 text-yellow-800",work_plan_approved:"bg-green-100 text-green-800",work_plan_rejected:"bg-red-100 text-red-800",logbook_created:"bg-purple-100 text-purple-800",logbook_submitted:"bg-purple-100 text-purple-800",logbook_approved:"bg-green-100 text-green-800",logbook_rejected:"bg-red-100 text-red-800",activities:"bg-orange-100 text-orange-800",attendance:"bg-indigo-100 text-indigo-800",system:"bg-gray-100 text-gray-800"},A=z=>z.includes("leave_request")?"LEAVE REQUEST":z.includes("work_plan")?"WORK PLAN":z.includes("logbook")?"LOGBOOK":z.replace("_"," ").toUpperCase();return s.jsx(Ke,{variant:"secondary",className:X[P]||"bg-gray-100 text-gray-800",children:A(P)})},T=(P,X)=>{let A=P;return Object.keys(X).forEach(z=>{const $=`{${z}}`;A.includes($)&&(A=A.replace(new RegExp($,"g"),X[z]))}),X.start_date&&X.end_date&&(A=A.replace("{dates}",`${X.start_date} to ${X.end_date}`)),A},O=L();return s.jsx(KR,{open:t,onOpenChange:e,children:s.jsxs(XR,{side:"right",className:"w-full sm:max-w-lg p-0 h-full flex flex-col",children:[s.jsxs(RY,{className:"p-6 pb-4 border-b",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs(DY,{className:"flex items-center gap-2",children:[s.jsx(cd,{className:"h-5 w-5"}),"Notification History"]})}),s.jsxs("div",{className:"flex gap-2 mt-4",children:[s.jsx(re,{variant:w==="all"?"default":"outline",size:"sm",onClick:()=>_("all"),children:"All"}),s.jsx(re,{variant:w==="unread"?"default":"outline",size:"sm",onClick:()=>_("unread"),children:"Unread"})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:n!=null&&n.id?s.jsxs(s.Fragment,{children:[h&&s.jsx(Br,{variant:"destructive",className:"mb-4",children:s.jsx(Hr,{children:h})}),s.jsxs("div",{className:"space-y-3",children:[l.length>0&&s.jsxs("div",{className:"text-sm text-gray-600 mb-4",children:["Total: ",l.length]}),d&&l.length===0?Array.from({length:3}).map((P,X)=>s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx(Ne,{className:"h-4 w-1/3"}),s.jsx(Ne,{className:"h-4 w-16"})]}),s.jsx(Ne,{className:"h-3 w-full mb-2"}),s.jsx(Ne,{className:"h-3 w-24"})]},X)):O.length===0?s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(cd,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:w==="all"?"No notifications yet":"No unread notifications"})]}):O.map(P=>s.jsxs("div",{className:`border rounded-lg p-4 transition-colors cursor-pointer hover:shadow-sm ${P.read_at?"bg-white":"bg-blue-50 border-blue-200"}`,onClick:()=>k(P),children:[s.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[s.jsx("h4",{className:"font-medium text-sm flex-1",children:P.title}),s.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[I(P.template_key),!P.read_at&&P.id&&P.id>0&&s.jsx(re,{variant:"ghost",size:"sm",onClick:X=>{X.stopPropagation(),S(P.id)},className:"h-6 px-2",title:"Mark as read",children:s.jsx(Ut,{className:"h-3 w-3"})})]})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-3 break-words",children:P.body}),s.jsx("div",{className:"flex items-center justify-between gap-2 text-xs text-gray-500",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Pt,{className:"h-3 w-3"}),yK(P.sent_at)]}),P.read_at&&s.jsxs("span",{className:"flex items-center gap-1 text-green-600",children:[s.jsx(Ut,{className:"h-3 w-3"}),"Read"]})]})})]},P.id)),g&&!d&&s.jsx("div",{className:"text-center pt-4",children:s.jsx(re,{variant:"outline",onClick:R,disabled:d,children:"Load More"})}),d&&l.length>0&&s.jsx("div",{className:"text-center py-4"})]})]}):s.jsx(Br,{children:s.jsx(Hr,{children:"Login required to view notification history."})})})]})})};function vK({collapsed:t}){const e=wc(f=>f.auth.user),[r,n]=x.useState(!1),[a,l]=x.useState(0);x.useEffect(()=>{e!=null&&e.id&&c()},[e==null?void 0:e.id]);const c=async()=>{try{const h=(await wi.getNotificationHistory(1,100)).items.filter(p=>!p.read_at).length;l(h)}catch(f){console.error("Failed to load unread count:",f)}},d=()=>{n(!0)};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:Pe("border-t border-sidebar-border p-4 pt-3 flex-shrink-0 mt-auto","space-y-3"),children:[s.jsxs("div",{className:Pe("flex",t?"flex-col items-center space-y-2":"items-center justify-between"),children:[s.jsx("div",{className:Pe("flex",t?"justify-center":"justify-end"),children:s.jsxs("div",{className:"relative",children:[s.jsx(re,{variant:"ghost",size:"sm",onClick:d,children:s.jsx(cd,{className:"h-4 w-4"})}),a>0&&s.jsx("span",{className:"absolute -top-1 -right-1 h-4 w-4 min-w-[16px] rounded-full bg-primary text-[10px] text-primary-foreground flex items-center justify-center font-medium",children:a>99?"99+":a})]})}),s.jsx("div",{className:Pe("flex",t?"justify-center":"justify-start"),children:s.jsx(QY,{})})]}),s.jsx(NO,{collapsed:t})]}),s.jsx(PO,{open:r,onOpenChange:f=>{n(f),f||c()}})]})}function bK({item:t,collapsed:e,expandedMenus:r,onMenuClick:n,onLinkClick:a}){const l=Ca(),c=g=>r.includes(g),d=g=>g.href&&l.pathname===g.href?!0:g.children?g.children.some(y=>l.pathname===y.href):!1,f=t.children&&t.children.length>0,h=f&&c(t.title),p=d(t);return f?s.jsxs("div",{className:"mb-2",children:[s.jsxs("button",{onClick:()=>n(t),className:Pe("flex items-center w-full rounded-lg px-3 py-2.5 text-sm font-medium transition-colors",e?"justify-center":"justify-between",p?"bg-sidebar-primary text-sidebar-primary-foreground":"text-sidebar-foreground hover:bg-sidebar-accent/50 hover:text-sidebar-accent-foreground"),title:e?t.title:void 0,children:[s.jsxs("div",{className:Pe("flex items-center",e?"justify-center":"space-x-3"),children:[s.jsx(t.icon,{className:"h-5 w-5 flex-shrink-0"}),!e&&s.jsx("span",{children:t.title})]}),!e&&f&&s.jsx(WN,{className:Pe("h-4 w-4 transition-transform flex-shrink-0",h&&"rotate-180")})]}),!e&&f&&h&&s.jsx("div",{className:"ml-6 mt-1 space-y-1",children:t.children.map(g=>s.jsxs(ja,{to:g.href,className:Pe("flex items-center space-x-3 rounded-lg px-3 py-2 text-sm font-medium transition-colors",l.pathname===g.href?"bg-sidebar-primary/80 text-sidebar-primary-foreground":"text-sidebar-foreground hover:bg-sidebar-accent/30 hover:text-sidebar-accent-foreground"),onClick:a,children:[s.jsx(g.icon,{className:"h-4 w-4 flex-shrink-0"}),s.jsx("span",{children:g.title})]},g.href))})]}):s.jsx("div",{className:"mb-2",children:s.jsxs(ja,{to:t.href,className:Pe("flex items-center rounded-lg px-3 py-2.5 text-sm font-medium transition-colors",e?"justify-center":"space-x-3",p?"bg-sidebar-primary text-sidebar-primary-foreground":"text-sidebar-foreground hover:bg-sidebar-accent/50 hover:text-sidebar-accent-foreground"),onClick:a,title:e?t.title:void 0,children:[s.jsx(t.icon,{className:"h-5 w-5 flex-shrink-0"}),!e&&s.jsx("span",{children:t.title})]})})}const LO=[{title:"Dashboard",href:"/dashboard",icon:lH,allowedRoles:["master_admin","admin","user"]},{title:"Activities",icon:Zk,isPlaceholder:!0,allowedRoles:["master_admin","admin","user"],children:[{title:"All Activities",href:"/activities",icon:Zk,allowedRoles:["master_admin","admin","user"]},{title:"Create Activity",href:"/activities/create",icon:or,allowedRoles:["master_admin","admin","user"]}]},{title:"Attendance",icon:Pt,isPlaceholder:!0,allowedRoles:["master_admin","admin","user"],children:[{title:"Check In/Out",href:"/attendance/checkin",icon:Pt,allowedRoles:["user"]},{title:"My Attendance",href:"/attendance",icon:Ze,allowedRoles:["user"]},{title:"Monthly Summary",href:"/attendance/summary",icon:on,allowedRoles:["user"]},{title:"Attendance Monitoring",href:"/attendance/monitoring",icon:Na,allowedRoles:["master_admin","admin"]}]},{title:"Work Planning",icon:eC,isPlaceholder:!0,allowedRoles:["master_admin","admin","user"],children:[{title:"Create Plan",href:"/work-plans/create",icon:or,allowedRoles:["user"]},{title:"My Work Plans",href:"/work-plans",icon:vB,allowedRoles:["user"]},{title:"Plan Summary",href:"/work-plans/summary",icon:cl,allowedRoles:["user"]},{title:"Monitoring",href:"/work-plans/monitoring",icon:on,allowedRoles:["master_admin","admin"]}]},{title:"Daily Logbook",icon:zg,isPlaceholder:!0,allowedRoles:["master_admin","admin","user"],children:[{title:"Create Entry",href:"/logbook/create",icon:or,allowedRoles:["user"]},{title:"My Logbook",href:"/logbook",icon:zg,allowedRoles:["user"]},{title:"Summary & Analytics",href:"/logbook/summary",icon:on,allowedRoles:["user"]},{title:"Monitoring",href:"/logbook/monitoring",icon:on,allowedRoles:["master_admin","admin"]}]},{title:"Payroll",icon:Qn,isPlaceholder:!0,allowedRoles:["master_admin","user"],children:[{title:"My Payroll",href:"/payroll/my-payroll",icon:AH,allowedRoles:["user"]},{title:"Create Payroll",href:"/payroll/create",icon:or,allowedRoles:["master_admin"]},{title:"Payroll Monitoring",href:"/payroll/monitoring",icon:on,allowedRoles:["master_admin"]}]},{title:"Leave Requests",icon:Jk,isPlaceholder:!0,allowedRoles:["master_admin","admin","user"],children:[{title:"Create Request",href:"/leave-requests/create",icon:or,allowedRoles:["user"]},{title:"My Requests",href:"/leave-requests",icon:qB,allowedRoles:["user"]},{title:"Leave Request Monitoring",href:"/leave-requests/monitoring",icon:on,allowedRoles:["admin","master_admin"]}]},{title:"Organization",icon:Na,isPlaceholder:!0,allowedRoles:["master_admin","admin"],children:[{title:"Organization Units",href:"/organization-units",icon:Na,allowedRoles:["admin","master_admin"]},{title:"Create Unit",href:"/organization-units/create",icon:or,allowedRoles:["master_admin"]}]},{title:"User Management",icon:ws,isPlaceholder:!0,allowedRoles:["admin","master_admin"],children:[{title:"All Users",href:"/users",icon:ws,allowedRoles:["admin","master_admin"]},{title:"Add User",href:"/users/create",icon:jm,allowedRoles:["master_admin"]}]},{title:"Reports",icon:on,isPlaceholder:!0,allowedRoles:["master_admin","admin"],children:[{title:"Attendance Reports",href:"/reports/attendance",icon:Pt,allowedRoles:["master_admin","admin"]},{title:"Leave Reports",href:"/reports/leave",icon:Jk,allowedRoles:["master_admin","admin"]},{title:"Payroll Reports",href:"/reports/payroll",icon:Qn,allowedRoles:["master_admin"]},{title:"Workplan Reports",href:"/reports/work-plans",icon:eC,allowedRoles:["master_admin","admin"]},{title:"Logbook Reports",href:"/reports/logbook",icon:cl,allowedRoles:["master_admin","admin"]}]}],jK=t=>[...IO(LO,t)],IO=(t,e)=>t.filter(r=>r.allowedRoles.length===0?!0:r.allowedRoles.some(a=>e.includes(a))).map(r=>{if(r.children){const n=IO(r.children,e);return{...r,children:n}}return r}).filter(r=>r.isPlaceholder&&r.children?r.children.length>0:!0),UO=(t,e,r=LO)=>{for(const n of r){if(n.href===t)return n.allowedRoles.length===0?!0:n.allowedRoles.some(a=>e.includes(a));if(n.children){const a=UO(t,e,n.children);if(a!==null)return a}}return!1};function kC({collapsed:t=!1,expandedMenus:e,onToggleCollapse:r,onToggleSubmenu:n,onMenuClick:a,onLinkClick:l}){const c=wc(h=>h.auth.user),d=x.useMemo(()=>c!=null&&c.roles?c.roles.map(h=>h.name):[],[c==null?void 0:c.roles]),f=x.useMemo(()=>jK(d),[d]);return s.jsxs("div",{className:"flex h-full flex-col",children:[s.jsx(KY,{collapsed:t,onToggleCollapse:r}),s.jsx("div",{className:"flex-1 overflow-hidden",children:s.jsxs(GY,{className:Pe("h-full",!t&&"h-[75vh] w-[260px]"),children:[s.jsx("div",{className:Pe("p-4 pb-2",t&&"px-2"),children:s.jsx("nav",{className:"space-y-1",children:f.map(h=>s.jsx(bK,{item:h,collapsed:t,expandedMenus:e,onToggleSubmenu:n,onMenuClick:a,onLinkClick:l},h.title))})}),s.jsx(uD,{orientation:"vertical"})]})}),s.jsx(vK,{collapsed:t})]})}function wK({onOpenSidebar:t}){const e=wc(f=>f.auth.user),[r,n]=x.useState(!1),[a,l]=x.useState(0);x.useEffect(()=>{e!=null&&e.id&&c()},[e==null?void 0:e.id]);const c=async()=>{try{const h=(await wi.getNotificationHistory(1,100)).items.filter(p=>!p.read_at).length;l(h)}catch(f){console.error("Failed to load unread count:",f)}},d=()=>{n(!0)};return s.jsxs(s.Fragment,{children:[s.jsxs("header",{className:"sticky top-0 z-40 flex h-14 shrink-0 items-center justify-between border-b border-border bg-background px-3 shadow-sm md:hidden",children:[s.jsx(re,{variant:"ghost",size:"sm",onClick:t,className:"h-8 w-8 p-0",children:s.jsx(yH,{className:"h-5 w-5"})}),s.jsxs("div",{className:"flex items-center gap-x-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx(re,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 flex items-center justify-center",onClick:d,children:s.jsx(cd,{className:"h-4 w-4"})}),a>0&&s.jsx("span",{className:"absolute -top-1 -right-1 h-4 w-4 min-w-[16px] rounded-full bg-primary text-[10px] text-primary-foreground flex items-center justify-center font-medium",children:a>99?"99+":a})]}),s.jsx(NO,{collapsed:!0,className:"h-8 w-8 flex items-center justify-center"})]})]}),s.jsx(PO,{open:r,onOpenChange:f=>{n(f),f||c()}})]})}function NK(){return s.jsx("footer",{className:"border-t border-border bg-background",children:s.jsx("div",{className:"mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex flex-col items-center justify-between space-y-4 md:flex-row md:space-y-0",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsx("p",{className:"text-sm text-muted-foreground",children:" 2025 OKOCE HRIS. All rights reserved."})}),s.jsxs("div",{className:"flex items-center space-x-6",children:[s.jsx(ja,{to:"/help",className:"text-sm text-muted-foreground hover:text-foreground transition-colors",children:"Help"}),s.jsx(ja,{to:"/privacy",className:"text-sm text-muted-foreground hover:text-foreground transition-colors",children:"Privacy"}),s.jsx(ja,{to:"/terms",className:"text-sm text-muted-foreground hover:text-foreground transition-colors",children:"Terms"})]})]})})})}function _K({children:t}){const[e,r]=x.useState(!1),[n,a]=x.useState(!1),[l,c]=x.useState([]),d=g=>{c(y=>y.includes(g)?y.filter(b=>b!==g):[...y,g])},f=g=>{g.children&&g.children.length>0&&(n&&a(!1),d(g.title))},h=()=>{a(!n)},p=()=>{r(!1)};return s.jsxs("div",{className:"min-h-screen bg-muted/5",children:[s.jsx("div",{className:Pe("hidden md:fixed md:inset-y-0 md:z-50 md:flex md:flex-col transition-all duration-300",n?"md:w-20":"md:w-64"),children:s.jsx("div",{className:"flex grow flex-col gap-y-0 border-r border-sidebar-border bg-sidebar",children:s.jsx(kC,{collapsed:n,expandedMenus:l,onToggleCollapse:h,onToggleSubmenu:d,onMenuClick:f,onLinkClick:p})})}),s.jsx(KR,{open:e,onOpenChange:r,children:s.jsx(XR,{side:"left",className:"p-0 w-64",children:s.jsx(kC,{collapsed:!1,expandedMenus:l,onToggleCollapse:h,onToggleSubmenu:d,onMenuClick:f,onLinkClick:p})})}),s.jsxs("div",{className:Pe("min-h-screen flex flex-col transition-all duration-300",n?"md:pl-20":"md:pl-64"),children:[s.jsx(wK,{onOpenSidebar:()=>r(!0)}),s.jsx("main",{className:"flex-1",children:s.jsx("div",{className:"py-3 lg:py-6 px-4 sm:px-6 lg:px-8",children:t||s.jsx(kU,{})})}),s.jsx(NK,{})]})]})}function SK({...t}){return s.jsx("nav",{"aria-label":"breadcrumb","data-slot":"breadcrumb",...t})}function EK({className:t,...e}){return s.jsx("ol",{"data-slot":"breadcrumb-list",className:Pe("text-muted-foreground flex flex-wrap items-center gap-1.5 text-sm break-words sm:gap-2.5",t),...e})}function kK({className:t,...e}){return s.jsx("li",{"data-slot":"breadcrumb-item",className:Pe("inline-flex items-center gap-1.5",t),...e})}function CK({asChild:t,className:e,...r}){const n=t?gN:"a";return s.jsx(n,{"data-slot":"breadcrumb-link",className:Pe("hover:text-foreground transition-colors",e),...r})}function AK({className:t,...e}){return s.jsx("span",{"data-slot":"breadcrumb-page",role:"link","aria-disabled":"true","aria-current":"page",className:Pe("text-foreground font-normal",t),...e})}function TK({children:t,className:e,...r}){return s.jsx("li",{"data-slot":"breadcrumb-separator",role:"presentation","aria-hidden":"true",className:Pe("[&>svg]:size-3.5",e),...r,children:t??s.jsx(GR,{})})}function Ye({title:t,description:e,breadcrumbs:r=[],actions:n,className:a=""}){return s.jsxs("div",{className:`space-y-4 ${a}`,children:[r.length>0&&s.jsx(SK,{children:s.jsx(EK,{children:r.map((l,c)=>s.jsxs(ye.Fragment,{children:[s.jsx(kK,{children:l.current||!l.href?s.jsx(AK,{children:l.label}):s.jsx(CK,{asChild:!0,children:s.jsx(ja,{to:l.href,children:l.label})})}),c<r.length-1&&s.jsx(TK,{})]},c))})}),s.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-start lg:justify-between",children:[s.jsxs("div",{className:"min-w-0 flex-1 space-y-1",children:[s.jsx("h1",{className:"break-words text-xl font-bold tracking-tight sm:text-2xl lg:text-3xl",children:t}),e&&s.jsx("p",{className:"break-words text-sm text-muted-foreground sm:text-base",children:e})]}),n&&s.jsx("div",{className:"flex w-full flex-wrap items-center gap-2 sm:w-auto [&>div]:flex [&>div]:flex-wrap [&>div]:gap-2",children:n})]})]})}const{toast:gr}=tr(),We={uploadSelfie:async t=>{var e,r;try{const n=new FormData;n.append("file",t);const a=await ve.post("/attendance/upload-selfie",n,{headers:{"Content-Type":"multipart/form-data"}});return gr({title:"Success",description:"Selfie uploaded successfully"}),a.data}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to upload selfie";throw gr({title:"Error",description:a,variant:"destructive"}),new Error(a)}},submitAttendance:async t=>{var e,r;try{const n=await ve.post("/attendance/submit",t);return gr({title:"Success",description:"Attendance submitted successfully"}),n.data}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to submit attendance";throw gr({title:"Error",description:a,variant:"destructive"}),new Error(a)}},getStatus:async()=>{var t,e;try{return(await ve.get("/attendance/status")).data}catch(r){const n=((e=(t=r.response)==null?void 0:t.data)==null?void 0:e.detail)||"Failed to fetch attendance status";throw gr({title:"Error",description:n,variant:"destructive"}),new Error(n)}},getMyAttendances:async(t={})=>{var e,r;try{const n={page:1,size:30,...t};return Object.keys(n).forEach(l=>{(n[l]===void 0||n[l]===null||n[l]==="")&&delete n[l]}),(await ve.get("/attendance/my-attendances",{params:n})).data}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to fetch attendance records";throw gr({title:"Error",description:a,variant:"destructive"}),new Error(a)}},getMonthlySummary:async(t,e)=>{var r,n;try{return(await ve.get(`/attendance/summary/${t}/${e}`)).data}catch(a){const l=((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.detail)||"Failed to fetch monthly summary";throw gr({title:"Error",description:l,variant:"destructive"}),new Error(l)}},checkIn:async t=>{var e,r;try{const n=await ve.post("/attendance/check-in",t);return gr({title:"Success",description:"Checked in successfully"}),n.data}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to check in";throw gr({title:"Error",description:a,variant:"destructive"}),new Error(a)}},checkOut:async t=>{var e,r;try{const n=await ve.post("/attendance/check-out",t);return gr({title:"Success",description:"Checked out successfully"}),n.data}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to check out";throw gr({title:"Error",description:a,variant:"destructive"}),new Error(a)}},getTodayAttendance:async()=>{var t,e;try{return(await ve.get("/attendance/today")).data}catch(r){const n=((e=(t=r.response)==null?void 0:t.data)==null?void 0:e.detail)||"Failed to fetch today's attendance";throw gr({title:"Error",description:n,variant:"destructive"}),new Error(n)}},getAttendanceById:async t=>{var e,r;try{return(await ve.get(`/attendance/${t}`)).data}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to fetch attendance details";throw gr({title:"Error",description:a,variant:"destructive"}),new Error(a)}},admin:{createManualAttendance:async t=>{var e,r;try{const n=await ve.post("/attendance/admin/manual",t);return gr({title:"Success",description:"Manual attendance created successfully"}),n.data}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to create manual attendance";throw gr({title:"Error",description:a,variant:"destructive"}),new Error(a)}},bulkMarkPresent:async t=>{var e,r;try{const n=await ve.post("/attendance/admin/bulk-present",t);return gr({title:"Success",description:`${n.data.length} users marked present successfully`}),n.data}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to bulk mark present";throw gr({title:"Error",description:a,variant:"destructive"}),new Error(a)}},getUserAttendances:async(t,e=1,r=30)=>{var n,a;try{const l={page:e,size:r};return(await ve.get(`/attendance/admin/user-attendances/${t}`,{params:l})).data}catch(l){const c=((a=(n=l.response)==null?void 0:n.data)==null?void 0:a.detail)||"Failed to fetch user attendances";throw gr({title:"Error",description:c,variant:"destructive"}),new Error(c)}},getAllAttendances:async t=>{var e,r;try{return(await ve.get("/attendance/admin/all",{params:t})).data}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to fetch all attendances";throw gr({title:"Error",description:a,variant:"destructive"}),new Error(a)}},getAttendancesByOrgUnit:async(t,e)=>{var r,n;try{return(await ve.get(`/attendance/admin/org-unit/${t}`,{params:e})).data}catch(a){const l=((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.detail)||"Failed to fetch org unit attendances";throw gr({title:"Error",description:l,variant:"destructive"}),new Error(l)}},getAllUserSummaries:async t=>{var e,r;try{return(await ve.get("/attendance/admin/summary/all",{params:t})).data}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to fetch all user attendance summaries";throw gr({title:"Error",description:a,variant:"destructive"}),new Error(a)}},getUserSummariesByOrgUnit:async(t,e)=>{var r,n;try{return(await ve.get(`/attendance/admin/summary/org-unit/${t}`,{params:e})).data}catch(a){const l=((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.detail)||"Failed to fetch org unit user attendance summaries";throw gr({title:"Error",description:l,variant:"destructive"}),new Error(l)}}},getStatusColor:t=>({present:"green",absent:"red",leave:"blue",holiday_present:"purple"})[t]||"gray",getStatusLabel:t=>({present:"Present",absent:"Absent",leave:"On Leave",holiday_present:"Holiday Present"})[t]||t,formatAttendanceDate:t=>new Date(t).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),formatTime:t=>t?new Date(t).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):"-",calculateWorkingHours:t=>{const e=t.check_in_time,r=t.check_out_time;if(!e||!r)return"-";const n=new Date(e);return`${((new Date(r).getTime()-n.getTime())/(1e3*60*60)).toFixed(1)} hours`},isLate:t=>{const e=t.check_in_time;if(!e)return!1;const r=new Date(e),n=new Date(r);return n.setHours(9,0,0,0),r>n},isEarlyCheckout:t=>{const e=t.check_out_time;if(!e)return!1;const r=new Date(e),n=new Date(r);return n.setHours(17,0,0,0),r<n},canCheckIn:t=>(t==null?void 0:t.can_check_in)||!1,canCheckOut:t=>(t==null?void 0:t.can_check_out)||!1,getAttendancePercentage:t=>t.working_days===0?0:Math.round(t.present_days/t.working_days*100),getDaysRemaining:t=>t.working_days-t.present_days-t.absent_days-t.leave_days,isToday:t=>{const e=new Date,r=new Date(t);return e.toDateString()===r.toDateString()},isPastDate:t=>{const e=new Date,r=new Date(t);return e.setHours(0,0,0,0),r.setHours(0,0,0,0),r<e},isWeekend:t=>{const r=new Date(t).getDay();return r===0||r===6},getWeekdayName:t=>new Date(t).toLocaleDateString("en-US",{weekday:"long"}),formatAttendanceRate:t=>`${t.toFixed(1)}%`,getAttendanceRateColor:t=>t>=90?"green":t>=80?"yellow":t>=70?"orange":"red",getCurrentLocation:()=>new Promise((t,e)=>{if(!navigator.geolocation){e(new Error("Geolocation is not supported by this browser"));return}navigator.geolocation.getCurrentPosition(r=>t(r),r=>e(r),{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})}),formatLocationName:(t,e)=>e==="check_in"?t.check_in_location_name||t.check_in_submitted_location||(t.check_in_latitude&&t.check_in_longitude?`GPS: ${t.check_in_latitude.toFixed(6)}, ${t.check_in_longitude.toFixed(6)}`:"Unknown Location"):t.check_out_location_name||t.check_out_submitted_location||(t.check_out_latitude&&t.check_out_longitude?`GPS: ${t.check_out_latitude.toFixed(6)}, ${t.check_out_longitude.toFixed(6)}`:"Unknown Location"),hasGPSLocation:(t,e)=>e==="check_in"?!!(t.check_in_latitude&&t.check_in_longitude):!!(t.check_out_latitude&&t.check_out_longitude),getGPSAccuracy:(t,e)=>{const r=e==="check_in"?t.check_in_accuracy:t.check_out_accuracy;return r?`${r.toFixed(0)}m`:"Unknown"},completeCheckInWithGPS:async(t,e,r,n=!0)=>{let a={};if(n)try{const c=await We.getCurrentLocation();a={latitude:c.coords.latitude,longitude:c.coords.longitude,accuracy:c.coords.accuracy}}catch(c){console.warn("Could not get GPS location:",c)}const l=await We.uploadSelfie(t);return await We.checkIn({selfie_file_id:l.file_id,location:e,notes:r,...a})},completeCheckOutWithGPS:async(t,e,r=!0)=>{let n={};if(r)try{const l=await We.getCurrentLocation();n={latitude:l.coords.latitude,longitude:l.coords.longitude,accuracy:l.coords.accuracy}}catch(l){console.warn("Could not get GPS location:",l)}const a=await We.uploadSelfie(t);return await We.checkOut({selfie_file_id:a.file_id,notes:e,...n})},completeCheckIn:async(t,e,r)=>We.completeCheckInWithGPS(t,e,r,!0),completeCheckOut:async(t,e)=>We.completeCheckOutWithGPS(t,e,!0)};var Ys=(t=>(t.ONLINE="online",t.OFFLINE="offline",t))(Ys||{}),Ko=(t=>(t.ALL="all",t.UPCOMING="upcoming",t.PAST="past",t.TODAY="today",t))(Ko||{}),Ou=(t=>(t.DATE="date",t.TITLE="title",t.CREATED_AT="created_at",t.UPDATED_AT="updated_at",t.PARTICIPANTS_COUNT="participants_count",t))(Ou||{}),bg=(t=>(t.ASC="asc",t.DESC="desc",t))(bg||{});const{toast:Rr}=tr(),Nt={createActivity:async t=>{var e,r;try{const n=await ve.post("/activities/",t);return Rr({title:"Success",description:"Activity scheduled successfully"}),n.data}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to create activity";throw Rr({title:"Error",description:a,variant:"destructive"}),new Error(a)}},getAllActivities:async t=>{var e,r;try{const n={page:1,size:50,...t};return Object.keys(n).forEach(l=>{n[l]===void 0&&delete n[l]}),(await ve.get("/activities/",{params:n})).data}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to fetch activities";throw Rr({title:"Error",description:a,variant:"destructive"}),new Error(a)}},getMyActivities:async t=>{var e,r;try{const n={page:1,size:20,...t};return Object.keys(n).forEach(l=>{n[l]===void 0&&delete n[l]}),(await ve.get("/activities/my-activities",{params:n})).data}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to fetch your activities";throw Rr({title:"Error",description:a,variant:"destructive"}),new Error(a)}},getMyCreatedActivities:async t=>{var e,r;try{const n={page:1,size:20,...t};return Object.keys(n).forEach(l=>{n[l]===void 0&&delete n[l]}),(await ve.get("/activities/my-created",{params:n})).data}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to fetch created activities";throw Rr({title:"Error",description:a,variant:"destructive"}),new Error(a)}},getSummary:async()=>{var t,e;try{return(await ve.get("/activities/summary")).data}catch(r){const n=((e=(t=r.response)==null?void 0:t.data)==null?void 0:e.detail)||"Failed to fetch activity summary";throw Rr({title:"Error",description:n,variant:"destructive"}),new Error(n)}},getUpcomingActivities:async(t=7)=>{var e,r;try{const n={days_ahead:t};return(await ve.get("/activities/upcoming",{params:n})).data}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to fetch upcoming activities";throw Rr({title:"Error",description:a,variant:"destructive"}),new Error(a)}},getCalendarActivities:async(t,e)=>{var r,n;try{const a={start_date:t,end_date:e};return(await ve.get("/activities/calendar",{params:a})).data}catch(a){const l=((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.detail)||"Failed to fetch calendar activities";throw Rr({title:"Error",description:l,variant:"destructive"}),new Error(l)}},getActivityById:async t=>{var e,r;try{return(await ve.get(`/activities/${t}`)).data}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to fetch activity";throw Rr({title:"Error",description:a,variant:"destructive"}),new Error(a)}},updateActivity:async(t,e)=>{var r,n;try{const a=await ve.put(`/activities/${t}`,e);return Rr({title:"Success",description:"Activity updated successfully"}),a.data}catch(a){const l=((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.detail)||"Failed to update activity";throw Rr({title:"Error",description:l,variant:"destructive"}),new Error(l)}},deleteActivity:async t=>{var e,r;try{const n=await ve.delete(`/activities/${t}`);return Rr({title:"Success",description:"Activity deleted successfully"}),n.data}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to delete activity";throw Rr({title:"Error",description:a,variant:"destructive"}),new Error(a)}},manageParticipants:async(t,e)=>{var r,n;try{const a=await ve.post(`/activities/${t}/participants`,e);return Rr({title:"Success",description:"Participants updated successfully"}),a.data}catch(a){const l=((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.detail)||"Failed to manage participants";throw Rr({title:"Error",description:l,variant:"destructive"}),new Error(l)}},bulkExportActivities:async t=>{var e,r;try{const n=await ve.post("/activities/bulk-export",t,{responseType:"blob"});return Rr({title:"Success",description:"Activities exported successfully"}),n.data}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to export activities";throw Rr({title:"Error",description:a,variant:"destructive"}),new Error(a)}},getMonthlyAnalytics:async t=>{var e,r;try{const n={year:t};return(await ve.get("/activities/analytics/monthly",{params:n})).data}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to fetch monthly analytics";throw Rr({title:"Error",description:a,variant:"destructive"}),new Error(a)}},getParticipationAnalytics:async(t,e)=>{var r,n;try{const a={};return t&&(a.date_from=t),e&&(a.date_to=e),(await ve.get("/activities/analytics/participation",{params:a})).data}catch(a){const l=((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.detail)||"Failed to fetch participation analytics";throw Rr({title:"Error",description:l,variant:"destructive"}),new Error(l)}},getActivityTrends:async(t="monthly")=>{var e,r;try{const n={period:t};return(await ve.get("/activities/analytics/trends",{params:n})).data}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to fetch activity trends";throw Rr({title:"Error",description:a,variant:"destructive"}),new Error(a)}},getActivityTypeColor:t=>({online:"blue",offline:"green"})[t]||"gray",getActivityTypeLabel:t=>({online:"Online",offline:"In-Person"})[t]||t,isValidMeetingLink:t=>{const e=["meet.google.com","zoom.us","us02web.zoom.us","us04web.zoom.us","teams.microsoft.com","teams.live.com"];try{const r=new URL(t);return e.some(n=>r.hostname.includes(n))}catch{return!1}},validateActivityData:t=>{var r,n,a;const e=[];return(r=t.title)!=null&&r.trim()||e.push("Title is required"),t.activity_type||e.push("Activity type is required"),t.activity_type==="online"&&((n=t.meeting_link)!=null&&n.trim()?Nt.isValidMeetingLink(t.meeting_link)||e.push("Meeting link must be from Google Meet, Zoom, or Microsoft Teams"):e.push("Meeting link is required for online activities")),t.activity_type==="offline"&&((a=t.location)!=null&&a.trim()||e.push("Location is required for offline activities")),{isValid:e.length===0,errors:e}},getRoleColor:t=>({owner:"purple",pic:"blue",participant:"gray"})[t]||"gray",formatActivityDate:t=>new Date(t).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),formatTimeRange:(t,e)=>!t&&!e?"All day":e?t?`${t} - ${e}`:`Until ${e}`:`From ${t}`,isUpcoming:t=>new Date(t)>new Date,isPast:t=>new Date(t)<new Date,isToday:t=>{const e=new Date,r=new Date(t);return e.toDateString()===r.toDateString()},canEdit:(t,e)=>t.created_by===e&&t.is_active,canManageParticipants:(t,e)=>t.created_by===e||t.participants.some(r=>r.user_id===e&&r.role==="pic"),groupParticipantsByUser:t=>t.reduce((e,r)=>{const n=r.user_id;return e[n]||(e[n]={user_id:n,user_name:r.user_name,employee_id:r.employee_id,roles:[]}),e[n].roles.push(r.role),e},{}),downloadExportedFile:(t,e)=>{const r=window.URL.createObjectURL(t),n=document.createElement("a");n.href=r,n.download=e,document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(r)},buildFilterQuery:t=>{const e=new URLSearchParams;return Object.entries(t).forEach(([r,n])=>{n!=null&&n!==""&&e.append(r,n.toString())}),e.toString()},parseFilterQuery:t=>{const e=new URLSearchParams(t),r={};return e.get("page")&&(r.page=parseInt(e.get("page"))),e.get("size")&&(r.size=parseInt(e.get("size"))),e.get("search")&&(r.search=e.get("search")),e.get("title_contains")&&(r.title_contains=e.get("title_contains")),e.get("description_contains")&&(r.description_contains=e.get("description_contains")),e.get("status")&&(r.status=e.get("status")),e.get("activity_type")&&(r.activity_type=e.get("activity_type")),e.get("location_contains")&&(r.location_contains=e.get("location_contains")),e.get("created_by")&&(r.created_by=parseInt(e.get("created_by"))),e.get("participant_id")&&(r.participant_id=parseInt(e.get("participant_id"))),e.get("role")&&(r.role=e.get("role")),e.get("date_from")&&(r.date_from=e.get("date_from")),e.get("date_to")&&(r.date_to=e.get("date_to")),e.get("month")&&(r.month=parseInt(e.get("month"))),e.get("year")&&(r.year=parseInt(e.get("year"))),e.get("sort_by")&&(r.sort_by=e.get("sort_by")),e.get("sort_order")&&(r.sort_order=e.get("sort_order")),r}},{toast:Ms}=tr(),at={uploadEvidenceFiles:async t=>{var e,r;try{const{default:n}=await Hl(async()=>{const{default:c}=await Promise.resolve().then(()=>td);return{default:c}},void 0),a={folder:"leave-request-evidence",is_public:!1};return(await n.uploadMultipleFiles(t,a)).uploaded_files.map(c=>c.id)}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to upload evidence files";throw Ms({title:"Error",description:a,variant:"destructive"}),new Error(a)}},createLeaveRequest:async(t,e)=>{var r,n;try{if(e&&e.length>0){const l=e.map(d=>d.file),c=await at.uploadEvidenceFiles(l);t.evidences=c.map((d,f)=>{var h;return{file_upload_id:d,description:((h=e[f])==null?void 0:h.description)||void 0}})}const a=await ve.post("/leave-requests/",t);return Ms({title:"Success",description:"Leave request created successfully"}),a.data}catch(a){const l=((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.detail)||"Failed to create leave request";throw Ms({title:"Error",description:l,variant:"destructive"}),new Error(l)}},getMyRequests:async t=>{var e,r;try{const n=t||{page:1,limit:20};return(await ve.get("/leave-requests/my-requests",{params:n})).data}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to fetch leave requests";throw Ms({title:"Error",description:a,variant:"destructive"}),new Error(a)}},getQuota:async t=>{var e,r;try{return(await ve.get(`/leave-requests/quota/${t}`)).data}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to fetch leave quota";throw Ms({title:"Error",description:a,variant:"destructive"}),new Error(a)}},getStatistics:async t=>{var e,r;try{return(await ve.get(`/leave-requests/statistics/${t}`)).data}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to fetch leave statistics";throw Ms({title:"Error",description:a,variant:"destructive"}),new Error(a)}},getCalendar:async(t,e,r)=>{var n,a;try{const l={start_date:t,end_date:e};return r&&(l.org_unit_id=r),(await ve.get("/leave-requests/calendar",{params:l})).data}catch(l){const c=((a=(n=l.response)==null?void 0:n.data)==null?void 0:a.detail)||"Failed to fetch leave calendar";throw Ms({title:"Error",description:c,variant:"destructive"}),new Error(c)}},getRequestById:async t=>{var e,r;try{return(await ve.get(`/leave-requests/${t}`)).data}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to fetch leave request";throw Ms({title:"Error",description:a,variant:"destructive"}),new Error(a)}},updateRequest:async(t,e,r,n)=>{var a,l,c;try{let d=[];if(n&&n.length>0)try{d=((a=(await at.getRequestById(t)).evidences)==null?void 0:a.filter(p=>n.includes(p.id)).map(p=>p.file_upload_id))||[]}catch(h){console.warn("Failed to get current leave request for file removal:",h)}if(r&&r.length>0){const h=r.map(y=>y.file),g=(await at.uploadEvidenceFiles(h)).map((y,b)=>{var j;return{file_upload_id:y,description:((j=r[b])==null?void 0:j.description)||void 0}});e.evidences=[...e.evidences||[],...g]}const f=await ve.put(`/leave-requests/${t}`,e);if(d.length>0){const{default:h}=await Hl(async()=>{const{default:p}=await Promise.resolve().then(()=>td);return{default:p}},void 0);for(const p of d)try{await h.deleteFile(p)}catch(g){console.warn(`Failed to delete evidence file ${p}:`,g)}}return Ms({title:"Success",description:"Leave request updated successfully"}),f.data}catch(d){const f=((c=(l=d.response)==null?void 0:l.data)==null?void 0:c.detail)||"Failed to update leave request";throw Ms({title:"Error",description:f,variant:"destructive"}),new Error(f)}},deleteRequest:async t=>{var e,r;try{const n=await ve.delete(`/leave-requests/${t}`);return Ms({title:"Success",description:"Leave request deleted successfully"}),n.data}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to delete leave request";throw Ms({title:"Error",description:a,variant:"destructive"}),new Error(a)}},submitRequest:async t=>{var e,r;try{const n=await ve.post(`/leave-requests/${t}/submit`);return Ms({title:"Success",description:"Leave request submitted for approval"}),n.data}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to submit leave request";throw Ms({title:"Error",description:a,variant:"destructive"}),new Error(a)}},revertToDraft:async t=>{var e,r;try{const n=await ve.post(`/leave-requests/${t}/revert`);return Ms({title:"Success",description:"Leave request reverted to draft"}),n.data}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to revert leave request";throw Ms({title:"Error",description:a,variant:"destructive"}),new Error(a)}},admin:{getAllRequests:async t=>{var e,r;try{return(await ve.get("/leave-requests/admin/all",{params:t})).data}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to fetch all requests";throw Ms({title:"Error",description:a,variant:"destructive"}),new Error(a)}},getRequestsByOrgUnit:async t=>{var e,r;try{return(await ve.get("/leave-requests/admin/org-unit",{params:t})).data}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to fetch org unit requests";throw Ms({title:"Error",description:a,variant:"destructive"}),new Error(a)}},getPendingRequests:async(t=1,e=50)=>{var r,n;try{return(await ve.get("/leave-requests/admin/pending",{params:{page:t,size:e}})).data}catch(a){const l=((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.detail)||"Failed to fetch pending requests";throw Ms({title:"Error",description:l,variant:"destructive"}),new Error(l)}},approveRequest:async(t,e)=>{var r,n;try{const a=await ve.post(`/leave-requests/${t}/approve`,e),l=e.status==="approved"?"approved":"rejected";return Ms({title:"Success",description:`Leave request ${l} successfully`}),a.data}catch(a){const l=((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.detail)||"Failed to process leave request";throw Ms({title:"Error",description:l,variant:"destructive"}),new Error(l)}},bulkApprove:async t=>{var e,r;try{const n=await ve.post("/leave-requests/admin/bulk-approve",t);return Ms({title:"Success",description:`${t.request_ids.length} leave requests processed successfully`}),n.data}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to bulk process requests";throw Ms({title:"Error",description:a,variant:"destructive"}),new Error(a)}},getUserQuota:async(t,e)=>{var r,n;try{return(await ve.get(`/leave-requests/admin/quota/${t}/${e}`)).data}catch(a){const l=((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.detail)||"Failed to fetch user quota";throw Ms({title:"Error",description:l,variant:"destructive"}),new Error(l)}},getUserStatistics:async(t,e)=>{var r,n;try{return(await ve.get(`/leave-requests/admin/statistics/${t}/${e}`)).data}catch(a){const l=((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.detail)||"Failed to fetch user statistics";throw Ms({title:"Error",description:l,variant:"destructive"}),new Error(l)}},getAllUserSummaries:async(t,e)=>{var r,n;try{const a={year:t,...e};return(await ve.get("/leave-requests/admin/summary/all",{params:a})).data}catch(a){const l=((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.detail)||"Failed to fetch all user leave request summaries";throw Ms({title:"Error",description:l,variant:"destructive"}),new Error(l)}},getUserSummariesByOrgUnit:async(t,e,r)=>{var n,a;try{const l={year:e,...r};return(await ve.get(`/leave-requests/admin/summary/org-unit/${t}`,{params:l})).data}catch(l){const c=((a=(n=l.response)==null?void 0:n.data)==null?void 0:a.detail)||"Failed to fetch org unit user leave request summaries";throw Ms({title:"Error",description:c,variant:"destructive"}),new Error(c)}}},getApprovedLeaveActivities:async(t,e,r)=>{var n,a;try{const l={start_date:t,end_date:e,status:"approved"};return r&&(l.org_unit_id=r),(await ve.get("/leave-requests/calendar",{params:l})).data}catch(l){const c=((a=(n=l.response)==null?void 0:n.data)==null?void 0:a.detail)||"Failed to fetch approved leave activities";throw Ms({title:"Error",description:c,variant:"destructive"}),new Error(c)}},getLeaveTypeDisplay:t=>({annual:"Annual Leave",maternity:"Maternity Leave"})[t]||t,getStatusColor:t=>({draft:"gray",submitted:"yellow",approved:"green",rejected:"red"})[t]||"gray",getStatusDisplay:t=>({draft:"Draft",submitted:"Pending Approval",approved:"Approved",rejected:"Rejected"})[t]||t,calculateDays:(t,e)=>{const r=new Date(t),n=new Date(e);if(t===e){const c=r.getDay();return c===0||c===6?0:1}let a=0;const l=new Date(r);for(;l<=n;){const c=l.getDay();c>=1&&c<=5&&a++,l.setDate(l.getDate()+1)}return a},formatDateRange:(t,e)=>{const r=new Date(t).toLocaleDateString(),n=new Date(e).toLocaleDateString();return t===e?r:`${r} - ${n}`},isEditable:t=>t==="draft"||t==="rejected",canBeSubmitted:t=>t==="draft",canBeReverted:t=>t==="submitted"||t==="rejected",canBeDeleted:t=>t==="draft"||t==="rejected",canCancel:(t,e)=>{const r=new Date,n=new Date(e);return(t==="submitted"||t==="approved")&&n>r},getQuotaUtilization:(t,e)=>e===0?0:Math.round(t/e*100),formatQuotaDisplay:(t,e)=>{const r=Math.max(0,e-t);return`${t}/${e} used (${r} remaining)`},hasQuota:(t,e)=>e>=t,getLeaveTypeColor:t=>({annual:"blue",maternity:"pink"})[t]||"gray",validateDates:(t,e,r)=>{const n=new Date(t),a=new Date(e),l=new Date;if(l.setHours(0,0,0,0),n<l)return{valid:!1,error:"Start date cannot be in the past"};if(a<n)return{valid:!1,error:"End date cannot be before start date"};const c=at.calculateDays(t,e);return r==="annual"&&c>14?{valid:!1,error:"Annual leave cannot exceed 14 consecutive days"}:{valid:!0}},hasOverlap:(t,e,r,n)=>{const a=new Date(t),l=new Date(e);return r.some(c=>{if(c.status==="rejected"||n&&c.id===n)return!1;const d=new Date(c.start_date),f=new Date(c.end_date);return!(l<d||a>f)})},formatEvidenceDisplay:t=>!t||t.length===0?"No attachments":t.length===1?t[0].file_upload.original_filename:`${t.length} attachments`,getEvidenceDownloadUrl:t=>`/api/files/download/${t.file_upload.id}`,getNextPossibleStatuses:t=>({draft:["submitted"],submitted:["approved","rejected","draft"],approved:["draft"],rejected:["draft"]})[t]||[],getStatusBadgeVariant:t=>({draft:"outline",submitted:"default",approved:"secondary",rejected:"destructive"})[t]||"outline",createFilters:t=>({status:t.status,leave_type:t.leaveType,start_date_from:t.startDate,end_date_to:t.endDate,search:t.search,page:t.page||1,limit:t.limit||10,sort_by:t.sortBy||"created_at",sort_order:t.sortOrder||"desc",user_id:t.userId,org_unit_id:t.orgUnitId,approved_by:t.approvedBy})},{toast:Ps}=tr(),bt={createLogbook:async(t,e)=>{var r,n;try{if(e&&e.length>0){const l=e.map(d=>d.file),c=await bt.uploadEvidenceFiles(l);t.evidences=c.map((d,f)=>{var h;return{file_upload_id:d,description:((h=e[f])==null?void 0:h.description)||void 0}})}const a=await ve.post("/logbooks/",t);return Ps({title:"Success",description:"Logbook entry created successfully"}),a.data}catch(a){const l=((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.detail)||"Failed to create logbook entry";throw Ps({title:"Error",description:l,variant:"destructive"}),new Error(l)}},uploadEvidenceFiles:async t=>{var e,r;try{const{default:n}=await Hl(async()=>{const{default:c}=await Promise.resolve().then(()=>td);return{default:c}},void 0),a={folder:"logbook-evidence",is_public:!1};return(await n.uploadMultipleFiles(t,a)).uploaded_files.map(c=>c.id)}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to upload evidence files";throw Ps({title:"Error",description:a,variant:"destructive"}),new Error(a)}},getMyLogbooks:async t=>{var e,r;try{const n={};return t&&(t.page!==void 0&&(n.page=t.page),t.size!==void 0&&(n.size=t.size),t.search&&(n.search=t.search),t.activity_contains&&(n.activity_contains=t.activity_contains),t.notes_contains&&(n.notes_contains=t.notes_contains),t.status&&t.status!=="all"&&(n.status=t.status),t.date_from&&(n.date_from=t.date_from),t.date_to&&(n.date_to=t.date_to),t.log_date&&(n.log_date=t.log_date),t.month&&(n.month=t.month),t.year&&(n.year=t.year),t.user_name_contains&&(n.user_name_contains=t.user_name_contains),t.has_evidences!==void 0&&(n.has_evidences=t.has_evidences),t.has_work_plans!==void 0&&(n.has_work_plans=t.has_work_plans),t.rejection_reason_contains&&(n.rejection_reason_contains=t.rejection_reason_contains),t.sort_by&&(n.sort_by=t.sort_by),t.sort_order&&(n.sort_order=t.sort_order)),(await ve.get("/logbooks/my-logbooks",{params:n})).data}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to fetch logbook entries";throw Ps({title:"Error",description:a,variant:"destructive"}),new Error(a)}},getMonthlySummary:async(t,e)=>{var r,n;try{return(await ve.get(`/logbooks/summary/${t}/${e}`)).data}catch(a){const l=((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.detail)||"Failed to fetch monthly summary";throw Ps({title:"Error",description:l,variant:"destructive"}),new Error(l)}},getLogbookByDate:async t=>{var e,r;try{return(await ve.get(`/logbooks/by-date/${t}`)).data}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to fetch logbook entry";throw Ps({title:"Error",description:a,variant:"destructive"}),new Error(a)}},canCheckInToday:async()=>{var t,e;try{return(await ve.get("/logbooks/can-check-in-today")).data}catch(r){const n=((e=(t=r.response)==null?void 0:t.data)==null?void 0:e.detail)||"Failed to check eligibility";throw Ps({title:"Error",description:n,variant:"destructive"}),new Error(n)}},getLogbookById:async t=>{var e,r;try{return(await ve.get(`/logbooks/${t}`)).data}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to fetch logbook entry";throw Ps({title:"Error",description:a,variant:"destructive"}),new Error(a)}},updateLogbook:async(t,e,r,n)=>{var a,l,c;try{let d=[];if(n&&n.length>0)try{d=((a=(await bt.getLogbookById(t)).evidences)==null?void 0:a.filter(p=>n.includes(p.id)).map(p=>p.file_upload_id))||[]}catch(h){console.warn("Failed to get current logbook for file removal:",h)}if(r&&r.length>0){const h=r.map(y=>y.file),g=(await bt.uploadEvidenceFiles(h)).map((y,b)=>{var j;return{file_upload_id:y,description:((j=r[b])==null?void 0:j.description)||void 0}});e.evidences=[...e.evidences||[],...g]}const f=await ve.put(`/logbooks/${t}`,e);if(d.length>0){const{default:h}=await Hl(async()=>{const{default:p}=await Promise.resolve().then(()=>td);return{default:p}},void 0);for(const p of d)try{await h.deleteFile(p)}catch(g){console.warn(`Failed to delete evidence file ${p}:`,g)}}return Ps({title:"Success",description:"Logbook entry updated successfully"}),f.data}catch(d){const f=((c=(l=d.response)==null?void 0:l.data)==null?void 0:c.detail)||"Failed to update logbook entry";throw Ps({title:"Error",description:f,variant:"destructive"}),new Error(f)}},deleteLogbook:async t=>{var e,r;try{const n=await ve.delete(`/logbooks/${t}`);return Ps({title:"Success",description:"Logbook entry deleted successfully"}),n.data}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to delete logbook entry";throw Ps({title:"Error",description:a,variant:"destructive"}),new Error(a)}},submitForApproval:async t=>{var e,r;try{const n=await ve.post(`/logbooks/${t}/submit`);return Ps({title:"Success",description:"Logbook entry submitted for approval"}),n.data}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to submit logbook entry";throw Ps({title:"Error",description:a,variant:"destructive"}),new Error(a)}},revertToDraft:async t=>{var e,r;try{const n=await ve.post(`/logbooks/${t}/revert`);return Ps({title:"Success",description:"Logbook entry reverted to draft status"}),n.data}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to revert logbook entry";throw Ps({title:"Error",description:a,variant:"destructive"}),new Error(a)}},admin:{getPendingApprovals:async t=>{var e,r;try{const n={};return n.status="submitted",t&&(t.page!==void 0&&(n.page=t.page),t.size!==void 0&&(n.size=t.size),t.search&&(n.search=t.search),t.activity_contains&&(n.activity_contains=t.activity_contains),t.notes_contains&&(n.notes_contains=t.notes_contains),t.date_from&&(n.date_from=t.date_from),t.date_to&&(n.date_to=t.date_to),t.log_date&&(n.log_date=t.log_date),t.month&&(n.month=t.month),t.year&&(n.year=t.year),t.user_name_contains&&(n.user_name_contains=t.user_name_contains),t.org_unit_id&&(n.org_unit_id=t.org_unit_id),t.has_evidences!==void 0&&(n.has_evidences=t.has_evidences),t.has_work_plans!==void 0&&(n.has_work_plans=t.has_work_plans),t.sort_by&&(n.sort_by=t.sort_by),t.sort_order&&(n.sort_order=t.sort_order)),(await ve.get("/logbooks/admin/pending",{params:n})).data}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to fetch pending approvals";throw Ps({title:"Error",description:a,variant:"destructive"}),new Error(a)}},approveLogbook:async(t,e)=>{var r,n;try{const a=await ve.post(`/logbooks/${t}/approve`,e),l=e.status==="approved"?"approved":"rejected";return Ps({title:"Success",description:`Logbook entry ${l} successfully`}),a.data}catch(a){const l=((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.detail)||"Failed to process logbook approval";throw Ps({title:"Error",description:l,variant:"destructive"}),new Error(l)}},bulkApprove:async t=>{var e,r;try{const n=await ve.post("/logbooks/admin/bulk-approve",t);return Ps({title:"Success",description:`${n.data.length} logbook entries processed successfully`}),n.data}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to bulk process logbooks";throw Ps({title:"Error",description:a,variant:"destructive"}),new Error(a)}},getAllLogbooks:async t=>{var e,r;try{const n={};return t&&(t.page!==void 0&&(n.page=t.page),t.size!==void 0&&(n.size=t.size),t.search&&(n.search=t.search),t.activity_contains&&(n.activity_contains=t.activity_contains),t.notes_contains&&(n.notes_contains=t.notes_contains),t.status&&t.status!=="all"&&(n.status=t.status),t.date_from&&(n.date_from=t.date_from),t.date_to&&(n.date_to=t.date_to),t.log_date&&(n.log_date=t.log_date),t.month&&(n.month=t.month),t.year&&(n.year=t.year),t.user_id&&(n.user_id=t.user_id),t.user_name_contains&&(n.user_name_contains=t.user_name_contains),t.org_unit_id&&(n.org_unit_id=t.org_unit_id),t.approved_by&&(n.approved_by=t.approved_by),t.has_evidences!==void 0&&(n.has_evidences=t.has_evidences),t.has_work_plans!==void 0&&(n.has_work_plans=t.has_work_plans),t.rejection_reason_contains&&(n.rejection_reason_contains=t.rejection_reason_contains),t.sort_by&&(n.sort_by=t.sort_by),t.sort_order&&(n.sort_order=t.sort_order)),(await ve.get("/logbooks/admin/all",{params:n})).data}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to fetch all logbooks";throw Ps({title:"Error",description:a,variant:"destructive"}),new Error(a)}},getLogbooksByOrgUnit:async(t,e)=>{var r,n;try{const a={};return e&&(e.page!==void 0&&(a.page=e.page),e.size!==void 0&&(a.size=e.size),e.search&&(a.search=e.search),e.activity_contains&&(a.activity_contains=e.activity_contains),e.notes_contains&&(a.notes_contains=e.notes_contains),e.status&&e.status!=="all"&&(a.status=e.status),e.date_from&&(a.date_from=e.date_from),e.date_to&&(a.date_to=e.date_to),e.log_date&&(a.log_date=e.log_date),e.month&&(a.month=e.month),e.year&&(a.year=e.year),e.user_id&&(a.user_id=e.user_id),e.user_name_contains&&(a.user_name_contains=e.user_name_contains),e.approved_by&&(a.approved_by=e.approved_by),e.has_evidences!==void 0&&(a.has_evidences=e.has_evidences),e.has_work_plans!==void 0&&(a.has_work_plans=e.has_work_plans),e.rejection_reason_contains&&(a.rejection_reason_contains=e.rejection_reason_contains),e.sort_by&&(a.sort_by=e.sort_by),e.sort_order&&(a.sort_order=e.sort_order)),(await ve.get(`/logbooks/admin/org-unit/${t}`,{params:a})).data}catch(a){const l=((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.detail)||"Failed to fetch org unit logbooks";throw Ps({title:"Error",description:l,variant:"destructive"}),new Error(l)}},getAllUserSummaries:async t=>{var e,r;try{const n={};return t&&(t.page!==void 0&&(n.page=t.page),t.size!==void 0&&(n.size=t.size),t.search&&(n.search=t.search),t.activity_contains&&(n.activity_contains=t.activity_contains),t.notes_contains&&(n.notes_contains=t.notes_contains),t.status&&t.status!=="all"&&(n.status=t.status),t.date_from&&(n.date_from=t.date_from),t.date_to&&(n.date_to=t.date_to),t.log_date&&(n.log_date=t.log_date),t.month&&(n.month=t.month),t.year&&(n.year=t.year),t.user_id&&(n.user_id=t.user_id),t.user_name_contains&&(n.user_name_contains=t.user_name_contains),t.org_unit_id&&(n.org_unit_id=t.org_unit_id),t.approved_by&&(n.approved_by=t.approved_by),t.has_evidences!==void 0&&(n.has_evidences=t.has_evidences),t.has_work_plans!==void 0&&(n.has_work_plans=t.has_work_plans),t.rejection_reason_contains&&(n.rejection_reason_contains=t.rejection_reason_contains),t.sort_by&&(n.sort_by=t.sort_by),t.sort_order&&(n.sort_order=t.sort_order)),(await ve.get("/logbooks/admin/summary/all",{params:n})).data}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to fetch all user logbook summaries";throw Ps({title:"Error",description:a,variant:"destructive"}),new Error(a)}},getUserSummariesByOrgUnit:async(t,e)=>{var r,n;try{const a={};return e&&(e.page!==void 0&&(a.page=e.page),e.size!==void 0&&(a.size=e.size),e.search&&(a.search=e.search),e.activity_contains&&(a.activity_contains=e.activity_contains),e.notes_contains&&(a.notes_contains=e.notes_contains),e.status&&e.status!=="all"&&(a.status=e.status),e.date_from&&(a.date_from=e.date_from),e.date_to&&(a.date_to=e.date_to),e.log_date&&(a.log_date=e.log_date),e.month&&(a.month=e.month),e.year&&(a.year=e.year),e.user_id&&(a.user_id=e.user_id),e.user_name_contains&&(a.user_name_contains=e.user_name_contains),e.approved_by&&(a.approved_by=e.approved_by),e.has_evidences!==void 0&&(a.has_evidences=e.has_evidences),e.has_work_plans!==void 0&&(a.has_work_plans=e.has_work_plans),e.rejection_reason_contains&&(a.rejection_reason_contains=e.rejection_reason_contains),e.sort_by&&(a.sort_by=e.sort_by),e.sort_order&&(a.sort_order=e.sort_order)),(await ve.get(`/logbooks/admin/summary/org-unit/${t}`,{params:a})).data}catch(a){const l=((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.detail)||"Failed to fetch org unit user logbook summaries";throw Ps({title:"Error",description:l,variant:"destructive"}),new Error(l)}}},files:{getFileUrl:async(t,e)=>{var r,n;try{const{default:a}=await Hl(async()=>{const{default:l}=await Promise.resolve().then(()=>td);return{default:l}},void 0);return await a.getFileUrl(t,e)}catch(a){const l=((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.detail)||"Failed to get file URL";throw Ps({title:"Error",description:l,variant:"destructive"}),new Error(l)}},deleteFile:async(t,e=!1)=>{var r,n;try{const{default:a}=await Hl(async()=>{const{default:l}=await Promise.resolve().then(()=>td);return{default:l}},void 0);return await a.deleteFile(t,e)}catch(a){const l=((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.detail)||"Failed to delete file";throw Ps({title:"Error",description:l,variant:"destructive"}),new Error(l)}},getFileInfo:async t=>{var e,r;try{const{default:n}=await Hl(async()=>{const{default:a}=await Promise.resolve().then(()=>td);return{default:a}},void 0);return await n.getFileById(t)}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to get file info";throw Ps({title:"Error",description:a,variant:"destructive"}),new Error(a)}}},getStatusColor:t=>({draft:"gray",submitted:"blue",approved:"green",rejected:"red"})[t]||"gray",getStatusBadgeVariant:t=>({draft:"outline",submitted:"default",approved:"secondary",rejected:"destructive"})[t]||"outline",formatLogDate:t=>new Date(t).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),formatFileSize:t=>{if(t===0)return"0 Bytes";const e=1024,r=["Bytes","KB","MB","GB"],n=Math.floor(Math.log(t)/Math.log(e));return parseFloat((t/Math.pow(e,n)).toFixed(2))+" "+r[n]},isEditable:t=>t==="draft"||t==="rejected",canSubmit:t=>t==="draft",canRevertToDraft:t=>t==="submitted"||t==="approved"||t==="rejected",canDelete:t=>t==="draft"||t==="rejected",isImageFile:t=>t.startsWith("image/"),isPdfFile:t=>t==="application/pdf",isDocumentFile:t=>["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","text/plain"].includes(t),getFileIcon:t=>bt.isImageFile(t)?"":bt.isPdfFile(t)?"":t.includes("word")?"":t.includes("excel")||t.includes("spreadsheet")?"":t.includes("powerpoint")||t.includes("presentation")?"":t.includes("text")?"":"",validateLogDate:t=>{const e=new Date(t),r=new Date,n=new Date(r.getTime()-7*24*60*60*1e3);if(e<n)return{isValid:!1,error:"Cannot submit logbook for dates older than H+7"};const a=e.getDay();return a===0||a===6?{isValid:!1,error:"Log date must be a working day (Monday to Friday)"}:{isValid:!0}},validateActivityDescription:t=>!t||t.trim().length<10?{isValid:!1,error:"Activity description must be at least 10 characters"}:t.length>1e3?{isValid:!1,error:"Activity description must not exceed 1000 characters"}:{isValid:!0},validateNotes:t=>t&&t.length>500?{isValid:!1,error:"Notes must not exceed 500 characters"}:{isValid:!0},validateEvidenceFiles:t=>{try{return Vs.validateFiles(t)}catch{const r=["image/jpeg","image/png","image/gif","image/webp","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","text/plain"];for(const n of t){if(n.size>10485760)return{isValid:!1,error:`File "${n.name}" exceeds maximum size of 10MB`};if(!r.includes(n.type))return{isValid:!1,error:`File type "${n.type}" is not allowed for "${n.name}"`}}return{isValid:!0}}},createFilterParams:t=>{const e={};return t.page!==void 0&&(e.page=t.page),t.size!==void 0&&(e.size=t.size),t.search&&(e.search=t.search),t.status&&t.status!=="all"&&(e.status=t.status),t.dateFrom&&(e.date_from=t.dateFrom),t.dateTo&&(e.date_to=t.dateTo),t.month&&(e.month=t.month),t.year&&(e.year=t.year),t.hasEvidences!==void 0&&(e.has_evidences=t.hasEvidences),t.hasWorkPlans!==void 0&&(e.has_work_plans=t.hasWorkPlans),t.sortBy&&(e.sort_by=t.sortBy),t.sortOrder&&(e.sort_order=t.sortOrder),t.orgUnitId&&(e.org_unit_id=t.orgUnitId),t.userId&&(e.user_id=t.userId),e}},g1=()=>{const{user:t}=yr(),[e,r]=x.useState({}),[n,a]=x.useState(!0),[l,c]=x.useState(null),d=E=>{var S;return((S=t==null?void 0:t.roles)==null?void 0:S.some(k=>k.name===E))||!1},f=d("master_admin"),h=d("admin"),p=d("user")||!f&&!h,g=async()=>{var E,S,k,R,L,I;try{const T=new Date,O=T.getDay(),P=O===0?-6:1-O,X=new Date(T);X.setDate(T.getDate()+P);const A=new Date(X);A.setDate(X.getDate()+6);const[z,$,J,B,M,V,Q,le]=await Promise.allSettled([We.getStatus(),We.getTodayAttendance(),((E=Nt.getCalendarActivities)==null?void 0:E.call(Nt,new Date().toISOString().split("T")[0],new Date().toISOString().split("T")[0]))||Promise.resolve([]),((S=Nt.getCalendarActivities)==null?void 0:S.call(Nt,X.toISOString().split("T")[0],A.toISOString().split("T")[0]))||Promise.resolve([]),((k=at.getQuota)==null?void 0:k.call(at,new Date().getFullYear()))||Promise.resolve(null),bt.getMonthlySummary(new Date().getFullYear(),new Date().getMonth()+1),bt.getMyLogbooks({status:"draft",size:5}),((R=at.getMyRequests)==null?void 0:R.call(at,{status:"submitted",limit:5}))||Promise.resolve([])]);return{attendanceStatus:z.status==="fulfilled"?z.value:null,todayAttendance:$.status==="fulfilled"?$.value:null,todayActivities:J.status==="fulfilled"?J.value:[],weeklyActivities:B.status==="fulfilled"?B.value:[],leaveQuota:M.status==="fulfilled"?M.value:null,monthlySummary:V.status==="fulfilled"?V.value:null,myLogbooks:Q.status==="fulfilled"?((L=Q.value)==null?void 0:L.items)||Q.value:[],myLeaveRequests:le.status==="fulfilled"?((I=le.value)==null?void 0:I.items)||le.value:[]}}catch(T){return console.error("Error fetching user dashboard data:",T),{}}},y=async()=>{var E,S,k,R,L,I,T,O;try{const P=new Date,X=P.getDay(),A=X===0?-6:1-X,z=new Date(P);z.setDate(P.getDate()+A);const $=new Date(z);$.setDate(z.getDate()+6);const[J,B,M,V]=await Promise.allSettled([((S=(E=We.admin)==null?void 0:E.getAttendancesByOrgUnit)==null?void 0:S.call(E,(t==null?void 0:t.org_unit_id)||1,{size:10,attendance_date:new Date().toISOString().split("T")[0]}))||Promise.resolve({items:[]}),((R=(k=bt.admin)==null?void 0:k.getPendingApprovals)==null?void 0:R.call(k,{size:10}))||Promise.resolve({items:[]}),((L=Nt.getCalendarActivities)==null?void 0:L.call(Nt,new Date().toISOString().split("T")[0],new Date().toISOString().split("T")[0]))||Promise.resolve([]),((I=Nt.getCalendarActivities)==null?void 0:I.call(Nt,z.toISOString().split("T")[0],$.toISOString().split("T")[0]))||Promise.resolve([])]);return{teamAttendance:J.status==="fulfilled"?((T=J.value)==null?void 0:T.items)||J.value:[],pendingLogbooks:B.status==="fulfilled"?((O=B.value)==null?void 0:O.items)||B.value:[],teamActivities:M.status==="fulfilled"?M.value:[],weeklyTeamActivities:V.status==="fulfilled"?V.value:[]}}catch(P){return console.error("Error fetching admin dashboard data:",P),{}}},b=async()=>{var E,S,k,R,L,I,T,O;try{const P=new Date,X=P.getDay(),A=X===0?-6:1-X,z=new Date(P);z.setDate(P.getDate()+A);const $=new Date(z);$.setDate(z.getDate()+6);const[J,B,M,V]=await Promise.allSettled([((S=(E=We.admin)==null?void 0:E.getAllAttendances)==null?void 0:S.call(E,{size:10,attendance_date:new Date().toISOString().split("T")[0]}))||Promise.resolve({items:[]}),((R=(k=at.admin)==null?void 0:k.getAllRequests)==null?void 0:R.call(k,{limit:10}))||Promise.resolve({items:[]}),((L=Nt.getCalendarActivities)==null?void 0:L.call(Nt,new Date().toISOString().split("T")[0],new Date().toISOString().split("T")[0]))||Promise.resolve([]),((I=Nt.getCalendarActivities)==null?void 0:I.call(Nt,z.toISOString().split("T")[0],$.toISOString().split("T")[0]))||Promise.resolve([])]);return{globalAttendance:J.status==="fulfilled"?((T=J.value)==null?void 0:T.items)||J.value:[],allLeaveRequests:B.status==="fulfilled"?((O=B.value)==null?void 0:O.items)||B.value:[],activitySummary:M.status==="fulfilled"?M.value:[],weeklyActivitySummary:V.status==="fulfilled"?V.value:[]}}catch(P){return console.error("Error fetching master admin dashboard data:",P),{}}},j=async()=>{if(t)try{a(!0),c(null);let E={};if(p&&!h&&!f){const S=await g();E={...E,...S}}if(h&&!f){const S=await y();E={...E,...S}}if(f){const S=await b();E={...E,...S}}r(E)}catch(E){console.error("Dashboard data fetch error:",E),c(E.message||"Failed to fetch dashboard data")}finally{a(!1)}};return x.useEffect(()=>{j()},[t,f,h,p]),{data:e,loading:n,error:l,refetch:async()=>{t&&await j()},fetchWeeklyActivities:async(E,S)=>{try{a(!0);let k=null;p&&!h&&!f?k=await Nt.getCalendarActivities(E.toISOString().split("T")[0],S.toISOString().split("T")[0]):(h||f)&&(k=await Nt.getCalendarActivities(E.toISOString().split("T")[0],S.toISOString().split("T")[0])),r(R=>({...R,weeklyActivities:k||[],weeklyTeamActivities:k||[],weeklyActivitySummary:k||[]}))}catch(k){console.error("Weekly activities fetch error:",k),c(k.message||"Failed to fetch weekly activities")}finally{a(!1)}},hasRole:d,isMasterAdmin:f,isAdmin:h,isUser:p}};function ee({className:t,...e}){return s.jsx("div",{"data-slot":"card",className:Pe("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...e})}function ue({className:t,...e}){return s.jsx("div",{"data-slot":"card-header",className:Pe("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e})}function xe({className:t,...e}){return s.jsx("div",{"data-slot":"card-title",className:Pe("leading-none font-semibold",t),...e})}function Tt({className:t,...e}){return s.jsx("div",{"data-slot":"card-description",className:Pe("text-muted-foreground text-sm",t),...e})}function te({className:t,...e}){return s.jsx("div",{"data-slot":"card-content",className:Pe("px-6",t),...e})}function FO({className:t,...e}){return s.jsx("div",{"data-slot":"card-footer",className:Pe("flex items-center px-6 [.border-t]:pt-6",t),...e})}const zO=t=>{if(typeof window>"u")return t.replace(/<[^>]*>/g,"");const e=document.createElement("DIV");return e.innerHTML=t,e.textContent||e.innerText||""},CC=t=>zO(t).trim().length===0,lm=(t,e)=>{const r=zO(t);return e&&r.length>e?r.substring(0,e)+"...":r},RK=(t,e={})=>{const{isDetailView:r=!1,maxLength:n=150,className:a=""}=e;return t?r?{content:t,isEmpty:CC(t),isHtml:!0,className:`rich-text-content ${a}`}:{content:lm(t,n),isEmpty:CC(t),isHtml:!1,className:a}:{content:"",isEmpty:!0,isHtml:!1}};var lv="Collapsible",[DK,$O]=tn(lv),[OK,y1]=DK(lv),qO=x.forwardRef((t,e)=>{const{__scopeCollapsible:r,open:n,defaultOpen:a,disabled:l,onOpenChange:c,...d}=t,[f,h]=Sa({prop:n,defaultProp:a??!1,onChange:c,caller:lv});return s.jsx(OK,{scope:r,disabled:l,contentId:Mr(),open:f,onOpenToggle:x.useCallback(()=>h(p=>!p),[h]),children:s.jsx(Xe.div,{"data-state":b1(f),"data-disabled":l?"":void 0,...d,ref:e})})});qO.displayName=lv;var BO="CollapsibleTrigger",HO=x.forwardRef((t,e)=>{const{__scopeCollapsible:r,...n}=t,a=y1(BO,r);return s.jsx(Xe.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":b1(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...n,ref:e,onClick:He(t.onClick,a.onOpenToggle)})});HO.displayName=BO;var v1="CollapsibleContent",VO=x.forwardRef((t,e)=>{const{forceMount:r,...n}=t,a=y1(v1,t.__scopeCollapsible);return s.jsx(Vr,{present:r||a.open,children:({present:l})=>s.jsx(MK,{...n,ref:e,present:l})})});VO.displayName=v1;var MK=x.forwardRef((t,e)=>{const{__scopeCollapsible:r,present:n,children:a,...l}=t,c=y1(v1,r),[d,f]=x.useState(n),h=x.useRef(null),p=Rt(e,h),g=x.useRef(0),y=g.current,b=x.useRef(0),j=b.current,w=c.open||d,_=x.useRef(w),E=x.useRef(void 0);return x.useEffect(()=>{const S=requestAnimationFrame(()=>_.current=!1);return()=>cancelAnimationFrame(S)},[]),Er(()=>{const S=h.current;if(S){E.current=E.current||{transitionDuration:S.style.transitionDuration,animationName:S.style.animationName},S.style.transitionDuration="0s",S.style.animationName="none";const k=S.getBoundingClientRect();g.current=k.height,b.current=k.width,_.current||(S.style.transitionDuration=E.current.transitionDuration,S.style.animationName=E.current.animationName),f(n)}},[c.open,n]),s.jsx(Xe.div,{"data-state":b1(c.open),"data-disabled":c.disabled?"":void 0,id:c.contentId,hidden:!w,...l,ref:p,style:{"--radix-collapsible-content-height":y?`${y}px`:void 0,"--radix-collapsible-content-width":j?`${j}px`:void 0,...t.style},children:w&&a})});function b1(t){return t?"open":"closed"}var PK=qO,LK=HO,IK=VO,Mi="Accordion",UK=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[j1,FK,zK]=sv(Mi),[ov,zce]=tn(Mi,[zK,$O]),w1=$O(),YO=ye.forwardRef((t,e)=>{const{type:r,...n}=t,a=n,l=n;return s.jsx(j1.Provider,{scope:t.__scopeAccordion,children:r==="multiple"?s.jsx(HK,{...l,ref:e}):s.jsx(BK,{...a,ref:e})})});YO.displayName=Mi;var[WO,$K]=ov(Mi),[GO,qK]=ov(Mi,{collapsible:!1}),BK=ye.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},collapsible:l=!1,...c}=t,[d,f]=Sa({prop:r,defaultProp:n??"",onChange:a,caller:Mi});return s.jsx(WO,{scope:t.__scopeAccordion,value:ye.useMemo(()=>d?[d]:[],[d]),onItemOpen:f,onItemClose:ye.useCallback(()=>l&&f(""),[l,f]),children:s.jsx(GO,{scope:t.__scopeAccordion,collapsible:l,children:s.jsx(ZO,{...c,ref:e})})})}),HK=ye.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},...l}=t,[c,d]=Sa({prop:r,defaultProp:n??[],onChange:a,caller:Mi}),f=ye.useCallback(p=>d((g=[])=>[...g,p]),[d]),h=ye.useCallback(p=>d((g=[])=>g.filter(y=>y!==p)),[d]);return s.jsx(WO,{scope:t.__scopeAccordion,value:c,onItemOpen:f,onItemClose:h,children:s.jsx(GO,{scope:t.__scopeAccordion,collapsible:!0,children:s.jsx(ZO,{...l,ref:e})})})}),[VK,cv]=ov(Mi),ZO=ye.forwardRef((t,e)=>{const{__scopeAccordion:r,disabled:n,dir:a,orientation:l="vertical",...c}=t,d=ye.useRef(null),f=Rt(d,e),h=FK(r),g=Rf(a)==="ltr",y=He(t.onKeyDown,b=>{var O;if(!UK.includes(b.key))return;const j=b.target,w=h().filter(P=>{var X;return!((X=P.ref.current)!=null&&X.disabled)}),_=w.findIndex(P=>P.ref.current===j),E=w.length;if(_===-1)return;b.preventDefault();let S=_;const k=0,R=E-1,L=()=>{S=_+1,S>R&&(S=k)},I=()=>{S=_-1,S<k&&(S=R)};switch(b.key){case"Home":S=k;break;case"End":S=R;break;case"ArrowRight":l==="horizontal"&&(g?L():I());break;case"ArrowDown":l==="vertical"&&L();break;case"ArrowLeft":l==="horizontal"&&(g?I():L());break;case"ArrowUp":l==="vertical"&&I();break}const T=S%E;(O=w[T].ref.current)==null||O.focus()});return s.jsx(VK,{scope:r,disabled:n,direction:a,orientation:l,children:s.jsx(j1.Slot,{scope:r,children:s.jsx(Xe.div,{...c,"data-orientation":l,ref:f,onKeyDown:n?void 0:y})})})}),Xg="AccordionItem",[YK,N1]=ov(Xg),KO=ye.forwardRef((t,e)=>{const{__scopeAccordion:r,value:n,...a}=t,l=cv(Xg,r),c=$K(Xg,r),d=w1(r),f=Mr(),h=n&&c.value.includes(n)||!1,p=l.disabled||t.disabled;return s.jsx(YK,{scope:r,open:h,disabled:p,triggerId:f,children:s.jsx(PK,{"data-orientation":l.orientation,"data-state":sM(h),...d,...a,ref:e,disabled:p,open:h,onOpenChange:g=>{g?c.onItemOpen(n):c.onItemClose(n)}})})});KO.displayName=Xg;var XO="AccordionHeader",QO=ye.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,a=cv(Mi,r),l=N1(XO,r);return s.jsx(Xe.h3,{"data-orientation":a.orientation,"data-state":sM(l.open),"data-disabled":l.disabled?"":void 0,...n,ref:e})});QO.displayName=XO;var _w="AccordionTrigger",JO=ye.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,a=cv(Mi,r),l=N1(_w,r),c=qK(_w,r),d=w1(r);return s.jsx(j1.ItemSlot,{scope:r,children:s.jsx(LK,{"aria-disabled":l.open&&!c.collapsible||void 0,"data-orientation":a.orientation,id:l.triggerId,...d,...n,ref:e})})});JO.displayName=_w;var eM="AccordionContent",tM=ye.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,a=cv(Mi,r),l=N1(eM,r),c=w1(r);return s.jsx(IK,{role:"region","aria-labelledby":l.triggerId,"data-orientation":a.orientation,...c,...n,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});tM.displayName=eM;function sM(t){return t?"open":"closed"}var WK=YO,GK=KO,ZK=QO,KK=JO,XK=tM;function QK({...t}){return s.jsx(WK,{"data-slot":"accordion",...t})}function JK({className:t,...e}){return s.jsx(GK,{"data-slot":"accordion-item",className:Pe("border-b last:border-b-0",t),...e})}function eX({className:t,children:e,...r}){return s.jsx(ZK,{className:"flex",children:s.jsxs(KK,{"data-slot":"accordion-trigger",className:Pe("focus-visible:border-ring focus-visible:ring-ring/50 flex flex-1 items-start justify-between gap-4 rounded-md py-4 text-left text-sm font-medium transition-all outline-none hover:underline focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&[data-state=open]>svg]:rotate-180",t),...r,children:[e,s.jsx(s1,{className:"text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200"})]})})}function tX({className:t,children:e,...r}){return s.jsx(XK,{"data-slot":"accordion-content",className:"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm",...r,children:s.jsx("div",{className:Pe("pt-0 pb-4",t),children:e})})}const _1=({activities:t=[],loading:e,onWeekChange:r})=>{const n=ht(),[a,l]=x.useState(()=>{const T=new Date,O=T.getDay(),P=O===0?-6:1-O,X=new Date(T);return X.setDate(T.getDate()+P),X.setHours(0,0,0,0),X}),[c,d]=x.useState(null),f=x.useMemo(()=>{const T=[];for(let O=6;O<=23;O++)T.push({hour:O,display:O<12?`${O} AM`:O===12?"12 PM":`${O-12} PM`});return T},[]),h=x.useMemo(()=>{const T=[];for(let O=0;O<7;O++){const P=new Date(a);P.setDate(a.getDate()+O),T.push({date:P,day:P.toLocaleDateString("en-US",{weekday:"short"}),dayNumber:P.getDate(),isToday:P.toDateString()===new Date().toDateString()})}return T},[a]);x.useEffect(()=>{if(r){const T=new Date(a);T.setDate(a.getDate()+6),T.setHours(23,59,59,999),r(a,T)}},[]);const p=T=>{l(O=>{const P=new Date(O);P.setDate(O.getDate()+(T==="next"?7:-7));const X=new Date(P);return X.setDate(P.getDate()+6),X.setHours(23,59,59,999),r&&r(P,X),P})},g=()=>{const T=new Date,O=new Date(T);O.setHours(0,0,0,0);const P=new Date(a);if(P.setDate(a.getDate()+6),O>=a&&O<=P)return"This Week's Activities";const X=new Date(O),A=O.getDay(),z=A===0?1:8-A;if(X.setDate(O.getDate()+z),a.getTime()===X.getTime())return"Next Week's Activities";const $=new Date(O),J=A===0?-6:1-A-7;return $.setDate(O.getDate()+J),a.getTime()===$.getTime()?"Last Week's Activities":"Weekly Activities"},y=T=>{switch(T){case"meeting":return s.jsx(ws,{className:"h-3 w-3"});case"event":return s.jsx(Ze,{className:"h-3 w-3"});case"task":return s.jsx(bs,{className:"h-3 w-3"});case"training":return s.jsx(bs,{className:"h-3 w-3"});default:return s.jsx(Pt,{className:"h-3 w-3"})}},b=T=>{switch(T){case"meeting":return"Meeting";case"event":return"Event";case"task":return"Task";case"training":return"Training";default:return"Activity"}},j=(T,O)=>{if(!O||!T)return null;if(O.match(/^\d{2}:\d{2}:\d{2}$/)){const[X,A,z]=O.split(":"),$=new Date(T);return $.setHours(parseInt(X),parseInt(A),parseInt(z)),$}const P=new Date(O);return isNaN(P.getTime())?null:P},w=(T,O)=>{const P=j(O,T);if(!P)return 0;const X=P.getHours(),A=P.getMinutes(),z=X-6;return z<0||z>17?X<6?0:100:(z*60+A)/(18*60)*100},_=(T,O,P)=>{const X=j(P,T),A=j(P,O);if(!X||!A)return 5;const z=(A.getTime()-X.getTime())/(1e3*60);return Math.max(z/(18*60)*100,2)},S=x.useMemo(()=>{const T=[],O={};return t.forEach(P=>{if(!P.activity_date||!P.start_time)return;const X=new Date(P.activity_date),A=X.toDateString(),z=new Date(a),$=new Date(a);$.setDate(z.getDate()+7),X>=z&&X<$&&(O[A]||(O[A]=[]),O[A].push(P))}),Object.entries(O).forEach(([P,X])=>{const z=(new Date(P).getDay()+6)%7,$=X.sort((B,M)=>{const V=j(B.activity_date,B.start_time),Q=j(M.activity_date,M.start_time);return((V==null?void 0:V.getTime())||0)-((Q==null?void 0:Q.getTime())||0)}),J=[];$.forEach(B=>{const M=j(B.activity_date,B.start_time),V=j(B.activity_date,B.end_time);if(!M||!V)return;let Q=!1;for(const le of J)if(le.some(K=>{const Y=j(K.activity_date,K.start_time),se=j(K.activity_date,K.end_time);return!Y||!se?!1:M<se&&V>Y})){le.push(B),Q=!0;break}Q||J.push([B])}),J.forEach(B=>{let M=j(B[0].activity_date,B[0].start_time),V=j(B[0].activity_date,B[0].end_time);if(B.forEach(se=>{const G=j(se.activity_date,se.start_time),C=j(se.activity_date,se.end_time);G&&G<M&&(M=G),C&&C>V&&(V=C)}),!M||!V)return;const Q=w(M.toTimeString().split(" ")[0],B[0].activity_date),le=_(M.toTimeString().split(" ")[0],V.toTimeString().split(" ")[0],B[0].activity_date),H=100/7,K=z*H,Y=B.length>1?`${M.getHours()}:${M.getMinutes().toString().padStart(2,"0")}-${V.getHours()}:${V.getMinutes().toString().padStart(2,"0")}`:`${M.getHours()}:${M.getMinutes().toString().padStart(2,"0")}-${V.getHours()}:${V.getMinutes().toString().padStart(2,"0")}`;T.push({timeSlot:Y,activities:B,top:Q,height:le,left:K,width:H,dayIndex:z})})}),T},[t,a]),k=T=>{window.open(T,"_blank")},R=T=>{n(`/activities/${T}`)},L=T=>{if(!T)return"--:--";if(T.match(/^\d{2}:\d{2}:\d{2}$/)){const[P,X]=T.split(":");return`${P}:${X}`}const O=new Date(T);return isNaN(O.getTime())?"--:--":O.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},I=T=>{if(!T.start_time||!T.activity_date)return!1;const O=j(T.activity_date,T.start_time);return O?O>new Date:!1};return e?s.jsxs(ee,{children:[s.jsx(ue,{children:s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(Ze,{className:"h-5 w-5"}),"This Week's Activities"]})}),s.jsx(te,{children:s.jsx("div",{className:"animate-pulse",children:s.jsx("div",{className:"h-64 bg-gray-200 rounded"})})})]}):s.jsx(jT,{children:s.jsxs(ee,{children:[s.jsx(ue,{children:s.jsxs(xe,{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ze,{className:"h-5 w-5"}),s.jsx("span",{className:"text-sm sm:text-base",children:g()})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(re,{variant:"outline",size:"sm",onClick:()=>p("prev"),children:s.jsx(Uy,{className:"h-4 w-4"})}),s.jsxs("span",{className:"text-xs sm:text-sm font-medium min-w-[120px] text-center",children:[a.toLocaleDateString("en-US",{month:"short",day:"numeric"})," - "," ",new Date(a.getTime()+6*24*60*60*1e3).toLocaleDateString("en-US",{month:"short",day:"numeric"})]}),s.jsx(re,{variant:"outline",size:"sm",onClick:()=>p("next"),children:s.jsx(Fy,{className:"h-4 w-4"})})]})]})}),s.jsxs(te,{children:[s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"hidden sm:block",children:[s.jsxs("div",{className:"grid grid-cols-8 gap-px mb-2",children:[s.jsx("div",{className:"text-xs text-muted-foreground p-2"})," ",h.map((T,O)=>s.jsxs("div",{className:`text-xs font-medium p-2 text-center ${T.isToday?"bg-primary text-primary-foreground rounded-md":"text-muted-foreground"}`,children:[s.jsx("div",{children:T.day}),s.jsx("div",{className:`text-lg ${T.isToday?"font-bold":""}`,children:T.dayNumber})]},O))]}),s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"grid grid-cols-8 gap-px",children:[s.jsx("div",{className:"space-y-0",children:f.map(T=>s.jsx("div",{className:"h-12 text-xs text-muted-foreground p-1 border-r border-gray-100",children:T.display},T.hour))}),h.map((T,O)=>s.jsx("div",{className:"relative",children:f.map((P,X)=>s.jsx("div",{className:"h-12 border-r border-b border-gray-50"},`${O}-${X}`))},O))]}),s.jsxs("div",{className:"absolute inset-0 top-0 left-[12.5%]",children:[" ",S.map((T,O)=>s.jsx("div",{className:"absolute",style:{top:`${T.top}%`,left:`${T.left}%`,width:`${T.width}%`,height:`${Math.max(T.height,3)}%`,zIndex:10},children:T.activities.length===1?s.jsxs(qz,{children:[s.jsx(Bz,{asChild:!0,children:s.jsxs("div",{className:"w-full h-full cursor-pointer transition-all hover:shadow-lg hover:scale-105 rounded-md border-l-4 p-1 text-xs overflow-hidden bg-popover text-primary",children:[s.jsx("div",{className:"font-medium truncate",children:T.activities[0].title||"Untitled"}),s.jsx("div",{className:"text-xs opacity-75",children:L(T.activities[0].start_time||"")})]})}),s.jsx(wT,{className:"max-w-xs",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[y(T.activities[0].activity_type),s.jsx("div",{className:"font-semibold",children:T.activities[0].title||"Untitled Activity"})]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:b(T.activities[0].activity_type)}),T.activities[0].description&&s.jsx("p",{className:"text-sm",children:lm(T.activities[0].description,100)}),s.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Pt,{className:"h-3 w-3"}),s.jsxs("span",{children:[L(T.activities[0].start_time||"")," - ",L(T.activities[0].end_time||"")]})]}),T.activities[0].participants&&T.activities[0].participants.length>0&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ws,{className:"h-3 w-3"}),s.jsx("span",{children:T.activities[0].participants.length})]})]}),T.activities[0].location&&s.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[s.jsx(Ka,{className:"h-3 w-3"}),s.jsx("span",{children:T.activities[0].location})]}),s.jsxs("div",{className:"flex gap-2 pt-2",children:[s.jsx(re,{variant:"outline",size:"sm",onClick:()=>R(T.activities[0].id),className:"text-xs h-7 bg-secondary text-primary",children:"View Details"}),T.activities[0].meeting_link&&I(T.activities[0])&&s.jsxs(re,{size:"sm",onClick:()=>k(T.activities[0].meeting_link),className:"text-xs h-7 flex items-center gap-1 bg-secondary text-primary",variant:"outline",children:[s.jsx(am,{className:"h-3 w-3"}),"Join"]})]})]})})]}):s.jsx("div",{className:"relative w-full h-full bg-popover text-primary rounded-md border-l-4 border-primary",children:s.jsx(QK,{type:"single",collapsible:!0,className:"w-full",children:s.jsxs(JK,{value:"activities",className:"border-0",children:[s.jsx(eX,{className:"hover:no-underline p-2 text-xs font-medium py-2 min-h-0",children:s.jsxs("div",{className:"flex flex-col items-start gap-1 w-full",children:[s.jsxs("span",{className:"text-xs font-medium truncate",children:[T.activities.length," Activities (Overlap)"]}),s.jsx("span",{className:"text-xs opacity-75",children:T.timeSlot})]})}),s.jsx(tX,{className:"absolute z-99 bg-popover border border-border rounded-md shadow-lg p-2 mt-1 min-w-[20vw]",children:s.jsx("div",{className:"space-y-2 w-full",children:T.activities.map((P,X)=>s.jsxs("div",{className:"p-2 bg-background rounded border border-border",children:[s.jsx("div",{className:"flex items-start justify-between gap-2",children:s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[y(P.activity_type),s.jsx("span",{className:"font-medium text-xs truncate",children:P.title||"Untitled"})]}),s.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:b(P.activity_type)}),P.description&&s.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:lm(P.description,60)}),s.jsxs("div",{className:"flex items-center gap-3 text-xs",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Pt,{className:"h-3 w-3"}),s.jsxs("span",{children:[L(P.start_time||"")," - ",L(P.end_time||"")]})]}),P.participants&&P.participants.length>0&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ws,{className:"h-3 w-3"}),s.jsx("span",{children:P.participants.length})]})]}),P.location&&s.jsxs("div",{className:"flex items-center gap-1 text-xs mt-1",children:[s.jsx(Ka,{className:"h-3 w-3"}),s.jsx("span",{children:P.location})]})]})}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsx(re,{variant:"outline",size:"sm",onClick:()=>R(P.id),className:"text-xs h-6 bg-secondary text-primary flex-1",children:"View"}),P.meeting_link&&I(P)&&s.jsxs(re,{size:"sm",onClick:()=>k(P.meeting_link),className:"text-xs h-6 flex items-center gap-1 bg-secondary text-primary flex-1",variant:"outline",children:[s.jsx(am,{className:"h-3 w-3"}),"Join"]})]})]},X))})})]})})})},O))]})]})]}),s.jsxs("div",{className:"sm:hidden",children:[s.jsx("div",{className:"flex overflow-x-auto pb-2 mb-4",children:h.map((T,O)=>s.jsxs("button",{onClick:()=>d(c===O?null:O),className:`flex-shrink-0 px-3 py-2 text-xs font-medium rounded-md mr-2 transition-colors ${c===O?"bg-primary text-primary-foreground":T.isToday?"bg-primary/10 text-primary border-2 border-primary":"bg-muted text-muted-foreground hover:bg-muted/80"}`,children:[s.jsx("div",{children:T.day}),s.jsx("div",{className:`text-sm mt-1 ${T.isToday?"font-bold":""}`,children:T.dayNumber})]},O))}),s.jsx("div",{className:"space-y-2",children:t.filter(T=>{if(!T.activity_date)return!1;const O=new Date(T.activity_date),P=new Date(a),X=new Date(a);X.setDate(P.getDate()+7);const A=O>=P&&O<X;if(c===null)return A;const z=new Date(a);return z.setDate(a.getDate()+c),A&&O.toDateString()===z.toDateString()}).map(T=>s.jsxs("div",{className:"p-3 bg-popover rounded-lg border border-border",children:[s.jsx("div",{className:"flex items-start justify-between gap-2",children:s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[y(T.activity_type),s.jsx("span",{className:"font-medium text-sm truncate",children:T.title||"Untitled"})]}),s.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:b(T.activity_type)}),T.description&&s.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:lm(T.description,80)}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Pt,{className:"h-3 w-3"}),s.jsxs("span",{children:[L(T.start_time||"")," - ",L(T.end_time||"")]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Ze,{className:"h-3 w-3"}),s.jsx("span",{children:new Date(T.activity_date).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})})]}),T.participants&&T.participants.length>0&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ws,{className:"h-3 w-3"}),s.jsx("span",{children:T.participants.length})]})]}),T.location&&s.jsxs("div",{className:"flex items-center gap-1 text-xs mt-1",children:[s.jsx(Ka,{className:"h-3 w-3"}),s.jsx("span",{children:T.location})]})]})}),s.jsxs("div",{className:"flex gap-2 mt-3",children:[s.jsx(re,{variant:"outline",size:"sm",onClick:()=>R(T.id),className:"text-xs h-7 bg-secondary text-primary flex-1",children:"View Details"}),T.meeting_link&&I(T)&&s.jsxs(re,{size:"sm",onClick:()=>k(T.meeting_link),className:"text-xs h-7 flex items-center gap-1 bg-secondary text-primary flex-1",variant:"outline",children:[s.jsx(am,{className:"h-3 w-3"}),"Join"]})]})]},T.id))})]})]}),t.length===0&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Ze,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"No activities scheduled this week"}),s.jsx(re,{variant:"outline",size:"sm",onClick:()=>n("/activities"),children:"View All Activities"})]})]})]})})};var S1="Progress",E1=100,[sX,$ce]=tn(S1),[rX,nX]=sX(S1),rM=x.forwardRef((t,e)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:l=aX,...c}=t;(a||a===0)&&!AC(a)&&console.error(iX(`${a}`,"Progress"));const d=AC(a)?a:E1;n!==null&&!TC(n,d)&&console.error(lX(`${n}`,"Progress"));const f=TC(n,d)?n:null,h=Qg(f)?l(f,d):void 0;return s.jsx(rX,{scope:r,value:f,max:d,children:s.jsx(Xe.div,{"aria-valuemax":d,"aria-valuemin":0,"aria-valuenow":Qg(f)?f:void 0,"aria-valuetext":h,role:"progressbar","data-state":iM(f,d),"data-value":f??void 0,"data-max":d,...c,ref:e})})});rM.displayName=S1;var nM="ProgressIndicator",aM=x.forwardRef((t,e)=>{const{__scopeProgress:r,...n}=t,a=nX(nM,r);return s.jsx(Xe.div,{"data-state":iM(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:e})});aM.displayName=nM;function aX(t,e){return`${Math.round(t/e*100)}%`}function iM(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Qg(t){return typeof t=="number"}function AC(t){return Qg(t)&&!isNaN(t)&&t>0}function TC(t,e){return Qg(t)&&!isNaN(t)&&t<=e&&t>=0}function iX(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${E1}\`.`}function lX(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${E1} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var lM=rM,oX=aM;const _m=x.forwardRef(({className:t,value:e,...r},n)=>s.jsx(lM,{ref:n,className:Pe("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",t),...r,children:s.jsx(oX,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));_m.displayName=lM.displayName;const oM=({teamAttendance:t=[],loading:e,userRole:r="admin"})=>{const n=ht(),a=()=>t.filter(p=>p.user_name&&p.user_name!=="--"),l=p=>{if(p.status==="absent"||!p.check_in_time)return"absent";const g=new Date(p.check_in_time),y=new Date(g);return y.setHours(9,0,0,0),g>y?"late":"present"},c=p=>{switch(p){case"present":return s.jsx(Ke,{variant:"default",className:"bg-green-500",children:"Present"});case"late":return s.jsx(Ke,{variant:"default",className:"bg-yellow-500",children:"Late"});case"absent":return s.jsx(Ke,{variant:"destructive",children:"Absent"});default:return s.jsx(Ke,{variant:"secondary",children:"Pending"})}},d=p=>p?new Date(p).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"--:--";if(e)return s.jsxs(ee,{children:[s.jsx(ue,{children:s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(ws,{className:"h-5 w-5"}),"Team Attendance"]})}),s.jsx(te,{children:s.jsxs("div",{className:"space-y-4 animate-pulse",children:[s.jsx("div",{className:"grid grid-cols-3 gap-4",children:[1,2,3].map(p=>s.jsx("div",{className:"h-12 bg-gray-200 rounded"},p))}),s.jsx("div",{className:"space-y-3",children:[1,2,3,4].map(p=>s.jsx("div",{className:"h-16 bg-gray-200 rounded"},p))})]})})]});const f=a(),h=r==="master_admin"?"Company Attendance Today":"Team Attendance Today";return s.jsxs(ee,{children:[s.jsx(ue,{children:s.jsxs(xe,{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ws,{className:"h-5 w-5"}),h]}),s.jsx(re,{variant:"outline",size:"sm",onClick:()=>n("/attendance/monitoring"),children:"View All"})]})}),s.jsxs(te,{children:[s.jsx("div",{className:"space-y-2",children:f.slice(0,5).map(p=>s.jsxs("div",{className:"flex items-center justify-between p-2 border rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium text-sm",children:p.user_name}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[s.jsx(Pt,{className:"h-3 w-3"}),s.jsxs("span",{children:["In: ",d(p.check_in_time)]}),p.check_out_time&&s.jsxs("span",{children:["Out: ",d(p.check_out_time)]})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:c(l(p))})]},p.id))}),f.length>5&&s.jsx("div",{className:"text-center pt-4",children:s.jsx(re,{variant:"ghost",size:"sm",onClick:()=>n("/attendance/monitoring"),children:"View All"})}),f.length===0&&s.jsxs("div",{className:"text-center py-6",children:[s.jsx(ws,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsxs("p",{className:"text-muted-foreground",children:["No ",r==="master_admin"?"company":"team"," attendance data available"]})]})]})]})};var cM="AlertDialog",[cX,qce]=tn(cM,[TR]),lo=TR(),dM=t=>{const{__scopeAlertDialog:e,...r}=t,n=lo(e);return s.jsx(Gy,{...n,...r,modal:!0})};dM.displayName=cM;var dX="AlertDialogTrigger",uM=x.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=lo(r);return s.jsx(YR,{...a,...n,ref:e})});uM.displayName=dX;var uX="AlertDialogPortal",fM=t=>{const{__scopeAlertDialog:e,...r}=t,n=lo(e);return s.jsx(Zy,{...n,...r})};fM.displayName=uX;var fX="AlertDialogOverlay",hM=x.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=lo(r);return s.jsx(Ky,{...a,...n,ref:e})});hM.displayName=fX;var Ku="AlertDialogContent",[hX,mX]=cX(Ku),pX=yN("AlertDialogContent"),mM=x.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...a}=t,l=lo(r),c=x.useRef(null),d=Rt(e,c),f=x.useRef(null);return s.jsx(oY,{contentName:Ku,titleName:pM,docsSlug:"alert-dialog",children:s.jsx(hX,{scope:r,cancelRef:f,children:s.jsxs(Xy,{role:"alertdialog",...l,...a,ref:d,onOpenAutoFocus:He(a.onOpenAutoFocus,h=>{var p;h.preventDefault(),(p=f.current)==null||p.focus({preventScroll:!0})}),onPointerDownOutside:h=>h.preventDefault(),onInteractOutside:h=>h.preventDefault(),children:[s.jsx(pX,{children:n}),s.jsx(gX,{contentRef:c})]})})})});mM.displayName=Ku;var pM="AlertDialogTitle",xM=x.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=lo(r);return s.jsx(t1,{...a,...n,ref:e})});xM.displayName=pM;var gM="AlertDialogDescription",yM=x.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=lo(r);return s.jsx(fY,{...a,...n,ref:e})});yM.displayName=gM;var xX="AlertDialogAction",vM=x.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=lo(r);return s.jsx(Qy,{...a,...n,ref:e})});vM.displayName=xX;var bM="AlertDialogCancel",jM=x.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:a}=mX(bM,r),l=lo(r),c=Rt(e,a);return s.jsx(Qy,{...l,...n,ref:c})});jM.displayName=bM;var gX=({contentRef:t})=>{const e=`\`${Ku}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Ku}\` by passing a \`${gM}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Ku}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return x.useEffect(()=>{var n;document.getElementById((n=t.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},yX=dM,vX=uM,bX=fM,wM=hM,NM=mM,_M=vM,SM=jM,EM=xM,kM=yM;const Ls=yX,Or=vX,jX=bX,CM=x.forwardRef(({className:t,...e},r)=>s.jsx(wM,{className:Pe("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));CM.displayName=wM.displayName;const Ns=x.forwardRef(({className:t,...e},r)=>s.jsxs(jX,{children:[s.jsx(CM,{}),s.jsx(NM,{ref:r,className:Pe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));Ns.displayName=NM.displayName;const _s=({className:t,...e})=>s.jsx("div",{className:Pe("flex flex-col space-y-2 text-center sm:text-left",t),...e});_s.displayName="AlertDialogHeader";const Ss=({className:t,...e})=>s.jsx("div",{className:Pe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Ss.displayName="AlertDialogFooter";const Es=x.forwardRef(({className:t,...e},r)=>s.jsx(EM,{ref:r,className:Pe("text-lg font-semibold",t),...e}));Es.displayName=EM.displayName;const ks=x.forwardRef(({className:t,...e},r)=>s.jsx(kM,{ref:r,className:Pe("text-sm text-muted-foreground",t),...e}));ks.displayName=kM.displayName;const Cs=x.forwardRef(({className:t,...e},r)=>s.jsx(_M,{ref:r,className:Pe(XN(),t),...e}));Cs.displayName=_M.displayName;const As=x.forwardRef(({className:t,...e},r)=>s.jsx(SM,{ref:r,className:Pe(XN({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));As.displayName=SM.displayName;const Tn=x.forwardRef(({className:t,...e},r)=>s.jsx("textarea",{className:Pe("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...e}));Tn.displayName="Textarea";const AM=({pendingLogbooks:t=[],newLeaveRequests:e=[],loading:r,onRefresh:n})=>{var I,T,O,P,X,A;const a=ht(),{toast:l}=tr(),{user:c}=yr(),[d,f]=x.useState(null),[h,p]=x.useState({open:!1,action:"approve",approval:null}),[g,y]=x.useState(""),b=(I=c==null?void 0:c.roles)==null?void 0:I.some(z=>z.name==="master_admin"),j=()=>{const z=[];return t.forEach($=>{($.status==="submitted"||$.status==="pending")&&z.push({id:$.id,title:lm($.activity_description||"Untitled Logbook",50),type:"logbook",status:$.status,created_at:$.created_at,user_name:$.user_name||"Unknown User",urgent:!1})}),e.forEach($=>{$.status==="submitted"&&z.push({id:$.id,title:`${$.leave_type} Leave`,type:"leave_request",status:$.status,created_at:$.created_at,user_name:$.user_name||"Unknown User",urgent:!1})}),z.sort(($,J)=>new Date(J.created_at).getTime()-new Date($.created_at).getTime())},w=async z=>{var $;try{f(`approve-${z.id}`),z.type==="logbook"?(await(($=bt.admin)==null?void 0:$.approveLogbook(z.id,{status:"approved"})),l({title:"Success",description:"Logbook approved successfully"})):z.type==="leave_request"&&(await at.admin.approveRequest(z.id,{status:"approved"}),l({title:"Success",description:"Leave request approved successfully"})),n==null||n()}catch(J){l({title:"Error",description:J.message||`Failed to approve ${z.type==="logbook"?"logbook":"leave request"}`,variant:"destructive"})}finally{f(null),p({open:!1,action:"approve",approval:null})}},_=async z=>{if(!g.trim()){l({title:"Error",description:"Please provide a rejection reason",variant:"destructive"});return}try{f(`reject-${z.id}`),z.type==="logbook"?(await bt.admin.approveLogbook(z.id,{status:"rejected",rejection_reason:g.trim()}),l({title:"Success",description:"Logbook rejected"})):z.type==="leave_request"&&(await at.admin.approveRequest(z.id,{status:"rejected",rejection_reason:g.trim()}),l({title:"Success",description:"Leave request rejected"})),n==null||n()}catch($){l({title:"Error",description:$.message||`Failed to reject ${z.type==="logbook"?"logbook":"leave request"}`,variant:"destructive"})}finally{f(null),y(""),p({open:!1,action:"approve",approval:null})}},E=z=>{z.type==="logbook"?a(`/logbook/${z.id}`):z.type==="leave_request"&&a(`/leave-requests/${z.id}`)},S=z=>{switch(z){case"logbook":return s.jsx(bs,{className:"h-4 w-4"});case"leave_request":return s.jsx(Ze,{className:"h-4 w-4"});default:return s.jsx(Zl,{className:"h-4 w-4"})}},k=z=>{switch(z){case"logbook":return"Logbook";case"leave_request":return"Leave Request";default:return"Unknown"}},R=z=>{const $=new Date(z),B=Math.floor((new Date().getTime()-$.getTime())/(1e3*60*60));return B<1?"Just now":B<24?`${B}h ago`:`${Math.floor(B/24)}d ago`};if(r)return s.jsxs(ee,{children:[s.jsx(ue,{children:s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(Pt,{className:"h-5 w-5"}),"Pending Approvals"]})}),s.jsx(te,{children:s.jsx("div",{className:"space-y-3 animate-pulse",children:[1,2,3].map(z=>s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"}),s.jsx("div",{className:"h-8 bg-gray-200 rounded"})]},z))})})]});const L=j();return L.length===0?s.jsxs(ee,{children:[s.jsx(ue,{children:s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(Pt,{className:"h-5 w-5"}),"Pending Approvals"]})}),s.jsx(te,{children:s.jsxs("div",{className:"text-center py-6",children:[s.jsx(cr,{className:"h-12 w-12 mx-auto text-green-500 mb-4"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"All caught up!"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"No pending approvals at the moment"})]})})]}):s.jsxs(ee,{children:[s.jsx(ue,{children:s.jsxs(xe,{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Pt,{className:"h-5 w-5"}),"Pending Approvals"]}),s.jsxs(Ke,{variant:"outline",children:[L.length," items"]})]})}),s.jsx(te,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:L.slice(0,5).map(z=>s.jsxs("div",{className:"border rounded-lg p-3 space-y-3",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[S(z.type),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"font-medium text-sm break-words",children:z.title}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["by ",z.user_name,"  ",R(z.created_at)]})]})]}),s.jsx(Ke,{variant:"secondary",className:"text-xs",children:k(z.type)})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx(re,{variant:"outline",size:"sm",onClick:()=>E(z),className:"flex-1 hover:bg-transparent hover:text-primary",children:"View Details"}),(z.type==="logbook"||z.type==="leave_request"&&b)&&s.jsxs(s.Fragment,{children:[s.jsx(re,{variant:"default",size:"sm",onClick:()=>p({open:!0,action:"approve",approval:z}),disabled:d===`approve-${z.id}`,children:d===`approve-${z.id}`?s.jsx(Pt,{className:"h-3 w-3 animate-spin"}):s.jsx(cr,{className:"h-3 w-3"})}),s.jsx(re,{variant:"destructive",size:"sm",onClick:()=>p({open:!0,action:"reject",approval:z}),disabled:d===`reject-${z.id}`,children:d===`reject-${z.id}`?s.jsx(Pt,{className:"h-3 w-3 animate-spin"}):s.jsx(An,{className:"h-3 w-3"})})]})]})]},`${z.type}-${z.id}`))}),L.length>5&&s.jsx("div",{className:"text-center pt-2",children:s.jsx(re,{variant:"ghost",size:"sm",className:"hover:bg-transparent hover:text-primary",onClick:()=>{const z=L.some($=>$.type==="leave_request");a(z?"/leave-requests":"/logbook/monitoring")},children:"View All Items"})})]})}),s.jsx(Ls,{open:h.open,onOpenChange:z=>{z||(p({open:!1,action:"approve",approval:null}),y(""))},children:s.jsxs(Ns,{children:[s.jsxs(_s,{children:[s.jsxs(Es,{children:[h.action==="approve"?"Approve":"Reject"," ",((T=h.approval)==null?void 0:T.type)==="logbook"?"Logbook":"Leave Request"]}),s.jsx(ks,{children:h.action==="approve"?`Are you sure you want to approve this ${((O=h.approval)==null?void 0:O.type)==="logbook"?"logbook":"leave request"} by ${(P=h.approval)==null?void 0:P.user_name}?`:`Please provide a reason for rejecting this ${((X=h.approval)==null?void 0:X.type)==="logbook"?"logbook":"leave request"} by ${(A=h.approval)==null?void 0:A.user_name}.`})]}),h.action==="reject"&&s.jsx("div",{className:"py-4",children:s.jsx(Tn,{placeholder:"Enter rejection reason...",value:g,onChange:z=>y(z.target.value),className:"w-full",rows:3})}),s.jsxs(Ss,{children:[s.jsx(As,{onClick:()=>{y(""),p({open:!1,action:"approve",approval:null})},children:"Cancel"}),s.jsx(Cs,{onClick:()=>{h.approval&&(h.action==="approve"?w(h.approval):_(h.approval))},disabled:h.action==="reject"&&!g.trim()||d!==null,className:h.action==="reject"?"bg-red-600 hover:bg-red-700":"",children:h.action==="approve"?"Approve":"Reject"})]})]})})]})},wX=()=>{const t=wc(T=>T.auth.user),[e]=x.useState(Q7()),[r,n]=x.useState(eB()),[a,l]=x.useState(!1),[c,d]=x.useState(!1),[f,h]=x.useState(null),[p,g]=x.useState([]),[y,b]=x.useState([]),[j,w]=x.useState(0);x.useEffect(()=>{e&&Sn.initialize().catch(T=>{console.error("Failed to initialize push manager:",T),h("Failed to initialize push notifications")})},[e]),x.useEffect(()=>{t!=null&&t.id&&e&&_()},[t==null?void 0:t.id,e]);const _=x.useCallback(async()=>{if(t!=null&&t.id)try{d(!0);const T=await wi.getSubscriptions();g(T),l(T.length>0&&T.some(O=>O.is_active))}catch(T){console.error("Error loading subscriptions:",T)}finally{d(!1)}},[t==null?void 0:t.id]),E=x.useCallback(async()=>{try{d(!0),h(null);const T=await Sn.requestPermission();return n(T),T==="granted"}catch(T){const O=T instanceof Error?T.message:"Permission request failed";return h(O),!1}finally{d(!1)}},[]),S=x.useCallback(async()=>{if(!(t!=null&&t.id))return h("User not authenticated"),!1;try{if(d(!0),h(null),r!=="granted"&&!await E())return h("Notification permission required"),!1;const T=await Sn.subscribeToPush();if(!T)return h("Failed to create push subscription"),!1;const O=Sn.convertToPushSubscriptionCreate(T);return(await wi.subscribe(O)).id?(l(!0),await _(),!0):(h("Failed to register subscription with server"),!1)}catch(T){const O=T instanceof Error?T.message:"Subscription failed";return h(O),!1}finally{d(!1)}},[t==null?void 0:t.id,r,E,_]),k=x.useCallback(async T=>{try{d(!0),h(null),await wi.unsubscribe(T);const O=await Sn.getExistingSubscription(),P=p.find(A=>A.id===T);O&&P&&O.endpoint===P.endpoint&&await Sn.unsubscribe(),await _();const X=p.filter(A=>A.id!==T);return l(X.length>0&&X.some(A=>A.is_active)),!0}catch(O){const P=O instanceof Error?O.message:"Unsubscribe failed";return h(P),!1}finally{d(!1)}},[p,_]),R=x.useCallback(async()=>{try{return d(!0),h(null),await Sn.sendTestNotification({title:"Test Notification",body:`Test notification sent at ${new Date().toLocaleTimeString()}`,icon:"/android-chrome-192x192.png",tag:`test-${Date.now()}`}),!0}catch(T){const O=T instanceof Error?T.message:"Test notification failed";return h(O),!1}finally{d(!1)}},[]),L=x.useCallback(async(T=1,O=20)=>{try{d(!0);const P=await wi.getNotificationHistory(T,O);b(P.items),w(P.total)}catch(P){console.error("Error loading notification history:",P),h("Failed to load notification history")}finally{d(!1)}},[]),I=x.useCallback(()=>{h(null)},[]);return{isSupported:e,permission:r,isSubscribed:a,isLoading:c,error:f,subscriptions:p,notificationHistory:y,totalNotifications:j,requestPermission:E,subscribe:S,unsubscribe:k,sendTestNotification:R,loadNotificationHistory:L,clearError:I,refreshSubscriptions:_}},k1=({className:t})=>{const{isSupported:e,permission:r,isSubscribed:n,isLoading:a,error:l,subscriptions:c,requestPermission:d,subscribe:f,unsubscribe:h,clearError:p}=wX(),g=async()=>{await f()&&console.log("Successfully subscribed to push notifications")},y=async()=>{const w=c.find(E=>E.is_active);if(!w){console.error("No active subscription found");return}await h(w.id)&&console.log("Successfully unsubscribed from push notifications")},b=()=>{switch(r){case"granted":return s.jsx(Ke,{variant:"default",className:"bg-green-100 text-green-800",children:"Granted"});case"denied":return s.jsx(Ke,{variant:"destructive",children:"Denied"});default:return s.jsx(Ke,{variant:"secondary",children:"Not Determined"})}},j=()=>n?s.jsx(Ke,{variant:"default",className:"bg-blue-100 text-blue-800",children:"Active"}):s.jsx(Ke,{variant:"outline",children:"Inactive"});return e?s.jsxs(ee,{className:t,children:[s.jsxs(ue,{children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(cd,{className:"h-5 w-5"}),"Push Notifications"]}),s.jsx(Tt,{children:"Enable push notifications to stay updated with HRIS activities"})]}),s.jsxs(te,{className:"space-y-6",children:[l&&s.jsxs(Br,{variant:"destructive",children:[s.jsx(An,{className:"h-4 w-4"}),s.jsxs(Hr,{className:"flex items-center justify-between",children:[l,s.jsx(re,{variant:"ghost",size:"sm",onClick:p,children:"Close"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{className:"text-sm font-medium",children:"Status"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Permission:"}),b()]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Subscription:"}),j()]})]}),r!=="granted"&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs(Br,{children:[s.jsx(ym,{className:"h-4 w-4"}),s.jsx(Hr,{children:"Allow notifications to receive important updates from HRIS."})]}),s.jsxs(re,{onClick:d,disabled:a,className:"w-full",children:[s.jsx(cd,{className:"mr-2 h-4 w-4"}),"Allow Notifications"]})]}),r==="granted"&&s.jsx("div",{className:"space-y-3",children:n?s.jsx("div",{className:"space-y-2",children:s.jsxs(re,{onClick:y,disabled:a,variant:"outline",className:"w-full",children:[s.jsx(Kk,{className:"mr-2 h-4 w-4"}),"Disable Push Notifications"]})}):s.jsxs(re,{onClick:g,disabled:a,className:"w-full",children:[s.jsx(cd,{className:"mr-2 h-4 w-4"}),"Enable Push Notifications"]})})]})]}):s.jsxs(ee,{className:t,children:[s.jsxs(ue,{children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(Kk,{className:"h-5 w-5"}),"Push Notifications"]}),s.jsx(Tt,{children:"Push notification settings for HRIS application"})]}),s.jsx(te,{children:s.jsxs(Br,{children:[s.jsx(ym,{className:"h-4 w-4"}),s.jsx(Hr,{children:"Your browser does not support push notifications."})]})})]})};function C1({quota:t,className:e=""}){const r=Jn(c=>c.auth.user),n=at.getQuotaUtilization(t.annual_used,t.annual_quota),a=at.getQuotaUtilization(t.maternity_used,t.maternity_quota),l=(r==null?void 0:r.gender)==="female";return s.jsxs("div",{className:`grid grid-cols-1 ${l?"md:grid-cols-2":""} gap-4 ${e}`,children:[s.jsxs(ee,{children:[s.jsx(ue,{className:"pb-3",children:s.jsxs(xe,{className:"text-base flex items-center gap-2",children:[s.jsx(YN,{className:"h-4 w-4 text-blue-600"}),"Annual Leave ",t.year]})}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Usage"}),s.jsx("span",{className:"font-medium",children:at.formatQuotaDisplay(t.annual_used,t.annual_quota)})]}),s.jsx(_m,{value:n,className:"h-2"}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[n,"% utilized"]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-lg font-bold text-blue-600",children:t.annual_quota}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Total"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-lg font-bold text-orange-600",children:t.annual_used}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Used"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-lg font-bold text-green-600",children:t.annual_remaining}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Remaining"})]})]}),s.jsx("div",{className:"pt-2",children:s.jsx(Ke,{variant:t.annual_remaining>5?"default":t.annual_remaining>0?"secondary":"destructive",className:"w-full justify-center",children:t.annual_remaining>5?"Good availability":t.annual_remaining>0?"Limited availability":"No quota remaining"})})]})]}),l&&s.jsxs(ee,{children:[s.jsx(ue,{className:"pb-3",children:s.jsxs(xe,{className:"text-base flex items-center gap-2",children:[s.jsx(Pt,{className:"h-4 w-4 text-pink-600"}),"Maternity Leave ",t.year]})}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Usage"}),s.jsx("span",{className:"font-medium",children:at.formatQuotaDisplay(t.maternity_used,t.maternity_quota)})]}),s.jsx(_m,{value:a,className:"h-2"}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[a,"% utilized"]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-lg font-bold text-pink-600",children:t.maternity_quota}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Total"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-lg font-bold text-orange-600",children:t.maternity_used}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Used"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-lg font-bold text-green-600",children:t.maternity_remaining}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Remaining"})]})]}),s.jsx("div",{className:"pt-2",children:s.jsx(Ke,{variant:t.maternity_remaining>30?"default":t.maternity_remaining>0?"secondary":"destructive",className:"w-full justify-center",children:t.maternity_remaining>30?"Full entitlement available":t.maternity_remaining>0?`${t.maternity_remaining} days available`:"No quota remaining"})})]})]})]})}const NX=()=>{var _,E,S,k;const{user:t}=yr(),{data:e,loading:r,error:n,refetch:a,fetchWeeklyActivities:l}=g1(),c=ht(),[d,f]=x.useState(null),[h,p]=x.useState(!0),[g,y]=x.useState(null),b=[{label:"Dashboard",current:!0}],j=s.jsxs(re,{variant:"outline",size:"sm",onClick:()=>c("/attendance"),children:[s.jsx(Ze,{className:"h-4 w-4 mr-2"}),"My Attendance"]}),w=()=>{const R=new Date().getHours();return R<12?"Good morning":R<17?"Good afternoon":"Good evening"};return x.useEffect(()=>{(async()=>{try{p(!0),y(null);const L=new Date().getFullYear(),I=await at.getQuota(L);f(I)}catch(L){y(L.message||"Failed to fetch leave quota")}finally{p(!1)}})()},[]),n?s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ye,{title:"Dashboard",description:"Welcome to your personal dashboard",breadcrumbs:b,actions:j}),s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-red-500 mb-4",children:s.jsx("svg",{className:"h-12 w-12 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.464 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Failed to load dashboard"}),s.jsx("p",{className:"text-gray-500 mb-4",children:n}),s.jsx("button",{onClick:a,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700",children:"Try Again"})]})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ye,{title:`${w()}, ${(t==null?void 0:t.first_name)||"User"}!`,description:"Here's what's happening in your workspace today",breadcrumbs:b,actions:j}),s.jsxs("div",{className:"grid gap-4 grid-cols-2 md:grid-cols-4",children:[s.jsx(ee,{className:"border-muted",children:s.jsxs(te,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-foreground",children:((_=e.monthlySummary)==null?void 0:_.present_days)||0}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Days Present"})]})}),s.jsx(ee,{className:"border-muted",children:s.jsxs(te,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-foreground",children:((E=e.myLogbooks)==null?void 0:E.length)||0}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"My Logbooks"})]})}),s.jsx(ee,{className:"border-muted",children:s.jsxs(te,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-foreground",children:((S=e.myLeaveRequests)==null?void 0:S.length)||0}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Leave Requests"})]})}),s.jsx(ee,{className:"border-muted",children:s.jsxs(te,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-foreground",children:((k=e.todayActivities)==null?void 0:k.length)||0}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Today's Activities"})]})})]}),s.jsx("div",{className:"flex flex-col gap-6 ",children:s.jsx(_1,{activities:e.weeklyActivities,loading:r,onWeekChange:l})}),s.jsxs(ee,{children:[s.jsx(ue,{children:s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(Ze,{className:"h-5 w-5"}),"Leave Balance"]})}),s.jsx(te,{children:h?s.jsxs("div",{className:"flex items-center justify-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),s.jsx("span",{className:"ml-2 text-muted-foreground",children:"Loading leave balance..."})]}):g?s.jsx("div",{className:"flex items-center justify-center py-8 text-center",children:s.jsxs("div",{className:"text-destructive",children:[s.jsx(ym,{className:"h-8 w-8 mx-auto mb-2"}),s.jsx("p",{className:"text-sm font-medium",children:"Failed to load leave balance"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:g})]})}):d?s.jsx(C1,{quota:d}):s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-muted-foreground",children:"No leave quota data available"})})})]}),s.jsxs(ee,{children:[s.jsx(ue,{children:s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(bm,{className:"h-5 w-5"}),"Quick Access"]})}),s.jsx(te,{children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsx(ee,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>c("/attendance"),children:s.jsxs(te,{className:"p-4 text-center",children:[s.jsx(Ze,{className:"h-6 w-6 mx-auto mb-2 text-blue-600"}),s.jsx("span",{className:"text-sm font-medium",children:"My Attendance"})]})}),s.jsx(ee,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>c("/logbook"),children:s.jsxs(te,{className:"p-4 text-center",children:[s.jsx(bs,{className:"h-6 w-6 mx-auto mb-2 text-green-600"}),s.jsx("span",{className:"text-sm font-medium",children:"My Logbook"})]})}),s.jsx(ee,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>c("/leave-requests"),children:s.jsxs(te,{className:"p-4 text-center",children:[s.jsx(Ad,{className:"h-6 w-6 mx-auto mb-2 text-purple-600"}),s.jsx("span",{className:"text-sm font-medium",children:"Leave Requests"})]})}),s.jsx(ee,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>c("/profile"),children:s.jsxs(te,{className:"p-4 text-center",children:[s.jsx(to,{className:"h-6 w-6 mx-auto mb-2 text-orange-600"}),s.jsx("span",{className:"text-sm font-medium",children:"Profile"})]})})]})})]}),s.jsx(k1,{})]})},_X=()=>{var h,p,g,y;const{user:t}=yr(),{data:e,loading:r,error:n,refetch:a,fetchWeeklyActivities:l}=g1(),c=ht(),d=[{label:"Admin Dashboard",current:!0}],f=()=>{const b=new Date().getHours();return b<12?"Good morning":b<17?"Good afternoon":"Good evening"};return n?s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ye,{title:"Admin Dashboard",description:"Team management and monitoring center",breadcrumbs:d}),s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-red-500 mb-4",children:s.jsx("svg",{className:"h-12 w-12 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.464 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Failed to load admin dashboard"}),s.jsx("p",{className:"text-gray-500 mb-4",children:n}),s.jsx("button",{onClick:a,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700",children:"Try Again"})]})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ye,{title:`${f()}, Admin ${(t==null?void 0:t.first_name)||"User"}!`,description:"Monitor your team's performance and manage approvals",breadcrumbs:d}),s.jsxs("div",{className:"grid gap-4 grid-cols-2 md:grid-cols-4",children:[s.jsx(ee,{className:"border-muted",children:s.jsxs(te,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-foreground",children:((h=e.teamAttendance)==null?void 0:h.length)||0}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Team Members"})]})}),s.jsx(ee,{className:"border-muted",children:s.jsxs(te,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-foreground",children:((p=e.teamAttendance)==null?void 0:p.filter(b=>b.check_in_time).length)||0}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Present Today"})]})}),s.jsx(ee,{className:"border-muted",children:s.jsxs(te,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-foreground",children:((g=e.pendingLogbooks)==null?void 0:g.length)||0}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Pending Logbooks"})]})}),s.jsx(ee,{className:"border-muted",children:s.jsxs(te,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-foreground",children:((y=e.teamActivities)==null?void 0:y.length)||0}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Team Activities"})]})})]}),s.jsxs("div",{className:"grid gap-6 grid-cols-1",children:[s.jsx(AM,{pendingLogbooks:e.pendingLogbooks,newLeaveRequests:[],loading:r,onRefresh:a}),s.jsx(_1,{activities:e.weeklyTeamActivities,loading:r,onWeekChange:l}),s.jsx(oM,{teamAttendance:e.teamAttendance,loading:r,userRole:"admin"})]}),s.jsxs(ee,{className:"border-muted",children:[s.jsx(ue,{children:s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(on,{className:"h-5 w-5 text-primary"}),"Team Management"]})}),s.jsx(te,{children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs(re,{variant:"outline",onClick:()=>c("/attendance/monitoring"),className:"h-auto p-4 flex flex-col items-center gap-2 border-muted hover:bg-transparent",children:[s.jsx(on,{className:"h-6 w-6 text-primary"}),s.jsx("span",{className:"text-sm text-foreground",children:"Team Attendance"})]}),s.jsxs(re,{variant:"outline",onClick:()=>c("/logbook/monitoring"),className:"h-auto p-4 flex flex-col items-center gap-2 border-muted hover:bg-transparent",children:[s.jsx(bm,{className:"h-6 w-6 text-primary"}),s.jsx("span",{className:"text-sm text-foreground",children:"Logbook Approvals"})]}),s.jsxs(re,{variant:"outline",onClick:()=>c("/leave-requests/monitoring"),className:"h-auto p-4 flex flex-col items-center gap-2 border-muted hover:bg-transparent",children:[s.jsx(bm,{className:"h-6 w-6 text-primary"}),s.jsx("span",{className:"text-sm text-foreground",children:"Leave Monitoring"})]}),s.jsxs(re,{variant:"outline",onClick:()=>c("/reports"),className:"h-auto p-4 flex flex-col items-center gap-2 border-muted hover:bg-transparent",children:[s.jsx(on,{className:"h-6 w-6 text-primary"}),s.jsx("span",{className:"text-sm text-foreground",children:"Team Reports"})]})]})})]}),s.jsx(k1,{})]})},SX=()=>{var p,g,y,b;const{user:t}=yr(),{data:e,loading:r,error:n,refetch:a,fetchWeeklyActivities:l}=g1(),c=ht(),d=[{label:"Master Admin",current:!0}],f=s.jsxs(re,{variant:"outline",size:"sm",onClick:()=>c("/users"),children:[s.jsx(ws,{className:"h-4 w-4 mr-2"}),"Manage Users"]}),h=()=>{const j=new Date().getHours();return j<12?"Good morning":j<17?"Good afternoon":"Good evening"};return n?s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ye,{title:"Master Admin Dashboard",description:"System administration and global oversight",breadcrumbs:d,actions:f}),s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-red-500 mb-4",children:s.jsx(ol,{className:"h-12 w-12 mx-auto"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Failed to load master admin dashboard"}),s.jsx("p",{className:"text-gray-500 mb-4",children:n}),s.jsx("button",{onClick:a,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700",children:"Try Again"})]})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ye,{title:`${h()}, Master Admin ${(t==null?void 0:t.first_name)||"User"}!`,description:"System-wide oversight and administration center",breadcrumbs:d,actions:f}),s.jsxs("div",{className:"grid gap-4 grid-cols-2 md:grid-cols-4",children:[s.jsx(ee,{className:"border-muted",children:s.jsxs(te,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-foreground",children:((p=e.allUsers)==null?void 0:p.length)||0}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Users"})]})}),s.jsx(ee,{className:"border-muted",children:s.jsxs(te,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-foreground",children:((g=e.globalAttendance)==null?void 0:g.filter(j=>j.check_in_time).length)||0}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Active Today"})]})}),s.jsx(ee,{className:"border-muted",children:s.jsxs(te,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-foreground",children:((y=e.allLeaveRequests)==null?void 0:y.filter(j=>j.status==="submitted").length)||0}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Pending Requests"})]})}),s.jsx(ee,{className:"border-muted",children:s.jsxs(te,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-foreground",children:((b=e.activitySummary)==null?void 0:b.length)||0}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Activities"})]})})]}),s.jsxs("div",{className:"grid gap-6 grid-cols-1",children:[s.jsx(AM,{pendingLogbooks:[],newLeaveRequests:e.allLeaveRequests,loading:r,onRefresh:a}),s.jsx(_1,{activities:e.weeklyActivitySummary,loading:r,onWeekChange:l}),s.jsx(oM,{teamAttendance:e.globalAttendance,loading:r,userRole:"master_admin"})]}),s.jsxs(ee,{className:"border-muted",children:[s.jsx(ue,{children:s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(ol,{className:"h-5 w-5 text-primary"}),"System Administration"]})}),s.jsx(te,{children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs(re,{variant:"outline",onClick:()=>c("/users"),className:"h-auto p-4 flex flex-col items-center gap-2 border-muted hover:bg-transparent",children:[s.jsx(ws,{className:"h-6 w-6 text-primary"}),s.jsx("span",{className:"text-sm text-foreground",children:"User Management"})]}),s.jsxs(re,{variant:"outline",onClick:()=>c("/leave-requests/monitoring"),className:"h-auto p-4 flex flex-col items-center gap-2 border-muted  hover:bg-transparent",children:[s.jsx(on,{className:"h-6 w-6 text-primary"}),s.jsx("span",{className:"text-sm text-foreground",children:"Leave Approvals"})]}),s.jsxs(re,{variant:"outline",onClick:()=>c("/reports"),className:"h-auto p-4 flex flex-col items-center gap-2 border-muted hover:bg-transparent",children:[s.jsx(on,{className:"h-6 w-6 text-primary"}),s.jsx("span",{className:"text-sm text-foreground",children:"Global Reports"})]}),s.jsxs(re,{variant:"outline",onClick:()=>c("/organization-units"),className:"h-auto p-4 flex flex-col items-center gap-2 border-muted hover:bg-transparent",children:[s.jsx(bm,{className:"h-6 w-6 text-primary"}),s.jsx("span",{className:"text-sm text-foreground",children:"Org Units"})]})]})})]}),s.jsx(k1,{})]})},EX=()=>{const{user:t}=yr(),e=r=>{var n;return((n=t==null?void 0:t.roles)==null?void 0:n.some(a=>a.name===r))||!1};return e("master_admin")?s.jsx(SX,{}):e("admin")?s.jsx(_X,{}):s.jsx(NX,{})};var dp=t=>t.type==="checkbox",rd=t=>t instanceof Date,Un=t=>t==null;const TM=t=>typeof t=="object";var Sr=t=>!Un(t)&&!Array.isArray(t)&&TM(t)&&!rd(t),RM=t=>Sr(t)&&t.target?dp(t.target)?t.target.checked:t.target.value:t,kX=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,DM=(t,e)=>t.has(kX(e)),CX=t=>{const e=t.constructor&&t.constructor.prototype;return Sr(e)&&e.hasOwnProperty("isPrototypeOf")},A1=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ir(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(A1&&(t instanceof Blob||n))&&(r||Sr(t)))if(e=r?[]:{},!r&&!CX(t))e=t;else for(const a in t)t.hasOwnProperty(a)&&(e[a]=ir(t[a]));else return t;return e}var up=t=>Array.isArray(t)?t.filter(Boolean):[],Zs=t=>t===void 0,Be=(t,e,r)=>{if(!e||!Sr(t))return r;const n=up(e.split(/[,[\].]+?/)).reduce((a,l)=>Un(a)?a:a[l],t);return Zs(n)||n===t?Zs(t[e])?r:t[e]:n},ga=t=>typeof t=="boolean",T1=t=>/^\w*$/.test(t),OM=t=>up(t.replace(/["|']|\]/g,"").split(/\.|\[/)),us=(t,e,r)=>{let n=-1;const a=T1(e)?[e]:OM(e),l=a.length,c=l-1;for(;++n<l;){const d=a[n];let f=r;if(n!==c){const h=t[d];f=Sr(h)||Array.isArray(h)?h:isNaN(+a[n+1])?{}:[]}if(d==="__proto__"||d==="constructor"||d==="prototype")return;t[d]=f,t=t[d]}};const Jg={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Va={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Fl={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},MM=ye.createContext(null),fp=()=>ye.useContext(MM),AX=t=>{const{children:e,...r}=t;return ye.createElement(MM.Provider,{value:r},e)};var PM=(t,e,r,n=!0)=>{const a={defaultValues:e._defaultValues};for(const l in t)Object.defineProperty(a,l,{get:()=>{const c=l;return e._proxyFormState[c]!==Va.all&&(e._proxyFormState[c]=!n||Va.all),r&&(r[c]=!0),t[c]}});return a},Sw=t=>Un(t)||!TM(t);function Vl(t,e){if(Sw(t)||Sw(e))return t===e;if(rd(t)&&rd(e))return t.getTime()===e.getTime();const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const a of r){const l=t[a];if(!n.includes(a))return!1;if(a!=="ref"){const c=e[a];if(rd(l)&&rd(c)||Sr(l)&&Sr(c)||Array.isArray(l)&&Array.isArray(c)?!Vl(l,c):l!==c)return!1}}return!0}const LM=(t,e)=>{const r=x.useRef(e);Vl(e,r.current)||(r.current=e),x.useEffect(t,r.current)};function IM(t){const e=fp(),{control:r=e.control,disabled:n,name:a,exact:l}=t||{},[c,d]=ye.useState(r._formState),f=ye.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return LM(()=>r._subscribe({name:a,formState:f.current,exact:l,callback:h=>{!n&&d({...r._formState,...h})}}),[a,n,l]),ye.useEffect(()=>{f.current.isValid&&r._setValid(!0)},[r]),ye.useMemo(()=>PM(c,r,f.current,!1),[c,r])}var sl=t=>typeof t=="string",UM=(t,e,r,n,a)=>sl(t)?(n&&e.watch.add(t),Be(r,t,a)):Array.isArray(t)?t.map(l=>(n&&e.watch.add(l),Be(r,l))):(n&&(e.watchAll=!0),r);function TX(t){const e=fp(),{control:r=e.control,name:n,defaultValue:a,disabled:l,exact:c}=t||{},[d,f]=ye.useState(r._getWatch(n,a));return LM(()=>r._subscribe({name:n,formState:{values:!0},exact:c,callback:h=>!l&&f(UM(n,r._names,h.values||r._formValues,!1,a))}),[n,a,l,c]),ye.useEffect(()=>r._removeUnmounted()),d}function RX(t){const e=fp(),{name:r,disabled:n,control:a=e.control,shouldUnregister:l}=t,c=DM(a._names.array,r),d=TX({control:a,name:r,defaultValue:Be(a._formValues,r,Be(a._defaultValues,r,t.defaultValue)),exact:!0}),f=IM({control:a,name:r,exact:!0}),h=ye.useRef(t),p=ye.useRef(a.register(r,{...t.rules,value:d,...ga(t.disabled)?{disabled:t.disabled}:{}})),g=ye.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Be(f.errors,r)},isDirty:{enumerable:!0,get:()=>!!Be(f.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Be(f.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Be(f.validatingFields,r)},error:{enumerable:!0,get:()=>Be(f.errors,r)}}),[f,r]),y=ye.useCallback(_=>p.current.onChange({target:{value:RM(_),name:r},type:Jg.CHANGE}),[r]),b=ye.useCallback(()=>p.current.onBlur({target:{value:Be(a._formValues,r),name:r},type:Jg.BLUR}),[r,a._formValues]),j=ye.useCallback(_=>{const E=Be(a._fields,r);E&&_&&(E._f.ref={focus:()=>_.focus(),select:()=>_.select(),setCustomValidity:S=>_.setCustomValidity(S),reportValidity:()=>_.reportValidity()})},[a._fields,r]),w=ye.useMemo(()=>({name:r,value:d,...ga(n)||f.disabled?{disabled:f.disabled||n}:{},onChange:y,onBlur:b,ref:j}),[r,n,f.disabled,y,b,j,d]);return ye.useEffect(()=>{const _=a._options.shouldUnregister||l;a.register(r,{...h.current.rules,...ga(h.current.disabled)?{disabled:h.current.disabled}:{}});const E=(S,k)=>{const R=Be(a._fields,S);R&&R._f&&(R._f.mount=k)};if(E(r,!0),_){const S=ir(Be(a._options.defaultValues,r));us(a._defaultValues,r,S),Zs(Be(a._formValues,r))&&us(a._formValues,r,S)}return!c&&a.register(r),()=>{(c?_&&!a._state.action:_)?a.unregister(r):E(r,!1)}},[r,a,c,l]),ye.useEffect(()=>{a._setDisabledField({disabled:n,name:r})},[n,r,a]),ye.useMemo(()=>({field:w,formState:f,fieldState:g}),[w,f,g])}const DX=t=>t.render(RX(t));var FM=(t,e,r,n,a)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:a||!0}}:{},Zn=t=>Array.isArray(t)?t:[t],RC=()=>{let t=[];return{get observers(){return t},next:a=>{for(const l of t)l.next&&l.next(a)},subscribe:a=>(t.push(a),{unsubscribe:()=>{t=t.filter(l=>l!==a)}}),unsubscribe:()=>{t=[]}}},_n=t=>Sr(t)&&!Object.keys(t).length,R1=t=>t.type==="file",bi=t=>typeof t=="function",ey=t=>{if(!A1)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},zM=t=>t.type==="select-multiple",D1=t=>t.type==="radio",OX=t=>D1(t)||dp(t),h0=t=>ey(t)&&t.isConnected;function MX(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=Zs(t)?n++:t[e[n++]];return t}function PX(t){for(const e in t)if(t.hasOwnProperty(e)&&!Zs(t[e]))return!1;return!0}function Dr(t,e){const r=Array.isArray(e)?e:T1(e)?[e]:OM(e),n=r.length===1?t:MX(t,r),a=r.length-1,l=r[a];return n&&delete n[l],a!==0&&(Sr(n)&&_n(n)||Array.isArray(n)&&PX(n))&&Dr(t,r.slice(0,-1)),t}var $M=t=>{for(const e in t)if(bi(t[e]))return!0;return!1};function ty(t,e={}){const r=Array.isArray(t);if(Sr(t)||r)for(const n in t)Array.isArray(t[n])||Sr(t[n])&&!$M(t[n])?(e[n]=Array.isArray(t[n])?[]:{},ty(t[n],e[n])):Un(t[n])||(e[n]=!0);return e}function qM(t,e,r){const n=Array.isArray(t);if(Sr(t)||n)for(const a in t)Array.isArray(t[a])||Sr(t[a])&&!$M(t[a])?Zs(e)||Sw(r[a])?r[a]=Array.isArray(t[a])?ty(t[a],[]):{...ty(t[a])}:qM(t[a],Un(e)?{}:e[a],r[a]):r[a]=!Vl(t[a],e[a]);return r}var Bh=(t,e)=>qM(t,e,ty(e));const DC={value:!1,isValid:!1},OC={value:!0,isValid:!0};var BM=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Zs(t[0].attributes.value)?Zs(t[0].value)||t[0].value===""?OC:{value:t[0].value,isValid:!0}:OC:DC}return DC},HM=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>Zs(t)?t:e?t===""?NaN:t&&+t:r&&sl(t)?new Date(t):n?n(t):t;const MC={isValid:!1,value:null};var VM=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,MC):MC;function PC(t){const e=t.ref;return R1(e)?e.files:D1(e)?VM(t.refs).value:zM(e)?[...e.selectedOptions].map(({value:r})=>r):dp(e)?BM(t.refs).value:HM(Zs(e.value)?t.ref.value:e.value,t)}var LX=(t,e,r,n)=>{const a={};for(const l of t){const c=Be(e,l);c&&us(a,l,c._f)}return{criteriaMode:r,names:[...t],fields:a,shouldUseNativeValidation:n}},sy=t=>t instanceof RegExp,Hh=t=>Zs(t)?t:sy(t)?t.source:Sr(t)?sy(t.value)?t.value.source:t.value:t,Bu=t=>({isOnSubmit:!t||t===Va.onSubmit,isOnBlur:t===Va.onBlur,isOnChange:t===Va.onChange,isOnAll:t===Va.all,isOnTouch:t===Va.onTouched});const LC="AsyncFunction";var IX=t=>!!t&&!!t.validate&&!!(bi(t.validate)&&t.validate.constructor.name===LC||Sr(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===LC)),UX=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),Ew=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const Xu=(t,e,r,n)=>{for(const a of r||Object.keys(t)){const l=Be(t,a);if(l){const{_f:c,...d}=l;if(c){if(c.refs&&c.refs[0]&&e(c.refs[0],a)&&!n)return!0;if(c.ref&&e(c.ref,c.name)&&!n)return!0;if(Xu(d,e))break}else if(Sr(d)&&Xu(d,e))break}}};function IC(t,e,r){const n=Be(t,r);if(n||T1(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const l=a.join("."),c=Be(e,l),d=Be(t,l);if(c&&!Array.isArray(c)&&r!==l)return{name:r};if(d&&d.type)return{name:l,error:d};a.pop()}return{name:r}}var FX=(t,e,r,n)=>{r(t);const{name:a,...l}=t;return _n(l)||Object.keys(l).length>=Object.keys(e).length||Object.keys(l).find(c=>e[c]===(!n||Va.all))},zX=(t,e,r)=>!t||!e||t===e||Zn(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),$X=(t,e,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(e||t):(r?n.isOnBlur:a.isOnBlur)?!t:(r?n.isOnChange:a.isOnChange)?t:!0,qX=(t,e)=>!up(Be(t,e)).length&&Dr(t,e),YM=(t,e,r)=>{const n=Zn(Be(t,r));return us(n,"root",e[r]),us(t,r,n),t},jg=t=>sl(t);function UC(t,e,r="validate"){if(jg(t)||Array.isArray(t)&&t.every(jg)||ga(t)&&!t)return{type:r,message:jg(t)?t:"",ref:e}}var Ru=t=>Sr(t)&&!sy(t)?t:{value:t,message:""},kw=async(t,e,r,n,a,l)=>{const{ref:c,refs:d,required:f,maxLength:h,minLength:p,min:g,max:y,pattern:b,validate:j,name:w,valueAsNumber:_,mount:E}=t._f,S=Be(r,w);if(!E||e.has(w))return{};const k=d?d[0]:c,R=z=>{a&&k.reportValidity&&(k.setCustomValidity(ga(z)?"":z||""),k.reportValidity())},L={},I=D1(c),T=dp(c),O=I||T,P=(_||R1(c))&&Zs(c.value)&&Zs(S)||ey(c)&&c.value===""||S===""||Array.isArray(S)&&!S.length,X=FM.bind(null,w,n,L),A=(z,$,J,B=Fl.maxLength,M=Fl.minLength)=>{const V=z?$:J;L[w]={type:z?B:M,message:V,ref:c,...X(z?B:M,V)}};if(l?!Array.isArray(S)||!S.length:f&&(!O&&(P||Un(S))||ga(S)&&!S||T&&!BM(d).isValid||I&&!VM(d).isValid)){const{value:z,message:$}=jg(f)?{value:!!f,message:f}:Ru(f);if(z&&(L[w]={type:Fl.required,message:$,ref:k,...X(Fl.required,$)},!n))return R($),L}if(!P&&(!Un(g)||!Un(y))){let z,$;const J=Ru(y),B=Ru(g);if(!Un(S)&&!isNaN(S)){const M=c.valueAsNumber||S&&+S;Un(J.value)||(z=M>J.value),Un(B.value)||($=M<B.value)}else{const M=c.valueAsDate||new Date(S),V=H=>new Date(new Date().toDateString()+" "+H),Q=c.type=="time",le=c.type=="week";sl(J.value)&&S&&(z=Q?V(S)>V(J.value):le?S>J.value:M>new Date(J.value)),sl(B.value)&&S&&($=Q?V(S)<V(B.value):le?S<B.value:M<new Date(B.value))}if((z||$)&&(A(!!z,J.message,B.message,Fl.max,Fl.min),!n))return R(L[w].message),L}if((h||p)&&!P&&(sl(S)||l&&Array.isArray(S))){const z=Ru(h),$=Ru(p),J=!Un(z.value)&&S.length>+z.value,B=!Un($.value)&&S.length<+$.value;if((J||B)&&(A(J,z.message,$.message),!n))return R(L[w].message),L}if(b&&!P&&sl(S)){const{value:z,message:$}=Ru(b);if(sy(z)&&!S.match(z)&&(L[w]={type:Fl.pattern,message:$,ref:c,...X(Fl.pattern,$)},!n))return R($),L}if(j){if(bi(j)){const z=await j(S,r),$=UC(z,k);if($&&(L[w]={...$,...X(Fl.validate,$.message)},!n))return R($.message),L}else if(Sr(j)){let z={};for(const $ in j){if(!_n(z)&&!n)break;const J=UC(await j[$](S,r),k,$);J&&(z={...J,...X($,J.message)},R(J.message),n&&(L[w]=z))}if(!_n(z)&&(L[w]={ref:k,...z},!n))return L}}return R(!0),L};const BX={mode:Va.onSubmit,reValidateMode:Va.onChange,shouldFocusError:!0};function HX(t={}){let e={...BX,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:bi(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const n={};let a=Sr(e.defaultValues)||Sr(e.values)?ir(e.values||e.defaultValues)||{}:{},l=e.shouldUnregister?{}:ir(a),c={action:!1,mount:!1,watch:!1},d={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},f,h=0;const p={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let g={...p};const y={array:RC(),state:RC()},b=Bu(e.mode),j=Bu(e.reValidateMode),w=e.criteriaMode===Va.all,_=q=>de=>{clearTimeout(h),h=setTimeout(q,de)},E=async q=>{if(!e.disabled&&(p.isValid||g.isValid||q)){const de=e.resolver?_n((await P()).errors):await A(n,!0);de!==r.isValid&&y.state.next({isValid:de})}},S=(q,de)=>{!e.disabled&&(p.isValidating||p.validatingFields||g.isValidating||g.validatingFields)&&((q||Array.from(d.mount)).forEach(je=>{je&&(de?us(r.validatingFields,je,de):Dr(r.validatingFields,je))}),y.state.next({validatingFields:r.validatingFields,isValidating:!_n(r.validatingFields)}))},k=(q,de=[],je,Ue,Le=!0,ae=!0)=>{if(Ue&&je&&!e.disabled){if(c.action=!0,ae&&Array.isArray(Be(n,q))){const Ie=je(Be(n,q),Ue.argA,Ue.argB);Le&&us(n,q,Ie)}if(ae&&Array.isArray(Be(r.errors,q))){const Ie=je(Be(r.errors,q),Ue.argA,Ue.argB);Le&&us(r.errors,q,Ie),qX(r.errors,q)}if((p.touchedFields||g.touchedFields)&&ae&&Array.isArray(Be(r.touchedFields,q))){const Ie=je(Be(r.touchedFields,q),Ue.argA,Ue.argB);Le&&us(r.touchedFields,q,Ie)}(p.dirtyFields||g.dirtyFields)&&(r.dirtyFields=Bh(a,l)),y.state.next({name:q,isDirty:$(q,de),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else us(l,q,de)},R=(q,de)=>{us(r.errors,q,de),y.state.next({errors:r.errors})},L=q=>{r.errors=q,y.state.next({errors:r.errors,isValid:!1})},I=(q,de,je,Ue)=>{const Le=Be(n,q);if(Le){const ae=Be(l,q,Zs(je)?Be(a,q):je);Zs(ae)||Ue&&Ue.defaultChecked||de?us(l,q,de?ae:PC(Le._f)):M(q,ae),c.mount&&E()}},T=(q,de,je,Ue,Le)=>{let ae=!1,Ie=!1;const et={name:q};if(!e.disabled){if(!je||Ue){(p.isDirty||g.isDirty)&&(Ie=r.isDirty,r.isDirty=et.isDirty=$(),ae=Ie!==et.isDirty);const St=Vl(Be(a,q),de);Ie=!!Be(r.dirtyFields,q),St?Dr(r.dirtyFields,q):us(r.dirtyFields,q,!0),et.dirtyFields=r.dirtyFields,ae=ae||(p.dirtyFields||g.dirtyFields)&&Ie!==!St}if(je){const St=Be(r.touchedFields,q);St||(us(r.touchedFields,q,je),et.touchedFields=r.touchedFields,ae=ae||(p.touchedFields||g.touchedFields)&&St!==je)}ae&&Le&&y.state.next(et)}return ae?et:{}},O=(q,de,je,Ue)=>{const Le=Be(r.errors,q),ae=(p.isValid||g.isValid)&&ga(de)&&r.isValid!==de;if(e.delayError&&je?(f=_(()=>R(q,je)),f(e.delayError)):(clearTimeout(h),f=null,je?us(r.errors,q,je):Dr(r.errors,q)),(je?!Vl(Le,je):Le)||!_n(Ue)||ae){const Ie={...Ue,...ae&&ga(de)?{isValid:de}:{},errors:r.errors,name:q};r={...r,...Ie},y.state.next(Ie)}},P=async q=>{S(q,!0);const de=await e.resolver(l,e.context,LX(q||d.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return S(q),de},X=async q=>{const{errors:de}=await P(q);if(q)for(const je of q){const Ue=Be(de,je);Ue?us(r.errors,je,Ue):Dr(r.errors,je)}else r.errors=de;return de},A=async(q,de,je={valid:!0})=>{for(const Ue in q){const Le=q[Ue];if(Le){const{_f:ae,...Ie}=Le;if(ae){const et=d.array.has(ae.name),St=Le._f&&IX(Le._f);St&&p.validatingFields&&S([Ue],!0);const Ts=await kw(Le,d.disabled,l,w,e.shouldUseNativeValidation&&!de,et);if(St&&p.validatingFields&&S([Ue]),Ts[ae.name]&&(je.valid=!1,de))break;!de&&(Be(Ts,ae.name)?et?YM(r.errors,Ts,ae.name):us(r.errors,ae.name,Ts[ae.name]):Dr(r.errors,ae.name))}!_n(Ie)&&await A(Ie,de,je)}}return je.valid},z=()=>{for(const q of d.unMount){const de=Be(n,q);de&&(de._f.refs?de._f.refs.every(je=>!h0(je)):!h0(de._f.ref))&&ie(q)}d.unMount=new Set},$=(q,de)=>!e.disabled&&(q&&de&&us(l,q,de),!Vl(Y(),a)),J=(q,de,je)=>UM(q,d,{...c.mount?l:Zs(de)?a:sl(q)?{[q]:de}:de},je,de),B=q=>up(Be(c.mount?l:a,q,e.shouldUnregister?Be(a,q,[]):[])),M=(q,de,je={})=>{const Ue=Be(n,q);let Le=de;if(Ue){const ae=Ue._f;ae&&(!ae.disabled&&us(l,q,HM(de,ae)),Le=ey(ae.ref)&&Un(de)?"":de,zM(ae.ref)?[...ae.ref.options].forEach(Ie=>Ie.selected=Le.includes(Ie.value)):ae.refs?dp(ae.ref)?ae.refs.length>1?ae.refs.forEach(Ie=>(!Ie.defaultChecked||!Ie.disabled)&&(Ie.checked=Array.isArray(Le)?!!Le.find(et=>et===Ie.value):Le===Ie.value)):ae.refs[0]&&(ae.refs[0].checked=!!Le):ae.refs.forEach(Ie=>Ie.checked=Ie.value===Le):R1(ae.ref)?ae.ref.value="":(ae.ref.value=Le,ae.ref.type||y.state.next({name:q,values:ir(l)})))}(je.shouldDirty||je.shouldTouch)&&T(q,Le,je.shouldTouch,je.shouldDirty,!0),je.shouldValidate&&K(q)},V=(q,de,je)=>{for(const Ue in de){const Le=de[Ue],ae=`${q}.${Ue}`,Ie=Be(n,ae);(d.array.has(q)||Sr(Le)||Ie&&!Ie._f)&&!rd(Le)?V(ae,Le,je):M(ae,Le,je)}},Q=(q,de,je={})=>{const Ue=Be(n,q),Le=d.array.has(q),ae=ir(de);us(l,q,ae),Le?(y.array.next({name:q,values:ir(l)}),(p.isDirty||p.dirtyFields||g.isDirty||g.dirtyFields)&&je.shouldDirty&&y.state.next({name:q,dirtyFields:Bh(a,l),isDirty:$(q,ae)})):Ue&&!Ue._f&&!Un(ae)?V(q,ae,je):M(q,ae,je),Ew(q,d)&&y.state.next({...r}),y.state.next({name:c.mount?q:void 0,values:ir(l)})},le=async q=>{c.mount=!0;const de=q.target;let je=de.name,Ue=!0;const Le=Be(n,je),ae=Ie=>{Ue=Number.isNaN(Ie)||rd(Ie)&&isNaN(Ie.getTime())||Vl(Ie,Be(l,je,Ie))};if(Le){let Ie,et;const St=de.type?PC(Le._f):RM(q),Ts=q.type===Jg.BLUR||q.type===Jg.FOCUS_OUT,sn=!UX(Le._f)&&!e.resolver&&!Be(r.errors,je)&&!Le._f.deps||$X(Ts,Be(r.touchedFields,je),r.isSubmitted,j,b),fn=Ew(je,d,Ts);us(l,je,St),Ts?(Le._f.onBlur&&Le._f.onBlur(q),f&&f(0)):Le._f.onChange&&Le._f.onChange(q);const hn=T(je,St,Ts),Pr=!_n(hn)||fn;if(!Ts&&y.state.next({name:je,type:q.type,values:ir(l)}),sn)return(p.isValid||g.isValid)&&(e.mode==="onBlur"?Ts&&E():Ts||E()),Pr&&y.state.next({name:je,...fn?{}:hn});if(!Ts&&fn&&y.state.next({...r}),e.resolver){const{errors:Pn}=await P([je]);if(ae(St),Ue){const mn=IC(r.errors,n,je),pn=IC(Pn,n,mn.name||je);Ie=pn.error,je=pn.name,et=_n(Pn)}}else S([je],!0),Ie=(await kw(Le,d.disabled,l,w,e.shouldUseNativeValidation))[je],S([je]),ae(St),Ue&&(Ie?et=!1:(p.isValid||g.isValid)&&(et=await A(n,!0)));Ue&&(Le._f.deps&&K(Le._f.deps),O(je,et,Ie,hn))}},H=(q,de)=>{if(Be(r.errors,de)&&q.focus)return q.focus(),1},K=async(q,de={})=>{let je,Ue;const Le=Zn(q);if(e.resolver){const ae=await X(Zs(q)?q:Le);je=_n(ae),Ue=q?!Le.some(Ie=>Be(ae,Ie)):je}else q?(Ue=(await Promise.all(Le.map(async ae=>{const Ie=Be(n,ae);return await A(Ie&&Ie._f?{[ae]:Ie}:Ie)}))).every(Boolean),!(!Ue&&!r.isValid)&&E()):Ue=je=await A(n);return y.state.next({...!sl(q)||(p.isValid||g.isValid)&&je!==r.isValid?{}:{name:q},...e.resolver||!q?{isValid:je}:{},errors:r.errors}),de.shouldFocus&&!Ue&&Xu(n,H,q?Le:d.mount),Ue},Y=q=>{const de={...c.mount?l:a};return Zs(q)?de:sl(q)?Be(de,q):q.map(je=>Be(de,je))},se=(q,de)=>({invalid:!!Be((de||r).errors,q),isDirty:!!Be((de||r).dirtyFields,q),error:Be((de||r).errors,q),isValidating:!!Be(r.validatingFields,q),isTouched:!!Be((de||r).touchedFields,q)}),G=q=>{q&&Zn(q).forEach(de=>Dr(r.errors,de)),y.state.next({errors:q?r.errors:{}})},C=(q,de,je)=>{const Ue=(Be(n,q,{_f:{}})._f||{}).ref,Le=Be(r.errors,q)||{},{ref:ae,message:Ie,type:et,...St}=Le;us(r.errors,q,{...St,...de,ref:Ue}),y.state.next({name:q,errors:r.errors,isValid:!1}),je&&je.shouldFocus&&Ue&&Ue.focus&&Ue.focus()},U=(q,de)=>bi(q)?y.state.subscribe({next:je=>q(J(void 0,de),je)}):J(q,de,!0),ne=q=>y.state.subscribe({next:de=>{zX(q.name,de.name,q.exact)&&FX(de,q.formState||p,jt,q.reRenderRoot)&&q.callback({values:{...l},...r,...de})}}).unsubscribe,me=q=>(c.mount=!0,g={...g,...q.formState},ne({...q,formState:g})),ie=(q,de={})=>{for(const je of q?Zn(q):d.mount)d.mount.delete(je),d.array.delete(je),de.keepValue||(Dr(n,je),Dr(l,je)),!de.keepError&&Dr(r.errors,je),!de.keepDirty&&Dr(r.dirtyFields,je),!de.keepTouched&&Dr(r.touchedFields,je),!de.keepIsValidating&&Dr(r.validatingFields,je),!e.shouldUnregister&&!de.keepDefaultValue&&Dr(a,je);y.state.next({values:ir(l)}),y.state.next({...r,...de.keepDirty?{isDirty:$()}:{}}),!de.keepIsValid&&E()},Ee=({disabled:q,name:de})=>{(ga(q)&&c.mount||q||d.disabled.has(de))&&(q?d.disabled.add(de):d.disabled.delete(de))},Oe=(q,de={})=>{let je=Be(n,q);const Ue=ga(de.disabled)||ga(e.disabled);return us(n,q,{...je||{},_f:{...je&&je._f?je._f:{ref:{name:q}},name:q,mount:!0,...de}}),d.mount.add(q),je?Ee({disabled:ga(de.disabled)?de.disabled:e.disabled,name:q}):I(q,!0,de.value),{...Ue?{disabled:de.disabled||e.disabled}:{},...e.progressive?{required:!!de.required,min:Hh(de.min),max:Hh(de.max),minLength:Hh(de.minLength),maxLength:Hh(de.maxLength),pattern:Hh(de.pattern)}:{},name:q,onChange:le,onBlur:le,ref:Le=>{if(Le){Oe(q,de),je=Be(n,q);const ae=Zs(Le.value)&&Le.querySelectorAll&&Le.querySelectorAll("input,select,textarea")[0]||Le,Ie=OX(ae),et=je._f.refs||[];if(Ie?et.find(St=>St===ae):ae===je._f.ref)return;us(n,q,{_f:{...je._f,...Ie?{refs:[...et.filter(h0),ae,...Array.isArray(Be(a,q))?[{}]:[]],ref:{type:ae.type,name:q}}:{ref:ae}}}),I(q,!1,void 0,ae)}else je=Be(n,q,{}),je._f&&(je._f.mount=!1),(e.shouldUnregister||de.shouldUnregister)&&!(DM(d.array,q)&&c.action)&&d.unMount.add(q)}}},fe=()=>e.shouldFocusError&&Xu(n,H,d.mount),Ce=q=>{ga(q)&&(y.state.next({disabled:q}),Xu(n,(de,je)=>{const Ue=Be(n,je);Ue&&(de.disabled=Ue._f.disabled||q,Array.isArray(Ue._f.refs)&&Ue._f.refs.forEach(Le=>{Le.disabled=Ue._f.disabled||q}))},0,!1))},pe=(q,de)=>async je=>{let Ue;je&&(je.preventDefault&&je.preventDefault(),je.persist&&je.persist());let Le=ir(l);if(y.state.next({isSubmitting:!0}),e.resolver){const{errors:ae,values:Ie}=await P();r.errors=ae,Le=Ie}else await A(n);if(d.disabled.size)for(const ae of d.disabled)us(Le,ae,void 0);if(Dr(r.errors,"root"),_n(r.errors)){y.state.next({errors:{}});try{await q(Le,je)}catch(ae){Ue=ae}}else de&&await de({...r.errors},je),fe(),setTimeout(fe);if(y.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:_n(r.errors)&&!Ue,submitCount:r.submitCount+1,errors:r.errors}),Ue)throw Ue},ze=(q,de={})=>{Be(n,q)&&(Zs(de.defaultValue)?Q(q,ir(Be(a,q))):(Q(q,de.defaultValue),us(a,q,ir(de.defaultValue))),de.keepTouched||Dr(r.touchedFields,q),de.keepDirty||(Dr(r.dirtyFields,q),r.isDirty=de.defaultValue?$(q,ir(Be(a,q))):$()),de.keepError||(Dr(r.errors,q),p.isValid&&E()),y.state.next({...r}))},lt=(q,de={})=>{const je=q?ir(q):a,Ue=ir(je),Le=_n(q),ae=Le?a:Ue;if(de.keepDefaultValues||(a=je),!de.keepValues){if(de.keepDirtyValues){const Ie=new Set([...d.mount,...Object.keys(Bh(a,l))]);for(const et of Array.from(Ie))Be(r.dirtyFields,et)?us(ae,et,Be(l,et)):Q(et,Be(ae,et))}else{if(A1&&Zs(q))for(const Ie of d.mount){const et=Be(n,Ie);if(et&&et._f){const St=Array.isArray(et._f.refs)?et._f.refs[0]:et._f.ref;if(ey(St)){const Ts=St.closest("form");if(Ts){Ts.reset();break}}}}for(const Ie of d.mount)Q(Ie,Be(ae,Ie))}l=ir(ae),y.array.next({values:{...ae}}),y.state.next({values:{...ae}})}d={mount:de.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!p.isValid||!!de.keepIsValid||!!de.keepDirtyValues,c.watch=!!e.shouldUnregister,y.state.next({submitCount:de.keepSubmitCount?r.submitCount:0,isDirty:Le?!1:de.keepDirty?r.isDirty:!!(de.keepDefaultValues&&!Vl(q,a)),isSubmitted:de.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Le?{}:de.keepDirtyValues?de.keepDefaultValues&&l?Bh(a,l):r.dirtyFields:de.keepDefaultValues&&q?Bh(a,q):de.keepDirty?r.dirtyFields:{},touchedFields:de.keepTouched?r.touchedFields:{},errors:de.keepErrors?r.errors:{},isSubmitSuccessful:de.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Je=(q,de)=>lt(bi(q)?q(l):q,de),Zt=(q,de={})=>{const je=Be(n,q),Ue=je&&je._f;if(Ue){const Le=Ue.refs?Ue.refs[0]:Ue.ref;Le.focus&&(Le.focus(),de.shouldSelect&&bi(Le.select)&&Le.select())}},jt=q=>{r={...r,...q}},dr={control:{register:Oe,unregister:ie,getFieldState:se,handleSubmit:pe,setError:C,_subscribe:ne,_runSchema:P,_getWatch:J,_getDirty:$,_setValid:E,_setFieldArray:k,_setDisabledField:Ee,_setErrors:L,_getFieldArray:B,_reset:lt,_resetDefaultValues:()=>bi(e.defaultValues)&&e.defaultValues().then(q=>{Je(q,e.resetOptions),y.state.next({isLoading:!1})}),_removeUnmounted:z,_disableForm:Ce,_subjects:y,_proxyFormState:p,get _fields(){return n},get _formValues(){return l},get _state(){return c},set _state(q){c=q},get _defaultValues(){return a},get _names(){return d},set _names(q){d=q},get _formState(){return r},get _options(){return e},set _options(q){e={...e,...q}}},subscribe:me,trigger:K,register:Oe,handleSubmit:pe,watch:U,setValue:Q,getValues:Y,reset:Je,resetField:ze,clearErrors:G,unregister:ie,setError:C,setFocus:Zt,getFieldState:se};return{...dr,formControl:dr}}var Go=()=>{const t=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const r=(Math.random()*16+t)%16|0;return(e=="x"?r:r&3|8).toString(16)})},m0=(t,e,r={})=>r.shouldFocus||Zs(r.shouldFocus)?r.focusName||`${t}.${Zs(r.focusIndex)?e:r.focusIndex}.`:"",p0=(t,e)=>[...t,...Zn(e)],x0=t=>Array.isArray(t)?t.map(()=>{}):void 0;function g0(t,e,r){return[...t.slice(0,e),...Zn(r),...t.slice(e)]}var y0=(t,e,r)=>Array.isArray(t)?(Zs(t[r])&&(t[r]=void 0),t.splice(r,0,t.splice(e,1)[0]),t):[],v0=(t,e)=>[...Zn(e),...Zn(t)];function VX(t,e){let r=0;const n=[...t];for(const a of e)n.splice(a-r,1),r++;return up(n).length?n:[]}var b0=(t,e)=>Zs(e)?[]:VX(t,Zn(e).sort((r,n)=>r-n)),j0=(t,e,r)=>{[t[e],t[r]]=[t[r],t[e]]},FC=(t,e,r)=>(t[e]=r,t);function YX(t){const e=fp(),{control:r=e.control,name:n,keyName:a="id",shouldUnregister:l,rules:c}=t,[d,f]=ye.useState(r._getFieldArray(n)),h=ye.useRef(r._getFieldArray(n).map(Go)),p=ye.useRef(d),g=ye.useRef(n),y=ye.useRef(!1);g.current=n,p.current=d,r._names.array.add(n),c&&r.register(n,c),ye.useEffect(()=>r._subjects.array.subscribe({next:({values:I,name:T})=>{if(T===g.current||!T){const O=Be(I,g.current);Array.isArray(O)&&(f(O),h.current=O.map(Go))}}}).unsubscribe,[r]);const b=ye.useCallback(I=>{y.current=!0,r._setFieldArray(n,I)},[r,n]),j=(I,T)=>{const O=Zn(ir(I)),P=p0(r._getFieldArray(n),O);r._names.focus=m0(n,P.length-1,T),h.current=p0(h.current,O.map(Go)),b(P),f(P),r._setFieldArray(n,P,p0,{argA:x0(I)})},w=(I,T)=>{const O=Zn(ir(I)),P=v0(r._getFieldArray(n),O);r._names.focus=m0(n,0,T),h.current=v0(h.current,O.map(Go)),b(P),f(P),r._setFieldArray(n,P,v0,{argA:x0(I)})},_=I=>{const T=b0(r._getFieldArray(n),I);h.current=b0(h.current,I),b(T),f(T),!Array.isArray(Be(r._fields,n))&&us(r._fields,n,void 0),r._setFieldArray(n,T,b0,{argA:I})},E=(I,T,O)=>{const P=Zn(ir(T)),X=g0(r._getFieldArray(n),I,P);r._names.focus=m0(n,I,O),h.current=g0(h.current,I,P.map(Go)),b(X),f(X),r._setFieldArray(n,X,g0,{argA:I,argB:x0(T)})},S=(I,T)=>{const O=r._getFieldArray(n);j0(O,I,T),j0(h.current,I,T),b(O),f(O),r._setFieldArray(n,O,j0,{argA:I,argB:T},!1)},k=(I,T)=>{const O=r._getFieldArray(n);y0(O,I,T),y0(h.current,I,T),b(O),f(O),r._setFieldArray(n,O,y0,{argA:I,argB:T},!1)},R=(I,T)=>{const O=ir(T),P=FC(r._getFieldArray(n),I,O);h.current=[...P].map((X,A)=>!X||A===I?Go():h.current[A]),b(P),f([...P]),r._setFieldArray(n,P,FC,{argA:I,argB:O},!0,!1)},L=I=>{const T=Zn(ir(I));h.current=T.map(Go),b([...T]),f([...T]),r._setFieldArray(n,[...T],O=>O,{},!0,!1)};return ye.useEffect(()=>{if(r._state.action=!1,Ew(n,r._names)&&r._subjects.state.next({...r._formState}),y.current&&(!Bu(r._options.mode).isOnSubmit||r._formState.isSubmitted)&&!Bu(r._options.reValidateMode).isOnSubmit)if(r._options.resolver)r._runSchema([n]).then(I=>{const T=Be(I.errors,n),O=Be(r._formState.errors,n);(O?!T&&O.type||T&&(O.type!==T.type||O.message!==T.message):T&&T.type)&&(T?us(r._formState.errors,n,T):Dr(r._formState.errors,n),r._subjects.state.next({errors:r._formState.errors}))});else{const I=Be(r._fields,n);I&&I._f&&!(Bu(r._options.reValidateMode).isOnSubmit&&Bu(r._options.mode).isOnSubmit)&&kw(I,r._names.disabled,r._formValues,r._options.criteriaMode===Va.all,r._options.shouldUseNativeValidation,!0).then(T=>!_n(T)&&r._subjects.state.next({errors:YM(r._formState.errors,T,n)}))}r._subjects.state.next({name:n,values:ir(r._formValues)}),r._names.focus&&Xu(r._fields,(I,T)=>{if(r._names.focus&&T.startsWith(r._names.focus)&&I.focus)return I.focus(),1}),r._names.focus="",r._setValid(),y.current=!1},[d,n,r]),ye.useEffect(()=>(!Be(r._formValues,n)&&r._setFieldArray(n),()=>{const I=(T,O)=>{const P=Be(r._fields,T);P&&P._f&&(P._f.mount=O)};r._options.shouldUnregister||l?r.unregister(n):I(n,!1)}),[n,r,a,l]),{swap:ye.useCallback(S,[b,n,r]),move:ye.useCallback(k,[b,n,r]),prepend:ye.useCallback(w,[b,n,r]),append:ye.useCallback(j,[b,n,r]),remove:ye.useCallback(_,[b,n,r]),insert:ye.useCallback(E,[b,n,r]),update:ye.useCallback(R,[b,n,r]),replace:ye.useCallback(L,[b,n,r]),fields:ye.useMemo(()=>d.map((I,T)=>({...I,[a]:h.current[T]||Go()})),[d,a])}}const WX=typeof window<"u"?ye.useLayoutEffect:ye.useEffect;function ti(t={}){const e=ye.useRef(void 0),r=ye.useRef(void 0),[n,a]=ye.useState({isDirty:!1,isValidating:!1,isLoading:bi(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:bi(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:HX(t),formState:n},t.formControl&&t.defaultValues&&!bi(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const l=e.current.control;return l._options=t,WX(()=>{const c=l._subscribe({formState:l._proxyFormState,callback:()=>a({...l._formState}),reRenderRoot:!0});return a(d=>({...d,isReady:!0})),l._formState.isReady=!0,c},[l]),ye.useEffect(()=>l._disableForm(t.disabled),[l,t.disabled]),ye.useEffect(()=>{t.mode&&(l._options.mode=t.mode),t.reValidateMode&&(l._options.reValidateMode=t.reValidateMode),t.errors&&!_n(t.errors)&&l._setErrors(t.errors)},[l,t.errors,t.mode,t.reValidateMode]),ye.useEffect(()=>{t.shouldUnregister&&l._subjects.state.next({values:l._getWatch()})},[l,t.shouldUnregister]),ye.useEffect(()=>{if(l._proxyFormState.isDirty){const c=l._getDirty();c!==n.isDirty&&l._subjects.state.next({isDirty:c})}},[l,n.isDirty]),ye.useEffect(()=>{t.values&&!Vl(t.values,r.current)?(l._reset(t.values,l._options.resetOptions),r.current=t.values,a(c=>({...c}))):l._resetDefaultValues()},[l,t.values]),ye.useEffect(()=>{l._state.mount||(l._setValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next({...l._formState})),l._removeUnmounted()}),e.current.formState=PM(n,l),e.current}const zC=(t,e,r)=>{if(t&&"reportValidity"in t){const n=Be(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},WM=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?zC(n.ref,r,t):n&&n.refs&&n.refs.forEach(a=>zC(a,r,t))}},GX=(t,e)=>{e.shouldUseNativeValidation&&WM(t,e);const r={};for(const n in t){const a=Be(e.fields,n),l=Object.assign(t[n]||{},{ref:a&&a.ref});if(ZX(e.names||Object.keys(t),n)){const c=Object.assign({},Be(r,n));us(c,"root",l),us(r,n,c)}else us(r,n,l)}return r},ZX=(t,e)=>{const r=$C(e);return t.some(n=>$C(n).match(`^${r}\\.\\d+`))};function $C(t){return t.replace(/\]|\[/g,"")}function KX(t,e){for(var r={};t.length;){var n=t[0],a=n.code,l=n.message,c=n.path.join(".");if(!r[c])if("unionErrors"in n){var d=n.unionErrors[0].errors[0];r[c]={message:d.message,type:d.code}}else r[c]={message:l,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(p){return p.errors.forEach(function(g){return t.push(g)})}),e){var f=r[c].types,h=f&&f[n.code];r[c]=FM(c,e,r,a,h?[].concat(h,n.message):n.message)}t.shift()}return r}function si(t,e,r){return r===void 0&&(r={}),function(n,a,l){try{return Promise.resolve(function(c,d){try{var f=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(h){return l.shouldUseNativeValidation&&WM({},l),{errors:{},values:r.raw?Object.assign({},n):h}})}catch(h){return d(h)}return f&&f.then?f.then(void 0,d):f}(0,function(c){if(function(d){return Array.isArray(d==null?void 0:d.errors)}(c))return{values:{},errors:GX(KX(c.errors,!l.shouldUseNativeValidation&&l.criteriaMode==="all"),l)};throw c}))}catch(c){return Promise.reject(c)}}}var os;(function(t){t.assertEqual=a=>a;function e(a){}t.assertIs=e;function r(a){throw new Error}t.assertNever=r,t.arrayToEnum=a=>{const l={};for(const c of a)l[c]=c;return l},t.getValidEnumValues=a=>{const l=t.objectKeys(a).filter(d=>typeof a[a[d]]!="number"),c={};for(const d of l)c[d]=a[d];return t.objectValues(c)},t.objectValues=a=>t.objectKeys(a).map(function(l){return a[l]}),t.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const l=[];for(const c in a)Object.prototype.hasOwnProperty.call(a,c)&&l.push(c);return l},t.find=(a,l)=>{for(const c of a)if(l(c))return c},t.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function n(a,l=" | "){return a.map(c=>typeof c=="string"?`'${c}'`:c).join(l)}t.joinValues=n,t.jsonStringifyReplacer=(a,l)=>typeof l=="bigint"?l.toString():l})(os||(os={}));var Cw;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(Cw||(Cw={}));const Qe=os.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Bl=t=>{switch(typeof t){case"undefined":return Qe.undefined;case"string":return Qe.string;case"number":return isNaN(t)?Qe.nan:Qe.number;case"boolean":return Qe.boolean;case"function":return Qe.function;case"bigint":return Qe.bigint;case"symbol":return Qe.symbol;case"object":return Array.isArray(t)?Qe.array:t===null?Qe.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Qe.promise:typeof Map<"u"&&t instanceof Map?Qe.map:typeof Set<"u"&&t instanceof Set?Qe.set:typeof Date<"u"&&t instanceof Date?Qe.date:Qe.object;default:return Qe.unknown}},Fe=os.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),XX=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class _a extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(l){return l.message},n={_errors:[]},a=l=>{for(const c of l.issues)if(c.code==="invalid_union")c.unionErrors.map(a);else if(c.code==="invalid_return_type")a(c.returnTypeError);else if(c.code==="invalid_arguments")a(c.argumentsError);else if(c.path.length===0)n._errors.push(r(c));else{let d=n,f=0;for(;f<c.path.length;){const h=c.path[f];f===c.path.length-1?(d[h]=d[h]||{_errors:[]},d[h]._errors.push(r(c))):d[h]=d[h]||{_errors:[]},d=d[h],f++}}};return a(this),n}static assert(e){if(!(e instanceof _a))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,os.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const a of this.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(e(a))):n.push(e(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}_a.create=t=>new _a(t);const of=(t,e)=>{let r;switch(t.code){case Fe.invalid_type:t.received===Qe.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case Fe.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,os.jsonStringifyReplacer)}`;break;case Fe.unrecognized_keys:r=`Unrecognized key(s) in object: ${os.joinValues(t.keys,", ")}`;break;case Fe.invalid_union:r="Invalid input";break;case Fe.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${os.joinValues(t.options)}`;break;case Fe.invalid_enum_value:r=`Invalid enum value. Expected ${os.joinValues(t.options)}, received '${t.received}'`;break;case Fe.invalid_arguments:r="Invalid function arguments";break;case Fe.invalid_return_type:r="Invalid function return type";break;case Fe.invalid_date:r="Invalid date";break;case Fe.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:os.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case Fe.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case Fe.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case Fe.custom:r="Invalid input";break;case Fe.invalid_intersection_types:r="Intersection results could not be merged";break;case Fe.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case Fe.not_finite:r="Number must be finite";break;default:r=e.defaultError,os.assertNever(t)}return{message:r}};let GM=of;function QX(t){GM=t}function ry(){return GM}const ny=t=>{const{data:e,path:r,errorMaps:n,issueData:a}=t,l=[...r,...a.path||[]],c={...a,path:l};if(a.message!==void 0)return{...a,path:l,message:a.message};let d="";const f=n.filter(h=>!!h).slice().reverse();for(const h of f)d=h(c,{data:e,defaultError:d}).message;return{...a,path:l,message:d}},JX=[];function Ge(t,e){const r=ry(),n=ny({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===of?void 0:of].filter(a=>!!a)});t.common.issues.push(n)}class Dn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const a of r){if(a.status==="aborted")return At;a.status==="dirty"&&e.dirty(),n.push(a.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const a of r){const l=await a.key,c=await a.value;n.push({key:l,value:c})}return Dn.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const a of r){const{key:l,value:c}=a;if(l.status==="aborted"||c.status==="aborted")return At;l.status==="dirty"&&e.dirty(),c.status==="dirty"&&e.dirty(),l.value!=="__proto__"&&(typeof c.value<"u"||a.alwaysSet)&&(n[l.value]=c.value)}return{status:e.value,value:n}}}const At=Object.freeze({status:"aborted"}),Hu=t=>({status:"dirty",value:t}),Fn=t=>({status:"valid",value:t}),Aw=t=>t.status==="aborted",Tw=t=>t.status==="dirty",xd=t=>t.status==="valid",Sm=t=>typeof Promise<"u"&&t instanceof Promise;function ay(t,e,r,n){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function ZM(t,e,r,n,a){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,r),r}var ot;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ot||(ot={}));var Xh,Qh;class dl{constructor(e,r,n,a){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const qC=(t,e)=>{if(xd(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new _a(t.common.issues);return this._error=r,this._error}}};function zt(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:a}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:a}:{errorMap:(c,d)=>{var f,h;const{message:p}=t;return c.code==="invalid_enum_value"?{message:p??d.defaultError}:typeof d.data>"u"?{message:(f=p??n)!==null&&f!==void 0?f:d.defaultError}:c.code!=="invalid_type"?{message:d.defaultError}:{message:(h=p??r)!==null&&h!==void 0?h:d.defaultError}},description:a}}class Bt{get description(){return this._def.description}_getType(e){return Bl(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Bl(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Dn,ctx:{common:e.parent.common,data:e.data,parsedType:Bl(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(Sm(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;const a={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Bl(e)},l=this._parseSync({data:e,path:a.path,parent:a});return qC(a,l)}"~validate"(e){var r,n;const a={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Bl(e)};if(!this["~standard"].async)try{const l=this._parseSync({data:e,path:[],parent:a});return xd(l)?{value:l.value}:{issues:a.common.issues}}catch(l){!((n=(r=l==null?void 0:l.message)===null||r===void 0?void 0:r.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),a.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:a}).then(l=>xd(l)?{value:l.value}:{issues:a.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Bl(e)},a=this._parse({data:e,path:n.path,parent:n}),l=await(Sm(a)?a:Promise.resolve(a));return qC(n,l)}refine(e,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,l)=>{const c=e(a),d=()=>l.addIssue({code:Fe.custom,...n(a)});return typeof Promise<"u"&&c instanceof Promise?c.then(f=>f?!0:(d(),!1)):c?!0:(d(),!1)})}refinement(e,r){return this._refinement((n,a)=>e(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(e){return new Ci({schema:this,typeName:_t.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return al.create(this,this._def)}nullable(){return gc.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return _i.create(this)}promise(){return df.create(this,this._def)}or(e){return Am.create([this,e],this._def)}and(e){return Tm.create(this,e,this._def)}transform(e){return new Ci({...zt(this._def),schema:this,typeName:_t.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new Pm({...zt(this._def),innerType:this,defaultValue:r,typeName:_t.ZodDefault})}brand(){return new O1({typeName:_t.ZodBranded,type:this,...zt(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new Lm({...zt(this._def),innerType:this,catchValue:r,typeName:_t.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return hp.create(this,e)}readonly(){return Im.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const eQ=/^c[^\s-]{8,}$/i,tQ=/^[0-9a-z]+$/,sQ=/^[0-9A-HJKMNP-TV-Z]{26}$/i,rQ=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,nQ=/^[a-z0-9_-]{21}$/i,aQ=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,iQ=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,lQ=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,oQ="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let w0;const cQ=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,dQ=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,uQ=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,fQ=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,hQ=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,mQ=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,KM="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",pQ=new RegExp(`^${KM}$`);function XM(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function xQ(t){return new RegExp(`^${XM(t)}$`)}function QM(t){let e=`${KM}T${XM(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function gQ(t,e){return!!((e==="v4"||!e)&&cQ.test(t)||(e==="v6"||!e)&&uQ.test(t))}function yQ(t,e){if(!aQ.test(t))return!1;try{const[r]=t.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||!a.typ||!a.alg||e&&a.alg!==e)}catch{return!1}}function vQ(t,e){return!!((e==="v4"||!e)&&dQ.test(t)||(e==="v6"||!e)&&fQ.test(t))}class Ni extends Bt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Qe.string){const l=this._getOrReturnCtx(e);return Ge(l,{code:Fe.invalid_type,expected:Qe.string,received:l.parsedType}),At}const n=new Dn;let a;for(const l of this._def.checks)if(l.kind==="min")e.data.length<l.value&&(a=this._getOrReturnCtx(e,a),Ge(a,{code:Fe.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),n.dirty());else if(l.kind==="max")e.data.length>l.value&&(a=this._getOrReturnCtx(e,a),Ge(a,{code:Fe.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),n.dirty());else if(l.kind==="length"){const c=e.data.length>l.value,d=e.data.length<l.value;(c||d)&&(a=this._getOrReturnCtx(e,a),c?Ge(a,{code:Fe.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}):d&&Ge(a,{code:Fe.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}),n.dirty())}else if(l.kind==="email")lQ.test(e.data)||(a=this._getOrReturnCtx(e,a),Ge(a,{validation:"email",code:Fe.invalid_string,message:l.message}),n.dirty());else if(l.kind==="emoji")w0||(w0=new RegExp(oQ,"u")),w0.test(e.data)||(a=this._getOrReturnCtx(e,a),Ge(a,{validation:"emoji",code:Fe.invalid_string,message:l.message}),n.dirty());else if(l.kind==="uuid")rQ.test(e.data)||(a=this._getOrReturnCtx(e,a),Ge(a,{validation:"uuid",code:Fe.invalid_string,message:l.message}),n.dirty());else if(l.kind==="nanoid")nQ.test(e.data)||(a=this._getOrReturnCtx(e,a),Ge(a,{validation:"nanoid",code:Fe.invalid_string,message:l.message}),n.dirty());else if(l.kind==="cuid")eQ.test(e.data)||(a=this._getOrReturnCtx(e,a),Ge(a,{validation:"cuid",code:Fe.invalid_string,message:l.message}),n.dirty());else if(l.kind==="cuid2")tQ.test(e.data)||(a=this._getOrReturnCtx(e,a),Ge(a,{validation:"cuid2",code:Fe.invalid_string,message:l.message}),n.dirty());else if(l.kind==="ulid")sQ.test(e.data)||(a=this._getOrReturnCtx(e,a),Ge(a,{validation:"ulid",code:Fe.invalid_string,message:l.message}),n.dirty());else if(l.kind==="url")try{new URL(e.data)}catch{a=this._getOrReturnCtx(e,a),Ge(a,{validation:"url",code:Fe.invalid_string,message:l.message}),n.dirty()}else l.kind==="regex"?(l.regex.lastIndex=0,l.regex.test(e.data)||(a=this._getOrReturnCtx(e,a),Ge(a,{validation:"regex",code:Fe.invalid_string,message:l.message}),n.dirty())):l.kind==="trim"?e.data=e.data.trim():l.kind==="includes"?e.data.includes(l.value,l.position)||(a=this._getOrReturnCtx(e,a),Ge(a,{code:Fe.invalid_string,validation:{includes:l.value,position:l.position},message:l.message}),n.dirty()):l.kind==="toLowerCase"?e.data=e.data.toLowerCase():l.kind==="toUpperCase"?e.data=e.data.toUpperCase():l.kind==="startsWith"?e.data.startsWith(l.value)||(a=this._getOrReturnCtx(e,a),Ge(a,{code:Fe.invalid_string,validation:{startsWith:l.value},message:l.message}),n.dirty()):l.kind==="endsWith"?e.data.endsWith(l.value)||(a=this._getOrReturnCtx(e,a),Ge(a,{code:Fe.invalid_string,validation:{endsWith:l.value},message:l.message}),n.dirty()):l.kind==="datetime"?QM(l).test(e.data)||(a=this._getOrReturnCtx(e,a),Ge(a,{code:Fe.invalid_string,validation:"datetime",message:l.message}),n.dirty()):l.kind==="date"?pQ.test(e.data)||(a=this._getOrReturnCtx(e,a),Ge(a,{code:Fe.invalid_string,validation:"date",message:l.message}),n.dirty()):l.kind==="time"?xQ(l).test(e.data)||(a=this._getOrReturnCtx(e,a),Ge(a,{code:Fe.invalid_string,validation:"time",message:l.message}),n.dirty()):l.kind==="duration"?iQ.test(e.data)||(a=this._getOrReturnCtx(e,a),Ge(a,{validation:"duration",code:Fe.invalid_string,message:l.message}),n.dirty()):l.kind==="ip"?gQ(e.data,l.version)||(a=this._getOrReturnCtx(e,a),Ge(a,{validation:"ip",code:Fe.invalid_string,message:l.message}),n.dirty()):l.kind==="jwt"?yQ(e.data,l.alg)||(a=this._getOrReturnCtx(e,a),Ge(a,{validation:"jwt",code:Fe.invalid_string,message:l.message}),n.dirty()):l.kind==="cidr"?vQ(e.data,l.version)||(a=this._getOrReturnCtx(e,a),Ge(a,{validation:"cidr",code:Fe.invalid_string,message:l.message}),n.dirty()):l.kind==="base64"?hQ.test(e.data)||(a=this._getOrReturnCtx(e,a),Ge(a,{validation:"base64",code:Fe.invalid_string,message:l.message}),n.dirty()):l.kind==="base64url"?mQ.test(e.data)||(a=this._getOrReturnCtx(e,a),Ge(a,{validation:"base64url",code:Fe.invalid_string,message:l.message}),n.dirty()):os.assertNever(l);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(a=>e.test(a),{validation:r,code:Fe.invalid_string,...ot.errToObj(n)})}_addCheck(e){return new Ni({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ot.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ot.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ot.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ot.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ot.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ot.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ot.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ot.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ot.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...ot.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...ot.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ot.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...ot.errToObj(e)})}datetime(e){var r,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(r=e==null?void 0:e.offset)!==null&&r!==void 0?r:!1,local:(n=e==null?void 0:e.local)!==null&&n!==void 0?n:!1,...ot.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...ot.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ot.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...ot.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...ot.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...ot.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...ot.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...ot.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...ot.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...ot.errToObj(r)})}nonempty(e){return this.min(1,ot.errToObj(e))}trim(){return new Ni({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ni({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ni({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Ni.create=t=>{var e;return new Ni({checks:[],typeName:_t.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...zt(t)})};function bQ(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,a=r>n?r:n,l=parseInt(t.toFixed(a).replace(".","")),c=parseInt(e.toFixed(a).replace(".",""));return l%c/Math.pow(10,a)}class mc extends Bt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Qe.number){const l=this._getOrReturnCtx(e);return Ge(l,{code:Fe.invalid_type,expected:Qe.number,received:l.parsedType}),At}let n;const a=new Dn;for(const l of this._def.checks)l.kind==="int"?os.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),Ge(n,{code:Fe.invalid_type,expected:"integer",received:"float",message:l.message}),a.dirty()):l.kind==="min"?(l.inclusive?e.data<l.value:e.data<=l.value)&&(n=this._getOrReturnCtx(e,n),Ge(n,{code:Fe.too_small,minimum:l.value,type:"number",inclusive:l.inclusive,exact:!1,message:l.message}),a.dirty()):l.kind==="max"?(l.inclusive?e.data>l.value:e.data>=l.value)&&(n=this._getOrReturnCtx(e,n),Ge(n,{code:Fe.too_big,maximum:l.value,type:"number",inclusive:l.inclusive,exact:!1,message:l.message}),a.dirty()):l.kind==="multipleOf"?bQ(e.data,l.value)!==0&&(n=this._getOrReturnCtx(e,n),Ge(n,{code:Fe.not_multiple_of,multipleOf:l.value,message:l.message}),a.dirty()):l.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),Ge(n,{code:Fe.not_finite,message:l.message}),a.dirty()):os.assertNever(l);return{status:a.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,ot.toString(r))}gt(e,r){return this.setLimit("min",e,!1,ot.toString(r))}lte(e,r){return this.setLimit("max",e,!0,ot.toString(r))}lt(e,r){return this.setLimit("max",e,!1,ot.toString(r))}setLimit(e,r,n,a){return new mc({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:ot.toString(a)}]})}_addCheck(e){return new mc({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ot.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ot.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ot.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ot.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ot.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:ot.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:ot.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ot.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ot.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&os.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}mc.create=t=>new mc({checks:[],typeName:_t.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...zt(t)});class pc extends Bt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Qe.bigint)return this._getInvalidInput(e);let n;const a=new Dn;for(const l of this._def.checks)l.kind==="min"?(l.inclusive?e.data<l.value:e.data<=l.value)&&(n=this._getOrReturnCtx(e,n),Ge(n,{code:Fe.too_small,type:"bigint",minimum:l.value,inclusive:l.inclusive,message:l.message}),a.dirty()):l.kind==="max"?(l.inclusive?e.data>l.value:e.data>=l.value)&&(n=this._getOrReturnCtx(e,n),Ge(n,{code:Fe.too_big,type:"bigint",maximum:l.value,inclusive:l.inclusive,message:l.message}),a.dirty()):l.kind==="multipleOf"?e.data%l.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),Ge(n,{code:Fe.not_multiple_of,multipleOf:l.value,message:l.message}),a.dirty()):os.assertNever(l);return{status:a.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return Ge(r,{code:Fe.invalid_type,expected:Qe.bigint,received:r.parsedType}),At}gte(e,r){return this.setLimit("min",e,!0,ot.toString(r))}gt(e,r){return this.setLimit("min",e,!1,ot.toString(r))}lte(e,r){return this.setLimit("max",e,!0,ot.toString(r))}lt(e,r){return this.setLimit("max",e,!1,ot.toString(r))}setLimit(e,r,n,a){return new pc({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:ot.toString(a)}]})}_addCheck(e){return new pc({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ot.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ot.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ot.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ot.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:ot.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}pc.create=t=>{var e;return new pc({checks:[],typeName:_t.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...zt(t)})};class Em extends Bt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Qe.boolean){const n=this._getOrReturnCtx(e);return Ge(n,{code:Fe.invalid_type,expected:Qe.boolean,received:n.parsedType}),At}return Fn(e.data)}}Em.create=t=>new Em({typeName:_t.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...zt(t)});class gd extends Bt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Qe.date){const l=this._getOrReturnCtx(e);return Ge(l,{code:Fe.invalid_type,expected:Qe.date,received:l.parsedType}),At}if(isNaN(e.data.getTime())){const l=this._getOrReturnCtx(e);return Ge(l,{code:Fe.invalid_date}),At}const n=new Dn;let a;for(const l of this._def.checks)l.kind==="min"?e.data.getTime()<l.value&&(a=this._getOrReturnCtx(e,a),Ge(a,{code:Fe.too_small,message:l.message,inclusive:!0,exact:!1,minimum:l.value,type:"date"}),n.dirty()):l.kind==="max"?e.data.getTime()>l.value&&(a=this._getOrReturnCtx(e,a),Ge(a,{code:Fe.too_big,message:l.message,inclusive:!0,exact:!1,maximum:l.value,type:"date"}),n.dirty()):os.assertNever(l);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new gd({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:ot.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:ot.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}gd.create=t=>new gd({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:_t.ZodDate,...zt(t)});class iy extends Bt{_parse(e){if(this._getType(e)!==Qe.symbol){const n=this._getOrReturnCtx(e);return Ge(n,{code:Fe.invalid_type,expected:Qe.symbol,received:n.parsedType}),At}return Fn(e.data)}}iy.create=t=>new iy({typeName:_t.ZodSymbol,...zt(t)});class km extends Bt{_parse(e){if(this._getType(e)!==Qe.undefined){const n=this._getOrReturnCtx(e);return Ge(n,{code:Fe.invalid_type,expected:Qe.undefined,received:n.parsedType}),At}return Fn(e.data)}}km.create=t=>new km({typeName:_t.ZodUndefined,...zt(t)});class Cm extends Bt{_parse(e){if(this._getType(e)!==Qe.null){const n=this._getOrReturnCtx(e);return Ge(n,{code:Fe.invalid_type,expected:Qe.null,received:n.parsedType}),At}return Fn(e.data)}}Cm.create=t=>new Cm({typeName:_t.ZodNull,...zt(t)});class cf extends Bt{constructor(){super(...arguments),this._any=!0}_parse(e){return Fn(e.data)}}cf.create=t=>new cf({typeName:_t.ZodAny,...zt(t)});class dd extends Bt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Fn(e.data)}}dd.create=t=>new dd({typeName:_t.ZodUnknown,...zt(t)});class so extends Bt{_parse(e){const r=this._getOrReturnCtx(e);return Ge(r,{code:Fe.invalid_type,expected:Qe.never,received:r.parsedType}),At}}so.create=t=>new so({typeName:_t.ZodNever,...zt(t)});class ly extends Bt{_parse(e){if(this._getType(e)!==Qe.undefined){const n=this._getOrReturnCtx(e);return Ge(n,{code:Fe.invalid_type,expected:Qe.void,received:n.parsedType}),At}return Fn(e.data)}}ly.create=t=>new ly({typeName:_t.ZodVoid,...zt(t)});class _i extends Bt{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),a=this._def;if(r.parsedType!==Qe.array)return Ge(r,{code:Fe.invalid_type,expected:Qe.array,received:r.parsedType}),At;if(a.exactLength!==null){const c=r.data.length>a.exactLength.value,d=r.data.length<a.exactLength.value;(c||d)&&(Ge(r,{code:c?Fe.too_big:Fe.too_small,minimum:d?a.exactLength.value:void 0,maximum:c?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(Ge(r,{code:Fe.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(Ge(r,{code:Fe.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((c,d)=>a.type._parseAsync(new dl(r,c,r.path,d)))).then(c=>Dn.mergeArray(n,c));const l=[...r.data].map((c,d)=>a.type._parseSync(new dl(r,c,r.path,d)));return Dn.mergeArray(n,l)}get element(){return this._def.type}min(e,r){return new _i({...this._def,minLength:{value:e,message:ot.toString(r)}})}max(e,r){return new _i({...this._def,maxLength:{value:e,message:ot.toString(r)}})}length(e,r){return new _i({...this._def,exactLength:{value:e,message:ot.toString(r)}})}nonempty(e){return this.min(1,e)}}_i.create=(t,e)=>new _i({type:t,minLength:null,maxLength:null,exactLength:null,typeName:_t.ZodArray,...zt(e)});function Mu(t){if(t instanceof lr){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=al.create(Mu(n))}return new lr({...t._def,shape:()=>e})}else return t instanceof _i?new _i({...t._def,type:Mu(t.element)}):t instanceof al?al.create(Mu(t.unwrap())):t instanceof gc?gc.create(Mu(t.unwrap())):t instanceof ul?ul.create(t.items.map(e=>Mu(e))):t}class lr extends Bt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=os.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==Qe.object){const h=this._getOrReturnCtx(e);return Ge(h,{code:Fe.invalid_type,expected:Qe.object,received:h.parsedType}),At}const{status:n,ctx:a}=this._processInputParams(e),{shape:l,keys:c}=this._getCached(),d=[];if(!(this._def.catchall instanceof so&&this._def.unknownKeys==="strip"))for(const h in a.data)c.includes(h)||d.push(h);const f=[];for(const h of c){const p=l[h],g=a.data[h];f.push({key:{status:"valid",value:h},value:p._parse(new dl(a,g,a.path,h)),alwaysSet:h in a.data})}if(this._def.catchall instanceof so){const h=this._def.unknownKeys;if(h==="passthrough")for(const p of d)f.push({key:{status:"valid",value:p},value:{status:"valid",value:a.data[p]}});else if(h==="strict")d.length>0&&(Ge(a,{code:Fe.unrecognized_keys,keys:d}),n.dirty());else if(h!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const h=this._def.catchall;for(const p of d){const g=a.data[p];f.push({key:{status:"valid",value:p},value:h._parse(new dl(a,g,a.path,p)),alwaysSet:p in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const h=[];for(const p of f){const g=await p.key,y=await p.value;h.push({key:g,value:y,alwaysSet:p.alwaysSet})}return h}).then(h=>Dn.mergeObjectSync(n,h)):Dn.mergeObjectSync(n,f)}get shape(){return this._def.shape()}strict(e){return ot.errToObj,new lr({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var a,l,c,d;const f=(c=(l=(a=this._def).errorMap)===null||l===void 0?void 0:l.call(a,r,n).message)!==null&&c!==void 0?c:n.defaultError;return r.code==="unrecognized_keys"?{message:(d=ot.errToObj(e).message)!==null&&d!==void 0?d:f}:{message:f}}}:{}})}strip(){return new lr({...this._def,unknownKeys:"strip"})}passthrough(){return new lr({...this._def,unknownKeys:"passthrough"})}extend(e){return new lr({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new lr({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:_t.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new lr({...this._def,catchall:e})}pick(e){const r={};return os.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new lr({...this._def,shape:()=>r})}omit(e){const r={};return os.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new lr({...this._def,shape:()=>r})}deepPartial(){return Mu(this)}partial(e){const r={};return os.objectKeys(this.shape).forEach(n=>{const a=this.shape[n];e&&!e[n]?r[n]=a:r[n]=a.optional()}),new lr({...this._def,shape:()=>r})}required(e){const r={};return os.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let l=this.shape[n];for(;l instanceof al;)l=l._def.innerType;r[n]=l}}),new lr({...this._def,shape:()=>r})}keyof(){return JM(os.objectKeys(this.shape))}}lr.create=(t,e)=>new lr({shape:()=>t,unknownKeys:"strip",catchall:so.create(),typeName:_t.ZodObject,...zt(e)});lr.strictCreate=(t,e)=>new lr({shape:()=>t,unknownKeys:"strict",catchall:so.create(),typeName:_t.ZodObject,...zt(e)});lr.lazycreate=(t,e)=>new lr({shape:t,unknownKeys:"strip",catchall:so.create(),typeName:_t.ZodObject,...zt(e)});class Am extends Bt{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function a(l){for(const d of l)if(d.result.status==="valid")return d.result;for(const d of l)if(d.result.status==="dirty")return r.common.issues.push(...d.ctx.common.issues),d.result;const c=l.map(d=>new _a(d.ctx.common.issues));return Ge(r,{code:Fe.invalid_union,unionErrors:c}),At}if(r.common.async)return Promise.all(n.map(async l=>{const c={...r,common:{...r.common,issues:[]},parent:null};return{result:await l._parseAsync({data:r.data,path:r.path,parent:c}),ctx:c}})).then(a);{let l;const c=[];for(const f of n){const h={...r,common:{...r.common,issues:[]},parent:null},p=f._parseSync({data:r.data,path:r.path,parent:h});if(p.status==="valid")return p;p.status==="dirty"&&!l&&(l={result:p,ctx:h}),h.common.issues.length&&c.push(h.common.issues)}if(l)return r.common.issues.push(...l.ctx.common.issues),l.result;const d=c.map(f=>new _a(f));return Ge(r,{code:Fe.invalid_union,unionErrors:d}),At}}get options(){return this._def.options}}Am.create=(t,e)=>new Am({options:t,typeName:_t.ZodUnion,...zt(e)});const ql=t=>t instanceof Dm?ql(t.schema):t instanceof Ci?ql(t.innerType()):t instanceof Om?[t.value]:t instanceof xc?t.options:t instanceof Mm?os.objectValues(t.enum):t instanceof Pm?ql(t._def.innerType):t instanceof km?[void 0]:t instanceof Cm?[null]:t instanceof al?[void 0,...ql(t.unwrap())]:t instanceof gc?[null,...ql(t.unwrap())]:t instanceof O1||t instanceof Im?ql(t.unwrap()):t instanceof Lm?ql(t._def.innerType):[];class dv extends Bt{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Qe.object)return Ge(r,{code:Fe.invalid_type,expected:Qe.object,received:r.parsedType}),At;const n=this.discriminator,a=r.data[n],l=this.optionsMap.get(a);return l?r.common.async?l._parseAsync({data:r.data,path:r.path,parent:r}):l._parseSync({data:r.data,path:r.path,parent:r}):(Ge(r,{code:Fe.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),At)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){const a=new Map;for(const l of r){const c=ql(l.shape[e]);if(!c.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const d of c){if(a.has(d))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(d)}`);a.set(d,l)}}return new dv({typeName:_t.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:a,...zt(n)})}}function Rw(t,e){const r=Bl(t),n=Bl(e);if(t===e)return{valid:!0,data:t};if(r===Qe.object&&n===Qe.object){const a=os.objectKeys(e),l=os.objectKeys(t).filter(d=>a.indexOf(d)!==-1),c={...t,...e};for(const d of l){const f=Rw(t[d],e[d]);if(!f.valid)return{valid:!1};c[d]=f.data}return{valid:!0,data:c}}else if(r===Qe.array&&n===Qe.array){if(t.length!==e.length)return{valid:!1};const a=[];for(let l=0;l<t.length;l++){const c=t[l],d=e[l],f=Rw(c,d);if(!f.valid)return{valid:!1};a.push(f.data)}return{valid:!0,data:a}}else return r===Qe.date&&n===Qe.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Tm extends Bt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),a=(l,c)=>{if(Aw(l)||Aw(c))return At;const d=Rw(l.value,c.value);return d.valid?((Tw(l)||Tw(c))&&r.dirty(),{status:r.value,value:d.data}):(Ge(n,{code:Fe.invalid_intersection_types}),At)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([l,c])=>a(l,c)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Tm.create=(t,e,r)=>new Tm({left:t,right:e,typeName:_t.ZodIntersection,...zt(r)});class ul extends Bt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Qe.array)return Ge(n,{code:Fe.invalid_type,expected:Qe.array,received:n.parsedType}),At;if(n.data.length<this._def.items.length)return Ge(n,{code:Fe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),At;!this._def.rest&&n.data.length>this._def.items.length&&(Ge(n,{code:Fe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const l=[...n.data].map((c,d)=>{const f=this._def.items[d]||this._def.rest;return f?f._parse(new dl(n,c,n.path,d)):null}).filter(c=>!!c);return n.common.async?Promise.all(l).then(c=>Dn.mergeArray(r,c)):Dn.mergeArray(r,l)}get items(){return this._def.items}rest(e){return new ul({...this._def,rest:e})}}ul.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ul({items:t,typeName:_t.ZodTuple,rest:null,...zt(e)})};class Rm extends Bt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Qe.object)return Ge(n,{code:Fe.invalid_type,expected:Qe.object,received:n.parsedType}),At;const a=[],l=this._def.keyType,c=this._def.valueType;for(const d in n.data)a.push({key:l._parse(new dl(n,d,n.path,d)),value:c._parse(new dl(n,n.data[d],n.path,d)),alwaysSet:d in n.data});return n.common.async?Dn.mergeObjectAsync(r,a):Dn.mergeObjectSync(r,a)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof Bt?new Rm({keyType:e,valueType:r,typeName:_t.ZodRecord,...zt(n)}):new Rm({keyType:Ni.create(),valueType:e,typeName:_t.ZodRecord,...zt(r)})}}class oy extends Bt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Qe.map)return Ge(n,{code:Fe.invalid_type,expected:Qe.map,received:n.parsedType}),At;const a=this._def.keyType,l=this._def.valueType,c=[...n.data.entries()].map(([d,f],h)=>({key:a._parse(new dl(n,d,n.path,[h,"key"])),value:l._parse(new dl(n,f,n.path,[h,"value"]))}));if(n.common.async){const d=new Map;return Promise.resolve().then(async()=>{for(const f of c){const h=await f.key,p=await f.value;if(h.status==="aborted"||p.status==="aborted")return At;(h.status==="dirty"||p.status==="dirty")&&r.dirty(),d.set(h.value,p.value)}return{status:r.value,value:d}})}else{const d=new Map;for(const f of c){const h=f.key,p=f.value;if(h.status==="aborted"||p.status==="aborted")return At;(h.status==="dirty"||p.status==="dirty")&&r.dirty(),d.set(h.value,p.value)}return{status:r.value,value:d}}}}oy.create=(t,e,r)=>new oy({valueType:e,keyType:t,typeName:_t.ZodMap,...zt(r)});class yd extends Bt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Qe.set)return Ge(n,{code:Fe.invalid_type,expected:Qe.set,received:n.parsedType}),At;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(Ge(n,{code:Fe.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(Ge(n,{code:Fe.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const l=this._def.valueType;function c(f){const h=new Set;for(const p of f){if(p.status==="aborted")return At;p.status==="dirty"&&r.dirty(),h.add(p.value)}return{status:r.value,value:h}}const d=[...n.data.values()].map((f,h)=>l._parse(new dl(n,f,n.path,h)));return n.common.async?Promise.all(d).then(f=>c(f)):c(d)}min(e,r){return new yd({...this._def,minSize:{value:e,message:ot.toString(r)}})}max(e,r){return new yd({...this._def,maxSize:{value:e,message:ot.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}yd.create=(t,e)=>new yd({valueType:t,minSize:null,maxSize:null,typeName:_t.ZodSet,...zt(e)});class Qu extends Bt{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Qe.function)return Ge(r,{code:Fe.invalid_type,expected:Qe.function,received:r.parsedType}),At;function n(d,f){return ny({data:d,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,ry(),of].filter(h=>!!h),issueData:{code:Fe.invalid_arguments,argumentsError:f}})}function a(d,f){return ny({data:d,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,ry(),of].filter(h=>!!h),issueData:{code:Fe.invalid_return_type,returnTypeError:f}})}const l={errorMap:r.common.contextualErrorMap},c=r.data;if(this._def.returns instanceof df){const d=this;return Fn(async function(...f){const h=new _a([]),p=await d._def.args.parseAsync(f,l).catch(b=>{throw h.addIssue(n(f,b)),h}),g=await Reflect.apply(c,this,p);return await d._def.returns._def.type.parseAsync(g,l).catch(b=>{throw h.addIssue(a(g,b)),h})})}else{const d=this;return Fn(function(...f){const h=d._def.args.safeParse(f,l);if(!h.success)throw new _a([n(f,h.error)]);const p=Reflect.apply(c,this,h.data),g=d._def.returns.safeParse(p,l);if(!g.success)throw new _a([a(p,g.error)]);return g.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Qu({...this._def,args:ul.create(e).rest(dd.create())})}returns(e){return new Qu({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new Qu({args:e||ul.create([]).rest(dd.create()),returns:r||dd.create(),typeName:_t.ZodFunction,...zt(n)})}}class Dm extends Bt{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Dm.create=(t,e)=>new Dm({getter:t,typeName:_t.ZodLazy,...zt(e)});class Om extends Bt{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return Ge(r,{received:r.data,code:Fe.invalid_literal,expected:this._def.value}),At}return{status:"valid",value:e.data}}get value(){return this._def.value}}Om.create=(t,e)=>new Om({value:t,typeName:_t.ZodLiteral,...zt(e)});function JM(t,e){return new xc({values:t,typeName:_t.ZodEnum,...zt(e)})}class xc extends Bt{constructor(){super(...arguments),Xh.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return Ge(r,{expected:os.joinValues(n),received:r.parsedType,code:Fe.invalid_type}),At}if(ay(this,Xh)||ZM(this,Xh,new Set(this._def.values)),!ay(this,Xh).has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return Ge(r,{received:r.data,code:Fe.invalid_enum_value,options:n}),At}return Fn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return xc.create(e,{...this._def,...r})}exclude(e,r=this._def){return xc.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}Xh=new WeakMap;xc.create=JM;class Mm extends Bt{constructor(){super(...arguments),Qh.set(this,void 0)}_parse(e){const r=os.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Qe.string&&n.parsedType!==Qe.number){const a=os.objectValues(r);return Ge(n,{expected:os.joinValues(a),received:n.parsedType,code:Fe.invalid_type}),At}if(ay(this,Qh)||ZM(this,Qh,new Set(os.getValidEnumValues(this._def.values))),!ay(this,Qh).has(e.data)){const a=os.objectValues(r);return Ge(n,{received:n.data,code:Fe.invalid_enum_value,options:a}),At}return Fn(e.data)}get enum(){return this._def.values}}Qh=new WeakMap;Mm.create=(t,e)=>new Mm({values:t,typeName:_t.ZodNativeEnum,...zt(e)});class df extends Bt{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Qe.promise&&r.common.async===!1)return Ge(r,{code:Fe.invalid_type,expected:Qe.promise,received:r.parsedType}),At;const n=r.parsedType===Qe.promise?r.data:Promise.resolve(r.data);return Fn(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}df.create=(t,e)=>new df({type:t,typeName:_t.ZodPromise,...zt(e)});class Ci extends Bt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===_t.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),a=this._def.effect||null,l={addIssue:c=>{Ge(n,c),c.fatal?r.abort():r.dirty()},get path(){return n.path}};if(l.addIssue=l.addIssue.bind(l),a.type==="preprocess"){const c=a.transform(n.data,l);if(n.common.async)return Promise.resolve(c).then(async d=>{if(r.value==="aborted")return At;const f=await this._def.schema._parseAsync({data:d,path:n.path,parent:n});return f.status==="aborted"?At:f.status==="dirty"||r.value==="dirty"?Hu(f.value):f});{if(r.value==="aborted")return At;const d=this._def.schema._parseSync({data:c,path:n.path,parent:n});return d.status==="aborted"?At:d.status==="dirty"||r.value==="dirty"?Hu(d.value):d}}if(a.type==="refinement"){const c=d=>{const f=a.refinement(d,l);if(n.common.async)return Promise.resolve(f);if(f instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return d};if(n.common.async===!1){const d=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return d.status==="aborted"?At:(d.status==="dirty"&&r.dirty(),c(d.value),{status:r.value,value:d.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(d=>d.status==="aborted"?At:(d.status==="dirty"&&r.dirty(),c(d.value).then(()=>({status:r.value,value:d.value}))))}if(a.type==="transform")if(n.common.async===!1){const c=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!xd(c))return c;const d=a.transform(c.value,l);if(d instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:d}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(c=>xd(c)?Promise.resolve(a.transform(c.value,l)).then(d=>({status:r.value,value:d})):c);os.assertNever(a)}}Ci.create=(t,e,r)=>new Ci({schema:t,typeName:_t.ZodEffects,effect:e,...zt(r)});Ci.createWithPreprocess=(t,e,r)=>new Ci({schema:e,effect:{type:"preprocess",transform:t},typeName:_t.ZodEffects,...zt(r)});class al extends Bt{_parse(e){return this._getType(e)===Qe.undefined?Fn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}al.create=(t,e)=>new al({innerType:t,typeName:_t.ZodOptional,...zt(e)});class gc extends Bt{_parse(e){return this._getType(e)===Qe.null?Fn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}gc.create=(t,e)=>new gc({innerType:t,typeName:_t.ZodNullable,...zt(e)});class Pm extends Bt{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===Qe.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Pm.create=(t,e)=>new Pm({innerType:t,typeName:_t.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...zt(e)});class Lm extends Bt{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Sm(a)?a.then(l=>({status:"valid",value:l.status==="valid"?l.value:this._def.catchValue({get error(){return new _a(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new _a(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Lm.create=(t,e)=>new Lm({innerType:t,typeName:_t.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...zt(e)});class cy extends Bt{_parse(e){if(this._getType(e)!==Qe.nan){const n=this._getOrReturnCtx(e);return Ge(n,{code:Fe.invalid_type,expected:Qe.nan,received:n.parsedType}),At}return{status:"valid",value:e.data}}}cy.create=t=>new cy({typeName:_t.ZodNaN,...zt(t)});const jQ=Symbol("zod_brand");class O1 extends Bt{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class hp extends Bt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const l=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?At:l.status==="dirty"?(r.dirty(),Hu(l.value)):this._def.out._parseAsync({data:l.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?At:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(e,r){return new hp({in:e,out:r,typeName:_t.ZodPipeline})}}class Im extends Bt{_parse(e){const r=this._def.innerType._parse(e),n=a=>(xd(a)&&(a.value=Object.freeze(a.value)),a);return Sm(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}Im.create=(t,e)=>new Im({innerType:t,typeName:_t.ZodReadonly,...zt(e)});function BC(t,e){const r=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof r=="string"?{message:r}:r}function eP(t,e={},r){return t?cf.create().superRefine((n,a)=>{var l,c;const d=t(n);if(d instanceof Promise)return d.then(f=>{var h,p;if(!f){const g=BC(e,n),y=(p=(h=g.fatal)!==null&&h!==void 0?h:r)!==null&&p!==void 0?p:!0;a.addIssue({code:"custom",...g,fatal:y})}});if(!d){const f=BC(e,n),h=(c=(l=f.fatal)!==null&&l!==void 0?l:r)!==null&&c!==void 0?c:!0;a.addIssue({code:"custom",...f,fatal:h})}}):cf.create()}const wQ={object:lr.lazycreate};var _t;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(_t||(_t={}));const NQ=(t,e={message:`Input not instance of ${t.name}`})=>eP(r=>r instanceof t,e),as=Ni.create,uv=mc.create,_Q=cy.create,SQ=pc.create,mp=Em.create,EQ=gd.create,kQ=iy.create,CQ=km.create,AQ=Cm.create,TQ=cf.create,RQ=dd.create,DQ=so.create,OQ=ly.create,M1=_i.create,oo=lr.create,MQ=lr.strictCreate,PQ=Am.create,LQ=dv.create,IQ=Tm.create,UQ=ul.create,FQ=Rm.create,zQ=oy.create,$Q=yd.create,qQ=Qu.create,BQ=Dm.create,HQ=Om.create,P1=xc.create,tP=Mm.create,VQ=df.create,HC=Ci.create,YQ=al.create,WQ=gc.create,GQ=Ci.createWithPreprocess,ZQ=hp.create,KQ=()=>as().optional(),XQ=()=>uv().optional(),QQ=()=>mp().optional(),uf={string:t=>Ni.create({...t,coerce:!0}),number:t=>mc.create({...t,coerce:!0}),boolean:t=>Em.create({...t,coerce:!0}),bigint:t=>pc.create({...t,coerce:!0}),date:t=>gd.create({...t,coerce:!0})},JQ=At;var Wt=Object.freeze({__proto__:null,defaultErrorMap:of,setErrorMap:QX,getErrorMap:ry,makeIssue:ny,EMPTY_PATH:JX,addIssueToContext:Ge,ParseStatus:Dn,INVALID:At,DIRTY:Hu,OK:Fn,isAborted:Aw,isDirty:Tw,isValid:xd,isAsync:Sm,get util(){return os},get objectUtil(){return Cw},ZodParsedType:Qe,getParsedType:Bl,ZodType:Bt,datetimeRegex:QM,ZodString:Ni,ZodNumber:mc,ZodBigInt:pc,ZodBoolean:Em,ZodDate:gd,ZodSymbol:iy,ZodUndefined:km,ZodNull:Cm,ZodAny:cf,ZodUnknown:dd,ZodNever:so,ZodVoid:ly,ZodArray:_i,ZodObject:lr,ZodUnion:Am,ZodDiscriminatedUnion:dv,ZodIntersection:Tm,ZodTuple:ul,ZodRecord:Rm,ZodMap:oy,ZodSet:yd,ZodFunction:Qu,ZodLazy:Dm,ZodLiteral:Om,ZodEnum:xc,ZodNativeEnum:Mm,ZodPromise:df,ZodEffects:Ci,ZodTransformer:Ci,ZodOptional:al,ZodNullable:gc,ZodDefault:Pm,ZodCatch:Lm,ZodNaN:cy,BRAND:jQ,ZodBranded:O1,ZodPipeline:hp,ZodReadonly:Im,custom:eP,Schema:Bt,ZodSchema:Bt,late:wQ,get ZodFirstPartyTypeKind(){return _t},coerce:uf,any:TQ,array:M1,bigint:SQ,boolean:mp,date:EQ,discriminatedUnion:LQ,effect:HC,enum:P1,function:qQ,instanceof:NQ,intersection:IQ,lazy:BQ,literal:HQ,map:zQ,nan:_Q,nativeEnum:tP,never:DQ,null:AQ,nullable:WQ,number:uv,object:oo,oboolean:QQ,onumber:XQ,optional:YQ,ostring:KQ,pipeline:ZQ,preprocess:GQ,promise:VQ,record:FQ,set:$Q,strictObject:MQ,string:as,symbol:kQ,transformer:HC,tuple:UQ,undefined:CQ,union:PQ,unknown:RQ,void:OQ,NEVER:JQ,ZodIssueCode:Fe,quotelessJson:XX,ZodError:_a});const Ct=x.forwardRef(({className:t,type:e,...r},n)=>s.jsx("input",{type:e,className:Pe("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));Ct.displayName="Input";var eJ="Label",sP=x.forwardRef((t,e)=>s.jsx(Xe.label,{...t,ref:e,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=t.onMouseDown)==null||a.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));sP.displayName=eJ;var rP=sP;const tJ=By("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),kt=x.forwardRef(({className:t,...e},r)=>s.jsx(rP,{ref:r,className:Pe(tJ(),t),...e}));kt.displayName=rP.displayName;const co=AX,nP=x.createContext({}),Jt=({...t})=>s.jsx(nP.Provider,{value:{name:t.name},children:s.jsx(DX,{...t})}),fv=()=>{const t=x.useContext(nP),e=x.useContext(aP),{getFieldState:r}=fp(),n=IM({name:t.name}),a=r(t.name,n);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:l}=e;return{id:l,name:t.name,formItemId:`${l}-form-item`,formDescriptionId:`${l}-form-item-description`,formMessageId:`${l}-form-item-message`,...a}},aP=x.createContext({});function es({className:t,...e}){const r=x.useId();return s.jsx(aP.Provider,{value:{id:r},children:s.jsx("div",{"data-slot":"form-item",className:Pe("grid gap-2",t),...e})})}function Gt({className:t,...e}){const{error:r,formItemId:n}=fv();return s.jsx(kt,{"data-slot":"form-label","data-error":!!r,className:Pe("data-[error=true]:text-destructive",t),htmlFor:n,...e})}function rs({...t}){const{error:e,formItemId:r,formDescriptionId:n,formMessageId:a}=fv();return s.jsx(gN,{"data-slot":"form-control",id:r,"aria-describedby":e?`${n} ${a}`:`${n}`,"aria-invalid":!!e,...t})}function Qr({className:t,...e}){const{formDescriptionId:r}=fv();return s.jsx("p",{"data-slot":"form-description",id:r,className:Pe("text-muted-foreground text-sm",t),...e})}function ns({className:t,...e}){const{error:r,formMessageId:n}=fv(),a=r?String((r==null?void 0:r.message)??""):e.children;return a?s.jsx("p",{"data-slot":"form-message",id:n,className:Pe("text-destructive text-sm",t),...e,children:a}):null}const sJ=oo({email:as().email("Please enter a valid email address"),password:as().min(1,"Password is required"),mfa_code:as().optional()});function VC(){var k;const[t,e]=x.useState(!1),[r,n]=x.useState(!1),[a,l]=x.useState(""),{login:c,loading:d,error:f,mfaRequired:h,clearAuthError:p,isAuthenticated:g,user:y}=yr(),b=ht(),w=((k=Ca().state)==null?void 0:k.from)||"/dashboard";ye.useEffect(()=>{g&&y&&b(w,{replace:!0})},[g,y,b,w]);const _=ti({resolver:si(sJ),defaultValues:{email:"",password:"",mfa_code:""}});ye.useEffect(()=>{h&&(n(!0),l("Please enter your MFA code to continue"))},[h]),ye.useEffect(()=>{(f||a)&&(p(),l(""))},[_.watch(),p]);const E=async R=>{try{l("");const L={email:R.email,password:R.password,...R.mfa_code&&{mfa_code:R.mfa_code}};await c(L),b(w,{replace:!0})}catch(L){console.error("Login error:",L),L.requires_mfa?(n(!0),l(L.message||"MFA code required")):(l(L.message||"Login failed. Please check your credentials."),n(!1))}},S=()=>{b("/forgot-password",{state:{email:_.getValues("email")}})};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted/5 px-4",children:s.jsxs("div",{className:"w-full max-w-md space-y-6",children:[s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx("img",{src:nc,alt:"OKOCE HRIS",className:"h-12 w-auto"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Welcome back"}),s.jsx("p",{className:"text-muted-foreground",children:"Sign in to your HRIS account"})]})]}),s.jsxs(ee,{children:[s.jsxs(ue,{className:"space-y-1",children:[s.jsx(xe,{className:"text-xl",children:"Sign in"}),s.jsx(Tt,{children:"Enter your email and password to access your account"})]}),s.jsx(co,{..._,children:s.jsxs("form",{onSubmit:_.handleSubmit(E),children:[s.jsxs(te,{className:"space-y-4",children:[(f||a)&&s.jsx(Br,{variant:"destructive",children:s.jsx(Hr,{children:a||(typeof f=="string"?f:f&&typeof f=="object"?Array.isArray(f.detail)?f.detail.join(", "):f.detail||f.message||"Login failed":"An error occurred")})}),s.jsx(Jt,{control:_.control,name:"email",render:({field:R})=>s.jsxs(es,{children:[s.jsx(Gt,{children:"Email"}),s.jsx(rs,{children:s.jsx(Ct,{type:"email",placeholder:"Enter your email",disabled:d,...R})}),s.jsx(ns,{})]})}),s.jsx(Jt,{control:_.control,name:"password",render:({field:R})=>s.jsxs(es,{children:[s.jsx(Gt,{children:"Password"}),s.jsx(rs,{children:s.jsxs("div",{className:"relative",children:[s.jsx(Ct,{type:t?"text":"password",placeholder:"Enter your password",disabled:d,...R}),s.jsx(re,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>e(!t),disabled:d,children:t?s.jsx(nl,{className:"h-4 w-4 text-muted-foreground"}):s.jsx(Ut,{className:"h-4 w-4 text-muted-foreground"})})]})}),s.jsx(ns,{})]})}),r&&s.jsx(Jt,{control:_.control,name:"mfa_code",render:({field:R})=>s.jsxs(es,{children:[s.jsxs(Gt,{className:"flex items-center gap-2",children:[s.jsx(ol,{className:"h-4 w-4"}),"MFA Code"]}),s.jsx(rs,{children:s.jsx(Ct,{type:"text",placeholder:"Enter your 6-digit MFA code",maxLength:8,disabled:d,...R})}),s.jsx(ns,{}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter the code from your authenticator app or use a backup code"})]})}),s.jsx("div",{className:"flex justify-end",children:s.jsx(re,{type:"button",variant:"link",size:"sm",className:"px-0 h-auto font-normal",onClick:S,disabled:d,children:"Forgot password?"})})]}),s.jsx(FO,{className:"flex flex-col space-y-4 mt-4",children:s.jsx(re,{type:"submit",className:"w-full",disabled:d,children:d?s.jsxs(s.Fragment,{children:[s.jsx(js,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):"Sign in"})})]})})]})]})})}const{toast:Fs}=tr(),ff={register:async t=>{var e,r;try{const n=await ve.post("/auth/register",t);return Fs({title:"Success",description:"Account created successfully"}),n.data}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Registration failed";throw Fs({title:"Registration Failed",description:a,variant:"destructive"}),new Error(a)}},login:async t=>{var e,r;try{return(await ve.post("/auth/login",t)).data}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Login failed";throw Fs({title:"Login Failed",description:a,variant:"destructive"}),new Error(a)}},logout:async t=>{try{const e=await ve.post("/auth/logout",t?{session_id:t}:{});return Fs({title:"Success",description:"Logged out successfully"}),e.data}catch(e){return console.error("Logout error:",e),{success:!1,message:"Logout failed"}}},logoutAllDevices:async()=>{var t,e,r;try{const n=await ve.post("/auth/logout-all");return Fs({title:"Success",description:`Logged out from ${((t=n.data.data)==null?void 0:t.sessions_terminated)||"all"} devices`}),n.data}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to logout from all devices";throw Fs({title:"Error",description:a,variant:"destructive"}),new Error(a)}},revokeSession:async t=>{var e,r;try{const n=await ve.post(`/auth/revoke-session/${t}`);return Fs({title:"Success",description:"Session revoked successfully"}),n.data}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to revoke session";throw Fs({title:"Error",description:a,variant:"destructive"}),new Error(a)}},refreshToken:async()=>{var t,e;try{return(await ve.post("/auth/refresh")).data}catch(r){throw new Error(((e=(t=r.response)==null?void 0:t.data)==null?void 0:e.detail)||"Token refresh failed")}},verifyToken:async()=>{var t,e;try{return(await ve.post("/auth/verify")).data}catch(r){throw new Error(((e=(t=r.response)==null?void 0:t.data)==null?void 0:e.detail)||"Token verification failed")}},changePassword:async t=>{var e,r;try{const n=await ve.post("/auth/change-password",t);return Fs({title:"Success",description:"Password changed successfully"}),n.data}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to change password";throw Fs({title:"Error",description:a,variant:"destructive"}),new Error(a)}},checkPasswordStrength:async t=>{try{return(await ve.post("/auth/check-password-strength",{password:t})).data}catch(e){return console.error("Password strength check error:",e),{valid:!1,strength_score:0,errors:["Unable to check password strength"],feedback:["Please try a different password"]}}},requestPasswordReset:async t=>{var e,r;try{const n=await ve.post("/auth/request-password-reset",{email:t});return Fs({title:"Success",description:"Password reset instructions sent to your email"}),n.data}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to send reset email";throw Fs({title:"Error",description:a,variant:"destructive"}),new Error(a)}},confirmPasswordReset:async t=>{var e,r;try{const n=await ve.post("/auth/confirm-password-reset",t);return Fs({title:"Success",description:"Password reset successfully"}),n.data}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to reset password";throw Fs({title:"Error",description:a,variant:"destructive"}),new Error(a)}},unlockAccount:async t=>{var e,r;try{const n=await ve.post(`/auth/unlock-account/${t}`);return Fs({title:"Success",description:"Account unlocked successfully"}),n.data}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to unlock account";throw Fs({title:"Error",description:a,variant:"destructive"}),new Error(a)}},getUserSessions:async()=>{var t,e;try{return(await ve.get("/auth/sessions")).data}catch(r){const n=((e=(t=r.response)==null?void 0:t.data)==null?void 0:e.detail)||"Failed to fetch sessions";throw Fs({title:"Error",description:n,variant:"destructive"}),new Error(n)}},mfa:{enable:async()=>{var t,e;try{return(await ve.post("/mfa/enable")).data}catch(r){const n=((e=(t=r.response)==null?void 0:t.data)==null?void 0:e.detail)||"Failed to enable MFA";throw Fs({title:"Error",description:n,variant:"destructive"}),new Error(n)}},verify:async t=>{var e,r;try{const n=await ve.post("/mfa/verify",{code:t});return n.data.success&&Fs({title:"Success",description:"MFA enabled successfully"}),n.data}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Invalid MFA code";throw Fs({title:"Error",description:a,variant:"destructive"}),new Error(a)}},disable:async t=>{var e,r;try{const n=await ve.post("/mfa/disable",{code:t});return n.data.success&&Fs({title:"Success",description:"MFA disabled successfully"}),n.data}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to disable MFA";throw Fs({title:"Error",description:a,variant:"destructive"}),new Error(a)}},getStatus:async()=>{try{return(await ve.get("/mfa/status")).data}catch(t){return console.error("MFA status error:",t),{mfa_enabled:!1,backup_codes_remaining:0}}},regenerateBackupCodes:async()=>{var t,e;try{const r=await ve.post("/mfa/backup-codes/regenerate");return Fs({title:"Success",description:"Backup codes regenerated successfully"}),r.data}catch(r){const n=((e=(t=r.response)==null?void 0:t.data)==null?void 0:e.detail)||"Failed to regenerate backup codes";throw Fs({title:"Error",description:n,variant:"destructive"}),new Error(n)}}},admin:{disableMfa:async t=>{var e,r;try{const n=await ve.post(`/mfa/admin/disable/${t}`);return n.data.success&&Fs({title:"Success",description:`MFA disabled for user ${t}`}),n.data}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to disable user MFA";throw Fs({title:"Error",description:a,variant:"destructive"}),new Error(a)}},getMfaStats:async()=>{var t,e;try{return(await ve.get("/mfa/admin/stats")).data}catch(r){const n=((e=(t=r.response)==null?void 0:t.data)==null?void 0:e.detail)||"Failed to fetch MFA statistics";throw Fs({title:"Error",description:n,variant:"destructive"}),new Error(n)}}}},rJ=()=>{const[t,e]=x.useState({email:"",password:"",first_name:"",last_name:""}),[r,n]=x.useState(""),[a,l]=x.useState(!1),[c,d]=x.useState(!1),[f,h]=x.useState(!1),[p,g]=x.useState(""),[y,b]=x.useState(null),[j,w]=x.useState(!1),_=ht(),E=T=>{const{name:O,value:P}=T.target;e(X=>({...X,[O]:P})),O==="password"&&S(P)},S=async T=>{if(!T){b(null);return}w(!0);try{const O=await ff.checkPasswordStrength(T);b(O)}catch(O){console.error("Password check failed:",O)}finally{w(!1)}},k=()=>!t.email||!t.password||!t.first_name?(g("Please fill in all required fields"),!1):t.password!==r?(g("Passwords do not match"),!1):y&&!y.valid?(g("Please choose a stronger password"),!1):!0,R=async T=>{if(T.preventDefault(),g(""),!!k()){h(!0);try{await ff.register(t),_("/login",{state:{message:"Account created successfully! Please log in.",email:t.email}})}catch(O){g(O.message||"Registration failed")}finally{h(!1)}}},L=T=>T>=4?"text-green-600":T>=3?"text-yellow-600":T>=2?"text-orange-600":"text-red-600",I=T=>T>=4?"Strong":T>=3?"Good":T>=2?"Fair":"Weak";return s.jsxs(s.Fragment,{children:[s.jsxs(LI,{children:[s.jsx("title",{children:"Register - OK OCE HRIS"}),s.jsx("meta",{name:"description",content:"Create a new account"})]}),s.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background px-4 py-12",children:[s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx("img",{src:nc,alt:"OKOCE HRIS",className:"h-12 w-auto"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Welcome"}),s.jsx("p",{className:"text-muted-foreground",children:"Sign up your HRIS account"})]})]}),s.jsxs(ee,{className:"w-full max-w-md",children:[s.jsxs(ue,{className:"space-y-1",children:[s.jsx(xe,{className:"text-xl",children:"Sign up"}),s.jsx(Tt,{children:"Create your account by filling these forms"})]}),s.jsxs("form",{onSubmit:R,children:[s.jsxs(te,{className:"space-y-4",children:[p&&s.jsxs(Br,{variant:"destructive",children:[s.jsx(An,{className:"h-4 w-4"}),s.jsx(Hr,{children:p})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{htmlFor:"first_name",children:"First Name *"}),s.jsx(Ct,{id:"first_name",name:"first_name",type:"text",value:t.first_name,onChange:E,disabled:f,required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{htmlFor:"last_name",children:"Last Name"}),s.jsx(Ct,{id:"last_name",name:"last_name",type:"text",value:t.last_name,onChange:E,disabled:f})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{htmlFor:"email",children:"Email *"}),s.jsx(Ct,{id:"email",name:"email",type:"email",value:t.email,onChange:E,disabled:f,required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{htmlFor:"password",children:"Password *"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ct,{id:"password",name:"password",type:a?"text":"password",value:t.password,onChange:E,disabled:f,required:!0,className:"pr-10"}),s.jsx("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2",onClick:()=>l(!a),tabIndex:-1,children:a?s.jsx(nl,{className:"h-4 w-4 text-muted-foreground"}):s.jsx(Ut,{className:"h-4 w-4 text-muted-foreground"})})]}),t.password&&!j&&y&&s.jsxs("div",{className:"text-sm space-y-1",children:[s.jsxs("div",{className:`font-medium ${L(y.strength_score)}`,children:["Password strength: ",I(y.strength_score)]}),y.errors.length>0&&s.jsx("div",{className:"text-red-600 space-y-1",children:y.errors.map((T,O)=>s.jsxs("div",{className:"flex items-start gap-1",children:[s.jsx(An,{className:"h-3 w-3 mt-0.5 flex-shrink-0"}),s.jsx("span",{className:"text-xs",children:T})]},O))}),y.feedback.length>0&&s.jsx("div",{className:"text-blue-600 space-y-1",children:y.feedback.map((T,O)=>s.jsxs("div",{className:"flex items-start gap-1",children:[s.jsx(cr,{className:"h-3 w-3 mt-0.5 flex-shrink-0"}),s.jsx("span",{className:"text-xs",children:T})]},O))})]}),j&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(js,{className:"h-3 w-3 animate-spin"}),"Checking password strength..."]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{htmlFor:"confirmPassword",children:"Confirm Password *"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ct,{id:"confirmPassword",name:"confirmPassword",type:c?"text":"password",value:r,onChange:T=>n(T.target.value),disabled:f,required:!0,className:"pr-10"}),s.jsx("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2",onClick:()=>d(!c),tabIndex:-1,children:c?s.jsx(nl,{className:"h-4 w-4 text-muted-foreground"}):s.jsx(Ut,{className:"h-4 w-4 text-muted-foreground"})})]}),r&&t.password!==r&&s.jsxs("div",{className:"flex items-center gap-1 text-sm text-red-600",children:[s.jsx(An,{className:"h-3 w-3"}),"Passwords do not match"]}),r&&t.password===r&&s.jsxs("div",{className:"flex items-center gap-1 text-sm text-green-600",children:[s.jsx(cr,{className:"h-3 w-3"}),"Passwords match"]})]})]}),s.jsxs(FO,{className:"flex flex-col space-y-4",children:[s.jsx(re,{type:"submit",className:"w-full",disabled:f||(y?!y.valid:!1),children:f?s.jsxs(s.Fragment,{children:[s.jsx(js,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating Account..."]}):"Create Account"}),s.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:["Already have an account?"," ",s.jsx(ja,{to:"/login",className:"font-medium text-primary hover:underline",children:"Sign in"})]})]})]})]})]})]})},nJ=oo({email:as().email("Please enter a valid email address")});function aJ(){var g;const[t,e]=x.useState(!1),[r,n]=x.useState(""),[a,l]=x.useState(!1),c=ht(),d=Ca(),f=ti({resolver:si(nJ),defaultValues:{email:((g=d.state)==null?void 0:g.email)||""}}),h=async y=>{try{e(!0),n(""),await ff.requestPasswordReset(y.email),l(!0)}catch(b){console.error("Password reset request error:",b),n(b.message||"Failed to send reset email. Please try again.")}finally{e(!1)}},p=()=>{c("/login",{state:{email:f.getValues("email")}})};return a?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted/5 px-4",children:s.jsxs("div",{className:"w-full max-w-md space-y-6",children:[s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx("img",{src:nc,alt:"OKOCE HRIS",className:"h-12 w-auto"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Check your email"}),s.jsx("p",{className:"text-muted-foreground",children:"Password reset instructions sent"})]})]}),s.jsxs(ee,{children:[s.jsxs(ue,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx(cr,{className:"h-12 w-12 text-green-600"})}),s.jsx(xe,{className:"text-xl",children:"Email sent successfully"}),s.jsxs(Tt,{children:["We've sent password reset instructions to"," ",s.jsx("span",{className:"font-medium text-foreground",children:f.getValues("email")})]})]}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{className:"rounded-lg bg-muted/50 p-4 text-sm",children:[s.jsx("p",{className:"mb-2 font-medium",children:"What's next?"}),s.jsxs("ul",{className:"space-y-1 text-muted-foreground",children:[s.jsx("li",{children:"1. Check your email inbox"}),s.jsx("li",{children:"2. Click the reset link in the email"}),s.jsx("li",{children:"3. Create a new password"})]})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs(re,{onClick:p,variant:"outline",className:"w-full",children:[s.jsx($t,{className:"mr-2 h-4 w-4"}),"Back to login"]}),s.jsx(re,{onClick:()=>{l(!1),f.reset()},variant:"link",className:"w-full",children:"Send to different email"})]})]})]}),s.jsx("div",{className:"text-center",children:s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Didn't receive the email? Check your spam folder or"," ",s.jsx(re,{variant:"link",size:"sm",className:"px-0 h-auto font-normal text-xs",onClick:()=>{l(!1),f.reset()},children:"try again"})]})})]})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted/5 px-4",children:s.jsxs("div",{className:"w-full max-w-md space-y-6",children:[s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx("img",{src:nc,alt:"OKOCE HRIS",className:"h-12 w-auto"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Forgot password?"}),s.jsx("p",{className:"text-muted-foreground",children:"Enter your email address and we'll send you a link to reset your password"})]})]}),s.jsxs(ee,{children:[s.jsxs(ue,{className:"space-y-1",children:[s.jsxs(xe,{className:"text-xl flex items-center gap-2",children:[s.jsx(vm,{className:"h-5 w-5"}),"Reset password"]}),s.jsx(Tt,{children:"We'll send reset instructions to your email address"})]}),s.jsx(co,{...f,children:s.jsx("form",{onSubmit:f.handleSubmit(h),children:s.jsxs(te,{className:"space-y-4",children:[r&&s.jsx(Br,{variant:"destructive",children:s.jsx(Hr,{children:r})}),s.jsx(Jt,{control:f.control,name:"email",render:({field:y})=>s.jsxs(es,{children:[s.jsx(Gt,{children:"Email address"}),s.jsx(rs,{children:s.jsx(Ct,{type:"email",placeholder:"Enter your email address",disabled:t,...y})}),s.jsx(ns,{})]})}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx(re,{type:"submit",className:"w-full",disabled:t,children:t?s.jsxs(s.Fragment,{children:[s.jsx(js,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending reset email..."]}):s.jsxs(s.Fragment,{children:[s.jsx(vm,{className:"mr-2 h-4 w-4"}),"Send reset email"]})}),s.jsxs(re,{type:"button",variant:"outline",onClick:p,disabled:t,children:[s.jsx($t,{className:"mr-2 h-4 w-4"}),"Back to login"]})]})]})})})]}),s.jsx("div",{className:"text-center",children:s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Remember your password?"," ",s.jsx(re,{variant:"link",size:"sm",className:"px-0 h-auto font-normal text-xs",onClick:p,children:"Sign in instead"})]})})]})})}const iJ=oo({password:as().min(8,"Password must be at least 8 characters").regex(/[A-Z]/,"Password must contain at least one uppercase letter").regex(/[a-z]/,"Password must contain at least one lowercase letter").regex(/[0-9]/,"Password must contain at least one number").regex(/[^A-Za-z0-9]/,"Password must contain at least one special character"),confirmPassword:as()}).refine(t=>t.password===t.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function lJ(){const[t,e]=x.useState(!1),[r,n]=x.useState(!1),[a,l]=x.useState(!1),[c,d]=x.useState(""),[f,h]=x.useState(!1),[p,g]=x.useState(null),[y,b]=x.useState(null),[j,w]=x.useState(!1),_=ht(),[E]=E4(),S=E.get("token"),k=ti({resolver:si(iJ),defaultValues:{password:"",confirmPassword:""}}),R=k.watch("password");x.useEffect(()=>{if(!S){g(!1),d("Invalid or missing reset token");return}g(!0)},[S]),x.useEffect(()=>{if(R&&R.length>=3){w(!0);const T=setTimeout(async()=>{try{const O=await ff.checkPasswordStrength(R);b(O)}catch(O){console.error("Password strength check error:",O)}finally{w(!1)}},500);return()=>clearTimeout(T)}else b(null)},[R]);const L=async T=>{if(!S){d("Invalid or missing reset token");return}try{l(!0),d(""),await ff.confirmPasswordReset({token:S,new_password:T.password}),h(!0)}catch(O){console.error("Password reset error:",O),d(O.message||"Failed to reset password. Please try again.")}finally{l(!1)}},I=()=>{_("/login")};return p===!1?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted/5 px-4",children:s.jsxs("div",{className:"w-full max-w-md space-y-6",children:[s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx("img",{src:nc,alt:"OKOCE HRIS",className:"h-12 w-auto"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Invalid Link"}),s.jsx("p",{className:"text-muted-foreground",children:"Password reset link is invalid or expired"})]})]}),s.jsxs(ee,{children:[s.jsxs(ue,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx(ym,{className:"h-12 w-12 text-red-600"})}),s.jsx(xe,{className:"text-xl",children:"Link expired"}),s.jsx(Tt,{children:"The password reset link is invalid or has expired"})]}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{className:"rounded-lg bg-muted/50 p-4 text-sm",children:[s.jsx("p",{className:"mb-2 font-medium",children:"What can you do?"}),s.jsxs("ul",{className:"space-y-1 text-muted-foreground",children:[s.jsx("li",{children:" Request a new password reset link"}),s.jsx("li",{children:" Make sure you're using the latest email"}),s.jsx("li",{children:" Check that the link hasn't expired"})]})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx(re,{onClick:()=>_("/forgot-password"),className:"w-full",children:"Request new reset link"}),s.jsx(re,{onClick:I,variant:"outline",className:"w-full",children:"Back to login"})]})]})]})]})}):f?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted/5 px-4",children:s.jsxs("div",{className:"w-full max-w-md space-y-6",children:[s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx("img",{src:nc,alt:"OKOCE HRIS",className:"h-12 w-auto"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Password reset"}),s.jsx("p",{className:"text-muted-foreground",children:"Your password has been successfully reset"})]})]}),s.jsxs(ee,{children:[s.jsxs(ue,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx(cr,{className:"h-12 w-12 text-green-600"})}),s.jsx(xe,{className:"text-xl",children:"Password updated!"}),s.jsx(Tt,{children:"Your password has been successfully changed"})]}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{className:"rounded-lg bg-muted/50 p-4 text-sm",children:[s.jsx("p",{className:"mb-2 font-medium",children:"What's next?"}),s.jsxs("ul",{className:"space-y-1 text-muted-foreground",children:[s.jsx("li",{children:" Your password is now updated"}),s.jsx("li",{children:" You can now sign in with your new password"}),s.jsx("li",{children:" Keep your password secure"})]})]}),s.jsx(re,{onClick:I,className:"w-full",children:"Continue to sign in"})]})]})]})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted/5 px-4",children:s.jsxs("div",{className:"w-full max-w-md space-y-6",children:[s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx("img",{src:nc,alt:"OKOCE HRIS",className:"h-12 w-auto"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Reset password"}),s.jsx("p",{className:"text-muted-foreground",children:"Enter your new password below"})]})]}),s.jsxs(ee,{children:[s.jsxs(ue,{className:"space-y-1",children:[s.jsxs(xe,{className:"text-xl flex items-center gap-2",children:[s.jsx(qg,{className:"h-5 w-5"}),"Create new password"]}),s.jsx(Tt,{children:"Your new password must be strong and secure"})]}),s.jsx(co,{...k,children:s.jsx("form",{onSubmit:k.handleSubmit(L),children:s.jsxs(te,{className:"space-y-4",children:[c&&s.jsx(Br,{variant:"destructive",children:s.jsx(Hr,{children:c})}),s.jsx(Jt,{control:k.control,name:"password",render:({field:T})=>s.jsxs(es,{children:[s.jsx(Gt,{children:"New password"}),s.jsx(rs,{children:s.jsxs("div",{className:"relative",children:[s.jsx(Ct,{type:t?"text":"password",placeholder:"Enter your new password",disabled:a,...T}),s.jsx(re,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>e(!t),disabled:a,children:t?s.jsx(nl,{className:"h-4 w-4 text-muted-foreground"}):s.jsx(Ut,{className:"h-4 w-4 text-muted-foreground"})})]})}),s.jsx(ns,{})]})}),R&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm font-medium",children:"Password strength:"}),j&&s.jsx(js,{className:"h-3 w-3 animate-spin"})]}),y&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(_m,{value:y.strength_score*20,className:"flex-1 h-2"}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:[y.strength_score,"/5"]})]}),y.errors.length>0&&s.jsx("ul",{className:"text-xs text-red-600 space-y-1",children:y.errors.map((T,O)=>s.jsxs("li",{children:[" ",T]},O))}),y.feedback.length>0&&s.jsx("ul",{className:"text-xs text-muted-foreground space-y-1",children:y.feedback.map((T,O)=>s.jsxs("li",{children:[" ",T]},O))})]})]}),s.jsx(Jt,{control:k.control,name:"confirmPassword",render:({field:T})=>s.jsxs(es,{children:[s.jsx(Gt,{children:"Confirm new password"}),s.jsx(rs,{children:s.jsxs("div",{className:"relative",children:[s.jsx(Ct,{type:r?"text":"password",placeholder:"Confirm your new password",disabled:a,...T}),s.jsx(re,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>n(!r),disabled:a,children:r?s.jsx(nl,{className:"h-4 w-4 text-muted-foreground"}):s.jsx(Ut,{className:"h-4 w-4 text-muted-foreground"})})]})}),s.jsx(ns,{})]})}),s.jsx(re,{type:"submit",className:"w-full",disabled:a||!(y!=null&&y.valid),children:a?s.jsxs(s.Fragment,{children:[s.jsx(js,{className:"mr-2 h-4 w-4 animate-spin"}),"Updating password..."]}):"Update password"})]})})})]}),s.jsx("div",{className:"text-center",children:s.jsx(re,{variant:"link",size:"sm",onClick:I,className:"text-xs",children:"Back to login"})})]})})}const iP=({message:t="Loading..."})=>s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background",children:s.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[s.jsx(js,{className:"h-8 w-8 animate-spin text-primary"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:t})]})}),oJ=({children:t,fallback:e=null,requireRoles:r=[],requireMfa:n=!1,redirectTo:a="/login",allowUnauthenticated:l=!1})=>{var j;const{isAuthenticated:c,user:d,loading:f,mfaRequired:h,mfaVerified:p,checkAuth:g,isTokenValid:y}=yr(),b=Ca();if(x.useEffect(()=>{c&&!y()&&g()},[c,b.pathname]),f)return s.jsx(iP,{message:"Verifying authentication..."});if(l)return s.jsx(s.Fragment,{children:t});if(!c||!d)return e?s.jsx(s.Fragment,{children:e}):s.jsx(ad,{to:a,state:{from:b.pathname},replace:!0});if(!d.is_active)return s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("h2",{className:"text-2xl font-bold text-destructive",children:"Account Inactive"}),s.jsx("p",{className:"text-muted-foreground",children:"Your account has been deactivated. Please contact support for assistance."})]})});if(d.force_password_change)return s.jsx(ad,{to:"/change-password",state:{from:b.pathname,forced:!0},replace:!0});if((n||h&&!p)&&d.mfa_enabled&&!p)return s.jsx(ad,{to:"/mfa-verify",state:{from:b.pathname},replace:!0});if(r.length>0){const w=((j=d.roles)==null?void 0:j.map(E=>E.name))||[];if(!r.some(E=>w.includes(E)))return e?s.jsx(s.Fragment,{children:e}):s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("h2",{className:"text-2xl font-bold text-destructive",children:"Access Denied"}),s.jsx("p",{className:"text-muted-foreground",children:"You don't have the required permissions to access this page."}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Required roles: ",r.join(", ")]})]})})}return s.jsx(s.Fragment,{children:t})},zr=t=>s.jsx(oJ,{...t,requireRoles:["user","admin","master_admin"]}),Bx=({children:t,redirectTo:e="/dashboard"})=>{const{isAuthenticated:r,loading:n,user:a,isTokenValid:l,checkAuth:c}=yr();return x.useEffect(()=>{c()},[]),n?s.jsx(iP,{message:"Checking authentication..."}):r&&a&&l()?s.jsx(ad,{to:e,replace:!0}):s.jsx(s.Fragment,{children:t})};function ps({children:t,allowedRoles:e=[],redirectTo:r="/dashboard",fallback:n,requireRoles:a=!1}){var p;const{user:l,isAuthenticated:c}=wc(g=>g.auth);if(!c)return s.jsx(ad,{to:"/login",replace:!0});const d=((p=l==null?void 0:l.roles)==null?void 0:p.map(g=>g.name))||[],f=d.length>0;return a&&!f?s.jsx(ad,{to:"/",replace:!0}):e.length===0?s.jsx(s.Fragment,{children:t}):e.some(g=>d.includes(g))?s.jsx(s.Fragment,{children:t}):n?s.jsx(s.Fragment,{children:n}):s.jsx(ad,{to:r,replace:!0})}function uo(){var p;const t=wc(g=>g.auth.user),e=((p=t==null?void 0:t.roles)==null?void 0:p.map(g=>g.name))||[],r=e.length>0,n=g=>(Array.isArray(g)?g:[g]).some(b=>e.includes(b)),a=g=>g.some(y=>e.includes(y)),l=g=>g.every(y=>e.includes(y)),c=g=>UO(g,e),d=n("master_admin"),f=n("admin"),h=n("user");return{userRoles:e,hasRoles:r,hasRole:n,hasAnyRole:a,hasAllRoles:l,canAccessRoute:c,isMasterAdmin:d,isAdmin:f,isUser:h}}const{toast:$r}=tr(),Cn={createWorkPlan:async t=>{var e,r;try{const n=await ve.post("/work-plans/",t);return $r({title:"Success",description:"Work plan created successfully"}),n.data}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to create work plan";throw $r({title:"Error",description:a,variant:"destructive"}),new Error(a)}},getMyWorkPlans:async t=>{var e,r;try{const n={};return t&&(t.page!==void 0&&(n.page=t.page),t.size!==void 0&&(n.size=t.size),t.search&&(n.search=t.search),t.activity_contains&&(n.activity_contains=t.activity_contains),t.status&&t.status!=="all"&&(n.status=t.status),t.date_from&&(n.date_from=t.date_from),t.date_to&&(n.date_to=t.date_to),t.week_start_date&&(n.week_start_date=t.week_start_date),t.month&&(n.month=t.month),t.year&&(n.year=t.year),t.user_name_contains&&(n.user_name_contains=t.user_name_contains),t.has_completed_details!==void 0&&(n.has_completed_details=t.has_completed_details),t.completion_rate_min!==void 0&&(n.completion_rate_min=t.completion_rate_min),t.completion_rate_max!==void 0&&(n.completion_rate_max=t.completion_rate_max),t.sort_by&&(n.sort_by=t.sort_by),t.sort_order&&(n.sort_order=t.sort_order)),(await ve.get("/work-plans/my-plans",{params:n})).data}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to fetch work plans";throw $r({title:"Error",description:a,variant:"destructive"}),new Error(a)}},getSummary:async()=>{var t,e;try{return(await ve.get("/work-plans/summary")).data}catch(r){const n=((e=(t=r.response)==null?void 0:t.data)==null?void 0:e.detail)||"Failed to fetch work plan summary";throw $r({title:"Error",description:n,variant:"destructive"}),new Error(n)}},canCreatePlan:async t=>{var e,r;try{return(await ve.get(`/work-plans/can-create/${t}`)).data}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to check plan creation eligibility";throw $r({title:"Error",description:a,variant:"destructive"}),new Error(a)}},getWorkPlanById:async t=>{var e,r;try{return(await ve.get(`/work-plans/${t}`)).data}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to fetch work plan";throw $r({title:"Error",description:a,variant:"destructive"}),new Error(a)}},updateWorkPlan:async(t,e)=>{var r,n;try{const a=await ve.put(`/work-plans/${t}`,e);return $r({title:"Success",description:"Work plan updated successfully"}),a.data}catch(a){const l=((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.detail)||"Failed to update work plan";throw $r({title:"Error",description:l,variant:"destructive"}),new Error(l)}},deleteWorkPlan:async t=>{var e,r;try{return await ve.delete(`/work-plans/${t}`),$r({title:"Success",description:"Work plan deleted successfully"}),{success:!0}}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to delete work plan";throw $r({title:"Error",description:a,variant:"destructive"}),new Error(a)}},markDetailCompleted:async(t,e,r)=>{var n,a;try{const l=await ve.post(`/work-plans/${t}/details/${e}/complete`,r);return $r({title:"Success",description:"Work plan detail updated successfully"}),l.data}catch(l){const c=((a=(n=l.response)==null?void 0:n.data)==null?void 0:a.detail)||"Failed to update work plan detail";throw $r({title:"Error",description:c,variant:"destructive"}),new Error(c)}},getAvailableWorkPlanDetails:async t=>{var e,r;try{return(await ve.get(`/work-plans/available/${t}`)).data}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to fetch available work plan details";throw $r({title:"Error",description:a,variant:"destructive"}),new Error(a)}},admin:{getAllWorkPlans:async t=>{var e,r;try{const n={};return t&&(t.page!==void 0&&(n.page=t.page),t.size!==void 0&&(n.size=t.size),t.search&&(n.search=t.search),t.activity_contains&&(n.activity_contains=t.activity_contains),t.status&&t.status!=="all"&&(n.status=t.status),t.date_from&&(n.date_from=t.date_from),t.date_to&&(n.date_to=t.date_to),t.week_start_date&&(n.week_start_date=t.week_start_date),t.month&&(n.month=t.month),t.year&&(n.year=t.year),t.user_id&&(n.user_id=t.user_id),t.user_name_contains&&(n.user_name_contains=t.user_name_contains),t.org_unit_id&&(n.org_unit_id=t.org_unit_id),t.has_completed_details!==void 0&&(n.has_completed_details=t.has_completed_details),t.completion_rate_min!==void 0&&(n.completion_rate_min=t.completion_rate_min),t.completion_rate_max!==void 0&&(n.completion_rate_max=t.completion_rate_max),t.sort_by&&(n.sort_by=t.sort_by),t.sort_order&&(n.sort_order=t.sort_order)),(await ve.get("/work-plans/admin/all",{params:n})).data}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to fetch all work plans";throw $r({title:"Error",description:a,variant:"destructive"}),new Error(a)}},getWorkPlansByOrgUnit:async(t,e)=>{var r,n;try{const a={};return e&&(e.page!==void 0&&(a.page=e.page),e.size!==void 0&&(a.size=e.size),e.search&&(a.search=e.search),e.activity_contains&&(a.activity_contains=e.activity_contains),e.status&&e.status!=="all"&&(a.status=e.status),e.date_from&&(a.date_from=e.date_from),e.date_to&&(a.date_to=e.date_to),e.week_start_date&&(a.week_start_date=e.week_start_date),e.month&&(a.month=e.month),e.year&&(a.year=e.year),e.user_id&&(a.user_id=e.user_id),e.user_name_contains&&(a.user_name_contains=e.user_name_contains),e.has_completed_details!==void 0&&(a.has_completed_details=e.has_completed_details),e.completion_rate_min!==void 0&&(a.completion_rate_min=e.completion_rate_min),e.completion_rate_max!==void 0&&(a.completion_rate_max=e.completion_rate_max),e.sort_by&&(a.sort_by=e.sort_by),e.sort_order&&(a.sort_order=e.sort_order)),(await ve.get(`/work-plans/admin/org-unit/${t}`,{params:a})).data}catch(a){const l=((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.detail)||"Failed to fetch org unit work plans";throw $r({title:"Error",description:l,variant:"destructive"}),new Error(l)}},approvePlan:async(t,e)=>{var r,n;try{const a=await ve.post(`/work-plans/${t}/approve`,e),l=e.status==="approved"?"approved":"rejected";return $r({title:"Success",description:`Work plan ${l} successfully`}),a.data}catch(a){const l=((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.detail)||"Failed to process work plan approval";throw $r({title:"Error",description:l,variant:"destructive"}),new Error(l)}},getAllUserSummaries:async t=>{var e,r;try{const n={};return t&&(t.page!==void 0&&(n.page=t.page),t.size!==void 0&&(n.size=t.size),t.search&&(n.search=t.search),t.activity_contains&&(n.activity_contains=t.activity_contains),t.status&&t.status!=="all"&&(n.status=t.status),t.date_from&&(n.date_from=t.date_from),t.date_to&&(n.date_to=t.date_to),t.week_start_date&&(n.week_start_date=t.week_start_date),t.month&&(n.month=t.month),t.year&&(n.year=t.year),t.user_id&&(n.user_id=t.user_id),t.user_name_contains&&(n.user_name_contains=t.user_name_contains),t.org_unit_id&&(n.org_unit_id=t.org_unit_id),t.has_completed_details!==void 0&&(n.has_completed_details=t.has_completed_details),t.completion_rate_min!==void 0&&(n.completion_rate_min=t.completion_rate_min),t.completion_rate_max!==void 0&&(n.completion_rate_max=t.completion_rate_max),t.sort_by&&(n.sort_by=t.sort_by),t.sort_order&&(n.sort_order=t.sort_order)),(await ve.get("/work-plans/admin/summary/all",{params:n})).data}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to fetch all user work plan summaries";throw $r({title:"Error",description:a,variant:"destructive"}),new Error(a)}},getUserSummariesByOrgUnit:async(t,e)=>{var r,n;try{const a={};return e&&(e.page!==void 0&&(a.page=e.page),e.size!==void 0&&(a.size=e.size),e.search&&(a.search=e.search),e.activity_contains&&(a.activity_contains=e.activity_contains),e.status&&e.status!=="all"&&(a.status=e.status),e.date_from&&(a.date_from=e.date_from),e.date_to&&(a.date_to=e.date_to),e.week_start_date&&(a.week_start_date=e.week_start_date),e.month&&(a.month=e.month),e.year&&(a.year=e.year),e.user_id&&(a.user_id=e.user_id),e.user_name_contains&&(a.user_name_contains=e.user_name_contains),e.has_completed_details!==void 0&&(a.has_completed_details=e.has_completed_details),e.completion_rate_min!==void 0&&(a.completion_rate_min=e.completion_rate_min),e.completion_rate_max!==void 0&&(a.completion_rate_max=e.completion_rate_max),e.sort_by&&(a.sort_by=e.sort_by),e.sort_order&&(a.sort_order=e.sort_order)),(await ve.get(`/work-plans/admin/summary/org-unit/${t}`,{params:a})).data}catch(a){const l=((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.detail)||"Failed to fetch org unit user work plan summaries";throw $r({title:"Error",description:l,variant:"destructive"}),new Error(l)}}},getStatusColor:t=>({draft:"gray",submitted:"blue",approved:"green",rejected:"red"})[t]||"gray",getCompletionStatusColor:t=>t===100?"green":t>0?"blue":"gray",formatWeekDate:t=>{const e=new Date(t),r=new Date(e);return r.setDate(r.getDate()+6),`${e.toLocaleDateString("en-US",{month:"short",day:"numeric"})} - ${r.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`},isEditable:t=>t==="draft",canSubmit:t=>t==="draft",calculateCompletionRate:t=>{if(!t||t.length===0)return 0;const e=t.filter(r=>r.is_completed).length;return Math.round(e/t.length*100)},getCompletionStatus:t=>{if(!t||t.length===0)return"not_started";const e=t.filter(n=>n.is_completed).length,r=t.length;return e===r?"completed":e>0?"in_progress":"not_started"},getWeekStartDate:(t=new Date)=>{const e=new Date(t),r=e.getDay(),n=e.getDate()-r+(r===0?-6:1);return new Date(e.setDate(n)).toISOString().split("T")[0]},getWeekEndDate:t=>{const e=new Date(t),r=new Date(e);return r.setDate(r.getDate()+6),r.toISOString().split("T")[0]},validateWeekStartDate:t=>new Date(t).getDay()===1,validateWorkPlan:t=>{if(!Cn.validateWeekStartDate(t.week_start_date))return{isValid:!1,error:"Week start date must be a Monday"};if(!t.details||t.details.length===0)return{isValid:!1,error:"Work plan must have at least one activity"};for(const e of t.details){if(!e.planned_activity||e.planned_activity.trim().length<10)return{isValid:!1,error:"Each planned activity must be at least 10 characters"};if(e.planned_activity.length>500)return{isValid:!1,error:"Planned activity must not exceed 500 characters"}}return{isValid:!0}},createFilterParams:t=>{const e={};return t.page!==void 0&&(e.page=t.page),t.size!==void 0&&(e.size=t.size),t.search&&(e.search=t.search),t.status&&t.status!=="all"&&(e.status=t.status),t.dateFrom&&(e.date_from=t.dateFrom),t.dateTo&&(e.date_to=t.dateTo),t.weekStartDate&&(e.week_start_date=t.weekStartDate),t.month&&(e.month=t.month),t.year&&(e.year=t.year),t.hasCompletedDetails!==void 0&&(e.has_completed_details=t.hasCompletedDetails),t.completionRateMin!==void 0&&(e.completion_rate_min=t.completionRateMin),t.completionRateMax!==void 0&&(e.completion_rate_max=t.completionRateMax),t.sortBy&&(e.sort_by=t.sortBy),t.sortOrder&&(e.sort_order=t.sortOrder),t.orgUnitId&&(e.org_unit_id=t.orgUnitId),t.userId&&(e.user_id=t.userId),e},generateWeekOptions:(t=4)=>{const e=[],r=new Date;for(let n=0;n<t;n++){const a=new Date(r);a.setDate(r.getDate()+n*7-r.getDay()+1);const l=new Date(a);l.setDate(a.getDate()+6);const c=a.toISOString().split("T")[0],d=`Week of ${a.toLocaleDateString("en-US",{month:"short",day:"numeric"})} - ${l.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`;e.push({value:c,label:d})}return e}};function Yr({children:t}){const[e,r]=x.useState(!0),n=()=>{r(!e)};return s.jsxs(ee,{className:"shadow-md",children:[s.jsxs(ue,{className:"text-primary flex flex-row justify-between items-center",children:[s.jsxs(xe,{className:"font-semibold flex items-center",children:[s.jsx(Di,{className:"primary w-5 h-5 mr-2"}),"Filter Options"]}),s.jsx("button",{onClick:n,className:"flex items-center space-x-2 p-2 rounded-md hover:text-accent",children:e?s.jsxs(s.Fragment,{children:[s.jsx(PB,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm",children:"Hide Filters"})]}):s.jsxs(s.Fragment,{children:[s.jsx(WN,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm",children:"Show Filters"})]})})]}),e&&s.jsx(te,{className:"pt-6",children:s.jsxs("div",{className:"w-full space-y-6",children:[s.jsxs(Br,{className:"bg-secondary/10 dark:bg-secondary/5 border-primary dark:border-primary/60",children:[s.jsx(gR,{className:"h-5 w-5 text-primary dark:text-primary/80"}),s.jsx(_O,{className:"text-primary dark:text-primary/80 font-semibold",children:"Filter Instructions"}),s.jsx(Hr,{className:"text-gray-700 dark:text-gray-300",children:"Select filters to display matching data. Combine multiple filters for more precise results."})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6",children:t})]})})]})}function L1(t){const e=x.useRef({value:t,previous:t});return x.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var cJ=[" ","Enter","ArrowUp","ArrowDown"],dJ=[" ","Enter"],vd="Select",[hv,mv,uJ]=sv(vd),[Pf,Bce]=tn(vd,[uJ,jc]),pv=jc(),[fJ,Nc]=Pf(vd),[hJ,mJ]=Pf(vd),lP=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:a,onOpenChange:l,value:c,defaultValue:d,onValueChange:f,dir:h,name:p,autoComplete:g,disabled:y,required:b,form:j}=t,w=pv(e),[_,E]=x.useState(null),[S,k]=x.useState(null),[R,L]=x.useState(!1),I=Rf(h),[T,O]=Sa({prop:n,defaultProp:a??!1,onChange:l,caller:vd}),[P,X]=Sa({prop:c,defaultProp:d,onChange:f,caller:vd}),A=x.useRef(null),z=_?j||!!_.closest("form"):!0,[$,J]=x.useState(new Set),B=Array.from($).map(M=>M.props.value).join(";");return s.jsx(by,{...w,children:s.jsxs(fJ,{required:b,scope:e,trigger:_,onTriggerChange:E,valueNode:S,onValueNodeChange:k,valueNodeHasChildren:R,onValueNodeHasChildrenChange:L,contentId:Mr(),value:P,onValueChange:X,open:T,onOpenChange:O,dir:I,triggerPointerDownPosRef:A,disabled:y,children:[s.jsx(hv.Provider,{scope:e,children:s.jsx(hJ,{scope:t.__scopeSelect,onNativeOptionAdd:x.useCallback(M=>{J(V=>new Set(V).add(M))},[]),onNativeOptionRemove:x.useCallback(M=>{J(V=>{const Q=new Set(V);return Q.delete(M),Q})},[]),children:r})}),z?s.jsxs(RP,{"aria-hidden":!0,required:b,tabIndex:-1,name:p,autoComplete:g,value:P,onChange:M=>X(M.target.value),disabled:y,form:j,children:[P===void 0?s.jsx("option",{value:""}):null,Array.from($)]},B):null]})})};lP.displayName=vd;var oP="SelectTrigger",cP=x.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...a}=t,l=pv(r),c=Nc(oP,r),d=c.disabled||n,f=Rt(e,c.onTriggerChange),h=mv(r),p=x.useRef("touch"),[g,y,b]=OP(w=>{const _=h().filter(k=>!k.disabled),E=_.find(k=>k.value===c.value),S=MP(_,w,E);S!==void 0&&c.onValueChange(S.value)}),j=w=>{d||(c.onOpenChange(!0),b()),w&&(c.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)})};return s.jsx(Jm,{asChild:!0,...l,children:s.jsx(Xe.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":DP(c.value)?"":void 0,...a,ref:f,onClick:He(a.onClick,w=>{w.currentTarget.focus(),p.current!=="mouse"&&j(w)}),onPointerDown:He(a.onPointerDown,w=>{p.current=w.pointerType;const _=w.target;_.hasPointerCapture(w.pointerId)&&_.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&w.pointerType==="mouse"&&(j(w),w.preventDefault())}),onKeyDown:He(a.onKeyDown,w=>{const _=g.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&y(w.key),!(_&&w.key===" ")&&cJ.includes(w.key)&&(j(),w.preventDefault())})})})});cP.displayName=oP;var dP="SelectValue",uP=x.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:a,children:l,placeholder:c="",...d}=t,f=Nc(dP,r),{onValueNodeHasChildrenChange:h}=f,p=l!==void 0,g=Rt(e,f.onValueNodeChange);return Er(()=>{h(p)},[h,p]),s.jsx(Xe.span,{...d,ref:g,style:{pointerEvents:"none"},children:DP(f.value)?s.jsx(s.Fragment,{children:c}):l})});uP.displayName=dP;var pJ="SelectIcon",fP=x.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...a}=t;return s.jsx(Xe.span,{"aria-hidden":!0,...a,ref:e,children:n||""})});fP.displayName=pJ;var xJ="SelectPortal",hP=t=>s.jsx(Sf,{asChild:!0,...t});hP.displayName=xJ;var bd="SelectContent",mP=x.forwardRef((t,e)=>{const r=Nc(bd,t.__scopeSelect),[n,a]=x.useState();if(Er(()=>{a(new DocumentFragment)},[]),!r.open){const l=n;return l?Xm.createPortal(s.jsx(pP,{scope:t.__scopeSelect,children:s.jsx(hv.Slot,{scope:t.__scopeSelect,children:s.jsx("div",{children:t.children})})}),l):null}return s.jsx(xP,{...t,ref:e})});mP.displayName=bd;var xi=10,[pP,_c]=Pf(bd),gJ="SelectContentImpl",yJ=oc("SelectContent.RemoveScroll"),xP=x.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:l,onPointerDownOutside:c,side:d,sideOffset:f,align:h,alignOffset:p,arrowPadding:g,collisionBoundary:y,collisionPadding:b,sticky:j,hideWhenDetached:w,avoidCollisions:_,...E}=t,S=Nc(bd,r),[k,R]=x.useState(null),[L,I]=x.useState(null),T=Rt(e,ne=>R(ne)),[O,P]=x.useState(null),[X,A]=x.useState(null),z=mv(r),[$,J]=x.useState(!1),B=x.useRef(!1);x.useEffect(()=>{if(k)return Yy(k)},[k]),Hy();const M=x.useCallback(ne=>{const[me,...ie]=z().map(fe=>fe.ref.current),[Ee]=ie.slice(-1),Oe=document.activeElement;for(const fe of ne)if(fe===Oe||(fe==null||fe.scrollIntoView({block:"nearest"}),fe===me&&L&&(L.scrollTop=0),fe===Ee&&L&&(L.scrollTop=L.scrollHeight),fe==null||fe.focus(),document.activeElement!==Oe))return},[z,L]),V=x.useCallback(()=>M([O,k]),[M,O,k]);x.useEffect(()=>{$&&V()},[$,V]);const{onOpenChange:Q,triggerPointerDownPosRef:le}=S;x.useEffect(()=>{if(k){let ne={x:0,y:0};const me=Ee=>{var Oe,fe;ne={x:Math.abs(Math.round(Ee.pageX)-(((Oe=le.current)==null?void 0:Oe.x)??0)),y:Math.abs(Math.round(Ee.pageY)-(((fe=le.current)==null?void 0:fe.y)??0))}},ie=Ee=>{ne.x<=10&&ne.y<=10?Ee.preventDefault():k.contains(Ee.target)||Q(!1),document.removeEventListener("pointermove",me),le.current=null};return le.current!==null&&(document.addEventListener("pointermove",me),document.addEventListener("pointerup",ie,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",me),document.removeEventListener("pointerup",ie,{capture:!0})}}},[k,Q,le]),x.useEffect(()=>{const ne=()=>Q(!1);return window.addEventListener("blur",ne),window.addEventListener("resize",ne),()=>{window.removeEventListener("blur",ne),window.removeEventListener("resize",ne)}},[Q]);const[H,K]=OP(ne=>{const me=z().filter(Oe=>!Oe.disabled),ie=me.find(Oe=>Oe.ref.current===document.activeElement),Ee=MP(me,ne,ie);Ee&&setTimeout(()=>Ee.ref.current.focus())}),Y=x.useCallback((ne,me,ie)=>{const Ee=!B.current&&!ie;(S.value!==void 0&&S.value===me||Ee)&&(P(ne),Ee&&(B.current=!0))},[S.value]),se=x.useCallback(()=>k==null?void 0:k.focus(),[k]),G=x.useCallback((ne,me,ie)=>{const Ee=!B.current&&!ie;(S.value!==void 0&&S.value===me||Ee)&&A(ne)},[S.value]),C=n==="popper"?Dw:gP,U=C===Dw?{side:d,sideOffset:f,align:h,alignOffset:p,arrowPadding:g,collisionBoundary:y,collisionPadding:b,sticky:j,hideWhenDetached:w,avoidCollisions:_}:{};return s.jsx(pP,{scope:r,content:k,viewport:L,onViewportChange:I,itemRefCallback:Y,selectedItem:O,onItemLeave:se,itemTextRefCallback:G,focusSelectedItem:V,selectedItemText:X,position:n,isPositioned:$,searchRef:H,children:s.jsx(ap,{as:yJ,allowPinchZoom:!0,children:s.jsx(np,{asChild:!0,trapped:S.open,onMountAutoFocus:ne=>{ne.preventDefault()},onUnmountAutoFocus:He(a,ne=>{var me;(me=S.trigger)==null||me.focus({preventScroll:!0}),ne.preventDefault()}),children:s.jsx(wf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:ne=>ne.preventDefault(),onDismiss:()=>S.onOpenChange(!1),children:s.jsx(C,{role:"listbox",id:S.contentId,"data-state":S.open?"open":"closed",dir:S.dir,onContextMenu:ne=>ne.preventDefault(),...E,...U,onPlaced:()=>J(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",...E.style},onKeyDown:He(E.onKeyDown,ne=>{const me=ne.ctrlKey||ne.altKey||ne.metaKey;if(ne.key==="Tab"&&ne.preventDefault(),!me&&ne.key.length===1&&K(ne.key),["ArrowUp","ArrowDown","Home","End"].includes(ne.key)){let Ee=z().filter(Oe=>!Oe.disabled).map(Oe=>Oe.ref.current);if(["ArrowUp","End"].includes(ne.key)&&(Ee=Ee.slice().reverse()),["ArrowUp","ArrowDown"].includes(ne.key)){const Oe=ne.target,fe=Ee.indexOf(Oe);Ee=Ee.slice(fe+1)}setTimeout(()=>M(Ee)),ne.preventDefault()}})})})})})})});xP.displayName=gJ;var vJ="SelectItemAlignedPosition",gP=x.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...a}=t,l=Nc(bd,r),c=_c(bd,r),[d,f]=x.useState(null),[h,p]=x.useState(null),g=Rt(e,T=>p(T)),y=mv(r),b=x.useRef(!1),j=x.useRef(!0),{viewport:w,selectedItem:_,selectedItemText:E,focusSelectedItem:S}=c,k=x.useCallback(()=>{if(l.trigger&&l.valueNode&&d&&h&&w&&_&&E){const T=l.trigger.getBoundingClientRect(),O=h.getBoundingClientRect(),P=l.valueNode.getBoundingClientRect(),X=E.getBoundingClientRect();if(l.dir!=="rtl"){const Oe=X.left-O.left,fe=P.left-Oe,Ce=T.left-fe,pe=T.width+Ce,ze=Math.max(pe,O.width),lt=window.innerWidth-xi,Je=jw(fe,[xi,Math.max(xi,lt-ze)]);d.style.minWidth=pe+"px",d.style.left=Je+"px"}else{const Oe=O.right-X.right,fe=window.innerWidth-P.right-Oe,Ce=window.innerWidth-T.right-fe,pe=T.width+Ce,ze=Math.max(pe,O.width),lt=window.innerWidth-xi,Je=jw(fe,[xi,Math.max(xi,lt-ze)]);d.style.minWidth=pe+"px",d.style.right=Je+"px"}const A=y(),z=window.innerHeight-xi*2,$=w.scrollHeight,J=window.getComputedStyle(h),B=parseInt(J.borderTopWidth,10),M=parseInt(J.paddingTop,10),V=parseInt(J.borderBottomWidth,10),Q=parseInt(J.paddingBottom,10),le=B+M+$+Q+V,H=Math.min(_.offsetHeight*5,le),K=window.getComputedStyle(w),Y=parseInt(K.paddingTop,10),se=parseInt(K.paddingBottom,10),G=T.top+T.height/2-xi,C=z-G,U=_.offsetHeight/2,ne=_.offsetTop+U,me=B+M+ne,ie=le-me;if(me<=G){const Oe=A.length>0&&_===A[A.length-1].ref.current;d.style.bottom="0px";const fe=h.clientHeight-w.offsetTop-w.offsetHeight,Ce=Math.max(C,U+(Oe?se:0)+fe+V),pe=me+Ce;d.style.height=pe+"px"}else{const Oe=A.length>0&&_===A[0].ref.current;d.style.top="0px";const Ce=Math.max(G,B+w.offsetTop+(Oe?Y:0)+U)+ie;d.style.height=Ce+"px",w.scrollTop=me-G+w.offsetTop}d.style.margin=`${xi}px 0`,d.style.minHeight=H+"px",d.style.maxHeight=z+"px",n==null||n(),requestAnimationFrame(()=>b.current=!0)}},[y,l.trigger,l.valueNode,d,h,w,_,E,l.dir,n]);Er(()=>k(),[k]);const[R,L]=x.useState();Er(()=>{h&&L(window.getComputedStyle(h).zIndex)},[h]);const I=x.useCallback(T=>{T&&j.current===!0&&(k(),S==null||S(),j.current=!1)},[k,S]);return s.jsx(jJ,{scope:r,contentWrapper:d,shouldExpandOnScrollRef:b,onScrollButtonChange:I,children:s.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:R},children:s.jsx(Xe.div,{...a,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});gP.displayName=vJ;var bJ="SelectPopperPosition",Dw=x.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=xi,...l}=t,c=pv(r);return s.jsx(jy,{...c,...l,ref:e,align:n,collisionPadding:a,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Dw.displayName=bJ;var[jJ,I1]=Pf(bd,{}),Ow="SelectViewport",yP=x.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...a}=t,l=_c(Ow,r),c=I1(Ow,r),d=Rt(e,l.onViewportChange),f=x.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(hv.Slot,{scope:r,children:s.jsx(Xe.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:He(a.onScroll,h=>{const p=h.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:y}=c;if(y!=null&&y.current&&g){const b=Math.abs(f.current-p.scrollTop);if(b>0){const j=window.innerHeight-xi*2,w=parseFloat(g.style.minHeight),_=parseFloat(g.style.height),E=Math.max(w,_);if(E<j){const S=E+b,k=Math.min(j,S),R=S-k;g.style.height=k+"px",g.style.bottom==="0px"&&(p.scrollTop=R>0?R:0,g.style.justifyContent="flex-end")}}}f.current=p.scrollTop})})})]})});yP.displayName=Ow;var vP="SelectGroup",[wJ,NJ]=Pf(vP),_J=x.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,a=Mr();return s.jsx(wJ,{scope:r,id:a,children:s.jsx(Xe.div,{role:"group","aria-labelledby":a,...n,ref:e})})});_J.displayName=vP;var bP="SelectLabel",jP=x.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,a=NJ(bP,r);return s.jsx(Xe.div,{id:a.id,...n,ref:e})});jP.displayName=bP;var dy="SelectItem",[SJ,wP]=Pf(dy),NP=x.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:l,...c}=t,d=Nc(dy,r),f=_c(dy,r),h=d.value===n,[p,g]=x.useState(l??""),[y,b]=x.useState(!1),j=Rt(e,S=>{var k;return(k=f.itemRefCallback)==null?void 0:k.call(f,S,n,a)}),w=Mr(),_=x.useRef("touch"),E=()=>{a||(d.onValueChange(n),d.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(SJ,{scope:r,value:n,disabled:a,textId:w,isSelected:h,onItemTextChange:x.useCallback(S=>{g(k=>k||((S==null?void 0:S.textContent)??"").trim())},[]),children:s.jsx(hv.ItemSlot,{scope:r,value:n,disabled:a,textValue:p,children:s.jsx(Xe.div,{role:"option","aria-labelledby":w,"data-highlighted":y?"":void 0,"aria-selected":h&&y,"data-state":h?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...c,ref:j,onFocus:He(c.onFocus,()=>b(!0)),onBlur:He(c.onBlur,()=>b(!1)),onClick:He(c.onClick,()=>{_.current!=="mouse"&&E()}),onPointerUp:He(c.onPointerUp,()=>{_.current==="mouse"&&E()}),onPointerDown:He(c.onPointerDown,S=>{_.current=S.pointerType}),onPointerMove:He(c.onPointerMove,S=>{var k;_.current=S.pointerType,a?(k=f.onItemLeave)==null||k.call(f):_.current==="mouse"&&S.currentTarget.focus({preventScroll:!0})}),onPointerLeave:He(c.onPointerLeave,S=>{var k;S.currentTarget===document.activeElement&&((k=f.onItemLeave)==null||k.call(f))}),onKeyDown:He(c.onKeyDown,S=>{var R;((R=f.searchRef)==null?void 0:R.current)!==""&&S.key===" "||(dJ.includes(S.key)&&E(),S.key===" "&&S.preventDefault())})})})})});NP.displayName=dy;var Jh="SelectItemText",_P=x.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:a,...l}=t,c=Nc(Jh,r),d=_c(Jh,r),f=wP(Jh,r),h=mJ(Jh,r),[p,g]=x.useState(null),y=Rt(e,E=>g(E),f.onItemTextChange,E=>{var S;return(S=d.itemTextRefCallback)==null?void 0:S.call(d,E,f.value,f.disabled)}),b=p==null?void 0:p.textContent,j=x.useMemo(()=>s.jsx("option",{value:f.value,disabled:f.disabled,children:b},f.value),[f.disabled,f.value,b]),{onNativeOptionAdd:w,onNativeOptionRemove:_}=h;return Er(()=>(w(j),()=>_(j)),[w,_,j]),s.jsxs(s.Fragment,{children:[s.jsx(Xe.span,{id:f.textId,...l,ref:y}),f.isSelected&&c.valueNode&&!c.valueNodeHasChildren?Xm.createPortal(l.children,c.valueNode):null]})});_P.displayName=Jh;var SP="SelectItemIndicator",EP=x.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return wP(SP,r).isSelected?s.jsx(Xe.span,{"aria-hidden":!0,...n,ref:e}):null});EP.displayName=SP;var Mw="SelectScrollUpButton",kP=x.forwardRef((t,e)=>{const r=_c(Mw,t.__scopeSelect),n=I1(Mw,t.__scopeSelect),[a,l]=x.useState(!1),c=Rt(e,n.onScrollButtonChange);return Er(()=>{if(r.viewport&&r.isPositioned){let d=function(){const h=f.scrollTop>0;l(h)};const f=r.viewport;return d(),f.addEventListener("scroll",d),()=>f.removeEventListener("scroll",d)}},[r.viewport,r.isPositioned]),a?s.jsx(AP,{...t,ref:c,onAutoScroll:()=>{const{viewport:d,selectedItem:f}=r;d&&f&&(d.scrollTop=d.scrollTop-f.offsetHeight)}}):null});kP.displayName=Mw;var Pw="SelectScrollDownButton",CP=x.forwardRef((t,e)=>{const r=_c(Pw,t.__scopeSelect),n=I1(Pw,t.__scopeSelect),[a,l]=x.useState(!1),c=Rt(e,n.onScrollButtonChange);return Er(()=>{if(r.viewport&&r.isPositioned){let d=function(){const h=f.scrollHeight-f.clientHeight,p=Math.ceil(f.scrollTop)<h;l(p)};const f=r.viewport;return d(),f.addEventListener("scroll",d),()=>f.removeEventListener("scroll",d)}},[r.viewport,r.isPositioned]),a?s.jsx(AP,{...t,ref:c,onAutoScroll:()=>{const{viewport:d,selectedItem:f}=r;d&&f&&(d.scrollTop=d.scrollTop+f.offsetHeight)}}):null});CP.displayName=Pw;var AP=x.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=t,l=_c("SelectScrollButton",r),c=x.useRef(null),d=mv(r),f=x.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return x.useEffect(()=>()=>f(),[f]),Er(()=>{var p;const h=d().find(g=>g.ref.current===document.activeElement);(p=h==null?void 0:h.ref.current)==null||p.scrollIntoView({block:"nearest"})},[d]),s.jsx(Xe.div,{"aria-hidden":!0,...a,ref:e,style:{flexShrink:0,...a.style},onPointerDown:He(a.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(n,50))}),onPointerMove:He(a.onPointerMove,()=>{var h;(h=l.onItemLeave)==null||h.call(l),c.current===null&&(c.current=window.setInterval(n,50))}),onPointerLeave:He(a.onPointerLeave,()=>{f()})})}),EJ="SelectSeparator",TP=x.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return s.jsx(Xe.div,{"aria-hidden":!0,...n,ref:e})});TP.displayName=EJ;var Lw="SelectArrow",kJ=x.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,a=pv(r),l=Nc(Lw,r),c=_c(Lw,r);return l.open&&c.position==="popper"?s.jsx(wy,{...a,...n,ref:e}):null});kJ.displayName=Lw;var CJ="SelectBubbleInput",RP=x.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const a=x.useRef(null),l=Rt(n,a),c=L1(e);return x.useEffect(()=>{const d=a.current;if(!d)return;const f=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(f,"value").set;if(c!==e&&p){const g=new Event("change",{bubbles:!0});p.call(d,e),d.dispatchEvent(g)}},[c,e]),s.jsx(Xe.select,{...r,style:{...Q4,...r.style},ref:l,defaultValue:e})});RP.displayName=CJ;function DP(t){return t===""||t===void 0}function OP(t){const e=Jr(t),r=x.useRef(""),n=x.useRef(0),a=x.useCallback(c=>{const d=r.current+c;e(d),function f(h){r.current=h,window.clearTimeout(n.current),h!==""&&(n.current=window.setTimeout(()=>f(""),1e3))}(d)},[e]),l=x.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,l]}function MP(t,e,r){const a=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,l=r?t.indexOf(r):-1;let c=AJ(t,Math.max(l,0));a.length===1&&(c=c.filter(h=>h!==r));const f=c.find(h=>h.textValue.toLowerCase().startsWith(a.toLowerCase()));return f!==r?f:void 0}function AJ(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var TJ=lP,PP=cP,RJ=uP,DJ=fP,OJ=hP,LP=mP,MJ=yP,IP=jP,UP=NP,PJ=_P,LJ=EP,FP=kP,zP=CP,$P=TP;const Lt=TJ,It=RJ,Dt=x.forwardRef(({className:t,children:e,...r},n)=>s.jsxs(PP,{ref:n,className:Pe("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,s.jsx(DJ,{asChild:!0,children:s.jsx(s1,{className:"h-4 w-4 opacity-50"})})]}));Dt.displayName=PP.displayName;const qP=x.forwardRef(({className:t,...e},r)=>s.jsx(FP,{ref:r,className:Pe("flex cursor-default items-center justify-center py-1",t),...e,children:s.jsx(bY,{className:"h-4 w-4"})}));qP.displayName=FP.displayName;const BP=x.forwardRef(({className:t,...e},r)=>s.jsx(zP,{ref:r,className:Pe("flex cursor-default items-center justify-center py-1",t),...e,children:s.jsx(s1,{className:"h-4 w-4"})}));BP.displayName=zP.displayName;const Ot=x.forwardRef(({className:t,children:e,position:r="popper",...n},a)=>s.jsx(OJ,{children:s.jsxs(LP,{ref:a,className:Pe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[s.jsx(qP,{}),s.jsx(MJ,{className:Pe("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),s.jsx(BP,{})]})}));Ot.displayName=LP.displayName;const IJ=x.forwardRef(({className:t,...e},r)=>s.jsx(IP,{ref:r,className:Pe("px-2 py-1.5 text-sm font-semibold",t),...e}));IJ.displayName=IP.displayName;const $e=x.forwardRef(({className:t,children:e,...r},n)=>s.jsxs(UP,{ref:n,className:Pe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[s.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(LJ,{children:s.jsx(Jy,{className:"h-4 w-4"})})}),s.jsx(PJ,{children:e})]}));$e.displayName=UP.displayName;const UJ=x.forwardRef(({className:t,...e},r)=>s.jsx($P,{ref:r,className:Pe("-mx-1 my-1 h-px bg-muted",t),...e}));UJ.displayName=$P.displayName;const Ks=({currentPage:t,totalPages:e,itemsPerPage:r,totalItems:n,hasNext:a=!1,onPageChange:l,onItemsPerPageChange:c})=>{const d=e!==void 0&&e>0,f=()=>{if(!d)return[];const y=[];if(e<=5)for(let j=1;j<=e;j++)y.push(j);else{y.push(1);let j=Math.max(2,t-1),w=Math.min(e-1,t+1);t<=2?w=4:t>=e-1&&(j=e-3),j>2&&y.push("...");for(let _=j;_<=w;_++)y.push(_);w<e-1&&y.push("..."),y.push(e)}return y},h=n&&n>0?(t-1)*r+1:0,p=n?Math.min(t*r,n):t*r,g=d?t>=e:!a;return s.jsx("div",{className:"w-full pt-8",children:s.jsx("div",{className:"p-4 border border-secondary rounded-md bg-primary text-secondary",children:s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4 sm:mb-0",children:[s.jsx("span",{className:"text-sm text-secondary",children:n!==void 0?`Showing ${h} - ${p} of ${n} entries`:`Showing ${h} - ${p} entries`}),s.jsxs(Lt,{value:r.toString(),onValueChange:c,children:[s.jsx(Dt,{className:"w-20 h-8 border-secondary",children:s.jsx(It,{})}),s.jsx(Ot,{children:[10,25,50,100].map(y=>s.jsx($e,{value:y.toString(),children:y},y))})]})]}),s.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[s.jsx(re,{variant:"outline",size:"sm",onClick:()=>l(t-1),disabled:t===1,className:"h-8 w-8 p-0 border-secondary",children:s.jsx(Uy,{className:"h-4 w-4 text-primary"})}),d?f().map((y,b)=>typeof y=="number"?s.jsx(re,{variant:t===y?"default":"outline",size:"sm",onClick:()=>l(y),className:`h-8 w-8 p-0 ${t===y?"bg-primary hover:bg-primary/50 border-secondary text-secondary":"bg-secondary border-primary hover:bg-secondary/50 text-primary"}`,children:y},b):s.jsx("span",{className:"mx-1 text-secondary",children:"..."},b)):s.jsx("div",{className:"flex items-center space-x-2",children:s.jsxs("span",{className:"text-sm text-secondary px-2",children:["Page ",t]})}),s.jsx(re,{variant:"outline",size:"sm",onClick:()=>l(t+1),disabled:g,className:"h-8 w-8 p-0 border-secondary",children:s.jsx(Fy,{className:"h-4 w-4 text-primary"})})]})]})})})};function _r({content:t="",isDetailView:e=!1,maxLength:r=150,className:n="",fallback:a="No description available"}){const l=RK(t,{isDetailView:e,maxLength:r,className:n});return l.isEmpty?s.jsx("span",{className:Pe("text-muted-foreground italic",n),children:a}):l.isHtml&&e?s.jsx("div",{className:Pe("prose prose-sm max-w-none","prose-headings:font-semibold prose-headings:text-foreground","prose-p:text-foreground prose-p:leading-relaxed","prose-strong:text-foreground prose-strong:font-semibold","prose-ul:text-foreground prose-ol:text-foreground","prose-li:text-foreground","prose-blockquote:text-muted-foreground prose-blockquote:border-l-border","prose-code:text-foreground prose-code:bg-muted prose-code:px-1 prose-code:py-0.5 prose-code:rounded",l.className),dangerouslySetInnerHTML:{__html:l.content}}):s.jsx("span",{className:Pe("leading-relaxed",l.className),children:l.content})}function FJ(){const[t,e]=x.useState([]),[r,n]=x.useState(null),[a,l]=x.useState(!0),[c,d]=x.useState(1),[f,h]=x.useState(10),[p,g]=x.useState(0),[y,b]=x.useState(!1),[j,w]=x.useState(!1),[_,E]=x.useState("all"),[S,k]=x.useState(new Date().getFullYear().toString()),[R,L]=x.useState("all"),{isAdmin:I,isMasterAdmin:T}=uo(),[O,P]=x.useState(!1),X=ht(),A=[{label:"Dashboard",href:"/dashboard"},{label:"My Work Plans",current:!0}],z=x.useCallback(()=>{const U=new URLSearchParams;return U.set("page",c.toString()),U.set("pageSize",f.toString()),U.set("status",_),U.set("year",S),U.set("month",R),U.toString()},[c,f,_,S,R]),$=x.useCallback(()=>{const U=new URLSearchParams(window.location.search),ne=parseInt(U.get("page")||"1"),me=parseInt(U.get("pageSize")||"10"),ie=U.get("status")||"all",Ee=U.get("year")||new Date().getFullYear().toString(),Oe=U.get("month")||"all";d(ne),h(Math.max(me,10)),E(ie),k(Ee),L(Oe),w(!0)},[]),J=async()=>{try{l(!0);const U={page:c,size:Math.max(f,10)};if(_!=="all"&&(U.status=_),S!=="all"){const me=parseInt(S),ie=new Date().getFullYear();if(me<=ie+1)if(R!=="all"){const Ee=parseInt(R);Ee>=1&&Ee<=12&&(U.month=Ee,U.year=me)}else U.year=me}else if(R!=="all"){const me=new Date().getFullYear(),ie=parseInt(R);ie>=1&&ie<=12&&(U.month=ie,U.year=me)}const ne=await Cn.getMyWorkPlans(U);e(ne.items),g(ne.total),b(ne.has_next)}catch(U){console.error("Failed to fetch work plans:",U)}finally{l(!1)}},B=async()=>{try{const U=await Cn.getSummary();n(U)}catch(U){console.error("Failed to fetch summary:",U)}};x.useEffect(()=>{$()},[$]),x.useEffect(()=>{j&&(J(),B())},[c,f,_,S,R,j]),x.useEffect(()=>{if(j){const U=z(),ne=U,me=window.location.search.slice(1);if(ne!==me){const ie=`${window.location.pathname}${U?"?"+U:""}`;window.history.replaceState(null,"",ie)}}},[c,f,_,S,R,j,z]);const M=async U=>{try{await Cn.deleteWorkPlan(U),J(),B()}catch(ne){console.error("Failed to delete work plan:",ne)}},V=()=>{X("/work-plans/create")},Q=U=>{X(`/work-plans/${U.id}/edit`)},le=U=>{X(`/work-plans/${U.id}/details`)},H=t,K=new Date().getFullYear(),Y=Array.from({length:5},(U,ne)=>K-2+ne),se=[{value:"1",label:"January"},{value:"2",label:"February"},{value:"3",label:"March"},{value:"4",label:"April"},{value:"5",label:"May"},{value:"6",label:"June"},{value:"7",label:"July"},{value:"8",label:"August"},{value:"9",label:"September"},{value:"10",label:"October"},{value:"11",label:"November"},{value:"12",label:"December"}],G=()=>{P(!O)},C=s.jsxs("div",{className:"flex items-center gap-2",children:[(I||T)&&s.jsxs(re,{variant:O?"default":"outline",size:"sm",onClick:G,children:[s.jsx(ws,{className:"h-4 w-4 mr-2"}),O?"User View":"Admin View"]}),s.jsx(re,{variant:"outline",size:"sm",onClick:()=>X("/work-plans/summary"),children:"Summary"}),s.jsxs(re,{onClick:V,size:"sm",children:[s.jsx(or,{className:"h-4 w-4 mr-2"}),"Create Work Plan"]})]});return s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ye,{title:"My Work Plans",description:"Manage your weekly work plans and track progress",breadcrumbs:A,actions:C}),r&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs(ee,{children:[s.jsx(ue,{className:"pb-2",children:s.jsx(xe,{className:"text-sm font-medium text-muted-foreground",children:"Total Plans"})}),s.jsx(te,{className:"pt-0",children:s.jsx("div",{className:"text-2xl font-bold",children:r.total_plans})})]}),s.jsxs(ee,{children:[s.jsx(ue,{className:"pb-2",children:s.jsx(xe,{className:"text-sm font-medium text-muted-foreground",children:"Completed"})}),s.jsx(te,{className:"pt-0",children:s.jsx("div",{className:"text-2xl font-bold text-green-600",children:r.completed_plans})})]}),s.jsxs(ee,{children:[s.jsx(ue,{className:"pb-2",children:s.jsx(xe,{className:"text-sm font-medium text-muted-foreground",children:"In Progress"})}),s.jsx(te,{className:"pt-0",children:s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:r.in_progress_plans})})]}),s.jsxs(ee,{children:[s.jsx(ue,{className:"pb-2",children:s.jsx(xe,{className:"text-sm font-medium text-muted-foreground",children:"This Week"})}),s.jsx(te,{className:"pt-0",children:s.jsx("div",{className:"text-2xl font-bold text-gray-600",children:r.this_week_exists?"Created":"Not Created"})})]})]}),s.jsxs(Yr,{children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium text-primary",children:[s.jsx(Di,{className:"h-4 w-4"}),s.jsx("span",{children:"Status"})]}),s.jsxs("select",{className:"w-full border border-primary p-2 h-10 rounded-md bg-white dark:bg-gray-800",value:_,onChange:U=>E(U.target.value),children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"completed",children:"Completed"}),s.jsx("option",{value:"in_progress",children:"In Progress"}),s.jsx("option",{value:"not_started",children:"Not Started"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium text-primary",children:[s.jsx(Ze,{className:"h-4 w-4"}),s.jsx("span",{children:"Year"})]}),s.jsxs("select",{className:"w-full border border-primary p-2 h-10 rounded-md bg-white dark:bg-gray-800",value:S,onChange:U=>k(U.target.value),children:[s.jsx("option",{value:"all",children:"All Years"}),Y.map(U=>s.jsx("option",{value:U.toString(),children:U},U))]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium text-primary",children:[s.jsx(Ze,{className:"h-4 w-4"}),s.jsx("span",{children:"Month"})]}),s.jsxs("select",{className:"w-full border border-primary p-2 h-10 rounded-md bg-white dark:bg-gray-800",value:R,onChange:U=>L(U.target.value),children:[s.jsx("option",{value:"all",children:"All Months"}),se.map(U=>s.jsx("option",{value:U.value,children:U.label},U.value))]})]})]}),s.jsx("div",{className:"space-y-4",children:a?Array.from({length:5}).map((U,ne)=>s.jsxs(ee,{children:[s.jsx(ue,{children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"space-y-2 flex-1",children:[s.jsx(Ne,{className:"h-4 w-3/4"}),s.jsx(Ne,{className:"h-3 w-1/2"})]}),s.jsx(Ne,{className:"h-6 w-20"})]})}),s.jsx(te,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ne,{className:"h-3 w-full"}),s.jsx(Ne,{className:"h-3 w-2/3"})]})})]},ne)):H.length===0?s.jsx(ee,{children:s.jsx(te,{className:"py-8",children:s.jsxs("div",{className:"text-center text-muted-foreground",children:[s.jsx(Ze,{className:"mx-auto h-12 w-12 mb-4 opacity-50"}),s.jsx("p",{className:"text-lg font-medium mb-2",children:"No work plans found"}),s.jsx("p",{className:"text-sm",children:_!=="all"||S!=="all"||R!=="all"?"Try adjusting your filters to see more results.":"Create your first work plan to get started."})]})})}):H.map(U=>s.jsxs(ee,{className:"hover:shadow-md transition-shadow pt-4 pb-0",children:[s.jsx(ue,{children:s.jsx("div",{className:"flex items-start gap-3",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsxs(xe,{className:"text-lg",children:["Week of ",new Date(U.week_start_date).toLocaleDateString()]}),s.jsxs("div",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[s.jsx(bs,{className:"h-4 w-4"}),U.details.length," items"]})]}),s.jsxs(Tt,{className:"text-sm text-muted-foreground",children:[U.details.length," work items planned  ",U.details.filter(ne=>ne.is_completed).length," completed"]})]})})}),s.jsx(te,{children:s.jsxs("div",{className:"space-y-3",children:[U.details.sort((ne,me)=>(ne.order_index||0)-(me.order_index||0)).slice(0,2).map((ne,me)=>s.jsx("div",{className:`flex items-start gap-3 text-sm p-3 rounded-lg ${ne.is_completed?"bg-green-50 border border-green-200":"bg-muted/50"}`,children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`font-medium ${ne.is_completed?"text-green-700 line-through":""}`,children:s.jsx(_r,{content:ne.planned_activity,isDetailView:!1,maxLength:80,className:ne.is_completed?"text-green-700 line-through":""})}),ne.is_completed&&s.jsx(cr,{className:"h-4 w-4 text-green-600"})]}),s.jsx("div",{className:"flex items-center gap-4 mt-1 text-muted-foreground",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Ze,{className:"h-3 w-3"}),s.jsx("span",{className:"text-xs",children:ne.is_completed?"Completed":"Pending"})]})})]})},me)),U.details.length>2&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["+",U.details.length-2," more work items"]})]})}),s.jsx("div",{className:"px-6 py-3 border-t",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-0",children:[s.jsx("div",{className:"flex flex-wrap gap-2 w-full sm:w-auto",children:s.jsxs(re,{variant:"outline",size:"sm",onClick:()=>Q(U),className:"flex items-center gap-2",children:[s.jsx(en,{className:"h-4 w-4"}),s.jsx("span",{children:"Edit"})]})}),s.jsx("div",{className:"flex justify-start w-full sm:w-auto",children:s.jsxs(On,{children:[s.jsx(Mn,{asChild:!0,children:s.jsxs(re,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:[s.jsx(ra,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"More actions"})]})}),s.jsxs(un,{align:"end",children:[s.jsxs(ts,{onClick:()=>le(U),children:[s.jsx(Ut,{className:"mr-2 h-4 w-4"}),"View Details"]}),s.jsxs(Ls,{children:[s.jsx(Or,{asChild:!0,children:s.jsxs(ts,{className:"text-red-600 focus:text-red-600",onSelect:ne=>ne.preventDefault(),children:[s.jsx(ea,{className:"mr-2 h-4 w-4"}),"Delete"]})}),s.jsxs(Ns,{children:[s.jsxs(_s,{children:[s.jsx(Es,{children:"Delete Work Plan"}),s.jsx(ks,{children:"Are you sure you want to delete this work plan? This action cannot be undone."})]}),s.jsxs(Ss,{children:[s.jsx(As,{children:"Cancel"}),s.jsx(Cs,{onClick:()=>M(U.id),className:"bg-red-600 hover:bg-red-700 focus:ring-red-600",children:"Delete"})]})]})]})]})]})})]})})]},U.id))}),!a&&H.length>0&&s.jsx(Ks,{currentPage:c,totalItems:p,itemsPerPage:f,onPageChange:d,onItemsPerPageChange:U=>h(Math.max(Number(U),10)),hasNext:y})]})}function zJ(){var K,Y,se;const[t,e]=x.useState([]),[r,n]=x.useState(!0),[a,l]=x.useState(1),[c,d]=x.useState(10),[f,h]=x.useState(0),[p,g]=x.useState(!1),[y,b]=x.useState(!1),[j,w]=x.useState("all"),[_,E]=x.useState(new Date().getFullYear().toString()),[S,k]=x.useState("all"),[R,L]=x.useState("all"),I=ht(),{user:T}=yr(),O=[{label:"Dashboard",href:"/dashboard"},{label:"Work Plan Monitoring",current:!0}],P=(K=T==null?void 0:T.roles)==null?void 0:K.some(G=>G.name==="master_admin"),X=(Y=T==null?void 0:T.roles)==null?void 0:Y.some(G=>G.name==="admin"),A=(se=T==null?void 0:T.org_unit)==null?void 0:se.id,z=x.useCallback(()=>{const G=new URLSearchParams;return G.set("page",a.toString()),G.set("pageSize",c.toString()),G.set("status",j),G.set("year",_),G.set("month",S),P&&G.set("orgUnit",R),G.toString()},[a,c,j,_,S,R,P]),$=x.useCallback(()=>{const G=new URLSearchParams(window.location.search),C=parseInt(G.get("page")||"1"),U=parseInt(G.get("pageSize")||"10"),ne=G.get("status")||"all",me=G.get("year")||new Date().getFullYear().toString(),ie=G.get("month")||"all",Ee=G.get("orgUnit")||"all";l(C),d(Math.max(U,10)),w(ne),E(me),k(ie),P&&L(Ee),b(!0)},[P]),J=async()=>{try{n(!0);let G;const C={page:a,size:Math.max(c,10)};if(j!=="all"&&(C.status=j),P&&R!=="all"&&(C.org_unit_id=parseInt(R)),_!=="all"){const U=parseInt(_),ne=new Date().getFullYear();if(U<=ne+1)if(S!=="all"){const me=parseInt(S);me>=1&&me<=12&&(C.month=me,C.year=U)}else C.year=U}else if(S!=="all"){const U=new Date().getFullYear(),ne=parseInt(S);ne>=1&&ne<=12&&(C.month=ne,C.year=U)}P?G=await Cn.admin.getAllWorkPlans(C):X&&A?G=await Cn.admin.getWorkPlansByOrgUnit(A,C):G={items:[],total:0,page:1,size:10,has_next:!1},e(G.items),h(G.total),g(G.has_next)}catch(G){console.error("Failed to fetch work plans:",G)}finally{n(!1)}};x.useEffect(()=>{$()},[$]),x.useEffect(()=>{y&&J()},[a,c,j,_,S,R,y]),x.useEffect(()=>{if(y){const G=z(),C=G,U=window.location.search.slice(1);if(C!==U){const ne=`${window.location.pathname}${G?"?"+G:""}`;window.history.replaceState(null,"",ne)}}},[a,c,j,_,S,R,y,z]);const B=G=>{I(`/work-plans/${G.id}/details`)},M=t,V=new Date().getFullYear(),Q=Array.from({length:5},(G,C)=>V-2+C),le=[{value:"1",label:"January"},{value:"2",label:"February"},{value:"3",label:"March"},{value:"4",label:"April"},{value:"5",label:"May"},{value:"6",label:"June"},{value:"7",label:"July"},{value:"8",label:"August"},{value:"9",label:"September"},{value:"10",label:"October"},{value:"11",label:"November"},{value:"12",label:"December"}],H=G=>{const C=G.details.filter(me=>me.is_completed).length,U=G.details.length,ne=U>0?Math.round(C/U*100):0;return ne===100?s.jsx(Ke,{className:"bg-green-100 text-green-800",children:"Completed"}):ne>0?s.jsxs(Ke,{className:"bg-blue-100 text-blue-800",children:[ne,"% Complete"]}):s.jsx(Ke,{className:"bg-gray-100 text-gray-800",children:"Not Started"})};return s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ye,{title:"Work Plan Monitoring",description:P?"Monitor all work plans across the organization":"Monitor work plans in your organizational unit",breadcrumbs:O}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs(ee,{children:[s.jsx(ue,{className:"pb-2",children:s.jsx(xe,{className:"text-sm font-medium text-muted-foreground",children:"Total Plans"})}),s.jsx(te,{className:"pt-0",children:s.jsx("div",{className:"text-2xl font-bold",children:f})})]}),s.jsxs(ee,{children:[s.jsx(ue,{className:"pb-2",children:s.jsx(xe,{className:"text-sm font-medium text-muted-foreground",children:"Completed"})}),s.jsx(te,{className:"pt-0",children:s.jsx("div",{className:"text-2xl font-bold text-green-600",children:M.filter(G=>G.details.filter(U=>U.is_completed).length===G.details.length&&G.details.length>0).length})})]}),s.jsxs(ee,{children:[s.jsx(ue,{className:"pb-2",children:s.jsx(xe,{className:"text-sm font-medium text-muted-foreground",children:"In Progress"})}),s.jsx(te,{className:"pt-0",children:s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:M.filter(G=>{const C=G.details.filter(U=>U.is_completed).length;return C>0&&C<G.details.length}).length})})]}),s.jsxs(ee,{children:[s.jsx(ue,{className:"pb-2",children:s.jsx(xe,{className:"text-sm font-medium text-muted-foreground",children:"Pending"})}),s.jsx(te,{className:"pt-0",children:s.jsx("div",{className:"text-2xl font-bold text-gray-600",children:M.filter(G=>G.details.filter(U=>U.is_completed).length===0).length})})]})]}),s.jsxs(Yr,{children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium text-primary",children:[s.jsx(Di,{className:"h-4 w-4"}),s.jsx("span",{children:"Status"})]}),s.jsxs("select",{className:"w-full border border-primary p-2 h-10 rounded-md bg-white dark:bg-gray-800",value:j,onChange:G=>w(G.target.value),children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"completed",children:"Completed"}),s.jsx("option",{value:"in_progress",children:"In Progress"}),s.jsx("option",{value:"not_started",children:"Not Started"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium text-primary",children:[s.jsx(Ze,{className:"h-4 w-4"}),s.jsx("span",{children:"Year"})]}),s.jsxs("select",{className:"w-full border border-primary p-2 h-10 rounded-md bg-white dark:bg-gray-800",value:_,onChange:G=>E(G.target.value),children:[s.jsx("option",{value:"all",children:"All Years"}),Q.map(G=>s.jsx("option",{value:G.toString(),children:G},G))]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium text-primary",children:[s.jsx(Ze,{className:"h-4 w-4"}),s.jsx("span",{children:"Month"})]}),s.jsxs("select",{className:"w-full border border-primary p-2 h-10 rounded-md bg-white dark:bg-gray-800",value:S,onChange:G=>k(G.target.value),children:[s.jsx("option",{value:"all",children:"All Months"}),le.map(G=>s.jsx("option",{value:G.value,children:G.label},G.value))]})]}),P&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium text-primary",children:[s.jsx(Na,{className:"h-4 w-4"}),s.jsx("span",{children:"Org Unit"})]}),s.jsx("select",{className:"w-full border border-primary p-2 h-10 rounded-md bg-white dark:bg-gray-800",value:R,onChange:G=>L(G.target.value),children:s.jsx("option",{value:"all",children:"All Units"})})]})]}),s.jsx("div",{className:"space-y-4",children:r?Array.from({length:5}).map((G,C)=>s.jsxs(ee,{children:[s.jsx(ue,{children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"space-y-2 flex-1",children:[s.jsx(Ne,{className:"h-4 w-3/4"}),s.jsx(Ne,{className:"h-3 w-1/2"})]}),s.jsx(Ne,{className:"h-6 w-20"})]})}),s.jsx(te,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ne,{className:"h-3 w-full"}),s.jsx(Ne,{className:"h-3 w-2/3"})]})})]},C)):M.length===0?s.jsx(ee,{children:s.jsx(te,{className:"py-8",children:s.jsxs("div",{className:"text-center text-muted-foreground",children:[s.jsx(Ze,{className:"mx-auto h-12 w-12 mb-4 opacity-50"}),s.jsx("p",{className:"text-lg font-medium mb-2",children:"No work plans found"}),s.jsx("p",{className:"text-sm",children:j!=="all"||_!=="all"||S!=="all"?"Try adjusting your filters to see more results.":"No work plans have been created yet."})]})})}):M.map(G=>s.jsxs(ee,{className:"hover:shadow-md transition-shadow pt-4 pb-0",children:[s.jsx(ue,{children:s.jsx("div",{className:"flex items-start gap-3",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsxs(xe,{className:"text-lg",children:["Week of ",new Date(G.week_start_date).toLocaleDateString()]}),H(G)]}),s.jsxs(Tt,{className:"text-sm text-muted-foreground flex flex-col gap-4",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(ws,{className:"h-3 w-3"}),G.user_name]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(rp,{className:"h-3 w-3"}),G.org_unit_name]})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("span",{children:[G.details.length," work items planned"]}),s.jsxs("span",{children:[G.details.filter(C=>C.is_completed).length," completed"]})]})]})]})})}),s.jsx(te,{children:s.jsxs("div",{className:"space-y-3",children:[G.details.sort((C,U)=>(C.order_index||0)-(U.order_index||0)).slice(0,2).map((C,U)=>s.jsx("div",{className:`flex items-start gap-3 text-sm p-3 rounded-lg ${C.is_completed?"bg-green-50 border border-green-200":"bg-muted/50"}`,children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`font-medium ${C.is_completed?"text-green-700 line-through":""}`,children:s.jsx(_r,{content:C.planned_activity,isDetailView:!1,maxLength:80,className:C.is_completed?"text-green-700 line-through":""})}),C.is_completed&&s.jsx(cr,{className:"h-4 w-4 text-green-600"})]}),s.jsx("div",{className:"flex items-center gap-4 mt-1 text-muted-foreground",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Ze,{className:"h-3 w-3"}),s.jsx("span",{className:"text-xs",children:C.is_completed?"Completed":"Pending"})]})})]})},U)),G.details.length>2&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["+",G.details.length-2," more work items"]})]})}),s.jsx("div",{className:"px-6 py-3 border-t",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-0",children:[s.jsx("div",{className:"flex flex-wrap gap-2 w-full sm:w-auto"}),s.jsx("div",{className:"flex justify-start w-full sm:w-auto",children:s.jsxs(On,{children:[s.jsx(Mn,{asChild:!0,children:s.jsxs(re,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:[s.jsx(ra,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"More actions"})]})}),s.jsx(un,{align:"end",children:s.jsxs(ts,{onClick:()=>B(G),children:[s.jsx(Ut,{className:"mr-2 h-4 w-4"}),"View Details"]})})]})})]})})]},G.id))}),!r&&M.length>0&&s.jsx(Ks,{currentPage:a,totalItems:f,itemsPerPage:c,onPageChange:l,onItemsPerPageChange:G=>d(Math.max(Number(G),10)),hasNext:p})]})}function $J(){const[t,e]=x.useState(null),[r,n]=x.useState(!0),a=[{label:"Dashboard",href:"/dashboard"},{label:"Work Plans",href:"/work-plans"},{label:"Summary",current:!0}],l=async()=>{try{n(!0);const d=await Cn.getSummary();e(d)}catch(d){console.error("Failed to fetch summary data:",d)}finally{n(!1)}};x.useEffect(()=>{l()},[]);const c=s.jsxs(re,{onClick:()=>window.location.href="/work-plans",size:"sm",children:[s.jsx(Ze,{className:"h-4 w-4 mr-2"}),"View All Plans"]});return s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ye,{title:"Work Plan Summary",description:"Overview of your work planning activities and performance",breadcrumbs:a,actions:c}),r?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-4",children:Array.from({length:4}).map((d,f)=>s.jsxs(ee,{children:[s.jsx(ue,{className:"pb-2",children:s.jsx(Ne,{className:"h-4 w-20"})}),s.jsx(te,{className:"pt-0",children:s.jsx(Ne,{className:"h-8 w-12"})})]},f))}):t?s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-4",children:[s.jsxs(ee,{children:[s.jsx(ue,{className:"pb-2",children:s.jsxs(xe,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[s.jsx(on,{className:"h-4 w-4"}),"Total Plans"]})}),s.jsx(te,{className:"pt-0",children:s.jsx("div",{className:"text-2xl font-bold",children:t.total_plans})})]}),s.jsxs(ee,{children:[s.jsx(ue,{className:"pb-2",children:s.jsxs(xe,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[s.jsx(cr,{className:"h-4 w-4"}),"Completed Plans"]})}),s.jsx(te,{className:"pt-0",children:s.jsx("div",{className:"text-2xl font-bold text-green-600",children:t.completed_plans})})]}),s.jsxs(ee,{children:[s.jsx(ue,{className:"pb-2",children:s.jsxs(xe,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[s.jsx(Pt,{className:"h-4 w-4"}),"In Progress"]})}),s.jsx(te,{className:"pt-0",children:s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:t.in_progress_plans})})]}),s.jsxs(ee,{children:[s.jsx(ue,{className:"pb-2",children:s.jsxs(xe,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[s.jsx(cl,{className:"h-4 w-4"}),"Completion Rate"]})}),s.jsx(te,{className:"pt-0",children:s.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[t.total_plans>0?Math.round(t.completed_plans/t.total_plans*100):0,"%"]})})]})]}):null,t&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs(ee,{children:[s.jsxs(ue,{children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(Ze,{className:"h-5 w-5"}),"This Week"]}),s.jsx(Tt,{children:"Current week work plan status"})]}),s.jsx(te,{children:s.jsx("div",{className:"flex items-center gap-2",children:t.this_week_exists?s.jsx("span",{className:"text-green-600 font-medium",children:"Plan exists"}):s.jsx("span",{className:"text-gray-500",children:"No plan yet"})})})]}),s.jsxs(ee,{children:[s.jsxs(ue,{children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(Ze,{className:"h-5 w-5"}),"Next Week"]}),s.jsx(Tt,{children:"Next week work plan status"})]}),s.jsx(te,{children:s.jsx("div",{className:"flex items-center gap-2",children:t.next_week_exists?s.jsx("span",{className:"text-green-600 font-medium",children:"Plan exists"}):s.jsx("span",{className:"text-gray-500",children:"No plan yet"})})})]})]}),t&&t.total_plans>0&&s.jsxs(ee,{children:[s.jsxs(ue,{children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(cl,{className:"h-5 w-5"}),"Performance Insights"]}),s.jsx(Tt,{children:"Key metrics and completion rates"})]}),s.jsx(te,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[s.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[Math.round(t.completed_plans/t.total_plans*100),"%"]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Completion Rate"})]}),s.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[s.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[Math.round(t.in_progress_plans/t.total_plans*100),"%"]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"In Progress Rate"})]})]})})]}),!r&&(t==null?void 0:t.total_plans)===0&&s.jsx(ee,{children:s.jsx(te,{className:"py-12",children:s.jsxs("div",{className:"text-center text-muted-foreground",children:[s.jsx(Ze,{className:"mx-auto h-16 w-16 mb-4 opacity-50"}),s.jsx("h3",{className:"text-xl font-medium mb-2",children:"No Work Plans Yet"}),s.jsx("p",{className:"text-sm mb-4",children:"Start planning your work by creating your first work plan."}),s.jsxs(re,{onClick:()=>window.location.href="/work-plans",children:[s.jsx(Ze,{className:"h-4 w-4 mr-2"}),"Create Your First Plan"]})]})})})]})}const qJ=Wt.object({week_start_date:Wt.string().min(1,"Week start date is required"),details:Wt.array(Wt.object({planned_activity:Wt.string().min(1,"Planned activity is required"),is_completed:Wt.boolean().optional(),order_index:Wt.number().optional()})).min(1,"At least one activity is required")});function HP({mode:t,workPlan:e,onSuccess:r,onCancel:n}){const[a,l]=x.useState(!1),{toast:c}=tr(),d=ti({resolver:si(qJ),defaultValues:{week_start_date:"",details:[{planned_activity:"",is_completed:!1,order_index:0}]}}),{fields:f,append:h,remove:p}=YX({control:d.control,name:"details"});x.useEffect(()=>{t==="edit"&&e?d.reset({week_start_date:e.week_start_date,details:e.details.map((E,S)=>({planned_activity:E.planned_activity,is_completed:E.is_completed||!1,order_index:E.order_index||S}))}):t==="create"&&d.reset({week_start_date:"",details:[{planned_activity:"",is_completed:!1,order_index:0}]})},[t,e,d]);const g=async E=>{try{if(l(!0),new Date(E.week_start_date).getDay()!==1){c({title:"Invalid Date",description:"Week start date must be a Monday",variant:"destructive"});return}if(t==="create"){const k={week_start_date:E.week_start_date,details:E.details};await Cn.createWorkPlan(k)}else if(t==="edit"&&e){const k={week_start_date:E.week_start_date,details:E.details};await Cn.updateWorkPlan(e.id,k)}r()}catch(S){console.error(`Failed to ${t} work plan:`,S)}finally{l(!1)}},y=()=>{h({planned_activity:"",is_completed:!1,order_index:f.length})},b=E=>{for(let S=0;S<E;S++)h({planned_activity:"",is_completed:!1,order_index:f.length+S})},j=E=>{f.length>1&&p(E)},w=()=>{const E=new Date,S=new Date(E);return S.setDate(E.getDate()+(8-E.getDay())%7),S.toISOString().split("T")[0]},_=()=>{const E=new Date,S=new Date(E);return S.setDate(E.getDate()-E.getDay()+1),S.toISOString().split("T")[0]};return s.jsx("div",{className:"w-full",children:s.jsx(co,{...d,children:s.jsxs("form",{onSubmit:d.handleSubmit(g),className:"space-y-6",children:[s.jsxs(ee,{children:[s.jsxs(ue,{children:[s.jsx(xe,{children:"Basic Information"}),s.jsx(Tt,{children:"Set the week start date for your work plan"})]}),s.jsx(te,{children:s.jsx(Jt,{control:d.control,name:"week_start_date",render:({field:E})=>s.jsxs(es,{children:[s.jsx(Gt,{children:"Week Start Date"}),s.jsx(rs,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ct,{type:"date",...E,min:_()}),t==="create"&&s.jsxs("div",{className:"flex gap-2",children:[s.jsx(re,{type:"button",variant:"outline",size:"sm",onClick:()=>E.onChange(_()),children:"This Week"}),s.jsx(re,{type:"button",variant:"outline",size:"sm",onClick:()=>E.onChange(w()),children:"Next Week"})]})]})}),s.jsx(Qr,{children:"Select the Monday that starts the work week. Must be a Monday."}),s.jsx(ns,{})]})})})]}),s.jsxs(ee,{children:[s.jsx(ue,{children:s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs(xe,{className:"flex items-center gap-2 text-lg md:text-xl",children:[s.jsx(bs,{className:"h-5 w-5"}),"Weekly Activities"]}),s.jsx(Tt,{className:"text-sm md:text-base",children:"Define flexible work items for the week (not tied to specific dates)"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2",children:[s.jsxs(re,{type:"button",onClick:y,variant:"outline",size:"sm",className:"w-full sm:w-auto",children:[s.jsx(or,{className:"h-4 w-4 mr-2"}),s.jsx("span",{className:"hidden sm:inline",children:"Add Activity"}),s.jsx("span",{className:"sm:hidden",children:"Add"})]}),s.jsxs(On,{children:[s.jsx(Mn,{asChild:!0,children:s.jsxs(re,{type:"button",variant:"outline",size:"sm",className:"w-full sm:w-auto",children:[s.jsx(KN,{className:"h-4 w-4 mr-2"}),s.jsx("span",{className:"hidden sm:inline",children:"Quick Add"}),s.jsx("span",{className:"sm:hidden",children:"Quick"})]})}),s.jsxs(un,{children:[s.jsx(ts,{onClick:()=>b(3),children:"Add 3 Activities"}),s.jsx(ts,{onClick:()=>b(5),children:"Add 5 Activities"}),s.jsx(ts,{onClick:()=>b(10),children:"Add 10 Activities"})]})]})]})]})}),s.jsx(te,{children:s.jsx("div",{className:"space-y-6",children:f.map((E,S)=>s.jsxs("div",{className:"p-3 md:p-4 border rounded-lg space-y-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[s.jsxs("h4",{className:"font-medium flex items-center gap-2 text-sm md:text-base",children:[s.jsx(bs,{className:"h-4 w-4"}),"Activity ",S+1]}),f.length>1&&s.jsx(re,{type:"button",onClick:()=>j(S),variant:"ghost",size:"sm",className:"w-fit self-end sm:self-auto",children:s.jsx(ea,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"space-y-4",children:s.jsx(Jt,{control:d.control,name:`details.${S}.planned_activity`,render:({field:k})=>s.jsxs(es,{children:[s.jsx(Gt,{className:"text-sm md:text-base",children:"Work Item Description"}),s.jsx(rs,{children:s.jsx(Tn,{...k,placeholder:"Describe the work item or task to be completed this week...",disabled:a,rows:4,className:"resize-none focus:border-primary"})}),s.jsx(Qr,{className:"text-xs md:text-sm",children:"Be specific about the task but don't assign it to a particular day"}),s.jsx(ns,{})]})})})]},E.id))})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 sm:gap-4",children:[s.jsx(re,{type:"button",variant:"outline",onClick:n,disabled:a,className:"w-full sm:w-auto order-2 sm:order-1",children:"Cancel"}),s.jsxs(re,{type:"submit",disabled:a,className:"w-full sm:w-auto order-1 sm:order-2",children:[s.jsx($y,{className:"h-4 w-4 mr-2"}),s.jsx("span",{className:"hidden sm:inline",children:a?t==="create"?"Creating...":"Updating...":t==="create"?"Create Work Plan":"Update Work Plan"}),s.jsx("span",{className:"sm:hidden",children:a?t==="create"?"Creating...":"Updating...":t==="create"?"Create":"Update"})]})]})]})})})}function BJ(){const t=ht(),e=()=>{t("/work-plans")},r=()=>{t("/work-plans")};return s.jsxs("div",{className:"container mx-auto lg:px-4 lg:py-6 max-w-none",children:[s.jsx(Ye,{title:"Create Work Plan",description:"Create a new weekly work plan with detailed activities",breadcrumbs:[{label:"Dashboard",href:"/dashboard"},{label:"Work Plans",href:"/work-plans"},{label:"Create",current:!0}],actions:s.jsxs(re,{variant:"outline",onClick:r,children:[s.jsx($t,{className:"h-4 w-4 mr-2"}),"Back to Work Plans"]})}),s.jsx("div",{className:"mt-6",children:s.jsx(HP,{mode:"create",onSuccess:e,onCancel:r})})]})}function HJ(){const{id:t}=zn(),e=ht(),[r,n]=x.useState(null),[a,l]=x.useState(!0),[c,d]=x.useState(null);x.useEffect(()=>{(async()=>{if(!t){d("Work plan ID is required"),l(!1);return}try{const g=await Cn.getWorkPlanById(Number(t));n(g)}catch(g){d("Failed to load work plan"),console.error("Error fetching work plan:",g)}finally{l(!1)}})()},[t]);const f=()=>{e("/work-plans")},h=()=>{e("/work-plans")};return a?s.jsxs("div",{className:"container mx-auto lg:px-4 lg:py-6 max-w-none",children:[s.jsx(Ye,{title:"Edit Work Plan",description:"Loading work plan...",breadcrumbs:[{label:"Dashboard",href:"/dashboard"},{label:"Work Plans",href:"/work-plans"},{label:"Edit",current:!0}],actions:s.jsxs(re,{variant:"outline",onClick:h,children:[s.jsx($t,{className:"h-4 w-4 mr-2"}),"Back to Work Plans"]})}),s.jsx("div",{className:"mt-6",children:s.jsx(ee,{children:s.jsxs(te,{className:"py-8 text-center",children:[s.jsx(js,{className:"mx-auto h-8 w-8 animate-spin mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading work plan details..."})]})})})]}):c||!r?s.jsxs("div",{className:"container mx-auto lg:px-4 lg:py-6 max-w-none",children:[s.jsx(Ye,{title:"Edit Work Plan",description:"Error loading work plan",breadcrumbs:[{label:"Dashboard",href:"/dashboard"},{label:"Work Plans",href:"/work-plans"},{label:"Edit",current:!0}],actions:s.jsxs(re,{variant:"outline",onClick:h,children:[s.jsx($t,{className:"h-4 w-4 mr-2"}),"Back to Work Plans"]})}),s.jsx("div",{className:"mt-6",children:s.jsx(ee,{children:s.jsx(te,{className:"py-8 text-center",children:s.jsxs("div",{className:"text-destructive",children:[s.jsx("p",{className:"text-lg font-medium mb-2",children:"Error"}),s.jsx("p",{className:"text-sm",children:c||"Work plan not found"})]})})})})]}):s.jsxs("div",{className:"container mx-auto lg:px-4 lg:py-6 max-w-none",children:[s.jsx(Ye,{title:"Edit Work Plan",description:`Week of ${r.week_start_date}`,breadcrumbs:[{label:"Dashboard",href:"/dashboard"},{label:"Work Plans",href:"/work-plans"},{label:"Edit",current:!0}],actions:s.jsxs(re,{variant:"outline",onClick:h,children:[s.jsx($t,{className:"h-4 w-4 mr-2"}),"Back to Work Plans"]})}),s.jsx("div",{className:"mt-6",children:s.jsx(HP,{mode:"edit",workPlan:r,onSuccess:f,onCancel:h})})]})}function VJ(){const{id:t}=zn(),e=ht(),{isAdmin:r,isMasterAdmin:n}=uo(),[a,l]=x.useState(null),[c,d]=x.useState(!0),[f,h]=x.useState(null);x.useEffect(()=>{(async()=>{if(!t){h("Work plan ID is required"),d(!1);return}try{const _=await Cn.getWorkPlanById(Number(t));l(_)}catch(_){h("Failed to load work plan"),console.error("Error fetching work plan:",_)}finally{d(!1)}})()},[t]);const p=()=>{e(r||n?"/work-plans/monitoring":"/work-plans")},g=()=>r||n?"Back to Monitoring":"Back to My Work Plans",y=()=>{const w=[{label:"Dashboard",href:"/dashboard"}];return r||n?[...w,{label:"Work Plan Monitoring",href:"/work-plans/monitoring"},{label:"Details",current:!0}]:[...w,{label:"My Work Plans",href:"/work-plans"},{label:"Details",current:!0}]},b=w=>new Date(w).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),j=w=>new Date(w).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return c?s.jsxs("div",{className:"container mx-auto lg:px-4 lg:py-6 max-w-none",children:[s.jsx(Ye,{title:"Work Plan Details",description:"Loading work plan...",breadcrumbs:y(),actions:s.jsxs(re,{variant:"outline",onClick:p,children:[s.jsx($t,{className:"h-4 w-4 mr-2"}),g()]})}),s.jsx("div",{className:"mt-6",children:s.jsx(ee,{children:s.jsxs(te,{className:"py-8 text-center",children:[s.jsx(js,{className:"mx-auto h-8 w-8 animate-spin mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading work plan details..."})]})})})]}):f||!a?s.jsxs("div",{className:"container mx-auto lg:px-4 lg:py-6 max-w-none",children:[s.jsx(Ye,{title:"Work Plan Details",description:"Error loading work plan",breadcrumbs:y(),actions:s.jsxs(re,{variant:"outline",onClick:p,children:[s.jsx($t,{className:"h-4 w-4 mr-2"}),g()]})}),s.jsx("div",{className:"mt-6",children:s.jsx(ee,{children:s.jsx(te,{className:"py-8 text-center",children:s.jsxs("div",{className:"text-destructive",children:[s.jsx("p",{className:"text-lg font-medium mb-2",children:"Error"}),s.jsx("p",{className:"text-sm",children:f||"Work plan not found"})]})})})})]}):s.jsxs("div",{className:"container mx-auto lg:px-4 lg:py-6 max-w-none",children:[s.jsx(Ye,{title:"Work Plan Details",description:`Week of ${b(a.week_start_date)}`,breadcrumbs:y(),actions:s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs(re,{variant:"outline",onClick:p,children:[s.jsx($t,{className:"h-4 w-4 mr-2"}),g()]})})}),s.jsxs("div",{className:"mt-6 space-y-6",children:[s.jsxs(ee,{children:[s.jsx(ue,{children:s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(Ze,{className:"h-5 w-5"}),"Plan Overview"]})}),s.jsx(te,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Week Start Date"}),s.jsx("p",{className:"text-lg",children:b(a.week_start_date)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Week End Date"}),s.jsx("p",{className:"text-lg",children:b(a.week_end_date)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Work Items"}),s.jsx("p",{className:"text-lg font-semibold",children:a.details.length})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Completion Rate"}),s.jsxs("p",{className:"text-lg font-semibold text-green-600",children:[Math.round(a.details.filter(w=>w.is_completed).length/a.details.length*100),"%"]})]})]})})]}),s.jsxs(ee,{children:[s.jsxs(ue,{children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(bs,{className:"h-5 w-5"}),"Weekly Work Items"]}),s.jsx(Tt,{children:"Flexible work items planned for completion this week"})]}),s.jsx(te,{children:s.jsx("div",{className:"space-y-4",children:a.details.sort((w,_)=>(w.order_index||0)-(_.order_index||0)).map((w,_)=>s.jsxs("div",{className:`p-4 border rounded-lg space-y-3 ${w.is_completed?"bg-green-50 border-green-200":""}`,children:[s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsxs("h4",{className:"font-medium text-lg",children:["Work Item ",_+1]}),w.is_completed&&s.jsxs("div",{className:"inline-flex items-center gap-1 px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs font-medium",children:[s.jsx($g,{className:"h-3 w-3"}),"Completed"]})]}),s.jsx("div",{className:`text-sm ${w.is_completed?"text-green-700 line-through":"text-muted-foreground"}`,children:s.jsx(_r,{content:w.planned_activity,isDetailView:!0,className:w.is_completed?"text-green-700 line-through":"text-muted-foreground"})})]})}),s.jsx(ys,{}),s.jsxs("div",{className:"flex flex-col gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(bs,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Status"}),s.jsx("p",{className:`text-sm ${w.is_completed?"text-green-600":"text-gray-500"}`,children:w.is_completed?"Completed":"Pending"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ze,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Week Period"}),s.jsxs("p",{className:"text-muted-foreground",children:[b(a.week_start_date)," - ",b(a.week_end_date)]})]})]})]})]},w.id))})})]}),s.jsxs(ee,{children:[s.jsx(ue,{children:s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(Pt,{className:"h-5 w-5"}),"Status Information"]})}),s.jsx(te,{children:s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-muted-foreground",children:"Created"}),s.jsx("p",{children:j(a.created_at)})]}),a.updated_at&&s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-muted-foreground",children:"Last Updated"}),s.jsx("p",{children:j(a.updated_at)})]})]})})})]})]})]})}function jd({...t}){return s.jsx(Gy,{"data-slot":"dialog",...t})}function VP({...t}){return s.jsx(YR,{"data-slot":"dialog-trigger",...t})}function YJ({...t}){return s.jsx(Zy,{"data-slot":"dialog-portal",...t})}function WJ({className:t,...e}){return s.jsx(Ky,{"data-slot":"dialog-overlay",className:Pe("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function wd({className:t,children:e,...r}){return s.jsxs(YJ,{"data-slot":"dialog-portal",children:[s.jsx(WJ,{}),s.jsxs(Xy,{"data-slot":"dialog-content",className:Pe("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...r,children:[e,s.jsxs(Qy,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[s.jsx(ZR,{}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Um({className:t,...e}){return s.jsx("div",{"data-slot":"dialog-header",className:Pe("flex flex-col gap-2 text-center sm:text-left",t),...e})}function U1({className:t,...e}){return s.jsx("div",{"data-slot":"dialog-footer",className:Pe("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...e})}function Fm({className:t,...e}){return s.jsx(t1,{"data-slot":"dialog-title",className:Pe("text-lg leading-none font-semibold",t),...e})}var xv="Tabs",[GJ,Hce]=tn(xv,[rv]),YP=rv(),[ZJ,F1]=GJ(xv),WP=x.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:l,orientation:c="horizontal",dir:d,activationMode:f="automatic",...h}=t,p=Rf(d),[g,y]=Sa({prop:n,onChange:a,defaultProp:l??"",caller:xv});return s.jsx(ZJ,{scope:r,baseId:Mr(),value:g,onValueChange:y,orientation:c,dir:p,activationMode:f,children:s.jsx(Xe.div,{dir:p,"data-orientation":c,...h,ref:e})})});WP.displayName=xv;var GP="TabsList",ZP=x.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...a}=t,l=F1(GP,r),c=YP(r);return s.jsx(ED,{asChild:!0,...c,orientation:l.orientation,dir:l.dir,loop:n,children:s.jsx(Xe.div,{role:"tablist","aria-orientation":l.orientation,...a,ref:e})})});ZP.displayName=GP;var KP="TabsTrigger",XP=x.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...l}=t,c=F1(KP,r),d=YP(r),f=e3(c.baseId,n),h=t3(c.baseId,n),p=n===c.value;return s.jsx(kD,{asChild:!0,...d,focusable:!a,active:p,children:s.jsx(Xe.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":h,"data-state":p?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:f,...l,ref:e,onMouseDown:He(t.onMouseDown,g=>{!a&&g.button===0&&g.ctrlKey===!1?c.onValueChange(n):g.preventDefault()}),onKeyDown:He(t.onKeyDown,g=>{[" ","Enter"].includes(g.key)&&c.onValueChange(n)}),onFocus:He(t.onFocus,()=>{const g=c.activationMode!=="manual";!p&&!a&&g&&c.onValueChange(n)})})})});XP.displayName=KP;var QP="TabsContent",JP=x.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:a,children:l,...c}=t,d=F1(QP,r),f=e3(d.baseId,n),h=t3(d.baseId,n),p=n===d.value,g=x.useRef(p);return x.useEffect(()=>{const y=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(y)},[]),s.jsx(Vr,{present:a||p,children:({present:y})=>s.jsx(Xe.div,{"data-state":p?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":f,hidden:!y,id:h,tabIndex:0,...c,ref:e,style:{...t.style,animationDuration:g.current?"0s":void 0},children:y&&l})})});JP.displayName=QP;function e3(t,e){return`${t}-trigger-${e}`}function t3(t,e){return`${t}-content-${e}`}var KJ=WP,s3=ZP,r3=XP,n3=JP;const XJ=KJ,a3=x.forwardRef(({className:t,...e},r)=>s.jsx(s3,{ref:r,className:Pe("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",t),...e}));a3.displayName=s3.displayName;const wg=x.forwardRef(({className:t,...e},r)=>s.jsx(r3,{ref:r,className:Pe("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",t),...e}));wg.displayName=r3.displayName;const Ng=x.forwardRef(({className:t,...e},r)=>s.jsx(n3,{ref:r,className:Pe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Ng.displayName=n3.displayName;Wt.object({action:Wt.enum(["approved","rejected"]),rejection_reason:Wt.string().optional()}).refine(t=>{var e;return!(t.action==="rejected"&&!((e=t.rejection_reason)!=null&&e.trim()))},{message:"Rejection reason is required when rejecting a work plan",path:["rejection_reason"]});function i3({activity:t,showActions:e=!1,onDelete:r}){const n=ht(),a=d=>{n(`/activities/${d.id}/edit`)},l=d=>{n(`/activities/${d.id}`)},c=d=>{r&&r(d)};return s.jsxs(ee,{className:"hover:shadow-md transition-shadow overflow-hidden",children:[s.jsxs(ue,{className:"pb-3",children:[s.jsxs("div",{className:"w-full overflow-hidden",children:[s.jsx(xe,{className:"text-base sm:text-lg mb-2 break-all hyphens-auto leading-tight",children:t.title}),s.jsxs("div",{className:"flex flex-wrap items-center gap-1.5",children:[t.activity_type===Ys.ONLINE?s.jsxs(Ke,{variant:"default",className:"bg-blue-500 hover:bg-blue-600 flex items-center gap-1 text-xs",children:[s.jsx(Gu,{className:"h-3 w-3"}),"Online"]}):s.jsxs(Ke,{variant:"default",className:"bg-green-500 hover:bg-green-600 flex items-center gap-1 text-xs",children:[s.jsx(Ka,{className:"h-3 w-3"}),"In-Person"]}),Nt.isToday(t.activity_date)&&s.jsx(Ke,{variant:"secondary",className:"text-xs",children:"Today"}),Nt.isUpcoming(t.activity_date)&&s.jsx(Ke,{variant:"outline",className:"text-xs",children:"Upcoming"})]})]}),t.description&&s.jsx("div",{className:"text-sm text-muted-foreground break-all hyphens-auto leading-relaxed",children:s.jsx(_r,{content:t.description,isDetailView:!1,maxLength:120,className:"text-sm text-muted-foreground"})})]}),s.jsxs(te,{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Ze,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{children:Nt.formatActivityDate(t.activity_date)})]}),(t.start_time||t.end_time)&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Pt,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{children:Nt.formatTimeRange(t.start_time,t.end_time)})]}),t.activity_type===Ys.ONLINE&&t.meeting_link&&s.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[s.jsx(Gu,{className:"h-4 w-4 text-blue-600 flex-shrink-0 mt-0.5"}),s.jsxs("a",{href:t.meeting_link,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline flex items-center gap-1 break-all",onClick:d=>d.stopPropagation(),children:["Join Meeting",s.jsx(am,{className:"h-3 w-3 flex-shrink-0"})]})]}),t.location&&s.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[s.jsx(Ka,{className:"h-4 w-4 text-muted-foreground flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"break-words",children:t.location})]}),s.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ws,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("span",{className:"text-sm",children:[t.participants.length," participants"]})]}),s.jsxs("div",{className:"flex -space-x-2",children:[t.participants.slice(0,3).map(d=>{var f;return s.jsx(na,{className:"h-6 w-6 border-2 border-background",children:s.jsx(aa,{className:"text-xs bg-primary text-primary-foreground",children:((f=d.user_name)==null?void 0:f.slice(0,2).toUpperCase())||"U"})},d.id)}),t.participants.length>3&&s.jsx("div",{className:"h-6 w-6 rounded-full bg-muted border-2 border-background flex items-center justify-center",children:s.jsxs("span",{className:"text-xs",children:["+",t.participants.length-3]})})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[t.participants.filter(d=>d.role==="owner").slice(0,1).map(d=>s.jsxs(Ke,{variant:"outline",className:"text-xs break-all",children:["Owner: ",d.user_name]},d.id)),t.participants.filter(d=>d.role==="pic").slice(0,2).map(d=>s.jsxs(Ke,{variant:"secondary",className:"text-xs break-all",children:["PIC: ",d.user_name]},d.id))]}),e&&s.jsxs("div",{className:"flex items-center justify-end gap-1 pt-2 border-t",children:[s.jsx(re,{variant:"ghost",size:"sm",onClick:()=>l(t),className:"h-7 w-7 p-0",children:s.jsx(Ut,{className:"h-3.5 w-3.5"})}),s.jsx(re,{variant:"ghost",size:"sm",onClick:()=>a(t),className:"h-7 w-7 p-0",children:s.jsx(en,{className:"h-3.5 w-3.5"})}),s.jsxs(Ls,{children:[s.jsx(Or,{asChild:!0,children:s.jsx(re,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 hover:bg-destructive hover:text-destructive-foreground",children:s.jsx(ea,{className:"h-3.5 w-3.5"})})}),s.jsxs(Ns,{children:[s.jsxs(_s,{children:[s.jsx(Es,{children:"Delete Activity"}),s.jsx(ks,{children:"Are you sure you want to delete this activity? This action cannot be undone."})]}),s.jsxs(Ss,{children:[s.jsx(As,{children:"Cancel"}),s.jsx(Cs,{className:"bg-red-600 hover:bg-red-700 focus:ring-red-600",onClick:()=>c(t.id),children:"Delete"})]})]})]})]})]})]})}function l3({activities:t,total:e,pageSize:r,page:n,hasNext:a,onPageChange:l,onPageSizeChange:c,onDelete:d}){const{user:f}=Jn(h=>h.auth);return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:t.map(h=>{const p=f&&h.participants.some(g=>g.user_id===f.id&&g.role==="owner");return s.jsx(i3,{activity:h,showActions:!!p,onDelete:d},h.id)})}),e>r&&s.jsx(Ks,{currentPage:n,totalPages:Math.ceil(e/r),hasNext:a,onPageChange:l,totalItems:e,itemsPerPage:r,onItemsPerPageChange:h=>c(parseInt(h))})]})}const QJ=({selectedDate:t,onSelectDate:e,getActivitiesForDate:r,onNavigateMonth:n,onToday:a})=>{var j,w;const l=RO(t),c=p1(t),d=lf(l),f=eZ(c),h="d",p=[];let g=[],y=d;for(;y<=f;){for(let _=0;_<7;_++){const E=y,S=r(E),k=Array.isArray(S)?S.length:(((j=S.activities)==null?void 0:j.length)||0)+(((w=S.leaveEvents)==null?void 0:w.length)||0),R=eK(E,l),L=m1(E,t),I=tK(E);g.push(s.jsx("div",{className:"relative p-0.5 sm:p-1",children:s.jsxs("button",{onClick:()=>e(E),className:`
              w-full h-8 sm:h-10 md:h-12 rounded-md sm:rounded-lg text-xs sm:text-sm font-medium transition-all duration-200 relative
              flex items-center justify-center
              ${R?"text-foreground hover:bg-primary/10 hover:text-primary":"text-muted-foreground hover:text-foreground hover:bg-muted/50"}
              ${L?"bg-primary text-primary-foreground shadow-md hover:bg-primary/90":""}
              ${I&&!L?"bg-accent/20 text-accent font-bold border-2 border-accent/40":""}
              ${k>0&&R&&!L&&!I?"bg-primary/10 text-primary font-semibold":""}
            `,children:[Ga(E,h),k>0&&R&&s.jsx("div",{className:`
                absolute -top-0.5 sm:-top-1 -right-0.5 sm:-right-1 h-4 w-4 sm:h-5 sm:w-5 rounded-full text-xs font-bold
                flex items-center justify-center
                ${L?"bg-primary-foreground text-primary":I?"bg-accent text-accent-foreground":"bg-primary text-primary-foreground"}
              `,children:k>9?"9+":k})]})},E.toString())),y=zG(y,1)}p.push(s.jsx("div",{className:"grid grid-cols-7 gap-0.5 sm:gap-1",children:g},y.toString())),g=[]}const b=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return s.jsxs("div",{className:"w-full bg-card",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 sm:gap-0 mb-4 sm:mb-6",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-card-foreground",children:Ga(t,"MMMM yyyy")}),s.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[s.jsx(re,{variant:"outline",size:"sm",onClick:()=>n("prev"),className:"h-8 w-8 sm:h-9 sm:w-9 p-0 hover:bg-muted",children:s.jsx(Uy,{className:"h-3 w-3 sm:h-4 sm:w-4"})}),s.jsx(re,{variant:"outline",size:"sm",onClick:a,className:"px-2 sm:px-3 text-xs sm:text-sm hover:bg-muted h-8 sm:h-9",children:"Today"}),s.jsx(re,{variant:"outline",size:"sm",onClick:()=>n("next"),className:"h-8 w-8 sm:h-9 sm:w-9 p-0 hover:bg-muted",children:s.jsx(Fy,{className:"h-3 w-3 sm:h-4 sm:w-4"})})]})]}),s.jsx("div",{className:"grid grid-cols-7 gap-0.5 sm:gap-1 mb-2",children:b.map(_=>s.jsx("div",{className:"p-1 sm:p-2 text-center text-xs sm:text-sm font-medium text-muted-foreground uppercase tracking-wide",children:_},_))}),s.jsx("div",{className:"space-y-0.5 sm:space-y-1",children:p}),s.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-3 sm:gap-6 mt-4 sm:mt-6 pt-3 sm:pt-4 border-t border-border",children:[s.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 text-xs sm:text-sm text-muted-foreground",children:[s.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 rounded bg-accent/20 border-2 border-accent/40"}),s.jsx("span",{children:"Today"})]}),s.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 text-xs sm:text-sm text-muted-foreground",children:[s.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 rounded bg-primary"}),s.jsx("span",{children:"Selected"})]}),s.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 text-xs sm:text-sm text-muted-foreground",children:[s.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 rounded bg-primary/10 border border-primary/20"}),s.jsx("span",{children:"Has Activities"})]})]})]})};function JJ({selectedDate:t,setSelectedDate:e,calendarActivities:r,getActivitiesForDate:n,navigateMonth:a,onDelete:l}){const c=ht(),{user:d}=Jn(f=>f.auth);return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 xl:grid-cols-4 gap-4 lg:gap-6",children:[s.jsx("div",{className:"lg:col-span-2 xl:col-span-3",children:s.jsx(ee,{className:"h-full",children:s.jsx(te,{className:"p-6",children:s.jsx(QJ,{selectedDate:t,onSelectDate:e,getActivitiesForDate:n,onNavigateMonth:a,onToday:()=>e(new Date)})})})}),s.jsx("div",{className:"lg:col-span-1 xl:col-span-1",children:s.jsxs(ee,{className:"h-full",children:[s.jsx(ue,{className:"pb-4",children:s.jsxs(xe,{className:"text-lg font-semibold text-card-foreground flex items-center gap-2",children:[s.jsx(Pt,{className:"h-5 w-5 text-primary"}),"Activity Summary"]})}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center p-3 bg-accent/10 rounded-lg border border-accent/20",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-accent",children:"Today"}),s.jsx("p",{className:"text-xs text-accent/80",children:Ga(new Date,"EEEE, MMM d")})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-lg font-bold text-accent",children:n(new Date).activities.length+n(new Date).leaveEvents.length}),s.jsx("div",{className:"text-xs text-accent/80",children:"activities"})]})]}),s.jsxs("div",{className:"flex justify-between items-center p-3 bg-primary/10 rounded-lg border border-primary/20",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-primary",children:"Selected"}),s.jsx("p",{className:"text-xs text-primary/80",children:Ga(t,"EEEE, MMM d")})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-lg font-bold text-primary",children:n(t).activities.length+n(t).leaveEvents.length}),s.jsx("div",{className:"text-xs text-primary/80",children:"activities"})]})]}),s.jsxs("div",{className:"flex justify-between items-center p-3 bg-muted/50 rounded-lg border border-muted",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"This Month"}),s.jsx("p",{className:"text-xs text-muted-foreground/80",children:Ga(t,"MMMM yyyy")})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-lg font-bold text-muted-foreground",children:r.length}),s.jsx("div",{className:"text-xs text-muted-foreground/80",children:"total"})]})]})]}),s.jsx("div",{className:"pt-4 border-t border-border",children:s.jsxs(re,{onClick:()=>c("/activities/create"),className:"w-full bg-primary hover:bg-primary/90 text-primary-foreground gap-2 h-10",children:[s.jsx(or,{className:"h-4 w-4"}),"Create Activity"]})})]})]})})]}),s.jsxs(ee,{children:[s.jsx(ue,{className:"pb-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[s.jsxs(xe,{className:"text-xl flex items-center gap-2",children:[s.jsx(Ka,{className:"h-5 w-5 text-primary"}),Ga(t,"EEEE, MMMM d, yyyy")]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(re,{variant:"outline",size:"sm",onClick:()=>e(new Date),className:"text-xs",children:"Today"}),s.jsxs(re,{variant:"outline",size:"sm",onClick:()=>c("/activities/create"),className:"text-xs",children:[s.jsx(or,{className:"h-3 w-3 mr-1"}),"Add Activity"]})]})]})}),s.jsx(te,{children:n(t).activities.length===0&&n(t).leaveEvents.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"mx-auto h-16 w-16 text-muted-foreground/40 mb-4",children:s.jsx(Ze,{className:"h-full w-full"})}),s.jsx("h3",{className:"text-lg font-medium text-muted-foreground mb-2",children:"No activities scheduled"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"No activities are planned for this date. Create a new activity to get started."}),s.jsxs(re,{onClick:()=>c("/activities/create"),size:"sm",className:"gap-2",children:[s.jsx(or,{className:"h-4 w-4"}),"Create Activity"]})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-4",children:[s.jsx(ws,{className:"h-4 w-4"}),s.jsxs("span",{children:[n(t).activities.length+n(t).leaveEvents.length," item(s) scheduled"]})]}),s.jsxs("div",{className:"space-y-4",children:[n(t).activities.map(f=>{const h=d&&f.participants.some(p=>p.user_id===(d==null?void 0:d.id)&&p.role==="owner");return s.jsx("div",{className:"relative",children:s.jsx(i3,{activity:f,showActions:!!h,onDelete:l})},`activity-${f.id}`)}),n(t).leaveEvents.map((f,h)=>s.jsx("div",{className:"relative",children:s.jsx(ee,{className:"p-4 border-l-4 border-l-orange-500 bg-orange-50 hover:bg-orange-100 transition-colors",children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Ze,{className:"h-4 w-4 text-orange-600"}),s.jsxs("h3",{className:"font-medium text-orange-900",children:[f.user_name," - ",f.leave_type==="annual"?"Annual Leave":"Maternity Leave"]})]}),s.jsx("div",{className:"text-sm text-orange-700 mb-2",dangerouslySetInnerHTML:{__html:f.reason}}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-orange-600",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Pt,{className:"h-3 w-3"}),f.start_date===f.end_date?new Date(f.start_date).toLocaleDateString():`${new Date(f.start_date).toLocaleDateString()} - ${new Date(f.end_date).toLocaleDateString()}`]}),s.jsxs("span",{children:[f.total_days," day(s)"]}),f.employee_id&&s.jsxs("span",{children:["ID: ",f.employee_id]})]})]})})})},`leave-${f.user_id}-${h}`))]})]})})]})]})}function o3({icon:t,title:e,description:r}){return s.jsx(ee,{children:s.jsx(te,{className:"py-8",children:s.jsxs("div",{className:"text-center text-muted-foreground",children:[s.jsx(t,{className:"mx-auto h-12 w-12 mb-4 opacity-50"}),s.jsx("p",{className:"text-lg font-medium mb-2",children:e}),s.jsx("p",{className:"text-sm",children:r})]})})})}function eee(){return s.jsxs(ee,{children:[s.jsxs(ue,{children:[s.jsx(Ne,{className:"h-6 w-3/4"}),s.jsx(Ne,{className:"h-4 w-full"})]}),s.jsxs(te,{className:"space-y-2",children:[s.jsx(Ne,{className:"h-4 w-1/2"}),s.jsx(Ne,{className:"h-4 w-1/3"}),s.jsx(Ne,{className:"h-4 w-2/3"})]})]})}function tee(){return s.jsxs(ee,{children:[s.jsx(ue,{className:"pb-2",children:s.jsx(Ne,{className:"h-4 w-24"})}),s.jsx(te,{children:s.jsx(Ne,{className:"h-8 w-16"})})]})}function z1({count:t}){return s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[...Array(t)].map((e,r)=>s.jsx(eee,{},r))})}function see({FilteringSection:t,loading:e,myActivities:r,hasActiveFilters:n,pageSize:a,total:l,page:c,hasNext:d,onPageChange:f,onPageSizeChange:h,onDelete:p}){return s.jsxs(s.Fragment,{children:[s.jsx(t,{}),s.jsx("div",{className:"space-y-4",children:e?s.jsx(z1,{count:a}):r.length===0?s.jsx(o3,{icon:ws,title:n?"No activities match your filters":"No activities assigned to you",description:n?"Try adjusting your filters to see more results.":"Activities where you're a participant will appear here.",hasActiveFilters:n}):s.jsx(l3,{activities:r,total:l,pageSize:a,page:c,hasNext:d,onPageChange:f,onPageSizeChange:h,onDelete:p})})]})}function ree({FilteringSection:t,loading:e,createdActivities:r,hasActiveFilters:n,pageSize:a,total:l,page:c,hasNext:d,onPageChange:f,onPageSizeChange:h,onDelete:p}){return s.jsxs(s.Fragment,{children:[s.jsx(t,{}),s.jsx("div",{className:"space-y-4",children:e?s.jsx(z1,{count:a}):r.length===0?s.jsx(o3,{icon:or,title:n?"No activities match your filters":"No activities created by you",description:n?"Try adjusting your filters to see more results.":"Activities you create will appear here.",hasActiveFilters:n}):s.jsx(l3,{activities:r,total:l,pageSize:a,page:c,hasNext:d,onPageChange:f,onPageSizeChange:h,onDelete:p})})]})}function nee({searchFn:t,limit:e=10,debounceMs:r=300,initialQuery:n=""}){const[a,l]=x.useState([]),[c,d]=x.useState(!1),[f,h]=x.useState(!1),[p,g]=x.useState(null),[y,b]=x.useState(!0),[j,w]=x.useState(n),[_,E]=x.useState(1),[S,k]=x.useState(),R=x.useRef(void 0),L=x.useRef(void 0),I=x.useCallback(async(A,z,$=!1)=>{var J;L.current&&L.current.abort(),L.current=new AbortController;try{$?h(!0):d(!0),g(null);const B=await t(A,z,e);if(L.current.signal.aborted)return;l($?M=>[...M,...B.data]:B.data),b(B.hasMore),k(B.total)}catch(B){if((J=L.current)!=null&&J.signal.aborted)return;g(B instanceof Error?B.message:"An error occurred")}finally{d(!1),h(!1)}},[t,e]),T=x.useCallback(A=>{R.current&&clearTimeout(R.current),R.current=setTimeout(()=>{E(1),I(A,1,!1)},r)},[I,r]),O=x.useCallback(A=>{w(A),T(A)},[T]),P=x.useCallback(()=>{if(!y||c||f)return;const A=_+1;E(A),I(j,A,!0)},[y,c,f,_,j,I]),X=x.useCallback(()=>{E(1),I(j,1,!1)},[j,I]);return x.useEffect(()=>{n&&I(n,1,!1)},[]),x.useEffect(()=>()=>{R.current&&clearTimeout(R.current),L.current&&L.current.abort()},[]),{data:a,loading:c,loadingMore:f,error:p,hasMore:y,query:j,setQuery:O,loadMore:P,refresh:X,total:S}}const{toast:ar}=tr(),Mt={getAllUsers:async t=>{var e,r;try{return(await ve.get("/users/",{params:t})).data}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to fetch users";throw ar({title:"Error",description:a,variant:"destructive"}),new Error(a)}},searchUsers:async(t,e)=>{var r,n;try{const a={q:t};return e!=null&&e.page&&(a.page=e.page),e!=null&&e.size&&(a.size=e.size),(e==null?void 0:e.offset)!==void 0&&(a.offset=e.offset),(await ve.get("/users/search",{params:a})).data}catch(a){const l=((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.detail)||"Failed to search users";throw ar({title:"Error",description:l,variant:"destructive"}),new Error(l)}},getUserById:async t=>{var e,r;try{return(await ve.get(`/users/${t}`)).data}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to fetch user";throw ar({title:"Error",description:a,variant:"destructive"}),new Error(a)}},createUser:async t=>{var e,r;try{const n=await ve.post("/users/",t);return ar({title:"Success",description:"User created successfully"}),n.data}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to create user";throw ar({title:"Error",description:a,variant:"destructive"}),new Error(a)}},updateUser:async(t,e)=>{var r,n;try{const a=await ve.put(`/users/${t}`,e);return ar({title:"Success",description:"User updated successfully"}),a.data}catch(a){const l=((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.detail)||"Failed to update user";throw ar({title:"Error",description:l,variant:"destructive"}),new Error(l)}},deleteUser:async t=>{var e,r;try{const n=await ve.delete(`/users/${t}`);return ar({title:"Success",description:"User deleted successfully"}),n.data}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to delete user";throw ar({title:"Error",description:a,variant:"destructive"}),new Error(a)}},getUsersByOrgUnit:async(t,e)=>{var r,n;try{return(await ve.get(`/users/admin/org-unit/${t}`,{params:e})).data}catch(a){const l=((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.detail)||"Failed to fetch users by org unit";throw ar({title:"Error",description:l,variant:"destructive"}),new Error(l)}},getAllRoles:async()=>{var t,e;try{return(await ve.get("/users/roles")).data}catch(r){const n=((e=(t=r.response)==null?void 0:t.data)==null?void 0:e.detail)||"Failed to fetch roles";throw ar({title:"Error",description:n,variant:"destructive"}),new Error(n)}},changePassword:async t=>{var e,r;try{const n=await ve.post("/auth/change-password",t);return ar({title:"Success",description:"Password changed successfully"}),n.data}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to change password";throw ar({title:"Error",description:a,variant:"destructive"}),new Error(a)}},checkPasswordStrength:async t=>{var e,r;try{return(await ve.post("/auth/check-password-strength",{password:t})).data}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to check password strength";throw ar({title:"Error",description:a,variant:"destructive"}),new Error(a)}},requestPasswordReset:async t=>{var e,r;try{const n=await ve.post("/auth/password-reset",{email:t});return ar({title:"Success",description:"Password reset email sent"}),n.data}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to request password reset";throw ar({title:"Error",description:a,variant:"destructive"}),new Error(a)}},confirmPasswordReset:async t=>{var e,r;try{const n=await ve.post("/auth/password-reset/confirm",t);return ar({title:"Success",description:"Password reset successfully"}),n.data}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to reset password";throw ar({title:"Error",description:a,variant:"destructive"}),new Error(a)}},unlockUserAccount:async t=>{var e,r;try{const n=await ve.post(`/auth/unlock-account/${t}`);return ar({title:"Success",description:"User account unlocked successfully"}),n.data}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to unlock user account";throw ar({title:"Error",description:a,variant:"destructive"}),new Error(a)}},hasRole:(t,e)=>!t||!t.roles?!1:t.roles.some(r=>r.name===e),hasAnyRole:(t,e)=>!t||!t.roles?!1:t.roles.some(r=>e.includes(r.name)),isAdmin:t=>Mt.hasRole(t,"admin"),isMasterAdmin:t=>Mt.hasRole(t,"master_admin"),isAdminOrMasterAdmin:t=>Mt.hasAnyRole(t,["admin","master_admin"]),getUserFullName:t=>"name"in t?t.name:`${t.first_name}${t.last_name?` ${t.last_name}`:""}`,isUserLocked:t=>t.locked_until?new Date(t.locked_until)>new Date:!1,formatUserStatus:t=>t.is_active?Mt.isUserLocked(t)?"Locked":t.is_verified?"Active":"Unverified":"Inactive",getUserStatusColor:t=>t.is_active?Mt.isUserLocked(t)?"orange":t.is_verified?"green":"yellow":"red",formatUserRoles:t=>!t.roles||t.roles.length===0?"No roles":t.roles.map(e=>e.name).join(", "),getOrgUnitName:t=>{var e;return((e=t.org_unit)==null?void 0:e.name)||"No org unit"},createFilterParams:(t={})=>({page:1,size:10,sort_by:"first_name",sort_order:"asc",status:"all",...t}),createPaginationParams:(t={})=>({page:1,size:10,...t}),formatDate:t=>t?new Date(t).toLocaleDateString():"N/A",formatDateTime:t=>t?new Date(t).toLocaleString():"N/A",requiresPasswordChange:t=>t.force_password_change,isMFAEnabled:t=>t.mfa_enabled===!0,getRoleById:(t,e)=>t.find(r=>r.id===e),getRoleByName:(t,e)=>t.find(r=>r.name===e),formatRoleNames:t=>!t||t.length===0?"No roles":t.map(e=>e.name.replace("_"," ").replace(/\b\w/g,r=>r.toUpperCase())).join(", "),hasRoleInList:(t,e)=>t.some(r=>r.name===e),getCurrentUser:async()=>{var t,e;try{return(await ve.get("/users/me")).data}catch(r){const n=((e=(t=r.response)==null?void 0:t.data)==null?void 0:e.detail)||"Failed to fetch current user";throw ar({title:"Error",description:n,variant:"destructive"}),new Error(n)}},updateCurrentUserProfile:async t=>{var e,r;try{const n=await ve.put("/users/me",t,{headers:{"Content-Type":"multipart/form-data"}});return ar({title:"Success",description:"Profile updated successfully"}),n.data}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to update profile";throw ar({title:"Error",description:a,variant:"destructive"}),new Error(a)}},buildProfileFormData:t=>{const e=new FormData;return e.append("first_name",t.first_name),t.last_name&&e.append("last_name",t.last_name),t.phone&&e.append("phone",t.phone),t.avatar&&e.append("avatar",t.avatar),e},getAvatarUrl:(t,e="/static/images/avatar.png")=>{var r;return t&&((r=t.avatar_file)==null?void 0:r.file_url)||e},hasAvatar:t=>{var e;return!!((e=t==null?void 0:t.avatar_file)!=null&&e.file_url)}};var YC=1,aee=.9,iee=.8,lee=.17,N0=.1,_0=.999,oee=.9999,cee=.99,dee=/[\\\/_+.#"@\[\(\{&]/,uee=/[\\\/_+.#"@\[\(\{&]/g,fee=/[\s-]/,c3=/[\s-]/g;function Iw(t,e,r,n,a,l,c){if(l===e.length)return a===t.length?YC:cee;var d=`${a},${l}`;if(c[d]!==void 0)return c[d];for(var f=n.charAt(l),h=r.indexOf(f,a),p=0,g,y,b,j;h>=0;)g=Iw(t,e,r,n,h+1,l+1,c),g>p&&(h===a?g*=YC:dee.test(t.charAt(h-1))?(g*=iee,b=t.slice(a,h-1).match(uee),b&&a>0&&(g*=Math.pow(_0,b.length))):fee.test(t.charAt(h-1))?(g*=aee,j=t.slice(a,h-1).match(c3),j&&a>0&&(g*=Math.pow(_0,j.length))):(g*=lee,a>0&&(g*=Math.pow(_0,h-a))),t.charAt(h)!==e.charAt(l)&&(g*=oee)),(g<N0&&r.charAt(h-1)===n.charAt(l+1)||n.charAt(l+1)===n.charAt(l)&&r.charAt(h-1)!==n.charAt(l))&&(y=Iw(t,e,r,n,h+1,l+2,c),y*N0>g&&(g=y*N0)),g>p&&(p=g),h=r.indexOf(f,h+1);return c[d]=p,p}function WC(t){return t.toLowerCase().replace(c3," ")}function hee(t,e,r){return t=r&&r.length>0?`${t+" "+r.join(" ")}`:t,Iw(t,e,WC(t),WC(e),0,0,{})}var Vh='[cmdk-group=""]',S0='[cmdk-group-items=""]',mee='[cmdk-group-heading=""]',d3='[cmdk-item=""]',GC=`${d3}:not([aria-disabled="true"])`,Uw="cmdk-item-select",Pu="data-value",pee=(t,e,r)=>hee(t,e,r),u3=x.createContext(void 0),pp=()=>x.useContext(u3),f3=x.createContext(void 0),$1=()=>x.useContext(f3),h3=x.createContext(void 0),m3=x.forwardRef((t,e)=>{let r=Lu(()=>{var Y,se;return{search:"",value:(se=(Y=t.value)!=null?Y:t.defaultValue)!=null?se:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=Lu(()=>new Set),a=Lu(()=>new Map),l=Lu(()=>new Map),c=Lu(()=>new Set),d=p3(t),{label:f,children:h,value:p,onValueChange:g,filter:y,shouldFilter:b,loop:j,disablePointerSelection:w=!1,vimBindings:_=!0,...E}=t,S=Mr(),k=Mr(),R=Mr(),L=x.useRef(null),I=Eee();Nd(()=>{if(p!==void 0){let Y=p.trim();r.current.value=Y,T.emit()}},[p]),Nd(()=>{I(6,$)},[]);let T=x.useMemo(()=>({subscribe:Y=>(c.current.add(Y),()=>c.current.delete(Y)),snapshot:()=>r.current,setState:(Y,se,G)=>{var C,U,ne,me;if(!Object.is(r.current[Y],se)){if(r.current[Y]=se,Y==="search")z(),X(),I(1,A);else if(Y==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let ie=document.getElementById(R);ie?ie.focus():(C=document.getElementById(S))==null||C.focus()}if(I(7,()=>{var ie;r.current.selectedItemId=(ie=J())==null?void 0:ie.id,T.emit()}),G||I(5,$),((U=d.current)==null?void 0:U.value)!==void 0){let ie=se??"";(me=(ne=d.current).onValueChange)==null||me.call(ne,ie);return}}T.emit()}},emit:()=>{c.current.forEach(Y=>Y())}}),[]),O=x.useMemo(()=>({value:(Y,se,G)=>{var C;se!==((C=l.current.get(Y))==null?void 0:C.value)&&(l.current.set(Y,{value:se,keywords:G}),r.current.filtered.items.set(Y,P(se,G)),I(2,()=>{X(),T.emit()}))},item:(Y,se)=>(n.current.add(Y),se&&(a.current.has(se)?a.current.get(se).add(Y):a.current.set(se,new Set([Y]))),I(3,()=>{z(),X(),r.current.value||A(),T.emit()}),()=>{l.current.delete(Y),n.current.delete(Y),r.current.filtered.items.delete(Y);let G=J();I(4,()=>{z(),(G==null?void 0:G.getAttribute("id"))===Y&&A(),T.emit()})}),group:Y=>(a.current.has(Y)||a.current.set(Y,new Set),()=>{l.current.delete(Y),a.current.delete(Y)}),filter:()=>d.current.shouldFilter,label:f||t["aria-label"],getDisablePointerSelection:()=>d.current.disablePointerSelection,listId:S,inputId:R,labelId:k,listInnerRef:L}),[]);function P(Y,se){var G,C;let U=(C=(G=d.current)==null?void 0:G.filter)!=null?C:pee;return Y?U(Y,r.current.search,se):0}function X(){if(!r.current.search||d.current.shouldFilter===!1)return;let Y=r.current.filtered.items,se=[];r.current.filtered.groups.forEach(C=>{let U=a.current.get(C),ne=0;U.forEach(me=>{let ie=Y.get(me);ne=Math.max(ie,ne)}),se.push([C,ne])});let G=L.current;B().sort((C,U)=>{var ne,me;let ie=C.getAttribute("id"),Ee=U.getAttribute("id");return((ne=Y.get(Ee))!=null?ne:0)-((me=Y.get(ie))!=null?me:0)}).forEach(C=>{let U=C.closest(S0);U?U.appendChild(C.parentElement===U?C:C.closest(`${S0} > *`)):G.appendChild(C.parentElement===G?C:C.closest(`${S0} > *`))}),se.sort((C,U)=>U[1]-C[1]).forEach(C=>{var U;let ne=(U=L.current)==null?void 0:U.querySelector(`${Vh}[${Pu}="${encodeURIComponent(C[0])}"]`);ne==null||ne.parentElement.appendChild(ne)})}function A(){let Y=B().find(G=>G.getAttribute("aria-disabled")!=="true"),se=Y==null?void 0:Y.getAttribute(Pu);T.setState("value",se||void 0)}function z(){var Y,se,G,C;if(!r.current.search||d.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let U=0;for(let ne of n.current){let me=(se=(Y=l.current.get(ne))==null?void 0:Y.value)!=null?se:"",ie=(C=(G=l.current.get(ne))==null?void 0:G.keywords)!=null?C:[],Ee=P(me,ie);r.current.filtered.items.set(ne,Ee),Ee>0&&U++}for(let[ne,me]of a.current)for(let ie of me)if(r.current.filtered.items.get(ie)>0){r.current.filtered.groups.add(ne);break}r.current.filtered.count=U}function $(){var Y,se,G;let C=J();C&&(((Y=C.parentElement)==null?void 0:Y.firstChild)===C&&((G=(se=C.closest(Vh))==null?void 0:se.querySelector(mee))==null||G.scrollIntoView({block:"nearest"})),C.scrollIntoView({block:"nearest"}))}function J(){var Y;return(Y=L.current)==null?void 0:Y.querySelector(`${d3}[aria-selected="true"]`)}function B(){var Y;return Array.from(((Y=L.current)==null?void 0:Y.querySelectorAll(GC))||[])}function M(Y){let se=B()[Y];se&&T.setState("value",se.getAttribute(Pu))}function V(Y){var se;let G=J(),C=B(),U=C.findIndex(me=>me===G),ne=C[U+Y];(se=d.current)!=null&&se.loop&&(ne=U+Y<0?C[C.length-1]:U+Y===C.length?C[0]:C[U+Y]),ne&&T.setState("value",ne.getAttribute(Pu))}function Q(Y){let se=J(),G=se==null?void 0:se.closest(Vh),C;for(;G&&!C;)G=Y>0?_ee(G,Vh):See(G,Vh),C=G==null?void 0:G.querySelector(GC);C?T.setState("value",C.getAttribute(Pu)):V(Y)}let le=()=>M(B().length-1),H=Y=>{Y.preventDefault(),Y.metaKey?le():Y.altKey?Q(1):V(1)},K=Y=>{Y.preventDefault(),Y.metaKey?M(0):Y.altKey?Q(-1):V(-1)};return x.createElement(Xe.div,{ref:e,tabIndex:-1,...E,"cmdk-root":"",onKeyDown:Y=>{var se;(se=E.onKeyDown)==null||se.call(E,Y);let G=Y.nativeEvent.isComposing||Y.keyCode===229;if(!(Y.defaultPrevented||G))switch(Y.key){case"n":case"j":{_&&Y.ctrlKey&&H(Y);break}case"ArrowDown":{H(Y);break}case"p":case"k":{_&&Y.ctrlKey&&K(Y);break}case"ArrowUp":{K(Y);break}case"Home":{Y.preventDefault(),M(0);break}case"End":{Y.preventDefault(),le();break}case"Enter":{Y.preventDefault();let C=J();if(C){let U=new Event(Uw);C.dispatchEvent(U)}}}}},x.createElement("label",{"cmdk-label":"",htmlFor:O.inputId,id:O.labelId,style:Cee},f),gv(t,Y=>x.createElement(f3.Provider,{value:T},x.createElement(u3.Provider,{value:O},Y))))}),xee=x.forwardRef((t,e)=>{var r,n;let a=Mr(),l=x.useRef(null),c=x.useContext(h3),d=pp(),f=p3(t),h=(n=(r=f.current)==null?void 0:r.forceMount)!=null?n:c==null?void 0:c.forceMount;Nd(()=>{if(!h)return d.item(a,c==null?void 0:c.id)},[h]);let p=x3(a,l,[t.value,t.children,l],t.keywords),g=$1(),y=yc(I=>I.value&&I.value===p.current),b=yc(I=>h||d.filter()===!1?!0:I.search?I.filtered.items.get(a)>0:!0);x.useEffect(()=>{let I=l.current;if(!(!I||t.disabled))return I.addEventListener(Uw,j),()=>I.removeEventListener(Uw,j)},[b,t.onSelect,t.disabled]);function j(){var I,T;w(),(T=(I=f.current).onSelect)==null||T.call(I,p.current)}function w(){g.setState("value",p.current,!0)}if(!b)return null;let{disabled:_,value:E,onSelect:S,forceMount:k,keywords:R,...L}=t;return x.createElement(Xe.div,{ref:Xl(l,e),...L,id:a,"cmdk-item":"",role:"option","aria-disabled":!!_,"aria-selected":!!y,"data-disabled":!!_,"data-selected":!!y,onPointerMove:_||d.getDisablePointerSelection()?void 0:w,onClick:_?void 0:j},t.children)}),gee=x.forwardRef((t,e)=>{let{heading:r,children:n,forceMount:a,...l}=t,c=Mr(),d=x.useRef(null),f=x.useRef(null),h=Mr(),p=pp(),g=yc(b=>a||p.filter()===!1?!0:b.search?b.filtered.groups.has(c):!0);Nd(()=>p.group(c),[]),x3(c,d,[t.value,t.heading,f]);let y=x.useMemo(()=>({id:c,forceMount:a}),[a]);return x.createElement(Xe.div,{ref:Xl(d,e),...l,"cmdk-group":"",role:"presentation",hidden:g?void 0:!0},r&&x.createElement("div",{ref:f,"cmdk-group-heading":"","aria-hidden":!0,id:h},r),gv(t,b=>x.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?h:void 0},x.createElement(h3.Provider,{value:y},b))))}),yee=x.forwardRef((t,e)=>{let{alwaysRender:r,...n}=t,a=x.useRef(null),l=yc(c=>!c.search);return!r&&!l?null:x.createElement(Xe.div,{ref:Xl(a,e),...n,"cmdk-separator":"",role:"separator"})}),vee=x.forwardRef((t,e)=>{let{onValueChange:r,...n}=t,a=t.value!=null,l=$1(),c=yc(h=>h.search),d=yc(h=>h.selectedItemId),f=pp();return x.useEffect(()=>{t.value!=null&&l.setState("search",t.value)},[t.value]),x.createElement(Xe.input,{ref:e,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":f.listId,"aria-labelledby":f.labelId,"aria-activedescendant":d,id:f.inputId,type:"text",value:a?t.value:c,onChange:h=>{a||l.setState("search",h.target.value),r==null||r(h.target.value)}})}),bee=x.forwardRef((t,e)=>{let{children:r,label:n="Suggestions",...a}=t,l=x.useRef(null),c=x.useRef(null),d=yc(h=>h.selectedItemId),f=pp();return x.useEffect(()=>{if(c.current&&l.current){let h=c.current,p=l.current,g,y=new ResizeObserver(()=>{g=requestAnimationFrame(()=>{let b=h.offsetHeight;p.style.setProperty("--cmdk-list-height",b.toFixed(1)+"px")})});return y.observe(h),()=>{cancelAnimationFrame(g),y.unobserve(h)}}},[]),x.createElement(Xe.div,{ref:Xl(l,e),...a,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":d,"aria-label":n,id:f.listId},gv(t,h=>x.createElement("div",{ref:Xl(c,f.listInnerRef),"cmdk-list-sizer":""},h)))}),jee=x.forwardRef((t,e)=>{let{open:r,onOpenChange:n,overlayClassName:a,contentClassName:l,container:c,...d}=t;return x.createElement(Gy,{open:r,onOpenChange:n},x.createElement(Zy,{container:c},x.createElement(Ky,{"cmdk-overlay":"",className:a}),x.createElement(Xy,{"aria-label":t.label,"cmdk-dialog":"",className:l},x.createElement(m3,{ref:e,...d}))))}),wee=x.forwardRef((t,e)=>yc(r=>r.filtered.count===0)?x.createElement(Xe.div,{ref:e,...t,"cmdk-empty":"",role:"presentation"}):null),Nee=x.forwardRef((t,e)=>{let{progress:r,children:n,label:a="Loading...",...l}=t;return x.createElement(Xe.div,{ref:e,...l,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},gv(t,c=>x.createElement("div",{"aria-hidden":!0},c)))}),ia=Object.assign(m3,{List:bee,Item:xee,Input:vee,Group:gee,Separator:yee,Dialog:jee,Empty:wee,Loading:Nee});function _ee(t,e){let r=t.nextElementSibling;for(;r;){if(r.matches(e))return r;r=r.nextElementSibling}}function See(t,e){let r=t.previousElementSibling;for(;r;){if(r.matches(e))return r;r=r.previousElementSibling}}function p3(t){let e=x.useRef(t);return Nd(()=>{e.current=t}),e}var Nd=typeof window>"u"?x.useEffect:x.useLayoutEffect;function Lu(t){let e=x.useRef();return e.current===void 0&&(e.current=t()),e}function yc(t){let e=$1(),r=()=>t(e.snapshot());return x.useSyncExternalStore(e.subscribe,r,r)}function x3(t,e,r,n=[]){let a=x.useRef(),l=pp();return Nd(()=>{var c;let d=(()=>{var h;for(let p of r){if(typeof p=="string")return p.trim();if(typeof p=="object"&&"current"in p)return p.current?(h=p.current.textContent)==null?void 0:h.trim():a.current}})(),f=n.map(h=>h.trim());l.value(t,d,f),(c=e.current)==null||c.setAttribute(Pu,d),a.current=d}),a}var Eee=()=>{let[t,e]=x.useState(),r=Lu(()=>new Map);return Nd(()=>{r.current.forEach(n=>n()),r.current=new Map},[t]),(n,a)=>{r.current.set(n,a),e({})}};function kee(t){let e=t.type;return typeof e=="function"?e(t.props):"render"in e?e.render(t.props):t}function gv({asChild:t,children:e},r){return t&&x.isValidElement(e)?x.cloneElement(kee(e),{ref:e.ref},r(e.props.children)):r(e)}var Cee={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"},yv="Popover",[g3,Vce]=tn(yv,[jc]),xp=jc(),[Aee,Sc]=g3(yv),y3=t=>{const{__scopePopover:e,children:r,open:n,defaultOpen:a,onOpenChange:l,modal:c=!1}=t,d=xp(e),f=x.useRef(null),[h,p]=x.useState(!1),[g,y]=Sa({prop:n,defaultProp:a??!1,onChange:l,caller:yv});return s.jsx(by,{...d,children:s.jsx(Aee,{scope:e,contentId:Mr(),triggerRef:f,open:g,onOpenChange:y,onOpenToggle:x.useCallback(()=>y(b=>!b),[y]),hasCustomAnchor:h,onCustomAnchorAdd:x.useCallback(()=>p(!0),[]),onCustomAnchorRemove:x.useCallback(()=>p(!1),[]),modal:c,children:r})})};y3.displayName=yv;var v3="PopoverAnchor",Tee=x.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,a=Sc(v3,r),l=xp(r),{onCustomAnchorAdd:c,onCustomAnchorRemove:d}=a;return x.useEffect(()=>(c(),()=>d()),[c,d]),s.jsx(Jm,{...l,...n,ref:e})});Tee.displayName=v3;var b3="PopoverTrigger",j3=x.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,a=Sc(b3,r),l=xp(r),c=Rt(e,a.triggerRef),d=s.jsx(Xe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":E3(a.open),...n,ref:c,onClick:He(t.onClick,a.onOpenToggle)});return a.hasCustomAnchor?d:s.jsx(Jm,{asChild:!0,...l,children:d})});j3.displayName=b3;var q1="PopoverPortal",[Ree,Dee]=g3(q1,{forceMount:void 0}),w3=t=>{const{__scopePopover:e,forceMount:r,children:n,container:a}=t,l=Sc(q1,e);return s.jsx(Ree,{scope:e,forceMount:r,children:s.jsx(Vr,{present:r||l.open,children:s.jsx(Sf,{asChild:!0,container:a,children:n})})})};w3.displayName=q1;var hf="PopoverContent",N3=x.forwardRef((t,e)=>{const r=Dee(hf,t.__scopePopover),{forceMount:n=r.forceMount,...a}=t,l=Sc(hf,t.__scopePopover);return s.jsx(Vr,{present:n||l.open,children:l.modal?s.jsx(Mee,{...a,ref:e}):s.jsx(Pee,{...a,ref:e})})});N3.displayName=hf;var Oee=oc("PopoverContent.RemoveScroll"),Mee=x.forwardRef((t,e)=>{const r=Sc(hf,t.__scopePopover),n=x.useRef(null),a=Rt(e,n),l=x.useRef(!1);return x.useEffect(()=>{const c=n.current;if(c)return Yy(c)},[]),s.jsx(ap,{as:Oee,allowPinchZoom:!0,children:s.jsx(_3,{...t,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:He(t.onCloseAutoFocus,c=>{var d;c.preventDefault(),l.current||(d=r.triggerRef.current)==null||d.focus()}),onPointerDownOutside:He(t.onPointerDownOutside,c=>{const d=c.detail.originalEvent,f=d.button===0&&d.ctrlKey===!0,h=d.button===2||f;l.current=h},{checkForDefaultPrevented:!1}),onFocusOutside:He(t.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1})})})}),Pee=x.forwardRef((t,e)=>{const r=Sc(hf,t.__scopePopover),n=x.useRef(!1),a=x.useRef(!1);return s.jsx(_3,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var c,d;(c=t.onCloseAutoFocus)==null||c.call(t,l),l.defaultPrevented||(n.current||(d=r.triggerRef.current)==null||d.focus(),l.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:l=>{var f,h;(f=t.onInteractOutside)==null||f.call(t,l),l.defaultPrevented||(n.current=!0,l.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const c=l.target;((h=r.triggerRef.current)==null?void 0:h.contains(c))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&a.current&&l.preventDefault()}})}),_3=x.forwardRef((t,e)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:l,disableOutsidePointerEvents:c,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:p,...g}=t,y=Sc(hf,r),b=xp(r);return Hy(),s.jsx(np,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:l,children:s.jsx(wf,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:p,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:h,onDismiss:()=>y.onOpenChange(!1),children:s.jsx(jy,{"data-state":E3(y.open),role:"dialog",id:y.contentId,...b,...g,ref:e,style:{...g.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),S3="PopoverClose",Lee=x.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,a=Sc(S3,r);return s.jsx(Xe.button,{type:"button",...n,ref:e,onClick:He(t.onClick,()=>a.onOpenChange(!1))})});Lee.displayName=S3;var Iee="PopoverArrow",Uee=x.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,a=xp(r);return s.jsx(wy,{...a,...n,ref:e})});Uee.displayName=Iee;function E3(t){return t?"open":"closed"}var Fee=y3,zee=j3,$ee=w3,qee=N3;function Bee({...t}){return s.jsx(Fee,{"data-slot":"popover",...t})}function Hee({...t}){return s.jsx(zee,{"data-slot":"popover-trigger",...t})}function Vee({className:t,align:e="center",sideOffset:r=4,...n}){return s.jsx($ee,{children:s.jsx(qee,{"data-slot":"popover-content",align:e,sideOffset:r,className:Pe("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-hidden",t),...n})})}const k3=x.forwardRef(({className:t,...e},r)=>s.jsx(ia,{ref:r,className:Pe("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",t),...e}));k3.displayName=ia.displayName;const C3=x.forwardRef(({className:t,...e},r)=>s.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[s.jsx(kY,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),s.jsx(ia.Input,{ref:r,className:Pe("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",t),...e})]}));C3.displayName=ia.Input.displayName;const A3=x.forwardRef((t,e)=>s.jsx(ia.Empty,{ref:e,className:"py-6 text-center text-sm",...t}));A3.displayName=ia.Empty.displayName;const Yee=x.forwardRef(({className:t,...e},r)=>s.jsx(ia.Group,{ref:r,className:Pe("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",t),...e}));Yee.displayName=ia.Group.displayName;const Wee=x.forwardRef(({className:t,...e},r)=>s.jsx(ia.Separator,{ref:r,className:Pe("-mx-1 h-px bg-border",t),...e}));Wee.displayName=ia.Separator.displayName;const Gee=x.forwardRef(({className:t,children:e,...r},n)=>s.jsxs(ia.Item,{ref:n,className:Pe("relative flex cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none aria-selected:bg-accent aria-selected:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 hover:bg-accent hover:text-accent-foreground",t),...r,children:[s.jsx(Jy,{className:"mr-2 h-4 w-4 opacity-0 aria-selected:opacity-100"}),e]}));Gee.displayName=ia.Item.displayName;const T3=x.forwardRef(({className:t,onScroll:e,...r},n)=>s.jsx(ia.List,{ref:n,className:Pe("max-h-[300px] overflow-y-auto overflow-x-hidden",t),onScroll:e,...r}));T3.displayName=ia.List.displayName;const R3=x.forwardRef(({className:t,children:e,...r},n)=>s.jsxs("button",{ref:n,className:Pe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...r,children:[e,s.jsx(wY,{className:"ml-2 h-4 w-4 opacity-50"})]}));R3.displayName="ComboboxButton";function Zee({options:t,value:e,onChange:r,placeholder:n="Select an option...",searchPlaceholder:a="Search...",searchValue:l="",onSearchChange:c,emptyMessage:d="No results found.",className:f,isLoading:h=!1,enableInfiniteScroll:p=!1,onLoadMore:g,hasNextPage:y=!1,isLoadingMore:b=!1,pagination:j}){const[w,_]=x.useState(!1),[E,S]=x.useState(""),k=t.find(P=>P.value===e),R=x.useRef(null),L=c?l:E,I=c||S,T=x.useCallback(P=>{r(P),_(!1),c||S("")},[r,c]),O=x.useCallback(P=>{if(!p||!g||b||!y)return;const{scrollTop:X,scrollHeight:A,clientHeight:z}=P.currentTarget;A-X<=z+50&&g()},[p,g,b,y]);return x.useEffect(()=>{R.current&&L&&(R.current.scrollTop=0)},[L]),s.jsxs(Bee,{open:w,onOpenChange:_,children:[s.jsx(Hee,{asChild:!0,children:s.jsx(R3,{className:f,children:k?k.label:n})}),s.jsx(Vee,{className:"w-[var(--radix-popover-trigger-width)] p-0",align:"start",children:s.jsxs(k3,{shouldFilter:!1,children:[s.jsx(C3,{placeholder:a,value:L,onValueChange:I}),s.jsx(T3,{ref:R,onScroll:p?O:void 0,children:h&&t.length===0?s.jsxs("div",{className:"flex items-center justify-center py-6 text-sm text-muted-foreground",children:[s.jsx(hC,{className:"mr-2 h-4 w-4 animate-spin"}),"Searching..."]}):t.length>0?s.jsxs(s.Fragment,{children:[t.map(P=>s.jsx("div",{className:"relative flex cursor-pointer select-none items-start rounded-sm px-3 py-2 text-sm outline-none hover:bg-primary hover:text-accent-foreground",onClick:()=>T(P.value),onMouseDown:X=>X.preventDefault(),children:s.jsxs("div",{className:"flex flex-col gap-1 w-full",children:[s.jsx("div",{className:"font-medium leading-none",children:P.label}),P.description&&s.jsx("div",{className:"text-xs leading-none",children:P.description})]})},P.value)),p&&b&&s.jsxs("div",{className:"flex items-center justify-center py-4 text-sm text-muted-foreground border-t",children:[s.jsx(hC,{className:"mr-2 h-4 w-4 animate-spin"}),"Loading more..."]}),p&&j&&s.jsxs("div",{className:"px-3 py-2 text-xs text-muted-foreground border-t bg-muted/20",children:["Showing ",t.length," of ",j.totalItems," items",j.hasNextPage&&!b&&s.jsx("span",{className:"block mt-1",children:"Scroll down for more results"})]})]}):s.jsx(A3,{children:d})})]})})]})}function vv({value:t,onChange:e,placeholder:r="Select user...",searchPlaceholder:n="Search users...",className:a,onUserSelect:l}){const c=x.useCallback(async(E,S,k)=>{if(!E||E.length<2)return{data:[],hasMore:!1,total:0};try{const R=await Mt.searchUsers(E,{page:S,size:k});return{data:R.items,hasMore:S<R.pages,total:R.total}}catch(R){return console.error("Error searching users:",R),{data:[],hasMore:!1,total:0}}},[]),{data:d,loading:f,loadingMore:h,error:p,hasMore:g,query:y,setQuery:b,loadMore:j}=nee({searchFn:c,limit:20,debounceMs:300}),w=x.useMemo(()=>d.map(E=>({value:E.id,label:E.name,description:`${E.employee_id?E.employee_id:""}${E.employee_id&&E.org_unit_name?"  ":""}${E.org_unit_name?E.org_unit_name:""}`})),[d]),_=x.useCallback(E=>{const S=d.find(k=>k.id===E);S&&l&&l(S),e(E)},[d,l,e]);return s.jsxs("div",{className:a,children:[s.jsx(Zee,{options:w,value:t,onChange:_,placeholder:r,searchPlaceholder:n,searchValue:y,onSearchChange:b,isLoading:f,enableInfiniteScroll:!0,onLoadMore:j,hasNextPage:g,isLoadingMore:h,emptyMessage:y.length<2?"Type at least 2 characters to search":"No users found",pagination:{currentPage:1,totalPages:1,totalItems:d.length,hasNextPage:g}}),p&&s.jsx("p",{className:"mt-1 text-sm text-red-500",children:p})]})}function ZC({selectedParticipants:t,onParticipantsChange:e}){const[r,n]=x.useState(null),[a,l]=x.useState(null),c=(b,j="participant")=>{if(t.find(E=>E.user_id===b.id&&E.role===j))return;const _={user_id:b.id,role:j,user_name:b.name,user_email:b.email,employee_id:b.employee_id,org_unit_name:b.org_unit_name};e([...t,_]),n(null),l(null)},d=(b,j)=>{e(t.filter(w=>!(w.user_id===b&&w.role===j)))},f=(b,j,w)=>{e(t.map(_=>_.user_id===b&&_.role===j?{..._,role:w}:_))},h=b=>{l(b),c(b,"participant")},p=()=>{a&&c(a,"pic")},g=b=>t.some(j=>j.user_id===b),y=({participant:b})=>{const j=w=>{var _;if(w.user_name){const E=w.user_name.split(" ");return E.length>=2?`${E[0][0]}${E[1][0]}`.toUpperCase():w.user_name.slice(0,2).toUpperCase()}return((_=w.user_email)==null?void 0:_.slice(0,2).toUpperCase())||"U"};return s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(na,{className:"h-8 w-8",children:s.jsx(aa,{className:"text-sm",children:j(b)})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:b.user_name||b.user_email||"Unknown User"}),b.user_email&&s.jsx("p",{className:"text-xs text-muted-foreground",children:b.user_email}),b.employee_id&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:["ID: ",b.employee_id]}),b.org_unit_name&&s.jsx("p",{className:"text-xs text-muted-foreground",children:b.org_unit_name})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(Lt,{value:b.role,onValueChange:w=>f(b.user_id,b.role||"",w),children:[s.jsx(Dt,{className:"w-32",children:s.jsx(It,{})}),s.jsxs(Ot,{children:[s.jsx($e,{value:"participant",children:"Participant"}),s.jsx($e,{value:"pic",children:"PIC"})]})]}),s.jsx(re,{type:"button",variant:"ghost",size:"sm",onClick:()=>d(b.user_id,b.role||""),children:s.jsx(ZN,{className:"h-4 w-4"})})]})]})};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{children:"Add Participants"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(vv,{value:r,onChange:b=>n(b),onUserSelect:h,placeholder:"Search users by name, email, or employee ID...",className:"w-full"}),a&&!g(a.id)&&s.jsxs("div",{className:"flex gap-2 p-3 border rounded-lg bg-muted/50",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("p",{className:"text-sm font-medium",children:["Selected: ",a.name]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:a.email})]}),s.jsxs(re,{type:"button",size:"sm",variant:"outline",onClick:p,children:[s.jsx(jm,{className:"h-3 w-3 mr-1"}),"Add as PIC"]})]})]})]}),s.jsx(ys,{}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(kt,{children:["Selected Participants (",t.length,")"]}),s.jsxs("div",{className:"flex gap-2 text-xs",children:[s.jsx(Ke,{variant:"secondary",children:"PIC"}),s.jsx(Ke,{variant:"default",children:"Participant"})]})]}),t.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(jm,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{className:"text-sm",children:"No participants added yet"}),s.jsx("p",{className:"text-xs",children:"Search and add participants above"})]}):s.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:t.map(b=>s.jsx(y,{participant:b},`${b.user_id}-${b.role}`))})]})]})}var D3=typeof global=="object"&&global&&global.Object===Object&&global,Kee=typeof self=="object"&&self&&self.Object===Object&&self,gl=D3||Kee||Function("return this")(),vc=gl.Symbol,O3=Object.prototype,Xee=O3.hasOwnProperty,Qee=O3.toString,Yh=vc?vc.toStringTag:void 0;function Jee(t){var e=Xee.call(t,Yh),r=t[Yh];try{t[Yh]=void 0;var n=!0}catch{}var a=Qee.call(t);return n&&(e?t[Yh]=r:delete t[Yh]),a}var ete=Object.prototype,tte=ete.toString;function ste(t){return tte.call(t)}var rte="[object Null]",nte="[object Undefined]",KC=vc?vc.toStringTag:void 0;function Lf(t){return t==null?t===void 0?nte:rte:KC&&KC in Object(t)?Jee(t):ste(t)}function ro(t){return t!=null&&typeof t=="object"}var _d=Array.isArray;function Ec(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function M3(t){return t}var ate="[object AsyncFunction]",ite="[object Function]",lte="[object GeneratorFunction]",ote="[object Proxy]";function B1(t){if(!Ec(t))return!1;var e=Lf(t);return e==ite||e==lte||e==ate||e==ote}var E0=gl["__core-js_shared__"],XC=function(){var t=/[^.]+$/.exec(E0&&E0.keys&&E0.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function cte(t){return!!XC&&XC in t}var dte=Function.prototype,ute=dte.toString;function Od(t){if(t!=null){try{return ute.call(t)}catch{}try{return t+""}catch{}}return""}var fte=/[\\^$.*+?()[\]{}|]/g,hte=/^\[object .+?Constructor\]$/,mte=Function.prototype,pte=Object.prototype,xte=mte.toString,gte=pte.hasOwnProperty,yte=RegExp("^"+xte.call(gte).replace(fte,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function vte(t){if(!Ec(t)||cte(t))return!1;var e=B1(t)?yte:hte;return e.test(Od(t))}function bte(t,e){return t==null?void 0:t[e]}function Md(t,e){var r=bte(t,e);return vte(r)?r:void 0}var Fw=Md(gl,"WeakMap"),QC=Object.create,jte=function(){function t(){}return function(e){if(!Ec(e))return{};if(QC)return QC(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();function wte(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function Nte(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var _te=800,Ste=16,Ete=Date.now;function kte(t){var e=0,r=0;return function(){var n=Ete(),a=Ste-(n-r);if(r=n,a>0){if(++e>=_te)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function Cte(t){return function(){return t}}var uy=function(){try{var t=Md(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Ate=uy?function(t,e){return uy(t,"toString",{configurable:!0,enumerable:!1,value:Cte(e),writable:!0})}:M3,Tte=kte(Ate);function Rte(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}var Dte=9007199254740991,Ote=/^(?:0|[1-9]\d*)$/;function P3(t,e){var r=typeof t;return e=e??Dte,!!e&&(r=="number"||r!="symbol"&&Ote.test(t))&&t>-1&&t%1==0&&t<e}function H1(t,e,r){e=="__proto__"&&uy?uy(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function gp(t,e){return t===e||t!==t&&e!==e}var Mte=Object.prototype,Pte=Mte.hasOwnProperty;function L3(t,e,r){var n=t[e];(!(Pte.call(t,e)&&gp(n,r))||r===void 0&&!(e in t))&&H1(t,e,r)}function Lte(t,e,r,n){var a=!r;r||(r={});for(var l=-1,c=e.length;++l<c;){var d=e[l],f=void 0;f===void 0&&(f=t[d]),a?H1(r,d,f):L3(r,d,f)}return r}var JC=Math.max;function Ite(t,e,r){return e=JC(e===void 0?t.length-1:e,0),function(){for(var n=arguments,a=-1,l=JC(n.length-e,0),c=Array(l);++a<l;)c[a]=n[e+a];a=-1;for(var d=Array(e+1);++a<e;)d[a]=n[a];return d[e]=r(c),wte(t,this,d)}}function Ute(t,e){return Tte(Ite(t,e,M3),t+"")}var Fte=9007199254740991;function I3(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Fte}function bv(t){return t!=null&&I3(t.length)&&!B1(t)}function zte(t,e,r){if(!Ec(r))return!1;var n=typeof e;return(n=="number"?bv(r)&&P3(e,r.length):n=="string"&&e in r)?gp(r[e],t):!1}function $te(t){return Ute(function(e,r){var n=-1,a=r.length,l=a>1?r[a-1]:void 0,c=a>2?r[2]:void 0;for(l=t.length>3&&typeof l=="function"?(a--,l):void 0,c&&zte(r[0],r[1],c)&&(l=a<3?void 0:l,a=1),e=Object(e);++n<a;){var d=r[n];d&&t(e,d,n,l)}return e})}var qte=Object.prototype;function V1(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||qte;return t===r}function Bte(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var Hte="[object Arguments]";function eA(t){return ro(t)&&Lf(t)==Hte}var U3=Object.prototype,Vte=U3.hasOwnProperty,Yte=U3.propertyIsEnumerable,zw=eA(function(){return arguments}())?eA:function(t){return ro(t)&&Vte.call(t,"callee")&&!Yte.call(t,"callee")};function Wte(){return!1}var F3=typeof va=="object"&&va&&!va.nodeType&&va,tA=F3&&typeof ba=="object"&&ba&&!ba.nodeType&&ba,Gte=tA&&tA.exports===F3,sA=Gte?gl.Buffer:void 0,Zte=sA?sA.isBuffer:void 0,zm=Zte||Wte,Kte="[object Arguments]",Xte="[object Array]",Qte="[object Boolean]",Jte="[object Date]",ese="[object Error]",tse="[object Function]",sse="[object Map]",rse="[object Number]",nse="[object Object]",ase="[object RegExp]",ise="[object Set]",lse="[object String]",ose="[object WeakMap]",cse="[object ArrayBuffer]",dse="[object DataView]",use="[object Float32Array]",fse="[object Float64Array]",hse="[object Int8Array]",mse="[object Int16Array]",pse="[object Int32Array]",xse="[object Uint8Array]",gse="[object Uint8ClampedArray]",yse="[object Uint16Array]",vse="[object Uint32Array]",Gs={};Gs[use]=Gs[fse]=Gs[hse]=Gs[mse]=Gs[pse]=Gs[xse]=Gs[gse]=Gs[yse]=Gs[vse]=!0;Gs[Kte]=Gs[Xte]=Gs[cse]=Gs[Qte]=Gs[dse]=Gs[Jte]=Gs[ese]=Gs[tse]=Gs[sse]=Gs[rse]=Gs[nse]=Gs[ase]=Gs[ise]=Gs[lse]=Gs[ose]=!1;function bse(t){return ro(t)&&I3(t.length)&&!!Gs[Lf(t)]}function Y1(t){return function(e){return t(e)}}var z3=typeof va=="object"&&va&&!va.nodeType&&va,om=z3&&typeof ba=="object"&&ba&&!ba.nodeType&&ba,jse=om&&om.exports===z3,k0=jse&&D3.process,mf=function(){try{var t=om&&om.require&&om.require("util").types;return t||k0&&k0.binding&&k0.binding("util")}catch{}}(),rA=mf&&mf.isTypedArray,W1=rA?Y1(rA):bse,wse=Object.prototype,Nse=wse.hasOwnProperty;function $3(t,e){var r=_d(t),n=!r&&zw(t),a=!r&&!n&&zm(t),l=!r&&!n&&!a&&W1(t),c=r||n||a||l,d=c?Bte(t.length,String):[],f=d.length;for(var h in t)(e||Nse.call(t,h))&&!(c&&(h=="length"||a&&(h=="offset"||h=="parent")||l&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||P3(h,f)))&&d.push(h);return d}function q3(t,e){return function(r){return t(e(r))}}var _se=q3(Object.keys,Object),Sse=Object.prototype,Ese=Sse.hasOwnProperty;function kse(t){if(!V1(t))return _se(t);var e=[];for(var r in Object(t))Ese.call(t,r)&&r!="constructor"&&e.push(r);return e}function Cse(t){return bv(t)?$3(t):kse(t)}function Ase(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var Tse=Object.prototype,Rse=Tse.hasOwnProperty;function Dse(t){if(!Ec(t))return Ase(t);var e=V1(t),r=[];for(var n in t)n=="constructor"&&(e||!Rse.call(t,n))||r.push(n);return r}function B3(t){return bv(t)?$3(t,!0):Dse(t)}var $m=Md(Object,"create");function Ose(){this.__data__=$m?$m(null):{},this.size=0}function Mse(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Pse="__lodash_hash_undefined__",Lse=Object.prototype,Ise=Lse.hasOwnProperty;function Use(t){var e=this.__data__;if($m){var r=e[t];return r===Pse?void 0:r}return Ise.call(e,t)?e[t]:void 0}var Fse=Object.prototype,zse=Fse.hasOwnProperty;function $se(t){var e=this.__data__;return $m?e[t]!==void 0:zse.call(e,t)}var qse="__lodash_hash_undefined__";function Bse(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=$m&&e===void 0?qse:e,this}function Sd(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Sd.prototype.clear=Ose;Sd.prototype.delete=Mse;Sd.prototype.get=Use;Sd.prototype.has=$se;Sd.prototype.set=Bse;function Hse(){this.__data__=[],this.size=0}function jv(t,e){for(var r=t.length;r--;)if(gp(t[r][0],e))return r;return-1}var Vse=Array.prototype,Yse=Vse.splice;function Wse(t){var e=this.__data__,r=jv(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():Yse.call(e,r,1),--this.size,!0}function Gse(t){var e=this.__data__,r=jv(e,t);return r<0?void 0:e[r][1]}function Zse(t){return jv(this.__data__,t)>-1}function Kse(t,e){var r=this.__data__,n=jv(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}function fo(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}fo.prototype.clear=Hse;fo.prototype.delete=Wse;fo.prototype.get=Gse;fo.prototype.has=Zse;fo.prototype.set=Kse;var qm=Md(gl,"Map");function Xse(){this.size=0,this.__data__={hash:new Sd,map:new(qm||fo),string:new Sd}}function Qse(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function wv(t,e){var r=t.__data__;return Qse(e)?r[typeof e=="string"?"string":"hash"]:r.map}function Jse(t){var e=wv(this,t).delete(t);return this.size-=e?1:0,e}function ere(t){return wv(this,t).get(t)}function tre(t){return wv(this,t).has(t)}function sre(t,e){var r=wv(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}function Pd(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Pd.prototype.clear=Xse;Pd.prototype.delete=Jse;Pd.prototype.get=ere;Pd.prototype.has=tre;Pd.prototype.set=sre;function rre(t,e){for(var r=-1,n=e.length,a=t.length;++r<n;)t[a+r]=e[r];return t}var H3=q3(Object.getPrototypeOf,Object),nre="[object Object]",are=Function.prototype,ire=Object.prototype,V3=are.toString,lre=ire.hasOwnProperty,ore=V3.call(Object);function cre(t){if(!ro(t)||Lf(t)!=nre)return!1;var e=H3(t);if(e===null)return!0;var r=lre.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&V3.call(r)==ore}function dre(){this.__data__=new fo,this.size=0}function ure(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function fre(t){return this.__data__.get(t)}function hre(t){return this.__data__.has(t)}var mre=200;function pre(t,e){var r=this.__data__;if(r instanceof fo){var n=r.__data__;if(!qm||n.length<mre-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Pd(n)}return r.set(t,e),this.size=r.size,this}function il(t){var e=this.__data__=new fo(t);this.size=e.size}il.prototype.clear=dre;il.prototype.delete=ure;il.prototype.get=fre;il.prototype.has=hre;il.prototype.set=pre;var Y3=typeof va=="object"&&va&&!va.nodeType&&va,nA=Y3&&typeof ba=="object"&&ba&&!ba.nodeType&&ba,xre=nA&&nA.exports===Y3,aA=xre?gl.Buffer:void 0,iA=aA?aA.allocUnsafe:void 0;function W3(t,e){if(e)return t.slice();var r=t.length,n=iA?iA(r):new t.constructor(r);return t.copy(n),n}function gre(t,e){for(var r=-1,n=t==null?0:t.length,a=0,l=[];++r<n;){var c=t[r];e(c,r,t)&&(l[a++]=c)}return l}function yre(){return[]}var vre=Object.prototype,bre=vre.propertyIsEnumerable,lA=Object.getOwnPropertySymbols,jre=lA?function(t){return t==null?[]:(t=Object(t),gre(lA(t),function(e){return bre.call(t,e)}))}:yre;function wre(t,e,r){var n=e(t);return _d(t)?n:rre(n,r(t))}function $w(t){return wre(t,Cse,jre)}var qw=Md(gl,"DataView"),Bw=Md(gl,"Promise"),Hw=Md(gl,"Set"),oA="[object Map]",Nre="[object Object]",cA="[object Promise]",dA="[object Set]",uA="[object WeakMap]",fA="[object DataView]",_re=Od(qw),Sre=Od(qm),Ere=Od(Bw),kre=Od(Hw),Cre=Od(Fw),yi=Lf;(qw&&yi(new qw(new ArrayBuffer(1)))!=fA||qm&&yi(new qm)!=oA||Bw&&yi(Bw.resolve())!=cA||Hw&&yi(new Hw)!=dA||Fw&&yi(new Fw)!=uA)&&(yi=function(t){var e=Lf(t),r=e==Nre?t.constructor:void 0,n=r?Od(r):"";if(n)switch(n){case _re:return fA;case Sre:return oA;case Ere:return cA;case kre:return dA;case Cre:return uA}return e});var Are=Object.prototype,Tre=Are.hasOwnProperty;function Rre(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&Tre.call(t,"index")&&(r.index=t.index,r.input=t.input),r}var fy=gl.Uint8Array;function G1(t){var e=new t.constructor(t.byteLength);return new fy(e).set(new fy(t)),e}function Dre(t,e){var r=G1(t.buffer);return new t.constructor(r,t.byteOffset,t.byteLength)}var Ore=/\w*$/;function Mre(t){var e=new t.constructor(t.source,Ore.exec(t));return e.lastIndex=t.lastIndex,e}var hA=vc?vc.prototype:void 0,mA=hA?hA.valueOf:void 0;function Pre(t){return mA?Object(mA.call(t)):{}}function G3(t,e){var r=e?G1(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}var Lre="[object Boolean]",Ire="[object Date]",Ure="[object Map]",Fre="[object Number]",zre="[object RegExp]",$re="[object Set]",qre="[object String]",Bre="[object Symbol]",Hre="[object ArrayBuffer]",Vre="[object DataView]",Yre="[object Float32Array]",Wre="[object Float64Array]",Gre="[object Int8Array]",Zre="[object Int16Array]",Kre="[object Int32Array]",Xre="[object Uint8Array]",Qre="[object Uint8ClampedArray]",Jre="[object Uint16Array]",ene="[object Uint32Array]";function tne(t,e,r){var n=t.constructor;switch(e){case Hre:return G1(t);case Lre:case Ire:return new n(+t);case Vre:return Dre(t);case Yre:case Wre:case Gre:case Zre:case Kre:case Xre:case Qre:case Jre:case ene:return G3(t,r);case Ure:return new n;case Fre:case qre:return new n(t);case zre:return Mre(t);case $re:return new n;case Bre:return Pre(t)}}function Z3(t){return typeof t.constructor=="function"&&!V1(t)?jte(H3(t)):{}}var sne="[object Map]";function rne(t){return ro(t)&&yi(t)==sne}var pA=mf&&mf.isMap,nne=pA?Y1(pA):rne,ane="[object Set]";function ine(t){return ro(t)&&yi(t)==ane}var xA=mf&&mf.isSet,lne=xA?Y1(xA):ine,one=1,K3="[object Arguments]",cne="[object Array]",dne="[object Boolean]",une="[object Date]",fne="[object Error]",X3="[object Function]",hne="[object GeneratorFunction]",mne="[object Map]",pne="[object Number]",Q3="[object Object]",xne="[object RegExp]",gne="[object Set]",yne="[object String]",vne="[object Symbol]",bne="[object WeakMap]",jne="[object ArrayBuffer]",wne="[object DataView]",Nne="[object Float32Array]",_ne="[object Float64Array]",Sne="[object Int8Array]",Ene="[object Int16Array]",kne="[object Int32Array]",Cne="[object Uint8Array]",Ane="[object Uint8ClampedArray]",Tne="[object Uint16Array]",Rne="[object Uint32Array]",Hs={};Hs[K3]=Hs[cne]=Hs[jne]=Hs[wne]=Hs[dne]=Hs[une]=Hs[Nne]=Hs[_ne]=Hs[Sne]=Hs[Ene]=Hs[kne]=Hs[mne]=Hs[pne]=Hs[Q3]=Hs[xne]=Hs[gne]=Hs[yne]=Hs[vne]=Hs[Cne]=Hs[Ane]=Hs[Tne]=Hs[Rne]=!0;Hs[fne]=Hs[X3]=Hs[bne]=!1;function _g(t,e,r,n,a,l){var c,d=e&one;if(c!==void 0)return c;if(!Ec(t))return t;var f=_d(t);if(f)c=Rre(t);else{var h=yi(t),p=h==X3||h==hne;if(zm(t))return W3(t,d);if(h==Q3||h==K3||p&&!a)c=p?{}:Z3(t);else{if(!Hs[h])return a?t:{};c=tne(t,h,d)}}l||(l=new il);var g=l.get(t);if(g)return g;l.set(t,c),lne(t)?t.forEach(function(j){c.add(_g(j,e,r,j,t,l))}):nne(t)&&t.forEach(function(j,w){c.set(w,_g(j,e,r,w,t,l))});var y=$w,b=f?void 0:y(t);return Rte(b||t,function(j,w){b&&(w=j,j=t[w]),L3(c,w,_g(j,e,r,w,t,l))}),c}var Dne=1,One=4;function Ju(t){return _g(t,Dne|One)}var Mne="__lodash_hash_undefined__";function Pne(t){return this.__data__.set(t,Mne),this}function Lne(t){return this.__data__.has(t)}function hy(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new Pd;++e<r;)this.add(t[e])}hy.prototype.add=hy.prototype.push=Pne;hy.prototype.has=Lne;function Ine(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}function Une(t,e){return t.has(e)}var Fne=1,zne=2;function J3(t,e,r,n,a,l){var c=r&Fne,d=t.length,f=e.length;if(d!=f&&!(c&&f>d))return!1;var h=l.get(t),p=l.get(e);if(h&&p)return h==e&&p==t;var g=-1,y=!0,b=r&zne?new hy:void 0;for(l.set(t,e),l.set(e,t);++g<d;){var j=t[g],w=e[g];if(n)var _=c?n(w,j,g,e,t,l):n(j,w,g,t,e,l);if(_!==void 0){if(_)continue;y=!1;break}if(b){if(!Ine(e,function(E,S){if(!Une(b,S)&&(j===E||a(j,E,r,n,l)))return b.push(S)})){y=!1;break}}else if(!(j===w||a(j,w,r,n,l))){y=!1;break}}return l.delete(t),l.delete(e),y}function $ne(t){var e=-1,r=Array(t.size);return t.forEach(function(n,a){r[++e]=[a,n]}),r}function qne(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var Bne=1,Hne=2,Vne="[object Boolean]",Yne="[object Date]",Wne="[object Error]",Gne="[object Map]",Zne="[object Number]",Kne="[object RegExp]",Xne="[object Set]",Qne="[object String]",Jne="[object Symbol]",eae="[object ArrayBuffer]",tae="[object DataView]",gA=vc?vc.prototype:void 0,C0=gA?gA.valueOf:void 0;function sae(t,e,r,n,a,l,c){switch(r){case tae:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case eae:return!(t.byteLength!=e.byteLength||!l(new fy(t),new fy(e)));case Vne:case Yne:case Zne:return gp(+t,+e);case Wne:return t.name==e.name&&t.message==e.message;case Kne:case Qne:return t==e+"";case Gne:var d=$ne;case Xne:var f=n&Bne;if(d||(d=qne),t.size!=e.size&&!f)return!1;var h=c.get(t);if(h)return h==e;n|=Hne,c.set(t,e);var p=J3(d(t),d(e),n,a,l,c);return c.delete(t),p;case Jne:if(C0)return C0.call(t)==C0.call(e)}return!1}var rae=1,nae=Object.prototype,aae=nae.hasOwnProperty;function iae(t,e,r,n,a,l){var c=r&rae,d=$w(t),f=d.length,h=$w(e),p=h.length;if(f!=p&&!c)return!1;for(var g=f;g--;){var y=d[g];if(!(c?y in e:aae.call(e,y)))return!1}var b=l.get(t),j=l.get(e);if(b&&j)return b==e&&j==t;var w=!0;l.set(t,e),l.set(e,t);for(var _=c;++g<f;){y=d[g];var E=t[y],S=e[y];if(n)var k=c?n(S,E,y,e,t,l):n(E,S,y,t,e,l);if(!(k===void 0?E===S||a(E,S,r,n,l):k)){w=!1;break}_||(_=y=="constructor")}if(w&&!_){var R=t.constructor,L=e.constructor;R!=L&&"constructor"in t&&"constructor"in e&&!(typeof R=="function"&&R instanceof R&&typeof L=="function"&&L instanceof L)&&(w=!1)}return l.delete(t),l.delete(e),w}var lae=1,yA="[object Arguments]",vA="[object Array]",Hx="[object Object]",oae=Object.prototype,bA=oae.hasOwnProperty;function cae(t,e,r,n,a,l){var c=_d(t),d=_d(e),f=c?vA:yi(t),h=d?vA:yi(e);f=f==yA?Hx:f,h=h==yA?Hx:h;var p=f==Hx,g=h==Hx,y=f==h;if(y&&zm(t)){if(!zm(e))return!1;c=!0,p=!1}if(y&&!p)return l||(l=new il),c||W1(t)?J3(t,e,r,n,a,l):sae(t,e,f,r,n,a,l);if(!(r&lae)){var b=p&&bA.call(t,"__wrapped__"),j=g&&bA.call(e,"__wrapped__");if(b||j){var w=b?t.value():t,_=j?e.value():e;return l||(l=new il),a(w,_,r,n,l)}}return y?(l||(l=new il),iae(t,e,r,n,a,l)):!1}function eL(t,e,r,n,a){return t===e?!0:t==null||e==null||!ro(t)&&!ro(e)?t!==t&&e!==e:cae(t,e,r,n,eL,a)}function dae(t){return function(e,r,n){for(var a=-1,l=Object(e),c=n(e),d=c.length;d--;){var f=c[++a];if(r(l[f],f,l)===!1)break}return e}}var uae=dae();function Vw(t,e,r){(r!==void 0&&!gp(t[e],r)||r===void 0&&!(e in t))&&H1(t,e,r)}function fae(t){return ro(t)&&bv(t)}function Yw(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function hae(t){return Lte(t,B3(t))}function mae(t,e,r,n,a,l,c){var d=Yw(t,r),f=Yw(e,r),h=c.get(f);if(h){Vw(t,r,h);return}var p=l?l(d,f,r+"",t,e,c):void 0,g=p===void 0;if(g){var y=_d(f),b=!y&&zm(f),j=!y&&!b&&W1(f);p=f,y||b||j?_d(d)?p=d:fae(d)?p=Nte(d):b?(g=!1,p=W3(f,!0)):j?(g=!1,p=G3(f,!0)):p=[]:cre(f)||zw(f)?(p=d,zw(d)?p=hae(d):(!Ec(d)||B1(d))&&(p=Z3(f))):g=!1}g&&(c.set(f,p),a(p,f,n,l,c),c.delete(f)),Vw(t,r,p)}function tL(t,e,r,n,a){t!==e&&uae(e,function(l,c){if(a||(a=new il),Ec(l))mae(t,e,c,r,tL,n,a);else{var d=n?n(Yw(t,c),l,c+"",t,e,a):void 0;d===void 0&&(d=l),Vw(t,c,d)}},B3)}function Jo(t,e){return eL(t,e)}var ac=$te(function(t,e,r){tL(t,e,r)}),ut=(t=>(t[t.TYPE=3]="TYPE",t[t.LEVEL=12]="LEVEL",t[t.ATTRIBUTE=13]="ATTRIBUTE",t[t.BLOT=14]="BLOT",t[t.INLINE=7]="INLINE",t[t.BLOCK=11]="BLOCK",t[t.BLOCK_BLOT=10]="BLOCK_BLOT",t[t.INLINE_BLOT=6]="INLINE_BLOT",t[t.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",t[t.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",t[t.ANY=15]="ANY",t))(ut||{});class fl{constructor(e,r,n={}){this.attrName=e,this.keyName=r;const a=ut.TYPE&ut.ATTRIBUTE;this.scope=n.scope!=null?n.scope&ut.LEVEL|a:ut.ATTRIBUTE,n.whitelist!=null&&(this.whitelist=n.whitelist)}static keys(e){return Array.from(e.attributes).map(r=>r.name)}add(e,r){return this.canAdd(e,r)?(e.setAttribute(this.keyName,r),!0):!1}canAdd(e,r){return this.whitelist==null?!0:typeof r=="string"?this.whitelist.indexOf(r.replace(/["']/g,""))>-1:this.whitelist.indexOf(r)>-1}remove(e){e.removeAttribute(this.keyName)}value(e){const r=e.getAttribute(this.keyName);return this.canAdd(e,r)&&r?r:""}}class ef extends Error{constructor(e){e="[Parchment] "+e,super(e),this.message=e,this.name=this.constructor.name}}const sL=class Ww{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(e,r=!1){if(e==null)return null;if(this.blots.has(e))return this.blots.get(e)||null;if(r){let n=null;try{n=e.parentNode}catch{return null}return this.find(n,r)}return null}create(e,r,n){const a=this.query(r);if(a==null)throw new ef(`Unable to create ${r} blot`);const l=a,c=r instanceof Node||r.nodeType===Node.TEXT_NODE?r:l.create(n),d=new l(e,c,n);return Ww.blots.set(d.domNode,d),d}find(e,r=!1){return Ww.find(e,r)}query(e,r=ut.ANY){let n;return typeof e=="string"?n=this.types[e]||this.attributes[e]:e instanceof Text||e.nodeType===Node.TEXT_NODE?n=this.types.text:typeof e=="number"?e&ut.LEVEL&ut.BLOCK?n=this.types.block:e&ut.LEVEL&ut.INLINE&&(n=this.types.inline):e instanceof Element&&((e.getAttribute("class")||"").split(/\s+/).some(a=>(n=this.classes[a],!!n)),n=n||this.tags[e.tagName]),n==null?null:"scope"in n&&r&ut.LEVEL&n.scope&&r&ut.TYPE&n.scope?n:null}register(...e){return e.map(r=>{const n="blotName"in r,a="attrName"in r;if(!n&&!a)throw new ef("Invalid definition");if(n&&r.blotName==="abstract")throw new ef("Cannot register abstract class");const l=n?r.blotName:a?r.attrName:void 0;return this.types[l]=r,a?typeof r.keyName=="string"&&(this.attributes[r.keyName]=r):n&&(r.className&&(this.classes[r.className]=r),r.tagName&&(Array.isArray(r.tagName)?r.tagName=r.tagName.map(c=>c.toUpperCase()):r.tagName=r.tagName.toUpperCase(),(Array.isArray(r.tagName)?r.tagName:[r.tagName]).forEach(c=>{(this.tags[c]==null||r.className==null)&&(this.tags[c]=r)}))),r})}};sL.blots=new WeakMap;let pf=sL;function jA(t,e){return(t.getAttribute("class")||"").split(/\s+/).filter(r=>r.indexOf(`${e}-`)===0)}class pae extends fl{static keys(e){return(e.getAttribute("class")||"").split(/\s+/).map(r=>r.split("-").slice(0,-1).join("-"))}add(e,r){return this.canAdd(e,r)?(this.remove(e),e.classList.add(`${this.keyName}-${r}`),!0):!1}remove(e){jA(e,this.keyName).forEach(r=>{e.classList.remove(r)}),e.classList.length===0&&e.removeAttribute("class")}value(e){const r=(jA(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,r)?r:""}}const Pi=pae;function A0(t){const e=t.split("-"),r=e.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("");return e[0]+r}class xae extends fl{static keys(e){return(e.getAttribute("style")||"").split(";").map(r=>r.split(":")[0].trim())}add(e,r){return this.canAdd(e,r)?(e.style[A0(this.keyName)]=r,!0):!1}remove(e){e.style[A0(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")}value(e){const r=e.style[A0(this.keyName)];return this.canAdd(e,r)?r:""}}const kc=xae;class gae{constructor(e){this.attributes={},this.domNode=e,this.build()}attribute(e,r){r?e.add(this.domNode,r)&&(e.value(this.domNode)!=null?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])}build(){this.attributes={};const e=pf.find(this.domNode);if(e==null)return;const r=fl.keys(this.domNode),n=Pi.keys(this.domNode),a=kc.keys(this.domNode);r.concat(n).concat(a).forEach(l=>{const c=e.scroll.query(l,ut.ATTRIBUTE);c instanceof fl&&(this.attributes[c.attrName]=c)})}copy(e){Object.keys(this.attributes).forEach(r=>{const n=this.attributes[r].value(this.domNode);e.format(r,n)})}move(e){this.copy(e),Object.keys(this.attributes).forEach(r=>{this.attributes[r].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((e,r)=>(e[r]=this.attributes[r].value(this.domNode),e),{})}}const Nv=gae,rL=class{constructor(e,r){this.scroll=e,this.domNode=r,pf.blots.set(r,this),this.prev=null,this.next=null}static create(e){if(this.tagName==null)throw new ef("Blot definition missing tagName");let r,n;return Array.isArray(this.tagName)?(typeof e=="string"?(n=e.toUpperCase(),parseInt(n,10).toString()===n&&(n=parseInt(n,10))):typeof e=="number"&&(n=e),typeof n=="number"?r=document.createElement(this.tagName[n-1]):n&&this.tagName.indexOf(n)>-1?r=document.createElement(n):r=document.createElement(this.tagName[0])):r=document.createElement(this.tagName),this.className&&r.classList.add(this.className),r}get statics(){return this.constructor}attach(){}clone(){const e=this.domNode.cloneNode(!1);return this.scroll.create(e)}detach(){this.parent!=null&&this.parent.removeChild(this),pf.blots.delete(this.domNode)}deleteAt(e,r){this.isolate(e,r).remove()}formatAt(e,r,n,a){const l=this.isolate(e,r);if(this.scroll.query(n,ut.BLOT)!=null&&a)l.wrap(n,a);else if(this.scroll.query(n,ut.ATTRIBUTE)!=null){const c=this.scroll.create(this.statics.scope);l.wrap(c),c.format(n,a)}}insertAt(e,r,n){const a=n==null?this.scroll.create("text",r):this.scroll.create(r,n),l=this.split(e);this.parent.insertBefore(a,l||void 0)}isolate(e,r){const n=this.split(e);if(n==null)throw new Error("Attempt to isolate at end");return n.split(r),n}length(){return 1}offset(e=this.parent){return this.parent==null||this===e?0:this.parent.children.offset(this)+this.parent.offset(e)}optimize(e){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(e,r){const n=typeof e=="string"?this.scroll.create(e,r):e;return this.parent!=null&&(this.parent.insertBefore(n,this.next||void 0),this.remove()),n}split(e,r){return e===0?this:this.next}update(e,r){}wrap(e,r){const n=typeof e=="string"?this.scroll.create(e,r):e;if(this.parent!=null&&this.parent.insertBefore(n,this.next||void 0),typeof n.appendChild!="function")throw new ef(`Cannot wrap ${e}`);return n.appendChild(this),n}};rL.blotName="abstract";let nL=rL;const aL=class extends nL{static value(e){return!0}index(e,r){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(r,1):-1}position(e,r){let n=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return e>0&&(n+=1),[this.parent.domNode,n]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};aL.scope=ut.INLINE_BLOT;let yae=aL;const kn=yae;class vae{constructor(){this.head=null,this.tail=null,this.length=0}append(...e){if(this.insertBefore(e[0],null),e.length>1){const r=e.slice(1);this.append(...r)}}at(e){const r=this.iterator();let n=r();for(;n&&e>0;)e-=1,n=r();return n}contains(e){const r=this.iterator();let n=r();for(;n;){if(n===e)return!0;n=r()}return!1}indexOf(e){const r=this.iterator();let n=r(),a=0;for(;n;){if(n===e)return a;a+=1,n=r()}return-1}insertBefore(e,r){e!=null&&(this.remove(e),e.next=r,r!=null?(e.prev=r.prev,r.prev!=null&&(r.prev.next=e),r.prev=e,r===this.head&&(this.head=e)):this.tail!=null?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)}offset(e){let r=0,n=this.head;for(;n!=null;){if(n===e)return r;r+=n.length(),n=n.next}return-1}remove(e){this.contains(e)&&(e.prev!=null&&(e.prev.next=e.next),e.next!=null&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)}iterator(e=this.head){return()=>{const r=e;return e!=null&&(e=e.next),r}}find(e,r=!1){const n=this.iterator();let a=n();for(;a;){const l=a.length();if(e<l||r&&e===l&&(a.next==null||a.next.length()!==0))return[a,e];e-=l,a=n()}return[null,0]}forEach(e){const r=this.iterator();let n=r();for(;n;)e(n),n=r()}forEachAt(e,r,n){if(r<=0)return;const[a,l]=this.find(e);let c=e-l;const d=this.iterator(a);let f=d();for(;f&&c<e+r;){const h=f.length();e>c?n(f,e-c,Math.min(r,c+h-e)):n(f,0,Math.min(h,e+r-c)),c+=h,f=d()}}map(e){return this.reduce((r,n)=>(r.push(e(n)),r),[])}reduce(e,r){const n=this.iterator();let a=n();for(;a;)r=e(r,a),a=n();return r}}function wA(t,e){const r=e.find(t);if(r)return r;try{return e.create(t)}catch{const n=e.create(ut.INLINE);return Array.from(t.childNodes).forEach(a=>{n.domNode.appendChild(a)}),t.parentNode&&t.parentNode.replaceChild(n.domNode,t),n.attach(),n}}const iL=class Xo extends nL{constructor(e,r){super(e,r),this.uiNode=null,this.build()}appendChild(e){this.insertBefore(e)}attach(){super.attach(),this.children.forEach(e=>{e.attach()})}attachUI(e){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=e,Xo.uiClass&&this.uiNode.classList.add(Xo.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new vae,Array.from(this.domNode.childNodes).filter(e=>e!==this.uiNode).reverse().forEach(e=>{try{const r=wA(e,this.scroll);this.insertBefore(r,this.children.head||void 0)}catch(r){if(r instanceof ef)return;throw r}})}deleteAt(e,r){if(e===0&&r===this.length())return this.remove();this.children.forEachAt(e,r,(n,a,l)=>{n.deleteAt(a,l)})}descendant(e,r=0){const[n,a]=this.children.find(r);return e.blotName==null&&e(n)||e.blotName!=null&&n instanceof e?[n,a]:n instanceof Xo?n.descendant(e,a):[null,-1]}descendants(e,r=0,n=Number.MAX_VALUE){let a=[],l=n;return this.children.forEachAt(r,n,(c,d,f)=>{(e.blotName==null&&e(c)||e.blotName!=null&&c instanceof e)&&a.push(c),c instanceof Xo&&(a=a.concat(c.descendants(e,d,l))),l-=f}),a}detach(){this.children.forEach(e=>{e.detach()}),super.detach()}enforceAllowedChildren(){let e=!1;this.children.forEach(r=>{e||this.statics.allowedChildren.some(n=>r instanceof n)||(r.statics.scope===ut.BLOCK_BLOT?(r.next!=null&&this.splitAfter(r),r.prev!=null&&this.splitAfter(r.prev),r.parent.unwrap(),e=!0):r instanceof Xo?r.unwrap():r.remove())})}formatAt(e,r,n,a){this.children.forEachAt(e,r,(l,c,d)=>{l.formatAt(c,d,n,a)})}insertAt(e,r,n){const[a,l]=this.children.find(e);if(a)a.insertAt(l,r,n);else{const c=n==null?this.scroll.create("text",r):this.scroll.create(r,n);this.appendChild(c)}}insertBefore(e,r){e.parent!=null&&e.parent.children.remove(e);let n=null;this.children.insertBefore(e,r||null),e.parent=this,r!=null&&(n=r.domNode),(this.domNode.parentNode!==e.domNode||this.domNode.nextSibling!==n)&&this.domNode.insertBefore(e.domNode,n),e.attach()}length(){return this.children.reduce((e,r)=>e+r.length(),0)}moveChildren(e,r){this.children.forEach(n=>{e.insertBefore(n,r)})}optimize(e){if(super.optimize(e),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const r=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(r)}else this.remove()}path(e,r=!1){const[n,a]=this.children.find(e,r),l=[[this,e]];return n instanceof Xo?l.concat(n.path(a,r)):(n!=null&&l.push([n,a]),l)}removeChild(e){this.children.remove(e)}replaceWith(e,r){const n=typeof e=="string"?this.scroll.create(e,r):e;return n instanceof Xo&&this.moveChildren(n),super.replaceWith(n)}split(e,r=!1){if(!r){if(e===0)return this;if(e===this.length())return this.next}const n=this.clone();return this.parent&&this.parent.insertBefore(n,this.next||void 0),this.children.forEachAt(e,this.length(),(a,l,c)=>{const d=a.split(l,r);d!=null&&n.appendChild(d)}),n}splitAfter(e){const r=this.clone();for(;e.next!=null;)r.appendChild(e.next);return this.parent&&this.parent.insertBefore(r,this.next||void 0),r}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(e,r){const n=[],a=[];e.forEach(l=>{l.target===this.domNode&&l.type==="childList"&&(n.push(...l.addedNodes),a.push(...l.removedNodes))}),a.forEach(l=>{if(l.parentNode!=null&&l.tagName!=="IFRAME"&&document.body.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const c=this.scroll.find(l);c!=null&&(c.domNode.parentNode==null||c.domNode.parentNode===this.domNode)&&c.detach()}),n.filter(l=>l.parentNode===this.domNode&&l!==this.uiNode).sort((l,c)=>l===c?0:l.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(l=>{let c=null;l.nextSibling!=null&&(c=this.scroll.find(l.nextSibling));const d=wA(l,this.scroll);(d.next!==c||d.next==null)&&(d.parent!=null&&d.parent.removeChild(this),this.insertBefore(d,c||void 0))}),this.enforceAllowedChildren()}};iL.uiClass="";let bae=iL;const Si=bae;function jae(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}const Iu=class Uu extends Si{static create(e){return super.create(e)}static formats(e,r){const n=r.query(Uu.blotName);if(!(n!=null&&e.tagName===n.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,r){super(e,r),this.attributes=new Nv(this.domNode)}format(e,r){if(e===this.statics.blotName&&!r)this.children.forEach(n=>{n instanceof Uu||(n=n.wrap(Uu.blotName,!0)),this.attributes.copy(n)}),this.unwrap();else{const n=this.scroll.query(e,ut.INLINE);if(n==null)return;n instanceof fl?this.attributes.attribute(n,r):r&&(e!==this.statics.blotName||this.formats()[e]!==r)&&this.replaceWith(e,r)}}formats(){const e=this.attributes.values(),r=this.statics.formats(this.domNode,this.scroll);return r!=null&&(e[this.statics.blotName]=r),e}formatAt(e,r,n,a){this.formats()[n]!=null||this.scroll.query(n,ut.ATTRIBUTE)?this.isolate(e,r).format(n,a):super.formatAt(e,r,n,a)}optimize(e){super.optimize(e);const r=this.formats();if(Object.keys(r).length===0)return this.unwrap();const n=this.next;n instanceof Uu&&n.prev===this&&jae(r,n.formats())&&(n.moveChildren(this),n.remove())}replaceWith(e,r){const n=super.replaceWith(e,r);return this.attributes.copy(n),n}update(e,r){super.update(e,r),e.some(n=>n.target===this.domNode&&n.type==="attributes")&&this.attributes.build()}wrap(e,r){const n=super.wrap(e,r);return n instanceof Uu&&this.attributes.move(n),n}};Iu.allowedChildren=[Iu,kn],Iu.blotName="inline",Iu.scope=ut.INLINE_BLOT,Iu.tagName="SPAN";let wae=Iu;const Z1=wae,Fu=class Gw extends Si{static create(e){return super.create(e)}static formats(e,r){const n=r.query(Gw.blotName);if(!(n!=null&&e.tagName===n.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,r){super(e,r),this.attributes=new Nv(this.domNode)}format(e,r){const n=this.scroll.query(e,ut.BLOCK);n!=null&&(n instanceof fl?this.attributes.attribute(n,r):e===this.statics.blotName&&!r?this.replaceWith(Gw.blotName):r&&(e!==this.statics.blotName||this.formats()[e]!==r)&&this.replaceWith(e,r))}formats(){const e=this.attributes.values(),r=this.statics.formats(this.domNode,this.scroll);return r!=null&&(e[this.statics.blotName]=r),e}formatAt(e,r,n,a){this.scroll.query(n,ut.BLOCK)!=null?this.format(n,a):super.formatAt(e,r,n,a)}insertAt(e,r,n){if(n==null||this.scroll.query(r,ut.INLINE)!=null)super.insertAt(e,r,n);else{const a=this.split(e);if(a!=null){const l=this.scroll.create(r,n);a.parent.insertBefore(l,a)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(e,r){const n=super.replaceWith(e,r);return this.attributes.copy(n),n}update(e,r){super.update(e,r),e.some(n=>n.target===this.domNode&&n.type==="attributes")&&this.attributes.build()}};Fu.blotName="block",Fu.scope=ut.BLOCK_BLOT,Fu.tagName="P",Fu.allowedChildren=[Z1,Fu,kn];let Nae=Fu;const Bm=Nae,Zw=class extends Si{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(e,r){super.deleteAt(e,r),this.enforceAllowedChildren()}formatAt(e,r,n,a){super.formatAt(e,r,n,a),this.enforceAllowedChildren()}insertAt(e,r,n){super.insertAt(e,r,n),this.enforceAllowedChildren()}optimize(e){super.optimize(e),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};Zw.blotName="container",Zw.scope=ut.BLOCK_BLOT;let _ae=Zw;const _v=_ae;class Sae extends kn{static formats(e,r){}format(e,r){super.formatAt(0,this.length(),e,r)}formatAt(e,r,n,a){e===0&&r===this.length()?this.format(n,a):super.formatAt(e,r,n,a)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const Aa=Sae,Eae={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},kae=100,zu=class extends Si{constructor(e,r){super(null,r),this.registry=e,this.scroll=this,this.build(),this.observer=new MutationObserver(n=>{this.update(n)}),this.observer.observe(this.domNode,Eae),this.attach()}create(e,r){return this.registry.create(this,e,r)}find(e,r=!1){const n=this.registry.find(e,r);return n?n.scroll===this?n:r?this.find(n.scroll.domNode.parentNode,!0):null:null}query(e,r=ut.ANY){return this.registry.query(e,r)}register(...e){return this.registry.register(...e)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(e,r){this.update(),e===0&&r===this.length()?this.children.forEach(n=>{n.remove()}):super.deleteAt(e,r)}formatAt(e,r,n,a){this.update(),super.formatAt(e,r,n,a)}insertAt(e,r,n){this.update(),super.insertAt(e,r,n)}optimize(e=[],r={}){super.optimize(r);const n=r.mutationsMap||new WeakMap;let a=Array.from(this.observer.takeRecords());for(;a.length>0;)e.push(a.pop());const l=(f,h=!0)=>{f==null||f===this||f.domNode.parentNode!=null&&(n.has(f.domNode)||n.set(f.domNode,[]),h&&l(f.parent))},c=f=>{n.has(f.domNode)&&(f instanceof Si&&f.children.forEach(c),n.delete(f.domNode),f.optimize(r))};let d=e;for(let f=0;d.length>0;f+=1){if(f>=kae)throw new Error("[Parchment] Maximum optimize iterations reached");for(d.forEach(h=>{const p=this.find(h.target,!0);p!=null&&(p.domNode===h.target&&(h.type==="childList"?(l(this.find(h.previousSibling,!1)),Array.from(h.addedNodes).forEach(g=>{const y=this.find(g,!1);l(y,!1),y instanceof Si&&y.children.forEach(b=>{l(b,!1)})})):h.type==="attributes"&&l(p.prev)),l(p))}),this.children.forEach(c),d=Array.from(this.observer.takeRecords()),a=d.slice();a.length>0;)e.push(a.pop())}}update(e,r={}){e=e||this.observer.takeRecords();const n=new WeakMap;e.map(a=>{const l=this.find(a.target,!0);return l==null?null:n.has(l.domNode)?(n.get(l.domNode).push(a),null):(n.set(l.domNode,[a]),l)}).forEach(a=>{a!=null&&a!==this&&n.has(a.domNode)&&a.update(n.get(a.domNode)||[],r)}),r.mutationsMap=n,n.has(this.domNode)&&super.update(n.get(this.domNode),r),this.optimize(e,r)}};zu.blotName="scroll",zu.defaultChild=Bm,zu.allowedChildren=[Bm,_v],zu.scope=ut.BLOCK_BLOT,zu.tagName="DIV";let Cae=zu;const K1=Cae,Kw=class lL extends kn{static create(e){return document.createTextNode(e)}static value(e){return e.data}constructor(e,r){super(e,r),this.text=this.statics.value(this.domNode)}deleteAt(e,r){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+r)}index(e,r){return this.domNode===e?r:-1}insertAt(e,r,n){n==null?(this.text=this.text.slice(0,e)+r+this.text.slice(e),this.domNode.data=this.text):super.insertAt(e,r,n)}length(){return this.text.length}optimize(e){super.optimize(e),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof lL&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(e,r=!1){return[this.domNode,e]}split(e,r=!1){if(!r){if(e===0)return this;if(e===this.length())return this.next}const n=this.scroll.create(this.domNode.splitText(e));return this.parent.insertBefore(n,this.next||void 0),this.text=this.statics.value(this.domNode),n}update(e,r){e.some(n=>n.type==="characterData"&&n.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};Kw.blotName="text",Kw.scope=ut.INLINE_BLOT;let Aae=Kw;const my=Aae,Tae=Object.freeze(Object.defineProperty({__proto__:null,Attributor:fl,AttributorStore:Nv,BlockBlot:Bm,ClassAttributor:Pi,ContainerBlot:_v,EmbedBlot:Aa,InlineBlot:Z1,LeafBlot:kn,ParentBlot:Si,Registry:pf,Scope:ut,ScrollBlot:K1,StyleAttributor:kc,TextBlot:my},Symbol.toStringTag,{value:"Module"}));var Vx={exports:{}},T0,NA;function Rae(){if(NA)return T0;NA=1;var t=-1,e=1,r=0;function n(A,z,$,J,B){if(A===z)return A?[[r,A]]:[];if($!=null){var M=P(A,z,$);if(M)return M}var V=d(A,z),Q=A.substring(0,V);A=A.substring(V),z=z.substring(V),V=h(A,z);var le=A.substring(A.length-V);A=A.substring(0,A.length-V),z=z.substring(0,z.length-V);var H=a(A,z);return Q&&H.unshift([r,Q]),le&&H.push([r,le]),S(H,B),J&&g(H),H}function a(A,z){var $;if(!A)return[[e,z]];if(!z)return[[t,A]];var J=A.length>z.length?A:z,B=A.length>z.length?z:A,M=J.indexOf(B);if(M!==-1)return $=[[e,J.substring(0,M)],[r,B],[e,J.substring(M+B.length)]],A.length>z.length&&($[0][0]=$[2][0]=t),$;if(B.length===1)return[[t,A],[e,z]];var V=p(A,z);if(V){var Q=V[0],le=V[1],H=V[2],K=V[3],Y=V[4],se=n(Q,H),G=n(le,K);return se.concat([[r,Y]],G)}return l(A,z)}function l(A,z){for(var $=A.length,J=z.length,B=Math.ceil(($+J)/2),M=B,V=2*B,Q=new Array(V),le=new Array(V),H=0;H<V;H++)Q[H]=-1,le[H]=-1;Q[M+1]=0,le[M+1]=0;for(var K=$-J,Y=K%2!==0,se=0,G=0,C=0,U=0,ne=0;ne<B;ne++){for(var me=-ne+se;me<=ne-G;me+=2){var ie=M+me,Ee;me===-ne||me!==ne&&Q[ie-1]<Q[ie+1]?Ee=Q[ie+1]:Ee=Q[ie-1]+1;for(var Oe=Ee-me;Ee<$&&Oe<J&&A.charAt(Ee)===z.charAt(Oe);)Ee++,Oe++;if(Q[ie]=Ee,Ee>$)G+=2;else if(Oe>J)se+=2;else if(Y){var fe=M+K-me;if(fe>=0&&fe<V&&le[fe]!==-1){var Ce=$-le[fe];if(Ee>=Ce)return c(A,z,Ee,Oe)}}}for(var pe=-ne+C;pe<=ne-U;pe+=2){var fe=M+pe,Ce;pe===-ne||pe!==ne&&le[fe-1]<le[fe+1]?Ce=le[fe+1]:Ce=le[fe-1]+1;for(var ze=Ce-pe;Ce<$&&ze<J&&A.charAt($-Ce-1)===z.charAt(J-ze-1);)Ce++,ze++;if(le[fe]=Ce,Ce>$)U+=2;else if(ze>J)C+=2;else if(!Y){var ie=M+K-pe;if(ie>=0&&ie<V&&Q[ie]!==-1){var Ee=Q[ie],Oe=M+Ee-ie;if(Ce=$-Ce,Ee>=Ce)return c(A,z,Ee,Oe)}}}}return[[t,A],[e,z]]}function c(A,z,$,J){var B=A.substring(0,$),M=z.substring(0,J),V=A.substring($),Q=z.substring(J),le=n(B,M),H=n(V,Q);return le.concat(H)}function d(A,z){if(!A||!z||A.charAt(0)!==z.charAt(0))return 0;for(var $=0,J=Math.min(A.length,z.length),B=J,M=0;$<B;)A.substring(M,B)==z.substring(M,B)?($=B,M=$):J=B,B=Math.floor((J-$)/2+$);return k(A.charCodeAt(B-1))&&B--,B}function f(A,z){var $=A.length,J=z.length;if($==0||J==0)return 0;$>J?A=A.substring($-J):$<J&&(z=z.substring(0,$));var B=Math.min($,J);if(A==z)return B;for(var M=0,V=1;;){var Q=A.substring(B-V),le=z.indexOf(Q);if(le==-1)return M;V+=le,(le==0||A.substring(B-V)==z.substring(0,V))&&(M=V,V++)}}function h(A,z){if(!A||!z||A.slice(-1)!==z.slice(-1))return 0;for(var $=0,J=Math.min(A.length,z.length),B=J,M=0;$<B;)A.substring(A.length-B,A.length-M)==z.substring(z.length-B,z.length-M)?($=B,M=$):J=B,B=Math.floor((J-$)/2+$);return R(A.charCodeAt(A.length-B))&&B--,B}function p(A,z){var $=A.length>z.length?A:z,J=A.length>z.length?z:A;if($.length<4||J.length*2<$.length)return null;function B(G,C,U){for(var ne=G.substring(U,U+Math.floor(G.length/4)),me=-1,ie="",Ee,Oe,fe,Ce;(me=C.indexOf(ne,me+1))!==-1;){var pe=d(G.substring(U),C.substring(me)),ze=h(G.substring(0,U),C.substring(0,me));ie.length<ze+pe&&(ie=C.substring(me-ze,me)+C.substring(me,me+pe),Ee=G.substring(0,U-ze),Oe=G.substring(U+pe),fe=C.substring(0,me-ze),Ce=C.substring(me+pe))}return ie.length*2>=G.length?[Ee,Oe,fe,Ce,ie]:null}var M=B($,J,Math.ceil($.length/4)),V=B($,J,Math.ceil($.length/2)),Q;if(!M&&!V)return null;V?M?Q=M[4].length>V[4].length?M:V:Q=V:Q=M;var le,H,K,Y;A.length>z.length?(le=Q[0],H=Q[1],K=Q[2],Y=Q[3]):(K=Q[0],Y=Q[1],le=Q[2],H=Q[3]);var se=Q[4];return[le,H,K,Y,se]}function g(A){for(var z=!1,$=[],J=0,B=null,M=0,V=0,Q=0,le=0,H=0;M<A.length;)A[M][0]==r?($[J++]=M,V=le,Q=H,le=0,H=0,B=A[M][1]):(A[M][0]==e?le+=A[M][1].length:H+=A[M][1].length,B&&B.length<=Math.max(V,Q)&&B.length<=Math.max(le,H)&&(A.splice($[J-1],0,[t,B]),A[$[J-1]+1][0]=e,J--,J--,M=J>0?$[J-1]:-1,V=0,Q=0,le=0,H=0,B=null,z=!0)),M++;for(z&&S(A),E(A),M=1;M<A.length;){if(A[M-1][0]==t&&A[M][0]==e){var K=A[M-1][1],Y=A[M][1],se=f(K,Y),G=f(Y,K);se>=G?(se>=K.length/2||se>=Y.length/2)&&(A.splice(M,0,[r,Y.substring(0,se)]),A[M-1][1]=K.substring(0,K.length-se),A[M+1][1]=Y.substring(se),M++):(G>=K.length/2||G>=Y.length/2)&&(A.splice(M,0,[r,K.substring(0,G)]),A[M-1][0]=e,A[M-1][1]=Y.substring(0,Y.length-G),A[M+1][0]=t,A[M+1][1]=K.substring(G),M++),M++}M++}}var y=/[^a-zA-Z0-9]/,b=/\s/,j=/[\r\n]/,w=/\n\r?\n$/,_=/^\r?\n\r?\n/;function E(A){function z(G,C){if(!G||!C)return 6;var U=G.charAt(G.length-1),ne=C.charAt(0),me=U.match(y),ie=ne.match(y),Ee=me&&U.match(b),Oe=ie&&ne.match(b),fe=Ee&&U.match(j),Ce=Oe&&ne.match(j),pe=fe&&G.match(w),ze=Ce&&C.match(_);return pe||ze?5:fe||Ce?4:me&&!Ee&&Oe?3:Ee||Oe?2:me||ie?1:0}for(var $=1;$<A.length-1;){if(A[$-1][0]==r&&A[$+1][0]==r){var J=A[$-1][1],B=A[$][1],M=A[$+1][1],V=h(J,B);if(V){var Q=B.substring(B.length-V);J=J.substring(0,J.length-V),B=Q+B.substring(0,B.length-V),M=Q+M}for(var le=J,H=B,K=M,Y=z(J,B)+z(B,M);B.charAt(0)===M.charAt(0);){J+=B.charAt(0),B=B.substring(1)+M.charAt(0),M=M.substring(1);var se=z(J,B)+z(B,M);se>=Y&&(Y=se,le=J,H=B,K=M)}A[$-1][1]!=le&&(le?A[$-1][1]=le:(A.splice($-1,1),$--),A[$][1]=H,K?A[$+1][1]=K:(A.splice($+1,1),$--))}$++}}function S(A,z){A.push([r,""]);for(var $=0,J=0,B=0,M="",V="",Q;$<A.length;){if($<A.length-1&&!A[$][1]){A.splice($,1);continue}switch(A[$][0]){case e:B++,V+=A[$][1],$++;break;case t:J++,M+=A[$][1],$++;break;case r:var le=$-B-J-1;if(z){if(le>=0&&I(A[le][1])){var H=A[le][1].slice(-1);if(A[le][1]=A[le][1].slice(0,-1),M=H+M,V=H+V,!A[le][1]){A.splice(le,1),$--;var K=le-1;A[K]&&A[K][0]===e&&(B++,V=A[K][1]+V,K--),A[K]&&A[K][0]===t&&(J++,M=A[K][1]+M,K--),le=K}}if(L(A[$][1])){var H=A[$][1].charAt(0);A[$][1]=A[$][1].slice(1),M+=H,V+=H}}if($<A.length-1&&!A[$][1]){A.splice($,1);break}if(M.length>0||V.length>0){M.length>0&&V.length>0&&(Q=d(V,M),Q!==0&&(le>=0?A[le][1]+=V.substring(0,Q):(A.splice(0,0,[r,V.substring(0,Q)]),$++),V=V.substring(Q),M=M.substring(Q)),Q=h(V,M),Q!==0&&(A[$][1]=V.substring(V.length-Q)+A[$][1],V=V.substring(0,V.length-Q),M=M.substring(0,M.length-Q)));var Y=B+J;M.length===0&&V.length===0?(A.splice($-Y,Y),$=$-Y):M.length===0?(A.splice($-Y,Y,[e,V]),$=$-Y+1):V.length===0?(A.splice($-Y,Y,[t,M]),$=$-Y+1):(A.splice($-Y,Y,[t,M],[e,V]),$=$-Y+2)}$!==0&&A[$-1][0]===r?(A[$-1][1]+=A[$][1],A.splice($,1)):$++,B=0,J=0,M="",V="";break}}A[A.length-1][1]===""&&A.pop();var se=!1;for($=1;$<A.length-1;)A[$-1][0]===r&&A[$+1][0]===r&&(A[$][1].substring(A[$][1].length-A[$-1][1].length)===A[$-1][1]?(A[$][1]=A[$-1][1]+A[$][1].substring(0,A[$][1].length-A[$-1][1].length),A[$+1][1]=A[$-1][1]+A[$+1][1],A.splice($-1,1),se=!0):A[$][1].substring(0,A[$+1][1].length)==A[$+1][1]&&(A[$-1][1]+=A[$+1][1],A[$][1]=A[$][1].substring(A[$+1][1].length)+A[$+1][1],A.splice($+1,1),se=!0)),$++;se&&S(A,z)}function k(A){return A>=55296&&A<=56319}function R(A){return A>=56320&&A<=57343}function L(A){return R(A.charCodeAt(0))}function I(A){return k(A.charCodeAt(A.length-1))}function T(A){for(var z=[],$=0;$<A.length;$++)A[$][1].length>0&&z.push(A[$]);return z}function O(A,z,$,J){return I(A)||L(J)?null:T([[r,A],[t,z],[e,$],[r,J]])}function P(A,z,$){var J=typeof $=="number"?{index:$,length:0}:$.oldRange,B=typeof $=="number"?null:$.newRange,M=A.length,V=z.length;if(J.length===0&&(B===null||B.length===0)){var Q=J.index,le=A.slice(0,Q),H=A.slice(Q),K=B?B.index:null;e:{var Y=Q+V-M;if(K!==null&&K!==Y||Y<0||Y>V)break e;var se=z.slice(0,Y),G=z.slice(Y);if(G!==H)break e;var C=Math.min(Q,Y),U=le.slice(0,C),ne=se.slice(0,C);if(U!==ne)break e;var me=le.slice(C),ie=se.slice(C);return O(U,me,ie,H)}e:{if(K!==null&&K!==Q)break e;var Ee=Q,se=z.slice(0,Ee),G=z.slice(Ee);if(se!==le)break e;var Oe=Math.min(M-Ee,V-Ee),fe=H.slice(H.length-Oe),Ce=G.slice(G.length-Oe);if(fe!==Ce)break e;var me=H.slice(0,H.length-Oe),ie=G.slice(0,G.length-Oe);return O(le,me,ie,fe)}}if(J.length>0&&B&&B.length===0)e:{var U=A.slice(0,J.index),fe=A.slice(J.index+J.length),C=U.length,Oe=fe.length;if(V<C+Oe)break e;var ne=z.slice(0,C),Ce=z.slice(V-Oe);if(U!==ne||fe!==Ce)break e;var me=A.slice(C,M-Oe),ie=z.slice(C,V-Oe);return O(U,me,ie,fe)}return null}function X(A,z,$,J){return n(A,z,$,J,!0)}return X.INSERT=e,X.DELETE=t,X.EQUAL=r,T0=X,T0}var em={exports:{}};em.exports;var _A;function oL(){return _A||(_A=1,function(t,e){var r=200,n="__lodash_hash_undefined__",a=9007199254740991,l="[object Arguments]",c="[object Array]",d="[object Boolean]",f="[object Date]",h="[object Error]",p="[object Function]",g="[object GeneratorFunction]",y="[object Map]",b="[object Number]",j="[object Object]",w="[object Promise]",_="[object RegExp]",E="[object Set]",S="[object String]",k="[object Symbol]",R="[object WeakMap]",L="[object ArrayBuffer]",I="[object DataView]",T="[object Float32Array]",O="[object Float64Array]",P="[object Int8Array]",X="[object Int16Array]",A="[object Int32Array]",z="[object Uint8Array]",$="[object Uint8ClampedArray]",J="[object Uint16Array]",B="[object Uint32Array]",M=/[\\^$.*+?()[\]{}|]/g,V=/\w*$/,Q=/^\[object .+?Constructor\]$/,le=/^(?:0|[1-9]\d*)$/,H={};H[l]=H[c]=H[L]=H[I]=H[d]=H[f]=H[T]=H[O]=H[P]=H[X]=H[A]=H[y]=H[b]=H[j]=H[_]=H[E]=H[S]=H[k]=H[z]=H[$]=H[J]=H[B]=!0,H[h]=H[p]=H[R]=!1;var K=typeof tc=="object"&&tc&&tc.Object===Object&&tc,Y=typeof self=="object"&&self&&self.Object===Object&&self,se=K||Y||Function("return this")(),G=e&&!e.nodeType&&e,C=G&&!0&&t&&!t.nodeType&&t,U=C&&C.exports===G;function ne(D,Z){return D.set(Z[0],Z[1]),D}function me(D,Z){return D.add(Z),D}function ie(D,Z){for(var ce=-1,Ae=D?D.length:0;++ce<Ae&&Z(D[ce],ce,D)!==!1;);return D}function Ee(D,Z){for(var ce=-1,Ae=Z.length,wt=D.length;++ce<Ae;)D[wt+ce]=Z[ce];return D}function Oe(D,Z,ce,Ae){for(var wt=-1,ft=D?D.length:0;++wt<ft;)ce=Z(ce,D[wt],wt,D);return ce}function fe(D,Z){for(var ce=-1,Ae=Array(D);++ce<D;)Ae[ce]=Z(ce);return Ae}function Ce(D,Z){return D==null?void 0:D[Z]}function pe(D){var Z=!1;if(D!=null&&typeof D.toString!="function")try{Z=!!(D+"")}catch{}return Z}function ze(D){var Z=-1,ce=Array(D.size);return D.forEach(function(Ae,wt){ce[++Z]=[wt,Ae]}),ce}function lt(D,Z){return function(ce){return D(Z(ce))}}function Je(D){var Z=-1,ce=Array(D.size);return D.forEach(function(Ae){ce[++Z]=Ae}),ce}var Zt=Array.prototype,jt=Function.prototype,kr=Object.prototype,dr=se["__core-js_shared__"],q=function(){var D=/[^.]+$/.exec(dr&&dr.keys&&dr.keys.IE_PROTO||"");return D?"Symbol(src)_1."+D:""}(),de=jt.toString,je=kr.hasOwnProperty,Ue=kr.toString,Le=RegExp("^"+de.call(je).replace(M,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ae=U?se.Buffer:void 0,Ie=se.Symbol,et=se.Uint8Array,St=lt(Object.getPrototypeOf,Object),Ts=Object.create,sn=kr.propertyIsEnumerable,fn=Zt.splice,hn=Object.getOwnPropertySymbols,Pr=ae?ae.isBuffer:void 0,Pn=lt(Object.keys,Object),mn=Wr(se,"DataView"),pn=Wr(se,"Map"),sr=Wr(se,"Promise"),ri=Wr(se,"Set"),ni=Wr(se,"WeakMap"),xn=Wr(Object,"create"),Ui=mr(mn),gt=mr(pn),Is=mr(sr),$s=mr(ri),rr=mr(ni),gn=Ie?Ie.prototype:void 0,Xs=gn?gn.valueOf:void 0;function fs(D){var Z=-1,ce=D?D.length:0;for(this.clear();++Z<ce;){var Ae=D[Z];this.set(Ae[0],Ae[1])}}function Ws(){this.__data__=xn?xn(null):{}}function ms(D){return this.has(D)&&delete this.__data__[D]}function ur(D){var Z=this.__data__;if(xn){var ce=Z[D];return ce===n?void 0:ce}return je.call(Z,D)?Z[D]:void 0}function ai(D){var Z=this.__data__;return xn?Z[D]!==void 0:je.call(Z,D)}function Ln(D,Z){var ce=this.__data__;return ce[D]=xn&&Z===void 0?n:Z,this}fs.prototype.clear=Ws,fs.prototype.delete=ms,fs.prototype.get=ur,fs.prototype.has=ai,fs.prototype.set=Ln;function Cr(D){var Z=-1,ce=D?D.length:0;for(this.clear();++Z<ce;){var Ae=D[Z];this.set(Ae[0],Ae[1])}}function Fd(){this.__data__=[]}function yl(D){var Z=this.__data__,ce=qi(Z,D);if(ce<0)return!1;var Ae=Z.length-1;return ce==Ae?Z.pop():fn.call(Z,ce,1),!0}function Cc(D){var Z=this.__data__,ce=qi(Z,D);return ce<0?void 0:Z[ce][1]}function Fi(D){return qi(this.__data__,D)>-1}function zi(D,Z){var ce=this.__data__,Ae=qi(ce,D);return Ae<0?ce.push([D,Z]):ce[Ae][1]=Z,this}Cr.prototype.clear=Fd,Cr.prototype.delete=yl,Cr.prototype.get=Cc,Cr.prototype.has=Fi,Cr.prototype.set=zi;function fr(D){var Z=-1,ce=D?D.length:0;for(this.clear();++Z<ce;){var Ae=D[Z];this.set(Ae[0],Ae[1])}}function $i(){this.__data__={hash:new fs,map:new(pn||Cr),string:new fs}}function hr(D){return Hi(this,D).delete(D)}function zd(D){return Hi(this,D).get(D)}function $d(D){return Hi(this,D).has(D)}function ii(D,Z){return Hi(this,D).set(D,Z),this}fr.prototype.clear=$i,fr.prototype.delete=hr,fr.prototype.get=zd,fr.prototype.has=$d,fr.prototype.set=ii;function vr(D){this.__data__=new Cr(D)}function If(){this.__data__=new Cr}function qd(D){return this.__data__.delete(D)}function Bd(D){return this.__data__.get(D)}function Uf(D){return this.__data__.has(D)}function go(D,Z){var ce=this.__data__;if(ce instanceof Cr){var Ae=ce.__data__;if(!pn||Ae.length<r-1)return Ae.push([D,Z]),this;ce=this.__data__=new fr(Ae)}return ce.set(D,Z),this}vr.prototype.clear=If,vr.prototype.delete=qd,vr.prototype.get=Bd,vr.prototype.has=Uf,vr.prototype.set=go;function li(D,Z){var ce=bo(D)||Vi(D)?fe(D.length,String):[],Ae=ce.length,wt=!!Ae;for(var ft in D)je.call(D,ft)&&!(wt&&(ft=="length"||qf(ft,Ae)))&&ce.push(ft);return ce}function qn(D,Z,ce){var Ae=D[Z];(!(je.call(D,Z)&&Pc(Ae,ce))||ce===void 0&&!(Z in D))&&(D[Z]=ce)}function qi(D,Z){for(var ce=D.length;ce--;)if(Pc(D[ce][0],Z))return ce;return-1}function la(D,Z){return D&&jl(Z,wo(Z),D)}function Ta(D,Z,ce,Ae,wt,ft,ss){var Kt;if(Ae&&(Kt=ft?Ae(D,wt,ft,ss):Ae(D)),Kt!==void 0)return Kt;if(!Hn(D))return D;var qs=bo(D);if(qs){if(Kt=Wd(D),!Z)return Vd(D,Kt)}else{var is=Da(D),Lr=is==p||is==g;if(jo(D))return vl(D,Z);if(is==j||is==l||Lr&&!ft){if(pe(D))return ft?D:{};if(Kt=Bn(Lr?{}:D),!Z)return Bi(D,la(Kt,D))}else{if(!H[is])return ft?D:{};Kt=$f(D,is,Ta,Z)}}ss||(ss=new vr);var bn=ss.get(D);if(bn)return bn;if(ss.set(D,Kt),!qs)var br=ce?Yd(D):wo(D);return ie(br||D,function(Gr,jr){br&&(jr=Gr,Gr=D[jr]),qn(Kt,jr,Ta(Gr,Z,ce,Ae,jr,D,ss))}),Kt}function Ac(D){return Hn(D)?Ts(D):{}}function Tc(D,Z,ce){var Ae=Z(D);return bo(D)?Ae:Ee(Ae,ce(D))}function Ff(D){return Ue.call(D)}function Hd(D){if(!Hn(D)||Mc(D))return!1;var Z=di(D)||pe(D)?Le:Q;return Z.test(mr(D))}function yn(D){if(!vo(D))return Pn(D);var Z=[];for(var ce in Object(D))je.call(D,ce)&&ce!="constructor"&&Z.push(ce);return Z}function vl(D,Z){if(Z)return D.slice();var ce=new D.constructor(D.length);return D.copy(ce),ce}function Rc(D){var Z=new D.constructor(D.byteLength);return new et(Z).set(new et(D)),Z}function Ra(D,Z){var ce=Z?Rc(D.buffer):D.buffer;return new D.constructor(ce,D.byteOffset,D.byteLength)}function Dc(D,Z,ce){var Ae=Z?ce(ze(D),!0):ze(D);return Oe(Ae,ne,new D.constructor)}function bl(D){var Z=new D.constructor(D.source,V.exec(D));return Z.lastIndex=D.lastIndex,Z}function zf(D,Z,ce){var Ae=Z?ce(Je(D),!0):Je(D);return Oe(Ae,me,new D.constructor)}function vn(D){return Xs?Object(Xs.call(D)):{}}function Oc(D,Z){var ce=Z?Rc(D.buffer):D.buffer;return new D.constructor(ce,D.byteOffset,D.length)}function Vd(D,Z){var ce=-1,Ae=D.length;for(Z||(Z=Array(Ae));++ce<Ae;)Z[ce]=D[ce];return Z}function jl(D,Z,ce,Ae){ce||(ce={});for(var wt=-1,ft=Z.length;++wt<ft;){var ss=Z[wt],Kt=void 0;qn(ce,ss,Kt===void 0?D[ss]:Kt)}return ce}function Bi(D,Z){return jl(D,oi(D),Z)}function Yd(D){return Tc(D,wo,oi)}function Hi(D,Z){var ce=D.__data__;return yo(Z)?ce[typeof Z=="string"?"string":"hash"]:ce.map}function Wr(D,Z){var ce=Ce(D,Z);return Hd(ce)?ce:void 0}var oi=hn?lt(hn,Object):No,Da=Ff;(mn&&Da(new mn(new ArrayBuffer(1)))!=I||pn&&Da(new pn)!=y||sr&&Da(sr.resolve())!=w||ri&&Da(new ri)!=E||ni&&Da(new ni)!=R)&&(Da=function(D){var Z=Ue.call(D),ce=Z==j?D.constructor:void 0,Ae=ce?mr(ce):void 0;if(Ae)switch(Ae){case Ui:return I;case gt:return y;case Is:return w;case $s:return E;case rr:return R}return Z});function Wd(D){var Z=D.length,ce=D.constructor(Z);return Z&&typeof D[0]=="string"&&je.call(D,"index")&&(ce.index=D.index,ce.input=D.input),ce}function Bn(D){return typeof D.constructor=="function"&&!vo(D)?Ac(St(D)):{}}function $f(D,Z,ce,Ae){var wt=D.constructor;switch(Z){case L:return Rc(D);case d:case f:return new wt(+D);case I:return Ra(D,Ae);case T:case O:case P:case X:case A:case z:case $:case J:case B:return Oc(D,Ae);case y:return Dc(D,Ae,ce);case b:case S:return new wt(D);case _:return bl(D);case E:return zf(D,Ae,ce);case k:return vn(D)}}function qf(D,Z){return Z=Z??a,!!Z&&(typeof D=="number"||le.test(D))&&D>-1&&D%1==0&&D<Z}function yo(D){var Z=typeof D;return Z=="string"||Z=="number"||Z=="symbol"||Z=="boolean"?D!=="__proto__":D===null}function Mc(D){return!!q&&q in D}function vo(D){var Z=D&&D.constructor,ce=typeof Z=="function"&&Z.prototype||kr;return D===ce}function mr(D){if(D!=null){try{return de.call(D)}catch{}try{return D+""}catch{}}return""}function ci(D){return Ta(D,!0,!0)}function Pc(D,Z){return D===Z||D!==D&&Z!==Z}function Vi(D){return oa(D)&&je.call(D,"callee")&&(!sn.call(D,"callee")||Ue.call(D)==l)}var bo=Array.isArray;function Oa(D){return D!=null&&ca(D.length)&&!di(D)}function oa(D){return wl(D)&&Oa(D)}var jo=Pr||_o;function di(D){var Z=Hn(D)?Ue.call(D):"";return Z==p||Z==g}function ca(D){return typeof D=="number"&&D>-1&&D%1==0&&D<=a}function Hn(D){var Z=typeof D;return!!D&&(Z=="object"||Z=="function")}function wl(D){return!!D&&typeof D=="object"}function wo(D){return Oa(D)?li(D):yn(D)}function No(){return[]}function _o(){return!1}t.exports=ci}(em,em.exports)),em.exports}var tm={exports:{}};tm.exports;var SA;function cL(){return SA||(SA=1,function(t,e){var r=200,n="__lodash_hash_undefined__",a=1,l=2,c=9007199254740991,d="[object Arguments]",f="[object Array]",h="[object AsyncFunction]",p="[object Boolean]",g="[object Date]",y="[object Error]",b="[object Function]",j="[object GeneratorFunction]",w="[object Map]",_="[object Number]",E="[object Null]",S="[object Object]",k="[object Promise]",R="[object Proxy]",L="[object RegExp]",I="[object Set]",T="[object String]",O="[object Symbol]",P="[object Undefined]",X="[object WeakMap]",A="[object ArrayBuffer]",z="[object DataView]",$="[object Float32Array]",J="[object Float64Array]",B="[object Int8Array]",M="[object Int16Array]",V="[object Int32Array]",Q="[object Uint8Array]",le="[object Uint8ClampedArray]",H="[object Uint16Array]",K="[object Uint32Array]",Y=/[\\^$.*+?()[\]{}|]/g,se=/^\[object .+?Constructor\]$/,G=/^(?:0|[1-9]\d*)$/,C={};C[$]=C[J]=C[B]=C[M]=C[V]=C[Q]=C[le]=C[H]=C[K]=!0,C[d]=C[f]=C[A]=C[p]=C[z]=C[g]=C[y]=C[b]=C[w]=C[_]=C[S]=C[L]=C[I]=C[T]=C[X]=!1;var U=typeof tc=="object"&&tc&&tc.Object===Object&&tc,ne=typeof self=="object"&&self&&self.Object===Object&&self,me=U||ne||Function("return this")(),ie=e&&!e.nodeType&&e,Ee=ie&&!0&&t&&!t.nodeType&&t,Oe=Ee&&Ee.exports===ie,fe=Oe&&U.process,Ce=function(){try{return fe&&fe.binding&&fe.binding("util")}catch{}}(),pe=Ce&&Ce.isTypedArray;function ze(D,Z){for(var ce=-1,Ae=D==null?0:D.length,wt=0,ft=[];++ce<Ae;){var ss=D[ce];Z(ss,ce,D)&&(ft[wt++]=ss)}return ft}function lt(D,Z){for(var ce=-1,Ae=Z.length,wt=D.length;++ce<Ae;)D[wt+ce]=Z[ce];return D}function Je(D,Z){for(var ce=-1,Ae=D==null?0:D.length;++ce<Ae;)if(Z(D[ce],ce,D))return!0;return!1}function Zt(D,Z){for(var ce=-1,Ae=Array(D);++ce<D;)Ae[ce]=Z(ce);return Ae}function jt(D){return function(Z){return D(Z)}}function kr(D,Z){return D.has(Z)}function dr(D,Z){return D==null?void 0:D[Z]}function q(D){var Z=-1,ce=Array(D.size);return D.forEach(function(Ae,wt){ce[++Z]=[wt,Ae]}),ce}function de(D,Z){return function(ce){return D(Z(ce))}}function je(D){var Z=-1,ce=Array(D.size);return D.forEach(function(Ae){ce[++Z]=Ae}),ce}var Ue=Array.prototype,Le=Function.prototype,ae=Object.prototype,Ie=me["__core-js_shared__"],et=Le.toString,St=ae.hasOwnProperty,Ts=function(){var D=/[^.]+$/.exec(Ie&&Ie.keys&&Ie.keys.IE_PROTO||"");return D?"Symbol(src)_1."+D:""}(),sn=ae.toString,fn=RegExp("^"+et.call(St).replace(Y,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),hn=Oe?me.Buffer:void 0,Pr=me.Symbol,Pn=me.Uint8Array,mn=ae.propertyIsEnumerable,pn=Ue.splice,sr=Pr?Pr.toStringTag:void 0,ri=Object.getOwnPropertySymbols,ni=hn?hn.isBuffer:void 0,xn=de(Object.keys,Object),Ui=oi(me,"DataView"),gt=oi(me,"Map"),Is=oi(me,"Promise"),$s=oi(me,"Set"),rr=oi(me,"WeakMap"),gn=oi(Object,"create"),Xs=mr(Ui),fs=mr(gt),Ws=mr(Is),ms=mr($s),ur=mr(rr),ai=Pr?Pr.prototype:void 0,Ln=ai?ai.valueOf:void 0;function Cr(D){var Z=-1,ce=D==null?0:D.length;for(this.clear();++Z<ce;){var Ae=D[Z];this.set(Ae[0],Ae[1])}}function Fd(){this.__data__=gn?gn(null):{},this.size=0}function yl(D){var Z=this.has(D)&&delete this.__data__[D];return this.size-=Z?1:0,Z}function Cc(D){var Z=this.__data__;if(gn){var ce=Z[D];return ce===n?void 0:ce}return St.call(Z,D)?Z[D]:void 0}function Fi(D){var Z=this.__data__;return gn?Z[D]!==void 0:St.call(Z,D)}function zi(D,Z){var ce=this.__data__;return this.size+=this.has(D)?0:1,ce[D]=gn&&Z===void 0?n:Z,this}Cr.prototype.clear=Fd,Cr.prototype.delete=yl,Cr.prototype.get=Cc,Cr.prototype.has=Fi,Cr.prototype.set=zi;function fr(D){var Z=-1,ce=D==null?0:D.length;for(this.clear();++Z<ce;){var Ae=D[Z];this.set(Ae[0],Ae[1])}}function $i(){this.__data__=[],this.size=0}function hr(D){var Z=this.__data__,ce=vl(Z,D);if(ce<0)return!1;var Ae=Z.length-1;return ce==Ae?Z.pop():pn.call(Z,ce,1),--this.size,!0}function zd(D){var Z=this.__data__,ce=vl(Z,D);return ce<0?void 0:Z[ce][1]}function $d(D){return vl(this.__data__,D)>-1}function ii(D,Z){var ce=this.__data__,Ae=vl(ce,D);return Ae<0?(++this.size,ce.push([D,Z])):ce[Ae][1]=Z,this}fr.prototype.clear=$i,fr.prototype.delete=hr,fr.prototype.get=zd,fr.prototype.has=$d,fr.prototype.set=ii;function vr(D){var Z=-1,ce=D==null?0:D.length;for(this.clear();++Z<ce;){var Ae=D[Z];this.set(Ae[0],Ae[1])}}function If(){this.size=0,this.__data__={hash:new Cr,map:new(gt||fr),string:new Cr}}function qd(D){var Z=Wr(this,D).delete(D);return this.size-=Z?1:0,Z}function Bd(D){return Wr(this,D).get(D)}function Uf(D){return Wr(this,D).has(D)}function go(D,Z){var ce=Wr(this,D),Ae=ce.size;return ce.set(D,Z),this.size+=ce.size==Ae?0:1,this}vr.prototype.clear=If,vr.prototype.delete=qd,vr.prototype.get=Bd,vr.prototype.has=Uf,vr.prototype.set=go;function li(D){var Z=-1,ce=D==null?0:D.length;for(this.__data__=new vr;++Z<ce;)this.add(D[Z])}function qn(D){return this.__data__.set(D,n),this}function qi(D){return this.__data__.has(D)}li.prototype.add=li.prototype.push=qn,li.prototype.has=qi;function la(D){var Z=this.__data__=new fr(D);this.size=Z.size}function Ta(){this.__data__=new fr,this.size=0}function Ac(D){var Z=this.__data__,ce=Z.delete(D);return this.size=Z.size,ce}function Tc(D){return this.__data__.get(D)}function Ff(D){return this.__data__.has(D)}function Hd(D,Z){var ce=this.__data__;if(ce instanceof fr){var Ae=ce.__data__;if(!gt||Ae.length<r-1)return Ae.push([D,Z]),this.size=++ce.size,this;ce=this.__data__=new vr(Ae)}return ce.set(D,Z),this.size=ce.size,this}la.prototype.clear=Ta,la.prototype.delete=Ac,la.prototype.get=Tc,la.prototype.has=Ff,la.prototype.set=Hd;function yn(D,Z){var ce=Vi(D),Ae=!ce&&Pc(D),wt=!ce&&!Ae&&Oa(D),ft=!ce&&!Ae&&!wt&&wl(D),ss=ce||Ae||wt||ft,Kt=ss?Zt(D.length,String):[],qs=Kt.length;for(var is in D)St.call(D,is)&&!(ss&&(is=="length"||wt&&(is=="offset"||is=="parent")||ft&&(is=="buffer"||is=="byteLength"||is=="byteOffset")||$f(is,qs)))&&Kt.push(is);return Kt}function vl(D,Z){for(var ce=D.length;ce--;)if(ci(D[ce][0],Z))return ce;return-1}function Rc(D,Z,ce){var Ae=Z(D);return Vi(D)?Ae:lt(Ae,ce(D))}function Ra(D){return D==null?D===void 0?P:E:sr&&sr in Object(D)?Da(D):vo(D)}function Dc(D){return Hn(D)&&Ra(D)==d}function bl(D,Z,ce,Ae,wt){return D===Z?!0:D==null||Z==null||!Hn(D)&&!Hn(Z)?D!==D&&Z!==Z:zf(D,Z,ce,Ae,bl,wt)}function zf(D,Z,ce,Ae,wt,ft){var ss=Vi(D),Kt=Vi(Z),qs=ss?f:Bn(D),is=Kt?f:Bn(Z);qs=qs==d?S:qs,is=is==d?S:is;var Lr=qs==S,bn=is==S,br=qs==is;if(br&&Oa(D)){if(!Oa(Z))return!1;ss=!0,Lr=!1}if(br&&!Lr)return ft||(ft=new la),ss||wl(D)?jl(D,Z,ce,Ae,wt,ft):Bi(D,Z,qs,ce,Ae,wt,ft);if(!(ce&a)){var Gr=Lr&&St.call(D,"__wrapped__"),jr=bn&&St.call(Z,"__wrapped__");if(Gr||jr){var Yi=Gr?D.value():D,ui=jr?Z.value():Z;return ft||(ft=new la),wt(Yi,ui,ce,Ae,ft)}}return br?(ft||(ft=new la),Yd(D,Z,ce,Ae,wt,ft)):!1}function vn(D){if(!ca(D)||yo(D))return!1;var Z=jo(D)?fn:se;return Z.test(mr(D))}function Oc(D){return Hn(D)&&di(D.length)&&!!C[Ra(D)]}function Vd(D){if(!Mc(D))return xn(D);var Z=[];for(var ce in Object(D))St.call(D,ce)&&ce!="constructor"&&Z.push(ce);return Z}function jl(D,Z,ce,Ae,wt,ft){var ss=ce&a,Kt=D.length,qs=Z.length;if(Kt!=qs&&!(ss&&qs>Kt))return!1;var is=ft.get(D);if(is&&ft.get(Z))return is==Z;var Lr=-1,bn=!0,br=ce&l?new li:void 0;for(ft.set(D,Z),ft.set(Z,D);++Lr<Kt;){var Gr=D[Lr],jr=Z[Lr];if(Ae)var Yi=ss?Ae(jr,Gr,Lr,Z,D,ft):Ae(Gr,jr,Lr,D,Z,ft);if(Yi!==void 0){if(Yi)continue;bn=!1;break}if(br){if(!Je(Z,function(ui,Nl){if(!kr(br,Nl)&&(Gr===ui||wt(Gr,ui,ce,Ae,ft)))return br.push(Nl)})){bn=!1;break}}else if(!(Gr===jr||wt(Gr,jr,ce,Ae,ft))){bn=!1;break}}return ft.delete(D),ft.delete(Z),bn}function Bi(D,Z,ce,Ae,wt,ft,ss){switch(ce){case z:if(D.byteLength!=Z.byteLength||D.byteOffset!=Z.byteOffset)return!1;D=D.buffer,Z=Z.buffer;case A:return!(D.byteLength!=Z.byteLength||!ft(new Pn(D),new Pn(Z)));case p:case g:case _:return ci(+D,+Z);case y:return D.name==Z.name&&D.message==Z.message;case L:case T:return D==Z+"";case w:var Kt=q;case I:var qs=Ae&a;if(Kt||(Kt=je),D.size!=Z.size&&!qs)return!1;var is=ss.get(D);if(is)return is==Z;Ae|=l,ss.set(D,Z);var Lr=jl(Kt(D),Kt(Z),Ae,wt,ft,ss);return ss.delete(D),Lr;case O:if(Ln)return Ln.call(D)==Ln.call(Z)}return!1}function Yd(D,Z,ce,Ae,wt,ft){var ss=ce&a,Kt=Hi(D),qs=Kt.length,is=Hi(Z),Lr=is.length;if(qs!=Lr&&!ss)return!1;for(var bn=qs;bn--;){var br=Kt[bn];if(!(ss?br in Z:St.call(Z,br)))return!1}var Gr=ft.get(D);if(Gr&&ft.get(Z))return Gr==Z;var jr=!0;ft.set(D,Z),ft.set(Z,D);for(var Yi=ss;++bn<qs;){br=Kt[bn];var ui=D[br],Nl=Z[br];if(Ae)var Np=ss?Ae(Nl,ui,br,Z,D,ft):Ae(ui,Nl,br,D,Z,ft);if(!(Np===void 0?ui===Nl||wt(ui,Nl,ce,Ae,ft):Np)){jr=!1;break}Yi||(Yi=br=="constructor")}if(jr&&!Yi){var Gd=D.constructor,Lc=Z.constructor;Gd!=Lc&&"constructor"in D&&"constructor"in Z&&!(typeof Gd=="function"&&Gd instanceof Gd&&typeof Lc=="function"&&Lc instanceof Lc)&&(jr=!1)}return ft.delete(D),ft.delete(Z),jr}function Hi(D){return Rc(D,wo,Wd)}function Wr(D,Z){var ce=D.__data__;return qf(Z)?ce[typeof Z=="string"?"string":"hash"]:ce.map}function oi(D,Z){var ce=dr(D,Z);return vn(ce)?ce:void 0}function Da(D){var Z=St.call(D,sr),ce=D[sr];try{D[sr]=void 0;var Ae=!0}catch{}var wt=sn.call(D);return Ae&&(Z?D[sr]=ce:delete D[sr]),wt}var Wd=ri?function(D){return D==null?[]:(D=Object(D),ze(ri(D),function(Z){return mn.call(D,Z)}))}:No,Bn=Ra;(Ui&&Bn(new Ui(new ArrayBuffer(1)))!=z||gt&&Bn(new gt)!=w||Is&&Bn(Is.resolve())!=k||$s&&Bn(new $s)!=I||rr&&Bn(new rr)!=X)&&(Bn=function(D){var Z=Ra(D),ce=Z==S?D.constructor:void 0,Ae=ce?mr(ce):"";if(Ae)switch(Ae){case Xs:return z;case fs:return w;case Ws:return k;case ms:return I;case ur:return X}return Z});function $f(D,Z){return Z=Z??c,!!Z&&(typeof D=="number"||G.test(D))&&D>-1&&D%1==0&&D<Z}function qf(D){var Z=typeof D;return Z=="string"||Z=="number"||Z=="symbol"||Z=="boolean"?D!=="__proto__":D===null}function yo(D){return!!Ts&&Ts in D}function Mc(D){var Z=D&&D.constructor,ce=typeof Z=="function"&&Z.prototype||ae;return D===ce}function vo(D){return sn.call(D)}function mr(D){if(D!=null){try{return et.call(D)}catch{}try{return D+""}catch{}}return""}function ci(D,Z){return D===Z||D!==D&&Z!==Z}var Pc=Dc(function(){return arguments}())?Dc:function(D){return Hn(D)&&St.call(D,"callee")&&!mn.call(D,"callee")},Vi=Array.isArray;function bo(D){return D!=null&&di(D.length)&&!jo(D)}var Oa=ni||_o;function oa(D,Z){return bl(D,Z)}function jo(D){if(!ca(D))return!1;var Z=Ra(D);return Z==b||Z==j||Z==h||Z==R}function di(D){return typeof D=="number"&&D>-1&&D%1==0&&D<=c}function ca(D){var Z=typeof D;return D!=null&&(Z=="object"||Z=="function")}function Hn(D){return D!=null&&typeof D=="object"}var wl=pe?jt(pe):Oc;function wo(D){return bo(D)?yn(D):Vd(D)}function No(){return[]}function _o(){return!1}t.exports=oa}(tm,tm.exports)),tm.exports}var Yx={},EA;function Dae(){if(EA)return Yx;EA=1,Object.defineProperty(Yx,"__esModule",{value:!0});const t=oL(),e=cL();var r;return function(n){function a(f={},h={},p=!1){typeof f!="object"&&(f={}),typeof h!="object"&&(h={});let g=t(h);p||(g=Object.keys(g).reduce((y,b)=>(g[b]!=null&&(y[b]=g[b]),y),{}));for(const y in f)f[y]!==void 0&&h[y]===void 0&&(g[y]=f[y]);return Object.keys(g).length>0?g:void 0}n.compose=a;function l(f={},h={}){typeof f!="object"&&(f={}),typeof h!="object"&&(h={});const p=Object.keys(f).concat(Object.keys(h)).reduce((g,y)=>(e(f[y],h[y])||(g[y]=h[y]===void 0?null:h[y]),g),{});return Object.keys(p).length>0?p:void 0}n.diff=l;function c(f={},h={}){f=f||{};const p=Object.keys(h).reduce((g,y)=>(h[y]!==f[y]&&f[y]!==void 0&&(g[y]=h[y]),g),{});return Object.keys(f).reduce((g,y)=>(f[y]!==h[y]&&h[y]===void 0&&(g[y]=null),g),p)}n.invert=c;function d(f,h,p=!1){if(typeof f!="object")return h;if(typeof h!="object")return;if(!p)return h;const g=Object.keys(h).reduce((y,b)=>(f[b]===void 0&&(y[b]=h[b]),y),{});return Object.keys(g).length>0?g:void 0}n.transform=d}(r||(r={})),Yx.default=r,Yx}var Wx={},kA;function dL(){if(kA)return Wx;kA=1,Object.defineProperty(Wx,"__esModule",{value:!0});var t;return function(e){function r(n){return typeof n.delete=="number"?n.delete:typeof n.retain=="number"?n.retain:typeof n.retain=="object"&&n.retain!==null?1:typeof n.insert=="string"?n.insert.length:1}e.length=r}(t||(t={})),Wx.default=t,Wx}var Gx={},CA;function Oae(){if(CA)return Gx;CA=1,Object.defineProperty(Gx,"__esModule",{value:!0});const t=dL();class e{constructor(n){this.ops=n,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(n){n||(n=1/0);const a=this.ops[this.index];if(a){const l=this.offset,c=t.default.length(a);if(n>=c-l?(n=c-l,this.index+=1,this.offset=0):this.offset+=n,typeof a.delete=="number")return{delete:n};{const d={};return a.attributes&&(d.attributes=a.attributes),typeof a.retain=="number"?d.retain=n:typeof a.retain=="object"&&a.retain!==null?d.retain=a.retain:typeof a.insert=="string"?d.insert=a.insert.substr(l,n):d.insert=a.insert,d}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?t.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const n=this.ops[this.index];return n?typeof n.delete=="number"?"delete":typeof n.retain=="number"||typeof n.retain=="object"&&n.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const n=this.offset,a=this.index,l=this.next(),c=this.ops.slice(this.index);return this.offset=n,this.index=a,[l].concat(c)}}else return[]}}return Gx.default=e,Gx}var AA;function Mae(){return AA||(AA=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.AttributeMap=e.OpIterator=e.Op=void 0;const r=Rae(),n=oL(),a=cL(),l=Dae();e.AttributeMap=l.default;const c=dL();e.Op=c.default;const d=Oae();e.OpIterator=d.default;const f="\0",h=(g,y)=>{if(typeof g!="object"||g===null)throw new Error(`cannot retain a ${typeof g}`);if(typeof y!="object"||y===null)throw new Error(`cannot retain a ${typeof y}`);const b=Object.keys(g)[0];if(!b||b!==Object.keys(y)[0])throw new Error(`embed types not matched: ${b} != ${Object.keys(y)[0]}`);return[b,g[b],y[b]]};class p{constructor(y){Array.isArray(y)?this.ops=y:y!=null&&Array.isArray(y.ops)?this.ops=y.ops:this.ops=[]}static registerEmbed(y,b){this.handlers[y]=b}static unregisterEmbed(y){delete this.handlers[y]}static getHandler(y){const b=this.handlers[y];if(!b)throw new Error(`no handlers for embed type "${y}"`);return b}insert(y,b){const j={};return typeof y=="string"&&y.length===0?this:(j.insert=y,b!=null&&typeof b=="object"&&Object.keys(b).length>0&&(j.attributes=b),this.push(j))}delete(y){return y<=0?this:this.push({delete:y})}retain(y,b){if(typeof y=="number"&&y<=0)return this;const j={retain:y};return b!=null&&typeof b=="object"&&Object.keys(b).length>0&&(j.attributes=b),this.push(j)}push(y){let b=this.ops.length,j=this.ops[b-1];if(y=n(y),typeof j=="object"){if(typeof y.delete=="number"&&typeof j.delete=="number")return this.ops[b-1]={delete:j.delete+y.delete},this;if(typeof j.delete=="number"&&y.insert!=null&&(b-=1,j=this.ops[b-1],typeof j!="object"))return this.ops.unshift(y),this;if(a(y.attributes,j.attributes)){if(typeof y.insert=="string"&&typeof j.insert=="string")return this.ops[b-1]={insert:j.insert+y.insert},typeof y.attributes=="object"&&(this.ops[b-1].attributes=y.attributes),this;if(typeof y.retain=="number"&&typeof j.retain=="number")return this.ops[b-1]={retain:j.retain+y.retain},typeof y.attributes=="object"&&(this.ops[b-1].attributes=y.attributes),this}}return b===this.ops.length?this.ops.push(y):this.ops.splice(b,0,y),this}chop(){const y=this.ops[this.ops.length-1];return y&&typeof y.retain=="number"&&!y.attributes&&this.ops.pop(),this}filter(y){return this.ops.filter(y)}forEach(y){this.ops.forEach(y)}map(y){return this.ops.map(y)}partition(y){const b=[],j=[];return this.forEach(w=>{(y(w)?b:j).push(w)}),[b,j]}reduce(y,b){return this.ops.reduce(y,b)}changeLength(){return this.reduce((y,b)=>b.insert?y+c.default.length(b):b.delete?y-b.delete:y,0)}length(){return this.reduce((y,b)=>y+c.default.length(b),0)}slice(y=0,b=1/0){const j=[],w=new d.default(this.ops);let _=0;for(;_<b&&w.hasNext();){let E;_<y?E=w.next(y-_):(E=w.next(b-_),j.push(E)),_+=c.default.length(E)}return new p(j)}compose(y){const b=new d.default(this.ops),j=new d.default(y.ops),w=[],_=j.peek();if(_!=null&&typeof _.retain=="number"&&_.attributes==null){let S=_.retain;for(;b.peekType()==="insert"&&b.peekLength()<=S;)S-=b.peekLength(),w.push(b.next());_.retain-S>0&&j.next(_.retain-S)}const E=new p(w);for(;b.hasNext()||j.hasNext();)if(j.peekType()==="insert")E.push(j.next());else if(b.peekType()==="delete")E.push(b.next());else{const S=Math.min(b.peekLength(),j.peekLength()),k=b.next(S),R=j.next(S);if(R.retain){const L={};if(typeof k.retain=="number")L.retain=typeof R.retain=="number"?S:R.retain;else if(typeof R.retain=="number")k.retain==null?L.insert=k.insert:L.retain=k.retain;else{const T=k.retain==null?"insert":"retain",[O,P,X]=h(k[T],R.retain),A=p.getHandler(O);L[T]={[O]:A.compose(P,X,T==="retain")}}const I=l.default.compose(k.attributes,R.attributes,typeof k.retain=="number");if(I&&(L.attributes=I),E.push(L),!j.hasNext()&&a(E.ops[E.ops.length-1],L)){const T=new p(b.rest());return E.concat(T).chop()}}else typeof R.delete=="number"&&(typeof k.retain=="number"||typeof k.retain=="object"&&k.retain!==null)&&E.push(R)}return E.chop()}concat(y){const b=new p(this.ops.slice());return y.ops.length>0&&(b.push(y.ops[0]),b.ops=b.ops.concat(y.ops.slice(1))),b}diff(y,b){if(this.ops===y.ops)return new p;const j=[this,y].map(k=>k.map(R=>{if(R.insert!=null)return typeof R.insert=="string"?R.insert:f;const L=k===y?"on":"with";throw new Error("diff() called "+L+" non-document")}).join("")),w=new p,_=r(j[0],j[1],b,!0),E=new d.default(this.ops),S=new d.default(y.ops);return _.forEach(k=>{let R=k[1].length;for(;R>0;){let L=0;switch(k[0]){case r.INSERT:L=Math.min(S.peekLength(),R),w.push(S.next(L));break;case r.DELETE:L=Math.min(R,E.peekLength()),E.next(L),w.delete(L);break;case r.EQUAL:L=Math.min(E.peekLength(),S.peekLength(),R);const I=E.next(L),T=S.next(L);a(I.insert,T.insert)?w.retain(L,l.default.diff(I.attributes,T.attributes)):w.push(T).delete(L);break}R-=L}}),w.chop()}eachLine(y,b=`
`){const j=new d.default(this.ops);let w=new p,_=0;for(;j.hasNext();){if(j.peekType()!=="insert")return;const E=j.peek(),S=c.default.length(E)-j.peekLength(),k=typeof E.insert=="string"?E.insert.indexOf(b,S)-S:-1;if(k<0)w.push(j.next());else if(k>0)w.push(j.next(k));else{if(y(w,j.next(1).attributes||{},_)===!1)return;_+=1,w=new p}}w.length()>0&&y(w,{},_)}invert(y){const b=new p;return this.reduce((j,w)=>{if(w.insert)b.delete(c.default.length(w));else{if(typeof w.retain=="number"&&w.attributes==null)return b.retain(w.retain),j+w.retain;if(w.delete||typeof w.retain=="number"){const _=w.delete||w.retain;return y.slice(j,j+_).forEach(S=>{w.delete?b.push(S):w.retain&&w.attributes&&b.retain(c.default.length(S),l.default.invert(w.attributes,S.attributes))}),j+_}else if(typeof w.retain=="object"&&w.retain!==null){const _=y.slice(j,j+1),E=new d.default(_.ops).next(),[S,k,R]=h(w.retain,E.insert),L=p.getHandler(S);return b.retain({[S]:L.invert(k,R)},l.default.invert(w.attributes,E.attributes)),j+1}}return j},0),b.chop()}transform(y,b=!1){if(b=!!b,typeof y=="number")return this.transformPosition(y,b);const j=y,w=new d.default(this.ops),_=new d.default(j.ops),E=new p;for(;w.hasNext()||_.hasNext();)if(w.peekType()==="insert"&&(b||_.peekType()!=="insert"))E.retain(c.default.length(w.next()));else if(_.peekType()==="insert")E.push(_.next());else{const S=Math.min(w.peekLength(),_.peekLength()),k=w.next(S),R=_.next(S);if(k.delete)continue;if(R.delete)E.push(R);else{const L=k.retain,I=R.retain;let T=typeof I=="object"&&I!==null?I:S;if(typeof L=="object"&&L!==null&&typeof I=="object"&&I!==null){const O=Object.keys(L)[0];if(O===Object.keys(I)[0]){const P=p.getHandler(O);P&&(T={[O]:P.transform(L[O],I[O],b)})}}E.retain(T,l.default.transform(k.attributes,R.attributes,b))}}return E.chop()}transformPosition(y,b=!1){b=!!b;const j=new d.default(this.ops);let w=0;for(;j.hasNext()&&w<=y;){const _=j.peekLength(),E=j.peekType();if(j.next(),E==="delete"){y-=Math.min(_,y-w);continue}else E==="insert"&&(w<y||!b)&&(y+=_);w+=_}return y}}p.Op=c.default,p.OpIterator=d.default,p.AttributeMap=l.default,p.handlers={},e.default=p,t.exports=p,t.exports.default=p}(Vx,Vx.exports)),Vx.exports}var Za=Mae();const it=bc(Za);class Li extends Aa{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}Li.blotName="break";Li.tagName="BR";let Ai=class extends my{};const Pae={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Sv(t){return t.replace(/[&<>"']/g,e=>Pae[e])}const el=class el extends Z1{static compare(e,r){const n=el.order.indexOf(e),a=el.order.indexOf(r);return n>=0||a>=0?n-a:e===r?0:e<r?-1:1}formatAt(e,r,n,a){if(el.compare(this.statics.blotName,n)<0&&this.scroll.query(n,ut.BLOT)){const l=this.isolate(e,r);a&&l.wrap(n,a)}else super.formatAt(e,r,n,a)}optimize(e){if(super.optimize(e),this.parent instanceof el&&el.compare(this.statics.blotName,this.parent.statics.blotName)>0){const r=this.parent.isolate(this.offset(),this.length());this.moveChildren(r),r.wrap(this)}}};qe(el,"allowedChildren",[el,Li,Aa,Ai]),qe(el,"order",["cursor","inline","link","underline","strike","italic","bold","script","code"]);let hl=el;const TA=1;class cn extends Bm{constructor(){super(...arguments);qe(this,"cache",{})}delta(){return this.cache.delta==null&&(this.cache.delta=uL(this)),this.cache.delta}deleteAt(r,n){super.deleteAt(r,n),this.cache={}}formatAt(r,n,a,l){n<=0||(this.scroll.query(a,ut.BLOCK)?r+n===this.length()&&this.format(a,l):super.formatAt(r,Math.min(n,this.length()-r-1),a,l),this.cache={})}insertAt(r,n,a){if(a!=null){super.insertAt(r,n,a),this.cache={};return}if(n.length===0)return;const l=n.split(`
`),c=l.shift();c.length>0&&(r<this.length()-1||this.children.tail==null?super.insertAt(Math.min(r,this.length()-1),c):this.children.tail.insertAt(this.children.tail.length(),c),this.cache={});let d=this;l.reduce((f,h)=>(d=d.split(f,!0),d.insertAt(0,h),h.length),r+c.length)}insertBefore(r,n){const{head:a}=this.children;super.insertBefore(r,n),a instanceof Li&&a.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+TA),this.cache.length}moveChildren(r,n){super.moveChildren(r,n),this.cache={}}optimize(r){super.optimize(r),this.cache={}}path(r){return super.path(r,!0)}removeChild(r){super.removeChild(r),this.cache={}}split(r){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n&&(r===0||r>=this.length()-TA)){const l=this.clone();return r===0?(this.parent.insertBefore(l,this),this):(this.parent.insertBefore(l,this.next),l)}const a=super.split(r,n);return this.cache={},a}}cn.blotName="block";cn.tagName="P";cn.defaultChild=Li;cn.allowedChildren=[Li,hl,Aa,Ai];class Ya extends Aa{attach(){super.attach(),this.attributes=new Nv(this.domNode)}delta(){return new it().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(e,r){const n=this.scroll.query(e,ut.BLOCK_ATTRIBUTE);n!=null&&this.attributes.attribute(n,r)}formatAt(e,r,n,a){this.format(n,a)}insertAt(e,r,n){if(n!=null){super.insertAt(e,r,n);return}const a=r.split(`
`),l=a.pop(),c=a.map(f=>{const h=this.scroll.create(cn.blotName);return h.insertAt(0,f),h}),d=this.split(e);c.forEach(f=>{this.parent.insertBefore(f,d)}),l&&this.parent.insertBefore(this.scroll.create("text",l),d)}}Ya.scope=ut.BLOCK_BLOT;function uL(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.descendants(kn).reduce((r,n)=>n.length()===0?r:r.insert(n.value(),Ba(n,{},e)),new it).insert(`
`,Ba(t))}function Ba(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return t==null||("formats"in t&&typeof t.formats=="function"&&(e={...e,...t.formats()},r&&delete e["code-token"]),t.parent==null||t.parent.statics.blotName==="scroll"||t.parent.statics.scope!==t.statics.scope)?e:Ba(t.parent,e,r)}const $a=class $a extends Aa{static value(){}constructor(e,r,n){super(e,r),this.selection=n,this.textNode=document.createTextNode($a.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(e,r){if(this.savedLength!==0){super.format(e,r);return}let n=this,a=0;for(;n!=null&&n.statics.scope!==ut.BLOCK_BLOT;)a+=n.offset(n.parent),n=n.parent;n!=null&&(this.savedLength=$a.CONTENTS.length,n.optimize(),n.formatAt(a,$a.CONTENTS.length,e,r),this.savedLength=0)}index(e,r){return e===this.textNode?0:super.index(e,r)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const e=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const r=this.prev instanceof Ai?this.prev:null,n=r?r.length():0,a=this.next instanceof Ai?this.next:null,l=a?a.text:"",{textNode:c}=this,d=c.data.split($a.CONTENTS).join("");c.data=$a.CONTENTS;let f;if(r)f=r,(d||a)&&(r.insertAt(r.length(),d+l),a&&a.remove());else if(a)f=a,a.insertAt(0,d);else{const h=document.createTextNode(d);f=this.scroll.create(h),this.parent.insertBefore(f,this)}if(this.remove(),e){const h=(y,b)=>r&&y===r.domNode?b:y===c?n+b-1:a&&y===a.domNode?n+d.length+b:null,p=h(e.start.node,e.start.offset),g=h(e.end.node,e.end.offset);if(p!==null&&g!==null)return{startNode:f.domNode,startOffset:p,endNode:f.domNode,endOffset:g}}return null}update(e,r){if(e.some(n=>n.type==="characterData"&&n.target===this.textNode)){const n=this.restore();n&&(r.range=n)}}optimize(e){super.optimize(e);let{parent:r}=this;for(;r;){if(r.domNode.tagName==="A"){this.savedLength=$a.CONTENTS.length,r.isolate(this.offset(r),this.length()).unwrap(),this.savedLength=0;break}r=r.parent}}value(){return""}};qe($a,"blotName","cursor"),qe($a,"className","ql-cursor"),qe($a,"tagName","span"),qe($a,"CONTENTS","\uFEFF");let xf=$a;var R0={exports:{}},RA;function Lae(){return RA||(RA=1,function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(f,h,p){this.fn=f,this.context=h,this.once=p||!1}function l(f,h,p,g,y){if(typeof p!="function")throw new TypeError("The listener must be a function");var b=new a(p,g||f,y),j=r?r+h:h;return f._events[j]?f._events[j].fn?f._events[j]=[f._events[j],b]:f._events[j].push(b):(f._events[j]=b,f._eventsCount++),f}function c(f,h){--f._eventsCount===0?f._events=new n:delete f._events[h]}function d(){this._events=new n,this._eventsCount=0}d.prototype.eventNames=function(){var h=[],p,g;if(this._eventsCount===0)return h;for(g in p=this._events)e.call(p,g)&&h.push(r?g.slice(1):g);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},d.prototype.listeners=function(h){var p=r?r+h:h,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var y=0,b=g.length,j=new Array(b);y<b;y++)j[y]=g[y].fn;return j},d.prototype.listenerCount=function(h){var p=r?r+h:h,g=this._events[p];return g?g.fn?1:g.length:0},d.prototype.emit=function(h,p,g,y,b,j){var w=r?r+h:h;if(!this._events[w])return!1;var _=this._events[w],E=arguments.length,S,k;if(_.fn){switch(_.once&&this.removeListener(h,_.fn,void 0,!0),E){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,p),!0;case 3:return _.fn.call(_.context,p,g),!0;case 4:return _.fn.call(_.context,p,g,y),!0;case 5:return _.fn.call(_.context,p,g,y,b),!0;case 6:return _.fn.call(_.context,p,g,y,b,j),!0}for(k=1,S=new Array(E-1);k<E;k++)S[k-1]=arguments[k];_.fn.apply(_.context,S)}else{var R=_.length,L;for(k=0;k<R;k++)switch(_[k].once&&this.removeListener(h,_[k].fn,void 0,!0),E){case 1:_[k].fn.call(_[k].context);break;case 2:_[k].fn.call(_[k].context,p);break;case 3:_[k].fn.call(_[k].context,p,g);break;case 4:_[k].fn.call(_[k].context,p,g,y);break;default:if(!S)for(L=1,S=new Array(E-1);L<E;L++)S[L-1]=arguments[L];_[k].fn.apply(_[k].context,S)}}return!0},d.prototype.on=function(h,p,g){return l(this,h,p,g,!1)},d.prototype.once=function(h,p,g){return l(this,h,p,g,!0)},d.prototype.removeListener=function(h,p,g,y){var b=r?r+h:h;if(!this._events[b])return this;if(!p)return c(this,b),this;var j=this._events[b];if(j.fn)j.fn===p&&(!y||j.once)&&(!g||j.context===g)&&c(this,b);else{for(var w=0,_=[],E=j.length;w<E;w++)(j[w].fn!==p||y&&!j[w].once||g&&j[w].context!==g)&&_.push(j[w]);_.length?this._events[b]=_.length===1?_[0]:_:c(this,b)}return this},d.prototype.removeAllListeners=function(h){var p;return h?(p=r?r+h:h,this._events[p]&&c(this,p)):(this._events=new n,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=r,d.EventEmitter=d,t.exports=d}(R0)),R0.exports}var Iae=Lae();const Uae=bc(Iae),Xw=new WeakMap,Qw=["error","warn","log","info"];let Jw="warn";function fL(t){if(Jw&&Qw.indexOf(t)<=Qw.indexOf(Jw)){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];console[t](...r)}}function ho(t){return Qw.reduce((e,r)=>(e[r]=fL.bind(console,r,t),e),{})}ho.level=t=>{Jw=t};fL.level=ho.level;const D0=ho("quill:events"),Fae=["selectionchange","mousedown","mouseup","click"];Fae.forEach(t=>{document.addEventListener(t,function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];Array.from(document.querySelectorAll(".ql-container")).forEach(a=>{const l=Xw.get(a);l&&l.emitter&&l.emitter.handleDOM(...r)})})});class tt extends Uae{constructor(){super(),this.domListeners={},this.on("error",D0.error)}emit(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return D0.log.call(D0,...r),super.emit(...r)}handleDOM(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];(this.domListeners[e.type]||[]).forEach(l=>{let{node:c,handler:d}=l;(e.target===c||c.contains(e.target))&&d(e,...n)})}listenDOM(e,r,n){this.domListeners[e]||(this.domListeners[e]=[]),this.domListeners[e].push({node:r,handler:n})}}qe(tt,"events",{EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"}),qe(tt,"sources",{API:"api",SILENT:"silent",USER:"user"});const O0=ho("quill:selection");class Ed{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=e,this.length=r}}class zae{constructor(e,r){this.emitter=r,this.scroll=e,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new Ed(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,tt.sources.USER),1)}),this.emitter.on(tt.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const n=this.getNativeRange();n!=null&&n.start.node!==this.cursor.textNode&&this.emitter.once(tt.events.SCROLL_UPDATE,(a,l)=>{try{this.root.contains(n.start.node)&&this.root.contains(n.end.node)&&this.setNativeRange(n.start.node,n.start.offset,n.end.node,n.end.offset);const c=l.some(d=>d.type==="characterData"||d.type==="childList"||d.type==="attributes"&&d.target===this.root);this.update(c?tt.sources.SILENT:a)}catch{}})}),this.emitter.on(tt.events.SCROLL_OPTIMIZE,(n,a)=>{if(a.range){const{startNode:l,startOffset:c,endNode:d,endOffset:f}=a.range;this.setNativeRange(l,c,d,f),this.update(tt.sources.SILENT)}}),this.update(tt.sources.SILENT)}handleComposition(){this.emitter.on(tt.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(tt.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const e=this.cursor.restore();if(!e)return;setTimeout(()=>{this.setNativeRange(e.startNode,e.startOffset,e.endNode,e.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(tt.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(e,r){this.scroll.update();const n=this.getNativeRange();if(!(n==null||!n.native.collapsed||this.scroll.query(e,ut.BLOCK))){if(n.start.node!==this.cursor.textNode){const a=this.scroll.find(n.start.node,!1);if(a==null)return;if(a instanceof kn){const l=a.split(n.start.offset);a.parent.insertBefore(this.cursor,l)}else a.insertBefore(this.cursor,n.start.node);this.cursor.attach()}this.cursor.format(e,r),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const n=this.scroll.length();e=Math.min(e,n-1),r=Math.min(e+r,n-1)-e;let a,[l,c]=this.scroll.leaf(e);if(l==null)return null;if(r>0&&c===l.length()){const[p]=this.scroll.leaf(e+1);if(p){const[g]=this.scroll.line(e),[y]=this.scroll.line(e+1);g===y&&(l=p,c=0)}}[a,c]=l.position(c,!0);const d=document.createRange();if(r>0)return d.setStart(a,c),[l,c]=this.scroll.leaf(e+r),l==null?null:([a,c]=l.position(c,!0),d.setEnd(a,c),d.getBoundingClientRect());let f="left",h;if(a instanceof Text){if(!a.data.length)return null;c<a.data.length?(d.setStart(a,c),d.setEnd(a,c+1)):(d.setStart(a,c-1),d.setEnd(a,c),f="right"),h=d.getBoundingClientRect()}else{if(!(l.domNode instanceof Element))return null;h=l.domNode.getBoundingClientRect(),c>0&&(f="right")}return{bottom:h.top+h.height,height:h.height,left:h[f],right:h[f],top:h.top,width:0}}getNativeRange(){const e=document.getSelection();if(e==null||e.rangeCount<=0)return null;const r=e.getRangeAt(0);if(r==null)return null;const n=this.normalizeNative(r);return O0.info("getNativeRange",n),n}getRange(){const e=this.scroll.domNode;if("isConnected"in e&&!e.isConnected)return[null,null];const r=this.getNativeRange();return r==null?[null,null]:[this.normalizedToRange(r),r]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&M0(this.root,document.activeElement)}normalizedToRange(e){const r=[[e.start.node,e.start.offset]];e.native.collapsed||r.push([e.end.node,e.end.offset]);const n=r.map(c=>{const[d,f]=c,h=this.scroll.find(d,!0),p=h.offset(this.scroll);return f===0?p:h instanceof kn?p+h.index(d,f):p+h.length()}),a=Math.min(Math.max(...n),this.scroll.length()-1),l=Math.min(a,...n);return new Ed(l,a-l)}normalizeNative(e){if(!M0(this.root,e.startContainer)||!e.collapsed&&!M0(this.root,e.endContainer))return null;const r={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[r.start,r.end].forEach(n=>{let{node:a,offset:l}=n;for(;!(a instanceof Text)&&a.childNodes.length>0;)if(a.childNodes.length>l)a=a.childNodes[l],l=0;else if(a.childNodes.length===l)a=a.lastChild,a instanceof Text?l=a.data.length:a.childNodes.length>0?l=a.childNodes.length:l=a.childNodes.length+1;else break;n.node=a,n.offset=l}),r}rangeToNative(e){const r=this.scroll.length(),n=(a,l)=>{a=Math.min(r-1,a);const[c,d]=this.scroll.leaf(a);return c?c.position(d,l):[null,-1]};return[...n(e.index,!1),...n(e.index+e.length,!0)]}setNativeRange(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:r,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(O0.info("setNativeRange",e,r,n,a),e!=null&&(this.root.parentNode==null||e.parentNode==null||n.parentNode==null))return;const c=document.getSelection();if(c!=null)if(e!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:d}=this.getNativeRange()||{};if(d==null||l||e!==d.startContainer||r!==d.startOffset||n!==d.endContainer||a!==d.endOffset){e instanceof Element&&e.tagName==="BR"&&(r=Array.from(e.parentNode.childNodes).indexOf(e),e=e.parentNode),n instanceof Element&&n.tagName==="BR"&&(a=Array.from(n.parentNode.childNodes).indexOf(n),n=n.parentNode);const f=document.createRange();f.setStart(e,r),f.setEnd(n,a),c.removeAllRanges(),c.addRange(f)}}else c.removeAllRanges(),this.root.blur()}setRange(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:tt.sources.API;if(typeof r=="string"&&(n=r,r=!1),O0.info("setRange",e),e!=null){const a=this.rangeToNative(e);this.setNativeRange(...a,r)}else this.setNativeRange(null);this.update(n)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:tt.sources.USER;const r=this.lastRange,[n,a]=this.getRange();if(this.lastRange=n,this.lastNative=a,this.lastRange!=null&&(this.savedRange=this.lastRange),!Jo(r,this.lastRange)){if(!this.composing&&a!=null&&a.native.collapsed&&a.start.node!==this.cursor.textNode){const c=this.cursor.restore();c&&this.setNativeRange(c.startNode,c.startOffset,c.endNode,c.endOffset)}const l=[tt.events.SELECTION_CHANGE,Ju(this.lastRange),Ju(r),e];this.emitter.emit(tt.events.EDITOR_CHANGE,...l),e!==tt.sources.SILENT&&this.emitter.emit(...l)}}}function M0(t,e){try{e.parentNode}catch{return!1}return t.contains(e)}const $ae=/^[ -~]*$/;class qae{constructor(e){this.scroll=e,this.delta=this.getDelta()}applyDelta(e){this.scroll.update();let r=this.scroll.length();this.scroll.batchStart();const n=DA(e),a=new it;return Hae(n.ops.slice()).reduce((c,d)=>{const f=Za.Op.length(d);let h=d.attributes||{},p=!1,g=!1;if(d.insert!=null){if(a.retain(f),typeof d.insert=="string"){const j=d.insert;g=!j.endsWith(`
`)&&(r<=c||!!this.scroll.descendant(Ya,c)[0]),this.scroll.insertAt(c,j);const[w,_]=this.scroll.line(c);let E=ac({},Ba(w));if(w instanceof cn){const[S]=w.descendant(kn,_);S&&(E=ac(E,Ba(S)))}h=Za.AttributeMap.diff(E,h)||{}}else if(typeof d.insert=="object"){const j=Object.keys(d.insert)[0];if(j==null)return c;const w=this.scroll.query(j,ut.INLINE)!=null;if(w)(r<=c||this.scroll.descendant(Ya,c)[0])&&(g=!0);else if(c>0){const[_,E]=this.scroll.descendant(kn,c-1);_ instanceof Ai?_.value()[E]!==`
`&&(p=!0):_ instanceof Aa&&_.statics.scope===ut.INLINE_BLOT&&(p=!0)}if(this.scroll.insertAt(c,j,d.insert[j]),w){const[_]=this.scroll.descendant(kn,c);if(_){const E=ac({},Ba(_));h=Za.AttributeMap.diff(E,h)||{}}}}r+=f}else if(a.push(d),d.retain!==null&&typeof d.retain=="object"){const j=Object.keys(d.retain)[0];if(j==null)return c;this.scroll.updateEmbedAt(c,j,d.retain[j])}Object.keys(h).forEach(j=>{this.scroll.formatAt(c,f,j,h[j])});const y=p?1:0,b=g?1:0;return r+=y+b,a.retain(y),a.delete(b),c+f+y+b},0),a.reduce((c,d)=>typeof d.delete=="number"?(this.scroll.deleteAt(c,d.delete),c):c+Za.Op.length(d),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(n)}deleteText(e,r){return this.scroll.deleteAt(e,r),this.update(new it().retain(e).delete(r))}formatLine(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(n).forEach(l=>{this.scroll.lines(e,Math.max(r,1)).forEach(c=>{c.format(l,n[l])})}),this.scroll.optimize();const a=new it().retain(e).retain(r,Ju(n));return this.update(a)}formatText(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(n).forEach(l=>{this.scroll.formatAt(e,r,l,n[l])});const a=new it().retain(e).retain(r,Ju(n));return this.update(a)}getContents(e,r){return this.delta.slice(e,e+r)}getDelta(){return this.scroll.lines().reduce((e,r)=>e.concat(r.delta()),new it)}getFormat(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=[],a=[];r===0?this.scroll.path(e).forEach(d=>{const[f]=d;f instanceof cn?n.push(f):f instanceof kn&&a.push(f)}):(n=this.scroll.lines(e,r),a=this.scroll.descendants(kn,e,r));const[l,c]=[n,a].map(d=>{const f=d.shift();if(f==null)return{};let h=Ba(f);for(;Object.keys(h).length>0;){const p=d.shift();if(p==null)return h;h=Bae(Ba(p),h)}return h});return{...l,...c}}getHTML(e,r){const[n,a]=this.scroll.line(e);if(n){const l=n.length();return n.length()>=a+r&&!(a===0&&r===l)?Hm(n,a,r,!0):Hm(this.scroll,e,r,!0)}return""}getText(e,r){return this.getContents(e,r).filter(n=>typeof n.insert=="string").map(n=>n.insert).join("")}insertContents(e,r){const n=DA(r),a=new it().retain(e).concat(n);return this.scroll.insertContents(e,n),this.update(a)}insertEmbed(e,r,n){return this.scroll.insertAt(e,r,n),this.update(new it().retain(e).insert({[r]:n}))}insertText(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return r=r.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(e,r),Object.keys(n).forEach(a=>{this.scroll.formatAt(e,r.length,a,n[a])}),this.update(new it().retain(e).insert(r,Ju(n)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const e=this.scroll.children.head;if((e==null?void 0:e.statics.blotName)!==cn.blotName)return!1;const r=e;return r.children.length>1?!1:r.children.head instanceof Li}removeFormat(e,r){const n=this.getText(e,r),[a,l]=this.scroll.line(e+r);let c=0,d=new it;a!=null&&(c=a.length()-l,d=a.delta().slice(l,l+c-1).insert(`
`));const h=this.getContents(e,r+c).diff(new it().insert(n).concat(d)),p=new it().retain(e).concat(h);return this.applyDelta(p)}update(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const a=this.delta;if(r.length===1&&r[0].type==="characterData"&&r[0].target.data.match($ae)&&this.scroll.find(r[0].target)){const l=this.scroll.find(r[0].target),c=Ba(l),d=l.offset(this.scroll),f=r[0].oldValue.replace(xf.CONTENTS,""),h=new it().insert(f),p=new it().insert(l.value()),g=n&&{oldRange:OA(n.oldRange,-d),newRange:OA(n.newRange,-d)};e=new it().retain(d).concat(h.diff(p,g)).reduce((b,j)=>j.insert?b.insert(j.insert,c):b.push(j),new it),this.delta=a.compose(e)}else this.delta=this.getDelta(),(!e||!Jo(a.compose(e),this.delta))&&(e=a.diff(this.delta,n));return e}}function $u(t,e,r){if(t.length===0){const[b]=P0(r.pop());return e<=0?`</li></${b}>`:`</li></${b}>${$u([],e-1,r)}`}const[{child:n,offset:a,length:l,indent:c,type:d},...f]=t,[h,p]=P0(d);if(c>e)return r.push(d),c===e+1?`<${h}><li${p}>${Hm(n,a,l)}${$u(f,c,r)}`:`<${h}><li>${$u(t,e+1,r)}`;const g=r[r.length-1];if(c===e&&d===g)return`</li><li${p}>${Hm(n,a,l)}${$u(f,c,r)}`;const[y]=P0(r.pop());return`</li></${y}>${$u(t,e-1,r)}`}function Hm(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in t&&typeof t.html=="function")return t.html(e,r);if(t instanceof Ai)return Sv(t.value().slice(e,e+r)).replaceAll(" ","&nbsp;");if(t instanceof Si){if(t.statics.blotName==="list-container"){const h=[];return t.children.forEachAt(e,r,(p,g,y)=>{const b="formats"in p&&typeof p.formats=="function"?p.formats():{};h.push({child:p,offset:g,length:y,indent:b.indent||0,type:b.list})}),$u(h,-1,[])}const a=[];if(t.children.forEachAt(e,r,(h,p,g)=>{a.push(Hm(h,p,g))}),n||t.statics.blotName==="list")return a.join("");const{outerHTML:l,innerHTML:c}=t.domNode,[d,f]=l.split(`>${c}<`);return d==="<table"?`<table style="border: 1px solid #000;">${a.join("")}<${f}`:`${d}>${a.join("")}<${f}`}return t.domNode instanceof Element?t.domNode.outerHTML:""}function Bae(t,e){return Object.keys(e).reduce((r,n)=>{if(t[n]==null)return r;const a=e[n];return a===t[n]?r[n]=a:Array.isArray(a)?a.indexOf(t[n])<0?r[n]=a.concat([t[n]]):r[n]=a:r[n]=[a,t[n]],r},{})}function P0(t){const e=t==="ordered"?"ol":"ul";switch(t){case"checked":return[e,' data-list="checked"'];case"unchecked":return[e,' data-list="unchecked"'];default:return[e,""]}}function DA(t){return t.reduce((e,r)=>{if(typeof r.insert=="string"){const n=r.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return e.insert(n,r.attributes)}return e.push(r)},new it)}function OA(t,e){let{index:r,length:n}=t;return new Ed(r+e,n)}function Hae(t){const e=[];return t.forEach(r=>{typeof r.insert=="string"?r.insert.split(`
`).forEach((a,l)=>{l&&e.push({insert:`
`,attributes:r.attributes}),a&&e.push({insert:a,attributes:r.attributes})}):e.push(r)}),e}class Ii{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=e,this.options=r}}qe(Ii,"DEFAULTS",{});const Zx="\uFEFF";class X1 extends Aa{constructor(e,r){super(e,r),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(n=>{this.contentNode.appendChild(n)}),this.leftGuard=document.createTextNode(Zx),this.rightGuard=document.createTextNode(Zx),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(e,r){return e===this.leftGuard?0:e===this.rightGuard?1:super.index(e,r)}restore(e){let r=null,n;const a=e.data.split(Zx).join("");if(e===this.leftGuard)if(this.prev instanceof Ai){const l=this.prev.length();this.prev.insertAt(l,a),r={startNode:this.prev.domNode,startOffset:l+a.length}}else n=document.createTextNode(a),this.parent.insertBefore(this.scroll.create(n),this),r={startNode:n,startOffset:a.length};else e===this.rightGuard&&(this.next instanceof Ai?(this.next.insertAt(0,a),r={startNode:this.next.domNode,startOffset:a.length}):(n=document.createTextNode(a),this.parent.insertBefore(this.scroll.create(n),this.next),r={startNode:n,startOffset:a.length}));return e.data=Zx,r}update(e,r){e.forEach(n=>{if(n.type==="characterData"&&(n.target===this.leftGuard||n.target===this.rightGuard)){const a=this.restore(n.target);a&&(r.range=a)}})}}class Vae{constructor(e,r){qe(this,"isComposing",!1);this.scroll=e,this.emitter=r,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",e=>{this.isComposing||this.handleCompositionStart(e)}),this.scroll.domNode.addEventListener("compositionend",e=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(e)})})}handleCompositionStart(e){const r=e.target instanceof Node?this.scroll.find(e.target,!0):null;r&&!(r instanceof X1)&&(this.emitter.emit(tt.events.COMPOSITION_BEFORE_START,e),this.scroll.batchStart(),this.emitter.emit(tt.events.COMPOSITION_START,e),this.isComposing=!0)}handleCompositionEnd(e){this.emitter.emit(tt.events.COMPOSITION_BEFORE_END,e),this.scroll.batchEnd(),this.emitter.emit(tt.events.COMPOSITION_END,e),this.isComposing=!1}}const dm=class dm{constructor(e,r){qe(this,"modules",{});this.quill=e,this.options=r}init(){Object.keys(this.options.modules).forEach(e=>{this.modules[e]==null&&this.addModule(e)})}addModule(e){const r=this.quill.constructor.import(`modules/${e}`);return this.modules[e]=new r(this.quill,this.options.modules[e]||{}),this.modules[e]}};qe(dm,"DEFAULTS",{modules:{}}),qe(dm,"themes",{default:dm});let gf=dm;const Yae=t=>t.parentElement||t.getRootNode().host||null,Wae=t=>{const e=t.getBoundingClientRect(),r="offsetWidth"in t&&Math.abs(e.width)/t.offsetWidth||1,n="offsetHeight"in t&&Math.abs(e.height)/t.offsetHeight||1;return{top:e.top,right:e.left+t.clientWidth*r,bottom:e.top+t.clientHeight*n,left:e.left}},Kx=t=>{const e=parseInt(t,10);return Number.isNaN(e)?0:e},MA=(t,e,r,n,a,l)=>t<r&&e>n?0:t<r?-(r-t+a):e>n?e-t>n-r?t+a-r:e-n+l:0,Gae=(t,e)=>{var l,c,d;const r=t.ownerDocument;let n=e,a=t;for(;a;){const f=a===r.body,h=f?{top:0,right:((l=window.visualViewport)==null?void 0:l.width)??r.documentElement.clientWidth,bottom:((c=window.visualViewport)==null?void 0:c.height)??r.documentElement.clientHeight,left:0}:Wae(a),p=getComputedStyle(a),g=MA(n.left,n.right,h.left,h.right,Kx(p.scrollPaddingLeft),Kx(p.scrollPaddingRight)),y=MA(n.top,n.bottom,h.top,h.bottom,Kx(p.scrollPaddingTop),Kx(p.scrollPaddingBottom));if(g||y)if(f)(d=r.defaultView)==null||d.scrollBy(g,y);else{const{scrollLeft:b,scrollTop:j}=a;y&&(a.scrollTop+=y),g&&(a.scrollLeft+=g);const w=a.scrollLeft-b,_=a.scrollTop-j;n={left:n.left-w,top:n.top-_,right:n.right-w,bottom:n.bottom-_}}a=f||p.position==="fixed"?null:Yae(a)}},Zae=100,Kae=["block","break","cursor","inline","scroll","text"],Xae=(t,e,r)=>{const n=new pf;return Kae.forEach(a=>{const l=e.query(a);l&&n.register(l)}),t.forEach(a=>{let l=e.query(a);l||r.error(`Cannot register "${a}" specified in "formats" config. Are you sure it was registered?`);let c=0;for(;l;)if(n.register(l),l="blotName"in l?l.requiredContainer??null:null,c+=1,c>Zae){r.error(`Cycle detected in registering blot requiredContainer: "${a}"`);break}}),n},tf=ho("quill"),Xx=new pf;Si.uiClass="ql-ui";const gi=class gi{static debug(e){e===!0&&(e="log"),ho.level(e)}static find(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return Xw.get(e)||Xx.find(e,r)}static import(e){return this.imports[e]==null&&tf.error(`Cannot import ${e}. Are you sure it was registered?`),this.imports[e]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const e=arguments.length<=0?void 0:arguments[0],r=!!(!(arguments.length<=1)&&arguments[1]),n="attrName"in e?e.attrName:e.blotName;typeof n=="string"?this.register(`formats/${n}`,e,r):Object.keys(e).forEach(a=>{this.register(a,e[a],r)})}else{const e=arguments.length<=0?void 0:arguments[0],r=arguments.length<=1?void 0:arguments[1],n=!!(!(arguments.length<=2)&&arguments[2]);this.imports[e]!=null&&!n&&tf.warn(`Overwriting ${e} with`,r),this.imports[e]=r,(e.startsWith("blots/")||e.startsWith("formats/"))&&r&&typeof r!="boolean"&&r.blotName!=="abstract"&&Xx.register(r),typeof r.register=="function"&&r.register(Xx)}}constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=Qae(e,r),this.container=this.options.container,this.container==null){tf.error("Invalid Quill container",e);return}this.options.debug&&gi.debug(this.options.debug);const n=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",Xw.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new tt;const a=K1.blotName,l=this.options.registry.query(a);if(!l||!("blotName"in l))throw new Error(`Cannot initialize Quill without "${a}" blot`);if(this.scroll=new l(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new qae(this.scroll),this.selection=new zae(this.scroll,this.emitter),this.composition=new Vae(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(tt.events.EDITOR_CHANGE,c=>{c===tt.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(tt.events.SCROLL_UPDATE,(c,d)=>{const f=this.selection.lastRange,[h]=this.selection.getRange(),p=f&&h?{oldRange:f,newRange:h}:void 0;pi.call(this,()=>this.editor.update(null,d,p),c)}),this.emitter.on(tt.events.SCROLL_EMBED_UPDATE,(c,d)=>{const f=this.selection.lastRange,[h]=this.selection.getRange(),p=f&&h?{oldRange:f,newRange:h}:void 0;pi.call(this,()=>{const g=new it().retain(c.offset(this)).retain({[c.statics.blotName]:d});return this.editor.update(g,[],p)},gi.sources.USER)}),n){const c=this.clipboard.convert({html:`${n}<p><br></p>`,text:`
`});this.setContents(c)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof e=="string"){const n=e;e=document.createElement("div"),e.classList.add(n)}return this.container.insertBefore(e,r),e}blur(){this.selection.setRange(null)}deleteText(e,r,n){return[e,r,,n]=zl(e,r,n),pi.call(this,()=>this.editor.deleteText(e,r),n,e,-1*r)}disable(){this.enable(!1)}editReadOnly(e){this.allowReadOnlyEdits=!0;const r=e();return this.allowReadOnlyEdits=!1,r}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}focus(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),e.preventScroll||this.scrollSelectionIntoView()}format(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:tt.sources.API;return pi.call(this,()=>{const a=this.getSelection(!0);let l=new it;if(a==null)return l;if(this.scroll.query(e,ut.BLOCK))l=this.editor.formatLine(a.index,a.length,{[e]:r});else{if(a.length===0)return this.selection.format(e,r),l;l=this.editor.formatText(a.index,a.length,{[e]:r})}return this.setSelection(a,tt.sources.SILENT),l},n)}formatLine(e,r,n,a,l){let c;return[e,r,c,l]=zl(e,r,n,a,l),pi.call(this,()=>this.editor.formatLine(e,r,c),l,e,0)}formatText(e,r,n,a,l){let c;return[e,r,c,l]=zl(e,r,n,a,l),pi.call(this,()=>this.editor.formatText(e,r,c),l,e,0)}getBounds(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=null;if(typeof e=="number"?n=this.selection.getBounds(e,r):n=this.selection.getBounds(e.index,e.length),!n)return null;const a=this.container.getBoundingClientRect();return{bottom:n.bottom-a.top,height:n.height,left:n.left-a.left,right:n.right-a.left,top:n.top-a.top,width:n.width}}getContents(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-e;return[e,r]=zl(e,r),this.editor.getContents(e,r)}getFormat(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof e=="number"?this.editor.getFormat(e,r):this.editor.getFormat(e.index,e.length)}getIndex(e){return e.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(e){return this.scroll.leaf(e)}getLine(e){return this.scroll.line(e)}getLines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof e!="number"?this.scroll.lines(e.index,e.length):this.scroll.lines(e,r)}getModule(e){return this.theme.modules[e]}getSelection(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(r=r??this.getLength()-e),[e,r]=zl(e,r),this.editor.getHTML(e,r)}getText(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(r=r??this.getLength()-e),[e,r]=zl(e,r),this.editor.getText(e,r)}hasFocus(){return this.selection.hasFocus()}insertEmbed(e,r,n){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:gi.sources.API;return pi.call(this,()=>this.editor.insertEmbed(e,r,n),a,e)}insertText(e,r,n,a,l){let c;return[e,,c,l]=zl(e,0,n,a,l),pi.call(this,()=>this.editor.insertText(e,r,c),l,e,r.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(e,r,n){return[e,r,,n]=zl(e,r,n),pi.call(this,()=>this.editor.removeFormat(e,r),n,e)}scrollRectIntoView(e){Gae(this.root,e)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const e=this.selection.lastRange,r=e&&this.selection.getBounds(e.index,e.length);r&&this.scrollRectIntoView(r)}setContents(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:tt.sources.API;return pi.call(this,()=>{e=new it(e);const n=this.getLength(),a=this.editor.deleteText(0,n),l=this.editor.insertContents(0,e),c=this.editor.deleteText(this.getLength()-1,1);return a.compose(l).compose(c)},r)}setSelection(e,r,n){e==null?this.selection.setRange(null,r||gi.sources.API):([e,r,,n]=zl(e,r,n),this.selection.setRange(new Ed(Math.max(0,e),r),n),n!==tt.sources.SILENT&&this.scrollSelectionIntoView())}setText(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:tt.sources.API;const n=new it().insert(e);return this.setContents(n,r)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:tt.sources.USER;const r=this.scroll.update(e);return this.selection.update(e),r}updateContents(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:tt.sources.API;return pi.call(this,()=>(e=new it(e),this.editor.applyDelta(e)),r,!0)}};qe(gi,"DEFAULTS",{bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:Xx,theme:"default"}),qe(gi,"events",tt.events),qe(gi,"sources",tt.sources),qe(gi,"version","2.0.3"),qe(gi,"imports",{delta:it,parchment:Tae,"core/module":Ii,"core/theme":gf});let De=gi;function PA(t){return typeof t=="string"?document.querySelector(t):t}function L0(t){return Object.entries(t??{}).reduce((e,r)=>{let[n,a]=r;return{...e,[n]:a===!0?{}:a}},{})}function LA(t){return Object.fromEntries(Object.entries(t).filter(e=>e[1]!==void 0))}function Qae(t,e){const r=PA(t);if(!r)throw new Error("Invalid Quill container");const a=!e.theme||e.theme===De.DEFAULTS.theme?gf:De.import(`themes/${e.theme}`);if(!a)throw new Error(`Invalid theme ${e.theme}. Did you register it?`);const{modules:l,...c}=De.DEFAULTS,{modules:d,...f}=a.DEFAULTS;let h=L0(e.modules);h!=null&&h.toolbar&&h.toolbar.constructor!==Object&&(h={...h,toolbar:{container:h.toolbar}});const p=ac({},L0(l),L0(d),h),g={...c,...LA(f),...LA(e)};let y=e.registry;return y?e.formats&&tf.warn('Ignoring "formats" option because "registry" is specified'):y=e.formats?Xae(e.formats,g.registry,tf):g.registry,{...g,registry:y,container:r,theme:a,modules:Object.entries(p).reduce((b,j)=>{let[w,_]=j;if(!_)return b;const E=De.import(`modules/${w}`);return E==null?(tf.error(`Cannot load ${w} module. Are you sure you registered it?`),b):{...b,[w]:ac({},E.DEFAULTS||{},_)}},{}),bounds:PA(g.bounds)}}function pi(t,e,r,n){if(!this.isEnabled()&&e===tt.sources.USER&&!this.allowReadOnlyEdits)return new it;let a=r==null?null:this.getSelection();const l=this.editor.delta,c=t();if(a!=null&&(r===!0&&(r=a.index),n==null?a=IA(a,c,e):n!==0&&(a=IA(a,r,n,e)),this.setSelection(a,tt.sources.SILENT)),c.length()>0){const d=[tt.events.TEXT_CHANGE,c,l,e];this.emitter.emit(tt.events.EDITOR_CHANGE,...d),e!==tt.sources.SILENT&&this.emitter.emit(...d)}return c}function zl(t,e,r,n,a){let l={};return typeof t.index=="number"&&typeof t.length=="number"?typeof e!="number"?(a=n,n=r,r=e,e=t.length,t=t.index):(e=t.length,t=t.index):typeof e!="number"&&(a=n,n=r,r=e,e=0),typeof r=="object"?(l=r,a=n):typeof r=="string"&&(n!=null?l[r]=n:a=r),a=a||tt.sources.API,[t,e,l,a]}function IA(t,e,r,n){const a=typeof r=="number"?r:0;if(t==null)return null;let l,c;return e&&typeof e.transformPosition=="function"?[l,c]=[t.index,t.index+t.length].map(d=>e.transformPosition(d,n!==tt.sources.USER)):[l,c]=[t.index,t.index+t.length].map(d=>d<e||d===e&&n===tt.sources.USER?d:a>=0?d+a:Math.max(e,d+a)),new Ed(l,c-l)}class Ld extends _v{}function UA(t){return t instanceof cn||t instanceof Ya}function FA(t){return typeof t.updateContent=="function"}class qu extends K1{constructor(e,r,n){let{emitter:a}=n;super(e,r),this.emitter=a,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",l=>this.handleDragStart(l))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const e=this.batch;this.batch=!1,this.update(e)}emitMount(e){this.emitter.emit(tt.events.SCROLL_BLOT_MOUNT,e)}emitUnmount(e){this.emitter.emit(tt.events.SCROLL_BLOT_UNMOUNT,e)}emitEmbedUpdate(e,r){this.emitter.emit(tt.events.SCROLL_EMBED_UPDATE,e,r)}deleteAt(e,r){const[n,a]=this.line(e),[l]=this.line(e+r);if(super.deleteAt(e,r),l!=null&&n!==l&&a>0){if(n instanceof Ya||l instanceof Ya){this.optimize();return}const c=l.children.head instanceof Li?null:l.children.head;n.moveChildren(l,c),n.remove()}this.optimize()}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",e?"true":"false")}formatAt(e,r,n,a){super.formatAt(e,r,n,a),this.optimize()}insertAt(e,r,n){if(e>=this.length())if(n==null||this.scroll.query(r,ut.BLOCK)==null){const a=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(a),n==null&&r.endsWith(`
`)?a.insertAt(0,r.slice(0,-1),n):a.insertAt(0,r,n)}else{const a=this.scroll.create(r,n);this.appendChild(a)}else super.insertAt(e,r,n);this.optimize()}insertBefore(e,r){if(e.statics.scope===ut.INLINE_BLOT){const n=this.scroll.create(this.statics.defaultChild.blotName);n.appendChild(e),super.insertBefore(n,r)}else super.insertBefore(e,r)}insertContents(e,r){const n=this.deltaToRenderBlocks(r.concat(new it().insert(`
`))),a=n.pop();if(a==null)return;this.batchStart();const l=n.shift();if(l){const f=l.type==="block"&&(l.delta.length()===0||!this.descendant(Ya,e)[0]&&e<this.length()),h=l.type==="block"?l.delta:new it().insert({[l.key]:l.value});I0(this,e,h);const p=l.type==="block"?1:0,g=e+h.length()+p;f&&this.insertAt(g-1,`
`);const y=Ba(this.line(e)[0]),b=Za.AttributeMap.diff(y,l.attributes)||{};Object.keys(b).forEach(j=>{this.formatAt(g-1,1,j,b[j])}),e=g}let[c,d]=this.children.find(e);if(n.length&&(c&&(c=c.split(d),d=0),n.forEach(f=>{if(f.type==="block"){const h=this.createBlock(f.attributes,c||void 0);I0(h,0,f.delta)}else{const h=this.create(f.key,f.value);this.insertBefore(h,c||void 0),Object.keys(f.attributes).forEach(p=>{h.format(p,f.attributes[p])})}})),a.type==="block"&&a.delta.length()){const f=c?c.offset(c.scroll)+d:this.length();I0(this,f,a.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(e){const r=this.path(e).pop();if(!r)return[null,-1];const[n,a]=r;return n instanceof kn?[n,a]:[null,-1]}line(e){return e===this.length()?this.line(e-1):this.descendant(UA,e)}lines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const n=(a,l,c)=>{let d=[],f=c;return a.children.forEachAt(l,c,(h,p,g)=>{UA(h)?d.push(h):h instanceof _v&&(d=d.concat(n(h,p,f))),f-=g}),d};return n(this,e,r)}optimize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(e,r),e.length>0&&this.emitter.emit(tt.events.SCROLL_OPTIMIZE,e,r))}path(e){return super.path(e).slice(1)}remove(){}update(e){if(this.batch){Array.isArray(e)&&(this.batch=this.batch.concat(e));return}let r=tt.sources.USER;typeof e=="string"&&(r=e),Array.isArray(e)||(e=this.observer.takeRecords()),e=e.filter(n=>{let{target:a}=n;const l=this.find(a,!0);return l&&!FA(l)}),e.length>0&&this.emitter.emit(tt.events.SCROLL_BEFORE_UPDATE,r,e),super.update(e.concat([])),e.length>0&&this.emitter.emit(tt.events.SCROLL_UPDATE,r,e)}updateEmbedAt(e,r,n){const[a]=this.descendant(l=>l instanceof Ya,e);a&&a.statics.blotName===r&&FA(a)&&a.updateContent(n)}handleDragStart(e){e.preventDefault()}deltaToRenderBlocks(e){const r=[];let n=new it;return e.forEach(a=>{const l=a==null?void 0:a.insert;if(l)if(typeof l=="string"){const c=l.split(`
`);c.slice(0,-1).forEach(f=>{n.insert(f,a.attributes),r.push({type:"block",delta:n,attributes:a.attributes??{}}),n=new it});const d=c[c.length-1];d&&n.insert(d,a.attributes)}else{const c=Object.keys(l)[0];if(!c)return;this.query(c,ut.INLINE)?n.push(a):(n.length()&&r.push({type:"block",delta:n,attributes:{}}),n=new it,r.push({type:"blockEmbed",key:c,value:l[c],attributes:a.attributes??{}}))}}),n.length()&&r.push({type:"block",delta:n,attributes:{}}),r}createBlock(e,r){let n;const a={};Object.entries(e).forEach(d=>{let[f,h]=d;this.query(f,ut.BLOCK&ut.BLOT)!=null?n=f:a[f]=h});const l=this.create(n||this.statics.defaultChild.blotName,n?e[n]:void 0);this.insertBefore(l,r||void 0);const c=l.length();return Object.entries(a).forEach(d=>{let[f,h]=d;l.formatAt(0,c,f,h)}),l}}qe(qu,"blotName","scroll"),qe(qu,"className","ql-editor"),qe(qu,"tagName","DIV"),qe(qu,"defaultChild",cn),qe(qu,"allowedChildren",[cn,Ya,Ld]);function I0(t,e,r){r.reduce((n,a)=>{const l=Za.Op.length(a);let c=a.attributes||{};if(a.insert!=null){if(typeof a.insert=="string"){const d=a.insert;t.insertAt(n,d);const[f]=t.descendant(kn,n),h=Ba(f);c=Za.AttributeMap.diff(h,c)||{}}else if(typeof a.insert=="object"){const d=Object.keys(a.insert)[0];if(d==null)return n;if(t.insertAt(n,d,a.insert[d]),t.scroll.query(d,ut.INLINE)!=null){const[h]=t.descendant(kn,n),p=Ba(h);c=Za.AttributeMap.diff(p,c)||{}}}}return Object.keys(c).forEach(d=>{t.formatAt(n,l,d,c[d])}),n+l},e)}const Q1={scope:ut.BLOCK,whitelist:["right","center","justify"]},Jae=new fl("align","align",Q1),hL=new Pi("align","ql-align",Q1),mL=new kc("align","text-align",Q1);class pL extends kc{value(e){let r=super.value(e);return r.startsWith("rgb(")?(r=r.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${r.split(",").map(a=>`00${parseInt(a,10).toString(16)}`.slice(-2)).join("")}`):r}}const eie=new Pi("color","ql-color",{scope:ut.INLINE}),J1=new pL("color","color",{scope:ut.INLINE}),tie=new Pi("background","ql-bg",{scope:ut.INLINE}),e_=new pL("background","background-color",{scope:ut.INLINE});class Id extends Ld{static create(e){const r=super.create(e);return r.setAttribute("spellcheck","false"),r}code(e,r){return this.children.map(n=>n.length()<=1?"":n.domNode.innerText).join(`
`).slice(e,e+r)}html(e,r){return`<pre>
${Sv(this.code(e,r))}
</pre>`}}class Rn extends cn{static register(){De.register(Id)}}qe(Rn,"TAB","  ");class t_ extends hl{}t_.blotName="code";t_.tagName="CODE";Rn.blotName="code-block";Rn.className="ql-code-block";Rn.tagName="DIV";Id.blotName="code-block-container";Id.className="ql-code-block-container";Id.tagName="DIV";Id.allowedChildren=[Rn];Rn.allowedChildren=[Ai,Li,xf];Rn.requiredContainer=Id;const s_={scope:ut.BLOCK,whitelist:["rtl"]},xL=new fl("direction","dir",s_),gL=new Pi("direction","ql-direction",s_),yL=new kc("direction","direction",s_),vL={scope:ut.INLINE,whitelist:["serif","monospace"]},bL=new Pi("font","ql-font",vL);class sie extends kc{value(e){return super.value(e).replace(/["']/g,"")}}const jL=new sie("font","font-family",vL),wL=new Pi("size","ql-size",{scope:ut.INLINE,whitelist:["small","large","huge"]}),NL=new kc("size","font-size",{scope:ut.INLINE,whitelist:["10px","18px","32px"]}),rie=ho("quill:keyboard"),nie=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class Ev extends Ii{static match(e,r){return["altKey","ctrlKey","metaKey","shiftKey"].some(n=>!!r[n]!==e[n]&&r[n]!==null)?!1:r.key===e.key||r.key===e.which}constructor(e,r){super(e,r),this.bindings={},Object.keys(this.options.bindings).forEach(n=>{this.options.bindings[n]&&this.addBinding(this.options.bindings[n])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const a=iie(e);if(a==null){rie.warn("Attempted to add invalid keyboard binding",a);return}typeof r=="function"&&(r={handler:r}),typeof n=="function"&&(n={handler:n}),(Array.isArray(a.key)?a.key:[a.key]).forEach(c=>{const d={...a,key:c,...r,...n};this.bindings[d.key]=this.bindings[d.key]||[],this.bindings[d.key].push(d)})}listen(){this.quill.root.addEventListener("keydown",e=>{if(e.defaultPrevented||e.isComposing||e.keyCode===229&&(e.key==="Enter"||e.key==="Backspace"))return;const a=(this.bindings[e.key]||[]).concat(this.bindings[e.which]||[]).filter(E=>Ev.match(e,E));if(a.length===0)return;const l=De.find(e.target,!0);if(l&&l.scroll!==this.quill.scroll)return;const c=this.quill.getSelection();if(c==null||!this.quill.hasFocus())return;const[d,f]=this.quill.getLine(c.index),[h,p]=this.quill.getLeaf(c.index),[g,y]=c.length===0?[h,p]:this.quill.getLeaf(c.index+c.length),b=h instanceof my?h.value().slice(0,p):"",j=g instanceof my?g.value().slice(y):"",w={collapsed:c.length===0,empty:c.length===0&&d.length()<=1,format:this.quill.getFormat(c),line:d,offset:f,prefix:b,suffix:j,event:e};a.some(E=>{if(E.collapsed!=null&&E.collapsed!==w.collapsed||E.empty!=null&&E.empty!==w.empty||E.offset!=null&&E.offset!==w.offset)return!1;if(Array.isArray(E.format)){if(E.format.every(S=>w.format[S]==null))return!1}else if(typeof E.format=="object"&&!Object.keys(E.format).every(S=>E.format[S]===!0?w.format[S]!=null:E.format[S]===!1?w.format[S]==null:Jo(E.format[S],w.format[S])))return!1;return E.prefix!=null&&!E.prefix.test(w.prefix)||E.suffix!=null&&!E.suffix.test(w.suffix)?!1:E.handler.call(this,c,w,E)!==!0})&&e.preventDefault()})}handleBackspace(e,r){const n=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(r.prefix)?2:1;if(e.index===0||this.quill.getLength()<=1)return;let a={};const[l]=this.quill.getLine(e.index);let c=new it().retain(e.index-n).delete(n);if(r.offset===0){const[d]=this.quill.getLine(e.index-1);if(d&&!(d.statics.blotName==="block"&&d.length()<=1)){const h=l.formats(),p=this.quill.getFormat(e.index-1,1);if(a=Za.AttributeMap.diff(h,p)||{},Object.keys(a).length>0){const g=new it().retain(e.index+l.length()-2).retain(1,a);c=c.compose(g)}}}this.quill.updateContents(c,De.sources.USER),this.quill.focus()}handleDelete(e,r){const n=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(r.suffix)?2:1;if(e.index>=this.quill.getLength()-n)return;let a={};const[l]=this.quill.getLine(e.index);let c=new it().retain(e.index).delete(n);if(r.offset>=l.length()-1){const[d]=this.quill.getLine(e.index+1);if(d){const f=l.formats(),h=this.quill.getFormat(e.index,1);a=Za.AttributeMap.diff(f,h)||{},Object.keys(a).length>0&&(c=c.retain(d.length()-1).retain(1,a))}}this.quill.updateContents(c,De.sources.USER),this.quill.focus()}handleDeleteRange(e){r_({range:e,quill:this.quill}),this.quill.focus()}handleEnter(e,r){const n=Object.keys(r.format).reduce((l,c)=>(this.quill.scroll.query(c,ut.BLOCK)&&!Array.isArray(r.format[c])&&(l[c]=r.format[c]),l),{}),a=new it().retain(e.index).delete(e.length).insert(`
`,n);this.quill.updateContents(a,De.sources.USER),this.quill.setSelection(e.index+1,De.sources.SILENT),this.quill.focus()}}const aie={bindings:{bold:U0("bold"),italic:U0("italic"),underline:U0("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(t,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","+1",De.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(t,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","-1",De.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(t,e){e.format.indent!=null?this.quill.format("indent","-1",De.sources.USER):e.format.list!=null&&this.quill.format("list",!1,De.sources.USER)}},"indent code-block":zA(!0),"outdent code-block":zA(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(t){this.quill.deleteText(t.index-1,1,De.sources.USER)}},tab:{key:"Tab",handler(t,e){if(e.format.table)return!0;this.quill.history.cutoff();const r=new it().retain(t.index).delete(t.length).insert("	");return this.quill.updateContents(r,De.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index+1,De.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,De.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(t,e){const r={list:!1};e.format.indent&&(r.indent=!1),this.quill.formatLine(t.index,t.length,r,De.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(t){const[e,r]=this.quill.getLine(t.index),n={...e.formats(),list:"checked"},a=new it().retain(t.index).insert(`
`,n).retain(e.length()-r-1).retain(1,{list:"unchecked"});this.quill.updateContents(a,De.sources.USER),this.quill.setSelection(t.index+1,De.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(t,e){const[r,n]=this.quill.getLine(t.index),a=new it().retain(t.index).insert(`
`,e.format).retain(r.length()-n-1).retain(1,{header:null});this.quill.updateContents(a,De.sources.USER),this.quill.setSelection(t.index+1,De.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(t){const e=this.quill.getModule("table");if(e){const[r,n,a,l]=e.getTable(t),c=lie(r,n,a,l);if(c==null)return;let d=r.offset();if(c<0){const f=new it().retain(d).insert(`
`);this.quill.updateContents(f,De.sources.USER),this.quill.setSelection(t.index+1,t.length,De.sources.SILENT)}else if(c>0){d+=r.length();const f=new it().retain(d).insert(`
`);this.quill.updateContents(f,De.sources.USER),this.quill.setSelection(d,De.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(t,e){const{event:r,line:n}=e,a=n.offset(this.quill.scroll);r.shiftKey?this.quill.setSelection(a-1,De.sources.USER):this.quill.setSelection(a+n.length(),De.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(t,e){if(this.quill.scroll.query("list")==null)return!0;const{length:r}=e.prefix,[n,a]=this.quill.getLine(t.index);if(a>r)return!0;let l;switch(e.prefix.trim()){case"[]":case"[ ]":l="unchecked";break;case"[x]":l="checked";break;case"-":case"*":l="bullet";break;default:l="ordered"}this.quill.insertText(t.index," ",De.sources.USER),this.quill.history.cutoff();const c=new it().retain(t.index-a).delete(r+1).retain(n.length()-2-a).retain(1,{list:l});return this.quill.updateContents(c,De.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index-r,De.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(t){const[e,r]=this.quill.getLine(t.index);let n=2,a=e;for(;a!=null&&a.length()<=1&&a.formats()["code-block"];)if(a=a.prev,n-=1,n<=0){const l=new it().retain(t.index+e.length()-r-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(l,De.sources.USER),this.quill.setSelection(t.index-1,De.sources.SILENT),!1}return!0}},"embed left":Qx("ArrowLeft",!1),"embed left shift":Qx("ArrowLeft",!0),"embed right":Qx("ArrowRight",!1),"embed right shift":Qx("ArrowRight",!0),"table down":$A(!1),"table up":$A(!0)}};Ev.DEFAULTS=aie;function zA(t){return{key:"Tab",shiftKey:!t,format:{"code-block":!0},handler(e,r){let{event:n}=r;const a=this.quill.scroll.query("code-block"),{TAB:l}=a;if(e.length===0&&!n.shiftKey){this.quill.insertText(e.index,l,De.sources.USER),this.quill.setSelection(e.index+l.length,De.sources.SILENT);return}const c=e.length===0?this.quill.getLines(e.index,1):this.quill.getLines(e);let{index:d,length:f}=e;c.forEach((h,p)=>{t?(h.insertAt(0,l),p===0?d+=l.length:f+=l.length):h.domNode.textContent.startsWith(l)&&(h.deleteAt(0,l.length),p===0?d-=l.length:f-=l.length)}),this.quill.update(De.sources.USER),this.quill.setSelection(d,f,De.sources.SILENT)}}}function Qx(t,e){return{key:t,shiftKey:e,altKey:null,[t==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(n){let{index:a}=n;t==="ArrowRight"&&(a+=n.length+1);const[l]=this.quill.getLeaf(a);return l instanceof Aa?(t==="ArrowLeft"?e?this.quill.setSelection(n.index-1,n.length+1,De.sources.USER):this.quill.setSelection(n.index-1,De.sources.USER):e?this.quill.setSelection(n.index,n.length+1,De.sources.USER):this.quill.setSelection(n.index+n.length+1,De.sources.USER),!1):!0}}}function U0(t){return{key:t[0],shortKey:!0,handler(e,r){this.quill.format(t,!r.format[t],De.sources.USER)}}}function $A(t){return{key:t?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(e,r){const n=t?"prev":"next",a=r.line,l=a.parent[n];if(l!=null){if(l.statics.blotName==="table-row"){let c=l.children.head,d=a;for(;d.prev!=null;)d=d.prev,c=c.next;const f=c.offset(this.quill.scroll)+Math.min(r.offset,c.length()-1);this.quill.setSelection(f,0,De.sources.USER)}}else{const c=a.table()[n];c!=null&&(t?this.quill.setSelection(c.offset(this.quill.scroll)+c.length()-1,0,De.sources.USER):this.quill.setSelection(c.offset(this.quill.scroll),0,De.sources.USER))}return!1}}}function iie(t){if(typeof t=="string"||typeof t=="number")t={key:t};else if(typeof t=="object")t=Ju(t);else return null;return t.shortKey&&(t[nie]=t.shortKey,delete t.shortKey),t}function r_(t){let{quill:e,range:r}=t;const n=e.getLines(r);let a={};if(n.length>1){const l=n[0].formats(),c=n[n.length-1].formats();a=Za.AttributeMap.diff(c,l)||{}}e.deleteText(r,De.sources.USER),Object.keys(a).length>0&&e.formatLine(r.index,1,a,De.sources.USER),e.setSelection(r.index,De.sources.SILENT)}function lie(t,e,r,n){return e.prev==null&&e.next==null?r.prev==null&&r.next==null?n===0?-1:1:r.prev==null?-1:1:e.prev==null?-1:e.next==null?1:null}const oie=/font-weight:\s*normal/,cie=["P","OL","UL"],qA=t=>t&&cie.includes(t.tagName),die=t=>{Array.from(t.querySelectorAll("br")).filter(e=>qA(e.previousElementSibling)&&qA(e.nextElementSibling)).forEach(e=>{var r;(r=e.parentNode)==null||r.removeChild(e)})},uie=t=>{Array.from(t.querySelectorAll('b[style*="font-weight"]')).filter(e=>{var r;return(r=e.getAttribute("style"))==null?void 0:r.match(oie)}).forEach(e=>{var n;const r=t.createDocumentFragment();r.append(...e.childNodes),(n=e.parentNode)==null||n.replaceChild(r,e)})};function fie(t){t.querySelector('[id^="docs-internal-guid-"]')&&(uie(t),die(t))}const hie=/\bmso-list:[^;]*ignore/i,mie=/\bmso-list:[^;]*\bl(\d+)/i,pie=/\bmso-list:[^;]*\blevel(\d+)/i,xie=(t,e)=>{const r=t.getAttribute("style"),n=r==null?void 0:r.match(mie);if(!n)return null;const a=Number(n[1]),l=r==null?void 0:r.match(pie),c=l?Number(l[1]):1,d=new RegExp(`@list l${a}:level${c}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),f=e.match(d),h=f&&f[1]==="bullet"?"bullet":"ordered";return{id:a,indent:c,type:h,element:t}},gie=t=>{var c,d;const e=Array.from(t.querySelectorAll("[style*=mso-list]")),r=[],n=[];e.forEach(f=>{(f.getAttribute("style")||"").match(hie)?r.push(f):n.push(f)}),r.forEach(f=>{var h;return(h=f.parentNode)==null?void 0:h.removeChild(f)});const a=t.documentElement.innerHTML,l=n.map(f=>xie(f,a)).filter(f=>f);for(;l.length;){const f=[];let h=l.shift();for(;h;)f.push(h),h=l.length&&((c=l[0])==null?void 0:c.element)===h.element.nextElementSibling&&l[0].id===h.id?l.shift():null;const p=document.createElement("ul");f.forEach(b=>{const j=document.createElement("li");j.setAttribute("data-list",b.type),b.indent>1&&j.setAttribute("class",`ql-indent-${b.indent-1}`),j.innerHTML=b.element.innerHTML,p.appendChild(j)});const g=(d=f[0])==null?void 0:d.element,{parentNode:y}=g??{};g&&(y==null||y.replaceChild(p,g)),f.slice(1).forEach(b=>{let{element:j}=b;y==null||y.removeChild(j)})}};function yie(t){t.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&gie(t)}const vie=[yie,fie],bie=t=>{t.documentElement&&vie.forEach(e=>{e(t)})},jie=ho("quill:clipboard"),wie=[[Node.TEXT_NODE,Mie],[Node.TEXT_NODE,HA],["br",kie],[Node.ELEMENT_NODE,HA],[Node.ELEMENT_NODE,Eie],[Node.ELEMENT_NODE,Sie],[Node.ELEMENT_NODE,Die],["li",Tie],["ol, ul",Rie],["pre",Cie],["tr",Oie],["b",F0("bold")],["i",F0("italic")],["strike",F0("strike")],["style",Aie]],Nie=[Jae,xL].reduce((t,e)=>(t[e.keyName]=e,t),{}),BA=[mL,e_,J1,yL,jL,NL].reduce((t,e)=>(t[e.keyName]=e,t),{});class _L extends Ii{constructor(e,r){super(e,r),this.quill.root.addEventListener("copy",n=>this.onCaptureCopy(n,!1)),this.quill.root.addEventListener("cut",n=>this.onCaptureCopy(n,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],wie.concat(this.options.matchers??[]).forEach(n=>{let[a,l]=n;this.addMatcher(a,l)})}addMatcher(e,r){this.matchers.push([e,r])}convert(e){let{html:r,text:n}=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(a[Rn.blotName])return new it().insert(n||"",{[Rn.blotName]:a[Rn.blotName]});if(!r)return new it().insert(n||"",a);const l=this.convertHTML(r);return yp(l,`
`)&&(l.ops[l.ops.length-1].attributes==null||a.table)?l.compose(new it().retain(l.length()-1).delete(1)):l}normalizeHTML(e){bie(e)}convertHTML(e){const r=new DOMParser().parseFromString(e,"text/html");this.normalizeHTML(r);const n=r.body,a=new WeakMap,[l,c]=this.prepareMatching(n,a);return n_(this.quill.scroll,n,l,c,a)}dangerouslyPasteHTML(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:De.sources.API;if(typeof e=="string"){const a=this.convert({html:e,text:""});this.quill.setContents(a,r),this.quill.setSelection(0,De.sources.SILENT)}else{const a=this.convert({html:r,text:""});this.quill.updateContents(new it().retain(e).concat(a),n),this.quill.setSelection(e+a.length(),De.sources.SILENT)}}onCaptureCopy(e){var c,d;let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.defaultPrevented)return;e.preventDefault();const[n]=this.quill.selection.getRange();if(n==null)return;const{html:a,text:l}=this.onCopy(n,r);(c=e.clipboardData)==null||c.setData("text/plain",l),(d=e.clipboardData)==null||d.setData("text/html",a),r&&r_({range:n,quill:this.quill})}normalizeURIList(e){return e.split(/\r?\n/).filter(r=>r[0]!=="#").join(`
`)}onCapturePaste(e){var c,d,f,h,p;if(e.defaultPrevented||!this.quill.isEnabled())return;e.preventDefault();const r=this.quill.getSelection(!0);if(r==null)return;const n=(c=e.clipboardData)==null?void 0:c.getData("text/html");let a=(d=e.clipboardData)==null?void 0:d.getData("text/plain");if(!n&&!a){const g=(f=e.clipboardData)==null?void 0:f.getData("text/uri-list");g&&(a=this.normalizeURIList(g))}const l=Array.from(((h=e.clipboardData)==null?void 0:h.files)||[]);if(!n&&l.length>0){this.quill.uploader.upload(r,l);return}if(n&&l.length>0){const g=new DOMParser().parseFromString(n,"text/html");if(g.body.childElementCount===1&&((p=g.body.firstElementChild)==null?void 0:p.tagName)==="IMG"){this.quill.uploader.upload(r,l);return}}this.onPaste(r,{html:n,text:a})}onCopy(e){const r=this.quill.getText(e);return{html:this.quill.getSemanticHTML(e),text:r}}onPaste(e,r){let{text:n,html:a}=r;const l=this.quill.getFormat(e.index),c=this.convert({text:n,html:a},l);jie.log("onPaste",c,{text:n,html:a});const d=new it().retain(e.index).delete(e.length).concat(c);this.quill.updateContents(d,De.sources.USER),this.quill.setSelection(d.length()-e.length,De.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(e,r){const n=[],a=[];return this.matchers.forEach(l=>{const[c,d]=l;switch(c){case Node.TEXT_NODE:a.push(d);break;case Node.ELEMENT_NODE:n.push(d);break;default:Array.from(e.querySelectorAll(c)).forEach(f=>{if(r.has(f)){const h=r.get(f);h==null||h.push(d)}else r.set(f,[d])});break}}),[n,a]}}qe(_L,"DEFAULTS",{matchers:[]});function Ud(t,e,r,n){return n.query(e)?t.reduce((a,l)=>{if(!l.insert)return a;if(l.attributes&&l.attributes[e])return a.push(l);const c=r?{[e]:r}:{};return a.insert(l.insert,{...c,...l.attributes})},new it):t}function yp(t,e){let r="";for(let n=t.ops.length-1;n>=0&&r.length<e.length;--n){const a=t.ops[n];if(typeof a.insert!="string")break;r=a.insert+r}return r.slice(-1*e.length)===e}function sc(t,e){if(!(t instanceof Element))return!1;const r=e.query(t);return r&&r.prototype instanceof Aa?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(t.tagName.toLowerCase())}function _ie(t,e){return t.previousElementSibling&&t.nextElementSibling&&!sc(t.previousElementSibling,e)&&!sc(t.nextElementSibling,e)}const Jx=new WeakMap;function SL(t){return t==null?!1:(Jx.has(t)||(t.tagName==="PRE"?Jx.set(t,!0):Jx.set(t,SL(t.parentNode))),Jx.get(t))}function n_(t,e,r,n,a){return e.nodeType===e.TEXT_NODE?n.reduce((l,c)=>c(e,l,t),new it):e.nodeType===e.ELEMENT_NODE?Array.from(e.childNodes||[]).reduce((l,c)=>{let d=n_(t,c,r,n,a);return c.nodeType===e.ELEMENT_NODE&&(d=r.reduce((f,h)=>h(c,f,t),d),d=(a.get(c)||[]).reduce((f,h)=>h(c,f,t),d)),l.concat(d)},new it):new it}function F0(t){return(e,r,n)=>Ud(r,t,!0,n)}function Sie(t,e,r){const n=fl.keys(t),a=Pi.keys(t),l=kc.keys(t),c={};return n.concat(a).concat(l).forEach(d=>{let f=r.query(d,ut.ATTRIBUTE);f!=null&&(c[f.attrName]=f.value(t),c[f.attrName])||(f=Nie[d],f!=null&&(f.attrName===d||f.keyName===d)&&(c[f.attrName]=f.value(t)||void 0),f=BA[d],f!=null&&(f.attrName===d||f.keyName===d)&&(f=BA[d],c[f.attrName]=f.value(t)||void 0))}),Object.entries(c).reduce((d,f)=>{let[h,p]=f;return Ud(d,h,p,r)},e)}function Eie(t,e,r){const n=r.query(t);if(n==null)return e;if(n.prototype instanceof Aa){const a={},l=n.value(t);if(l!=null)return a[n.blotName]=l,new it().insert(a,n.formats(t,r))}else if(n.prototype instanceof Bm&&!yp(e,`
`)&&e.insert(`
`),"blotName"in n&&"formats"in n&&typeof n.formats=="function")return Ud(e,n.blotName,n.formats(t,r),r);return e}function kie(t,e){return yp(e,`
`)||e.insert(`
`),e}function Cie(t,e,r){const n=r.query("code-block"),a=n&&"formats"in n&&typeof n.formats=="function"?n.formats(t,r):!0;return Ud(e,"code-block",a,r)}function Aie(){return new it}function Tie(t,e,r){const n=r.query(t);if(n==null||n.blotName!=="list"||!yp(e,`
`))return e;let a=-1,l=t.parentNode;for(;l!=null;)["OL","UL"].includes(l.tagName)&&(a+=1),l=l.parentNode;return a<=0?e:e.reduce((c,d)=>d.insert?d.attributes&&typeof d.attributes.indent=="number"?c.push(d):c.insert(d.insert,{indent:a,...d.attributes||{}}):c,new it)}function Rie(t,e,r){const n=t;let a=n.tagName==="OL"?"ordered":"bullet";const l=n.getAttribute("data-checked");return l&&(a=l==="true"?"checked":"unchecked"),Ud(e,"list",a,r)}function HA(t,e,r){if(!yp(e,`
`)){if(sc(t,r)&&(t.childNodes.length>0||t instanceof HTMLParagraphElement))return e.insert(`
`);if(e.length()>0&&t.nextSibling){let n=t.nextSibling;for(;n!=null;){if(sc(n,r))return e.insert(`
`);const a=r.query(n);if(a&&a.prototype instanceof Ya)return e.insert(`
`);n=n.firstChild}}}return e}function Die(t,e,r){var l;const n={},a=t.style||{};return a.fontStyle==="italic"&&(n.italic=!0),a.textDecoration==="underline"&&(n.underline=!0),a.textDecoration==="line-through"&&(n.strike=!0),((l=a.fontWeight)!=null&&l.startsWith("bold")||parseInt(a.fontWeight,10)>=700)&&(n.bold=!0),e=Object.entries(n).reduce((c,d)=>{let[f,h]=d;return Ud(c,f,h,r)},e),parseFloat(a.textIndent||0)>0?new it().insert("	").concat(e):e}function Oie(t,e,r){var a,l;const n=((a=t.parentElement)==null?void 0:a.tagName)==="TABLE"?t.parentElement:(l=t.parentElement)==null?void 0:l.parentElement;if(n!=null){const d=Array.from(n.querySelectorAll("tr")).indexOf(t)+1;return Ud(e,"table",d,r)}return e}function Mie(t,e,r){var a;let n=t.data;if(((a=t.parentElement)==null?void 0:a.tagName)==="O:P")return e.insert(n.trim());if(!SL(t)){if(n.trim().length===0&&n.includes(`
`)&&!_ie(t,r))return e;n=n.replace(/[^\S\u00a0]/g," "),n=n.replace(/ {2,}/g," "),(t.previousSibling==null&&t.parentElement!=null&&sc(t.parentElement,r)||t.previousSibling instanceof Element&&sc(t.previousSibling,r))&&(n=n.replace(/^ /,"")),(t.nextSibling==null&&t.parentElement!=null&&sc(t.parentElement,r)||t.nextSibling instanceof Element&&sc(t.nextSibling,r))&&(n=n.replace(/ $/,"")),n=n.replaceAll(""," ")}return e.insert(n)}class EL extends Ii{constructor(r,n){super(r,n);qe(this,"lastRecorded",0);qe(this,"ignoreChange",!1);qe(this,"stack",{undo:[],redo:[]});qe(this,"currentRange",null);this.quill.on(De.events.EDITOR_CHANGE,(a,l,c,d)=>{a===De.events.SELECTION_CHANGE?l&&d!==De.sources.SILENT&&(this.currentRange=l):a===De.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||d===De.sources.USER?this.record(l,c):this.transform(l)),this.currentRange=eN(this.currentRange,l))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",a=>{a.inputType==="historyUndo"?(this.undo(),a.preventDefault()):a.inputType==="historyRedo"&&(this.redo(),a.preventDefault())})}change(r,n){if(this.stack[r].length===0)return;const a=this.stack[r].pop();if(!a)return;const l=this.quill.getContents(),c=a.delta.invert(l);this.stack[n].push({delta:c,range:eN(a.range,c)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(a.delta,De.sources.USER),this.ignoreChange=!1,this.restoreSelection(a)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(r,n){if(r.ops.length===0)return;this.stack.redo=[];let a=r.invert(n),l=this.currentRange;const c=Date.now();if(this.lastRecorded+this.options.delay>c&&this.stack.undo.length>0){const d=this.stack.undo.pop();d&&(a=a.compose(d.delta),l=d.range)}else this.lastRecorded=c;a.length()!==0&&(this.stack.undo.push({delta:a,range:l}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(r){VA(this.stack.undo,r),VA(this.stack.redo,r)}undo(){this.change("undo","redo")}restoreSelection(r){if(r.range)this.quill.setSelection(r.range,De.sources.USER);else{const n=Lie(this.quill.scroll,r.delta);this.quill.setSelection(n,De.sources.USER)}}}qe(EL,"DEFAULTS",{delay:1e3,maxStack:100,userOnly:!1});function VA(t,e){let r=e;for(let n=t.length-1;n>=0;n-=1){const a=t[n];t[n]={delta:r.transform(a.delta,!0),range:a.range&&eN(a.range,r)},r=a.delta.transform(r),t[n].delta.length()===0&&t.splice(n,1)}}function Pie(t,e){const r=e.ops[e.ops.length-1];return r==null?!1:r.insert!=null?typeof r.insert=="string"&&r.insert.endsWith(`
`):r.attributes!=null?Object.keys(r.attributes).some(n=>t.query(n,ut.BLOCK)!=null):!1}function Lie(t,e){const r=e.reduce((a,l)=>a+(l.delete||0),0);let n=e.length()-r;return Pie(t,e)&&(n-=1),n}function eN(t,e){if(!t)return t;const r=e.transformPosition(t.index),n=e.transformPosition(t.index+t.length);return{index:r,length:n-r}}class kL extends Ii{constructor(e,r){super(e,r),e.root.addEventListener("drop",n=>{var c;n.preventDefault();let a=null;if(document.caretRangeFromPoint)a=document.caretRangeFromPoint(n.clientX,n.clientY);else if(document.caretPositionFromPoint){const d=document.caretPositionFromPoint(n.clientX,n.clientY);a=document.createRange(),a.setStart(d.offsetNode,d.offset),a.setEnd(d.offsetNode,d.offset)}const l=a&&e.selection.normalizeNative(a);if(l){const d=e.selection.normalizedToRange(l);(c=n.dataTransfer)!=null&&c.files&&this.upload(d,n.dataTransfer.files)}})}upload(e,r){const n=[];Array.from(r).forEach(a=>{var l;a&&((l=this.options.mimetypes)!=null&&l.includes(a.type))&&n.push(a)}),n.length>0&&this.options.handler.call(this,e,n)}}kL.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(t,e){if(!this.quill.scroll.query("image"))return;const r=e.map(n=>new Promise(a=>{const l=new FileReader;l.onload=()=>{a(l.result)},l.readAsDataURL(n)}));Promise.all(r).then(n=>{const a=n.reduce((l,c)=>l.insert({image:c}),new it().retain(t.index).delete(t.length));this.quill.updateContents(a,tt.sources.USER),this.quill.setSelection(t.index+n.length,tt.sources.SILENT)})}};const Iie=["insertText","insertReplacementText"];class Uie extends Ii{constructor(e,r){super(e,r),e.root.addEventListener("beforeinput",n=>{this.handleBeforeInput(n)}),/Android/i.test(navigator.userAgent)||e.on(De.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(e){r_({range:e,quill:this.quill})}replaceText(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(e.length===0)return!1;if(r){const n=this.quill.getFormat(e.index,1);this.deleteRange(e),this.quill.updateContents(new it().retain(e.index).insert(r,n),De.sources.USER)}else this.deleteRange(e);return this.quill.setSelection(e.index+r.length,0,De.sources.SILENT),!0}handleBeforeInput(e){if(this.quill.composition.isComposing||e.defaultPrevented||!Iie.includes(e.inputType))return;const r=e.getTargetRanges?e.getTargetRanges()[0]:null;if(!r||r.collapsed===!0)return;const n=Fie(e);if(n==null)return;const a=this.quill.selection.normalizeNative(r),l=a?this.quill.selection.normalizedToRange(a):null;l&&this.replaceText(l,n)&&e.preventDefault()}handleCompositionStart(){const e=this.quill.getSelection();e&&this.replaceText(e)}}function Fie(t){var e;return typeof t.data=="string"?t.data:(e=t.dataTransfer)!=null&&e.types.includes("text/plain")?t.dataTransfer.getData("text/plain"):null}const zie=/Mac/i.test(navigator.platform),$ie=100,qie=t=>!!(t.key==="ArrowLeft"||t.key==="ArrowRight"||t.key==="ArrowUp"||t.key==="ArrowDown"||t.key==="Home"||zie&&t.key==="a"&&t.ctrlKey===!0);class Bie extends Ii{constructor(r,n){super(r,n);qe(this,"isListening",!1);qe(this,"selectionChangeDeadline",0);this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(r,n){let{line:a,event:l}=n;if(!(a instanceof Si)||!a.uiNode)return!0;const c=getComputedStyle(a.domNode).direction==="rtl";return c&&l.key!=="ArrowRight"||!c&&l.key!=="ArrowLeft"?!0:(this.quill.setSelection(r.index-1,r.length+(l.shiftKey?1:0),De.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",r=>{!r.defaultPrevented&&qie(r)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+$ie,this.isListening)return;this.isListening=!0;const r=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",r,{once:!0})}handleSelectionChange(){const r=document.getSelection();if(!r)return;const n=r.getRangeAt(0);if(n.collapsed!==!0||n.startOffset!==0)return;const a=this.quill.scroll.find(n.startContainer);if(!(a instanceof Si)||!a.uiNode)return;const l=document.createRange();l.setStartAfter(a.uiNode),l.setEndAfter(a.uiNode),r.removeAllRanges(),r.addRange(l)}}De.register({"blots/block":cn,"blots/block/embed":Ya,"blots/break":Li,"blots/container":Ld,"blots/cursor":xf,"blots/embed":X1,"blots/inline":hl,"blots/scroll":qu,"blots/text":Ai,"modules/clipboard":_L,"modules/history":EL,"modules/keyboard":Ev,"modules/uploader":kL,"modules/input":Uie,"modules/uiNode":Bie});class Hie extends Pi{add(e,r){let n=0;if(r==="+1"||r==="-1"){const a=this.value(e)||0;n=r==="+1"?a+1:a-1}else typeof r=="number"&&(n=r);return n===0?(this.remove(e),!0):super.add(e,n.toString())}canAdd(e,r){return super.canAdd(e,r)||super.canAdd(e,parseInt(r,10))}value(e){return parseInt(super.value(e),10)||void 0}}const Vie=new Hie("indent","ql-indent",{scope:ut.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class tN extends cn{}qe(tN,"blotName","blockquote"),qe(tN,"tagName","blockquote");class sN extends cn{static formats(e){return this.tagName.indexOf(e.tagName)+1}}qe(sN,"blotName","header"),qe(sN,"tagName",["H1","H2","H3","H4","H5","H6"]);class vp extends Ld{}vp.blotName="list-container";vp.tagName="OL";class bp extends cn{static create(e){const r=super.create();return r.setAttribute("data-list",e),r}static formats(e){return e.getAttribute("data-list")||void 0}static register(){De.register(vp)}constructor(e,r){super(e,r);const n=r.ownerDocument.createElement("span"),a=l=>{if(!e.isEnabled())return;const c=this.statics.formats(r,e);c==="checked"?(this.format("list","unchecked"),l.preventDefault()):c==="unchecked"&&(this.format("list","checked"),l.preventDefault())};n.addEventListener("mousedown",a),n.addEventListener("touchstart",a),this.attachUI(n)}format(e,r){e===this.statics.blotName&&r?this.domNode.setAttribute("data-list",r):super.format(e,r)}}bp.blotName="list";bp.tagName="LI";vp.allowedChildren=[bp];bp.requiredContainer=vp;class Vm extends hl{static create(){return super.create()}static formats(){return!0}optimize(e){super.optimize(e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}qe(Vm,"blotName","bold"),qe(Vm,"tagName",["STRONG","B"]);class rN extends Vm{}qe(rN,"blotName","italic"),qe(rN,"tagName",["EM","I"]);class rc extends hl{static create(e){const r=super.create(e);return r.setAttribute("href",this.sanitize(e)),r.setAttribute("rel","noopener noreferrer"),r.setAttribute("target","_blank"),r}static formats(e){return e.getAttribute("href")}static sanitize(e){return CL(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}format(e,r){e!==this.statics.blotName||!r?super.format(e,r):this.domNode.setAttribute("href",this.constructor.sanitize(r))}}qe(rc,"blotName","link"),qe(rc,"tagName","A"),qe(rc,"SANITIZED_URL","about:blank"),qe(rc,"PROTOCOL_WHITELIST",["http","https","mailto","tel","sms"]);function CL(t,e){const r=document.createElement("a");r.href=t;const n=r.href.slice(0,r.href.indexOf(":"));return e.indexOf(n)>-1}class nN extends hl{static create(e){return e==="super"?document.createElement("sup"):e==="sub"?document.createElement("sub"):super.create(e)}static formats(e){if(e.tagName==="SUB")return"sub";if(e.tagName==="SUP")return"super"}}qe(nN,"blotName","script"),qe(nN,"tagName",["SUB","SUP"]);class aN extends Vm{}qe(aN,"blotName","strike"),qe(aN,"tagName",["S","STRIKE"]);class iN extends hl{}qe(iN,"blotName","underline"),qe(iN,"tagName","U");class Sg extends X1{static create(e){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const r=super.create(e);return typeof e=="string"&&(window.katex.render(e,r,{throwOnError:!1,errorColor:"#f00"}),r.setAttribute("data-value",e)),r}static value(e){return e.getAttribute("data-value")}html(){const{formula:e}=this.value();return`<span>${e}</span>`}}qe(Sg,"blotName","formula"),qe(Sg,"className","ql-formula"),qe(Sg,"tagName","SPAN");const YA=["alt","height","width"];class lN extends Aa{static create(e){const r=super.create(e);return typeof e=="string"&&r.setAttribute("src",this.sanitize(e)),r}static formats(e){return YA.reduce((r,n)=>(e.hasAttribute(n)&&(r[n]=e.getAttribute(n)),r),{})}static match(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}static sanitize(e){return CL(e,["http","https","data"])?e:"//:0"}static value(e){return e.getAttribute("src")}format(e,r){YA.indexOf(e)>-1?r?this.domNode.setAttribute(e,r):this.domNode.removeAttribute(e):super.format(e,r)}}qe(lN,"blotName","image"),qe(lN,"tagName","IMG");const WA=["height","width"];class Eg extends Ya{static create(e){const r=super.create(e);return r.setAttribute("frameborder","0"),r.setAttribute("allowfullscreen","true"),r.setAttribute("src",this.sanitize(e)),r}static formats(e){return WA.reduce((r,n)=>(e.hasAttribute(n)&&(r[n]=e.getAttribute(n)),r),{})}static sanitize(e){return rc.sanitize(e)}static value(e){return e.getAttribute("src")}format(e,r){WA.indexOf(e)>-1?r?this.domNode.setAttribute(e,r):this.domNode.removeAttribute(e):super.format(e,r)}html(){const{video:e}=this.value();return`<a href="${e}">${e}</a>`}}qe(Eg,"blotName","video"),qe(Eg,"className","ql-video"),qe(Eg,"tagName","IFRAME");const sm=new Pi("code-token","hljs",{scope:ut.INLINE});class no extends hl{static formats(e,r){for(;e!=null&&e!==r.domNode;){if(e.classList&&e.classList.contains(Rn.className))return super.formats(e,r);e=e.parentNode}}constructor(e,r,n){super(e,r,n),sm.add(this.domNode,n)}format(e,r){e!==no.blotName?super.format(e,r):r?sm.add(this.domNode,r):(sm.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),sm.value(this.domNode)||this.unwrap()}}no.blotName="code-token";no.className="ql-token";class Ha extends Rn{static create(e){const r=super.create(e);return typeof e=="string"&&r.setAttribute("data-language",e),r}static formats(e){return e.getAttribute("data-language")||"plain"}static register(){}format(e,r){e===this.statics.blotName&&r?this.domNode.setAttribute("data-language",r):super.format(e,r)}replaceWith(e,r){return this.formatAt(0,this.length(),no.blotName,!1),super.replaceWith(e,r)}}class cm extends Id{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(e,r){e===Ha.blotName&&(this.forceNext=!0,this.children.forEach(n=>{n.format(e,r)}))}formatAt(e,r,n,a){n===Ha.blotName&&(this.forceNext=!0),super.formatAt(e,r,n,a)}highlight(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head==null)return;const a=`${Array.from(this.domNode.childNodes).filter(c=>c!==this.uiNode).map(c=>c.textContent).join(`
`)}
`,l=Ha.formats(this.children.head.domNode);if(r||this.forceNext||this.cachedText!==a){if(a.trim().length>0||this.cachedText==null){const c=this.children.reduce((f,h)=>f.concat(uL(h,!1)),new it),d=e(a,l);c.diff(d).reduce((f,h)=>{let{retain:p,attributes:g}=h;return p?(g&&Object.keys(g).forEach(y=>{[Ha.blotName,no.blotName].includes(y)&&this.formatAt(f,p,y,g[y])}),f+p):f},0)}this.cachedText=a,this.forceNext=!1}}html(e,r){const[n]=this.children.find(e);return`<pre data-language="${n?Ha.formats(n.domNode):"plain"}">
${Sv(this.code(e,r))}
</pre>`}optimize(e){if(super.optimize(e),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const r=Ha.formats(this.children.head.domNode);r!==this.uiNode.value&&(this.uiNode.value=r)}}}cm.allowedChildren=[Ha];Ha.requiredContainer=cm;Ha.allowedChildren=[no,xf,Ai,Li];const Yie=(t,e,r)=>{if(typeof t.versionString=="string"){const n=t.versionString.split(".")[0];if(parseInt(n,10)>=11)return t.highlight(r,{language:e}).value}return t.highlight(e,r).value};class AL extends Ii{static register(){De.register(no,!0),De.register(Ha,!0),De.register(cm,!0)}constructor(e,r){if(super(e,r),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((n,a)=>{let{key:l}=a;return n[l]=!0,n},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(De.events.SCROLL_BLOT_MOUNT,e=>{if(!(e instanceof cm))return;const r=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(n=>{let{key:a,label:l}=n;const c=r.ownerDocument.createElement("option");c.textContent=l,c.setAttribute("value",a),r.appendChild(c)}),r.addEventListener("change",()=>{e.format(Ha.blotName,r.value),this.quill.root.focus(),this.highlight(e,!0)}),e.uiNode==null&&(e.attachUI(r),e.children.head&&(r.value=Ha.formats(e.children.head.domNode)))})}initTimer(){let e=null;this.quill.on(De.events.SCROLL_OPTIMIZE,()=>{e&&clearTimeout(e),e=setTimeout(()=>{this.highlight(),e=null},this.options.interval)})}highlight(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.quill.selection.composing)return;this.quill.update(De.sources.USER);const n=this.quill.getSelection();(e==null?this.quill.scroll.descendants(cm):[e]).forEach(l=>{l.highlight(this.highlightBlot,r)}),this.quill.update(De.sources.SILENT),n!=null&&this.quill.setSelection(n,De.sources.SILENT)}highlightBlot(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(r=this.languages[r]?r:"plain",r==="plain")return Sv(e).split(`
`).reduce((a,l,c)=>(c!==0&&a.insert(`
`,{[Rn.blotName]:r}),a.insert(l)),new it);const n=this.quill.root.ownerDocument.createElement("div");return n.classList.add(Rn.className),n.innerHTML=Yie(this.options.hljs,r,e),n_(this.quill.scroll,n,[(a,l)=>{const c=sm.value(a);return c?l.compose(new it().retain(l.length(),{[no.blotName]:c})):l}],[(a,l)=>a.data.split(`
`).reduce((c,d,f)=>(f!==0&&c.insert(`
`,{[Rn.blotName]:r}),c.insert(d)),l)],new WeakMap)}}AL.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};var ec;let Yl=(ec=class extends cn{static create(e){const r=super.create();return e?r.setAttribute("data-row",e):r.setAttribute("data-row",a_()),r}static formats(e){if(e.hasAttribute("data-row"))return e.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(e,r){e===ec.blotName&&r?this.domNode.setAttribute("data-row",r):super.format(e,r)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}},qe(ec,"blotName","table"),qe(ec,"tagName","TD"),ec);var eg;let kd=(eg=class extends Ld{checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const e=this.children.head.formats(),r=this.children.tail.formats(),n=this.next.children.head.formats(),a=this.next.children.tail.formats();return e.table===r.table&&e.table===n.table&&e.table===a.table}return!1}optimize(e){super.optimize(e),this.children.forEach(r=>{if(r.next==null)return;const n=r.formats(),a=r.next.formats();if(n.table!==a.table){const l=this.splitAfter(r);l&&l.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}},qe(eg,"blotName","table-row"),qe(eg,"tagName","TR"),eg);var tg;let ic=(tg=class extends Ld{},qe(tg,"blotName","table-body"),qe(tg,"tagName","TBODY"),tg);class yf extends Ld{balanceCells(){const e=this.descendants(kd),r=e.reduce((n,a)=>Math.max(a.children.length,n),0);e.forEach(n=>{new Array(r-n.children.length).fill(0).forEach(()=>{let a;n.children.head!=null&&(a=Yl.formats(n.children.head.domNode));const l=this.scroll.create(Yl.blotName,a);n.appendChild(l),l.optimize()})})}cells(e){return this.rows().map(r=>r.children.at(e))}deleteColumn(e){const[r]=this.descendant(ic);r==null||r.children.head==null||r.children.forEach(n=>{const a=n.children.at(e);a!=null&&a.remove()})}insertColumn(e){const[r]=this.descendant(ic);r==null||r.children.head==null||r.children.forEach(n=>{const a=n.children.at(e),l=Yl.formats(n.children.head.domNode),c=this.scroll.create(Yl.blotName,l);n.insertBefore(c,a)})}insertRow(e){const[r]=this.descendant(ic);if(r==null||r.children.head==null)return;const n=a_(),a=this.scroll.create(kd.blotName);r.children.head.children.forEach(()=>{const c=this.scroll.create(Yl.blotName,n);a.appendChild(c)});const l=r.children.at(e);r.insertBefore(a,l)}rows(){const e=this.children.head;return e==null?[]:e.children.map(r=>r)}}qe(yf,"blotName","table-container"),qe(yf,"tagName","TABLE");yf.allowedChildren=[ic];ic.requiredContainer=yf;ic.allowedChildren=[kd];kd.requiredContainer=ic;kd.allowedChildren=[Yl];Yl.requiredContainer=kd;function a_(){return`row-${Math.random().toString(36).slice(2,6)}`}let Wie=class extends Ii{static register(){De.register(Yl),De.register(kd),De.register(ic),De.register(yf)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(yf).forEach(e=>{e.balanceCells()})}deleteColumn(){const[e,,r]=this.getTable();r!=null&&(e.deleteColumn(r.cellOffset()),this.quill.update(De.sources.USER))}deleteRow(){const[,e]=this.getTable();e!=null&&(e.remove(),this.quill.update(De.sources.USER))}deleteTable(){const[e]=this.getTable();if(e==null)return;const r=e.offset();e.remove(),this.quill.update(De.sources.USER),this.quill.setSelection(r,De.sources.SILENT)}getTable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(e==null)return[null,null,null,-1];const[r,n]=this.quill.getLine(e.index);if(r==null||r.statics.blotName!==Yl.blotName)return[null,null,null,-1];const a=r.parent;return[a.parent.parent,a,r,n]}insertColumn(e){const r=this.quill.getSelection();if(!r)return;const[n,a,l]=this.getTable(r);if(l==null)return;const c=l.cellOffset();n.insertColumn(c+e),this.quill.update(De.sources.USER);let d=a.rowOffset();e===0&&(d+=1),this.quill.setSelection(r.index+d,r.length,De.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(e){const r=this.quill.getSelection();if(!r)return;const[n,a,l]=this.getTable(r);if(l==null)return;const c=a.rowOffset();n.insertRow(c+e),this.quill.update(De.sources.USER),e>0?this.quill.setSelection(r,De.sources.SILENT):this.quill.setSelection(r.index+a.children.length,r.length,De.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(e,r){const n=this.quill.getSelection();if(n==null)return;const a=new Array(e).fill(0).reduce(l=>{const c=new Array(r).fill(`
`).join("");return l.insert(c,{table:a_()})},new it().retain(n.index));this.quill.updateContents(a,De.sources.USER),this.quill.setSelection(n.index,De.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(De.events.SCROLL_OPTIMIZE,e=>{e.some(r=>["TD","TR","TBODY","TABLE"].includes(r.target.tagName)?(this.quill.once(De.events.TEXT_CHANGE,(n,a,l)=>{l===De.sources.USER&&this.balanceTables()}),!0):!1)})}};const GA=ho("quill:toolbar");class i_ extends Ii{constructor(e,r){var n,a;if(super(e,r),Array.isArray(this.options.container)){const l=document.createElement("div");l.setAttribute("role","toolbar"),Gie(l,this.options.container),(a=(n=e.container)==null?void 0:n.parentNode)==null||a.insertBefore(l,e.container),this.container=l}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){GA.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(l=>{var d;const c=(d=this.options.handlers)==null?void 0:d[l];c&&this.addHandler(l,c)}),Array.from(this.container.querySelectorAll("button, select")).forEach(l=>{this.attach(l)}),this.quill.on(De.events.EDITOR_CHANGE,()=>{const[l]=this.quill.selection.getRange();this.update(l)})}addHandler(e,r){this.handlers[e]=r}attach(e){let r=Array.from(e.classList).find(a=>a.indexOf("ql-")===0);if(!r)return;if(r=r.slice(3),e.tagName==="BUTTON"&&e.setAttribute("type","button"),this.handlers[r]==null&&this.quill.scroll.query(r)==null){GA.warn("ignoring attaching to nonexistent format",r,e);return}const n=e.tagName==="SELECT"?"change":"click";e.addEventListener(n,a=>{let l;if(e.tagName==="SELECT"){if(e.selectedIndex<0)return;const d=e.options[e.selectedIndex];d.hasAttribute("selected")?l=!1:l=d.value||!1}else e.classList.contains("ql-active")?l=!1:l=e.value||!e.hasAttribute("value"),a.preventDefault();this.quill.focus();const[c]=this.quill.selection.getRange();if(this.handlers[r]!=null)this.handlers[r].call(this,l);else if(this.quill.scroll.query(r).prototype instanceof Aa){if(l=prompt(`Enter ${r}`),!l)return;this.quill.updateContents(new it().retain(c.index).delete(c.length).insert({[r]:l}),De.sources.USER)}else this.quill.format(r,l,De.sources.USER);this.update(c)}),this.controls.push([r,e])}update(e){const r=e==null?{}:this.quill.getFormat(e);this.controls.forEach(n=>{const[a,l]=n;if(l.tagName==="SELECT"){let c=null;if(e==null)c=null;else if(r[a]==null)c=l.querySelector("option[selected]");else if(!Array.isArray(r[a])){let d=r[a];typeof d=="string"&&(d=d.replace(/"/g,'\\"')),c=l.querySelector(`option[value="${d}"]`)}c==null?(l.value="",l.selectedIndex=-1):c.selected=!0}else if(e==null)l.classList.remove("ql-active"),l.setAttribute("aria-pressed","false");else if(l.hasAttribute("value")){const c=r[a],d=c===l.getAttribute("value")||c!=null&&c.toString()===l.getAttribute("value")||c==null&&!l.getAttribute("value");l.classList.toggle("ql-active",d),l.setAttribute("aria-pressed",d.toString())}else{const c=r[a]!=null;l.classList.toggle("ql-active",c),l.setAttribute("aria-pressed",c.toString())}})}}i_.DEFAULTS={};function ZA(t,e,r){const n=document.createElement("button");n.setAttribute("type","button"),n.classList.add(`ql-${e}`),n.setAttribute("aria-pressed","false"),r!=null?(n.value=r,n.setAttribute("aria-label",`${e}: ${r}`)):n.setAttribute("aria-label",e),t.appendChild(n)}function Gie(t,e){Array.isArray(e[0])||(e=[e]),e.forEach(r=>{const n=document.createElement("span");n.classList.add("ql-formats"),r.forEach(a=>{if(typeof a=="string")ZA(n,a);else{const l=Object.keys(a)[0],c=a[l];Array.isArray(c)?Zie(n,l,c):ZA(n,l,c)}}),t.appendChild(n)})}function Zie(t,e,r){const n=document.createElement("select");n.classList.add(`ql-${e}`),r.forEach(a=>{const l=document.createElement("option");a!==!1?l.setAttribute("value",String(a)):l.setAttribute("selected","selected"),n.appendChild(l)}),t.appendChild(n)}i_.DEFAULTS={container:null,handlers:{clean(){const t=this.quill.getSelection();if(t!=null)if(t.length===0){const e=this.quill.getFormat();Object.keys(e).forEach(r=>{this.quill.scroll.query(r,ut.INLINE)!=null&&this.quill.format(r,!1,De.sources.USER)})}else this.quill.removeFormat(t.index,t.length,De.sources.USER)},direction(t){const{align:e}=this.quill.getFormat();t==="rtl"&&e==null?this.quill.format("align","right",De.sources.USER):!t&&e==="right"&&this.quill.format("align",!1,De.sources.USER),this.quill.format("direction",t,De.sources.USER)},indent(t){const e=this.quill.getSelection(),r=this.quill.getFormat(e),n=parseInt(r.indent||0,10);if(t==="+1"||t==="-1"){let a=t==="+1"?1:-1;r.direction==="rtl"&&(a*=-1),this.quill.format("indent",n+a,De.sources.USER)}},link(t){t===!0&&(t=prompt("Enter link URL:")),this.quill.format("link",t,De.sources.USER)},list(t){const e=this.quill.getSelection(),r=this.quill.getFormat(e);t==="check"?r.list==="checked"||r.list==="unchecked"?this.quill.format("list",!1,De.sources.USER):this.quill.format("list","unchecked",De.sources.USER):this.quill.format("list",t,De.sources.USER)}}};const Kie='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',Xie='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',Qie='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',Jie='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',ele='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',tle='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',sle='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',rle='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',KA='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',nle='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',ale='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',ile='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>',lle='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',ole='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',cle='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',dle='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',ule='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',fle='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',hle='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>',mle='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',ple='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',xle='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',gle='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>',yle='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',vle='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',ble='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',jle='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>',wle='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',Nle='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>',_le='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',Sle='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',Ele='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',kle='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>',Ym={align:{"":Kie,center:Xie,right:Qie,justify:Jie},background:ele,blockquote:tle,bold:sle,clean:rle,code:KA,"code-block":KA,color:nle,direction:{"":ale,rtl:ile},formula:lle,header:{1:ole,2:cle,3:dle,4:ule,5:fle,6:hle},italic:mle,image:ple,indent:{"+1":xle,"-1":gle},link:yle,list:{bullet:vle,check:ble,ordered:jle},script:{sub:wle,super:Nle},strike:_le,table:Sle,underline:Ele,video:kle},Cle='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let XA=0;function QA(t,e){t.setAttribute(e,`${t.getAttribute(e)!=="true"}`)}class kv{constructor(e){this.select=e,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",r=>{switch(r.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),r.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),QA(this.label,"aria-expanded"),QA(this.options,"aria-hidden")}buildItem(e){const r=document.createElement("span");r.tabIndex="0",r.setAttribute("role","button"),r.classList.add("ql-picker-item");const n=e.getAttribute("value");return n&&r.setAttribute("data-value",n),e.textContent&&r.setAttribute("data-label",e.textContent),r.addEventListener("click",()=>{this.selectItem(r,!0)}),r.addEventListener("keydown",a=>{switch(a.key){case"Enter":this.selectItem(r,!0),a.preventDefault();break;case"Escape":this.escape(),a.preventDefault();break}}),r}buildLabel(){const e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=Cle,e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}buildOptions(){const e=document.createElement("span");e.classList.add("ql-picker-options"),e.setAttribute("aria-hidden","true"),e.tabIndex="-1",e.id=`ql-picker-options-${XA}`,XA+=1,this.label.setAttribute("aria-controls",e.id),this.options=e,Array.from(this.select.options).forEach(r=>{const n=this.buildItem(r);e.appendChild(n),r.selected===!0&&this.selectItem(n)}),this.container.appendChild(e)}buildPicker(){Array.from(this.select.attributes).forEach(e=>{this.container.setAttribute(e.name,e.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.container.querySelector(".ql-selected");e!==n&&(n!=null&&n.classList.remove("ql-selected"),e!=null&&(e.classList.add("ql-selected"),this.select.selectedIndex=Array.from(e.parentNode.children).indexOf(e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),r&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let e;if(this.select.selectedIndex>-1){const n=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(n)}else this.selectItem(null);const r=e!=null&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",r)}}class TL extends kv{constructor(e,r){super(e),this.label.innerHTML=r,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(n=>{n.classList.add("ql-primary")})}buildItem(e){const r=super.buildItem(e);return r.style.backgroundColor=e.getAttribute("value")||"",r}selectItem(e,r){super.selectItem(e,r);const n=this.label.querySelector(".ql-color-label"),a=e&&e.getAttribute("data-value")||"";n&&(n.tagName==="line"?n.style.stroke=a:n.style.fill=a)}}class RL extends kv{constructor(e,r){super(e),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(n=>{n.innerHTML=r[n.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(e,r){super.selectItem(e,r);const n=e||this.defaultItem;if(n!=null){if(this.label.innerHTML===n.innerHTML)return;this.label.innerHTML=n.innerHTML}}}const Ale=t=>{const{overflowY:e}=getComputedStyle(t,null);return e!=="visible"&&e!=="clip"};class DL{constructor(e,r){this.quill=e,this.boundsContainer=r||document.body,this.root=e.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,Ale(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(e){const r=e.left+e.width/2-this.root.offsetWidth/2,n=e.bottom+this.quill.root.scrollTop;this.root.style.left=`${r}px`,this.root.style.top=`${n}px`,this.root.classList.remove("ql-flip");const a=this.boundsContainer.getBoundingClientRect(),l=this.root.getBoundingClientRect();let c=0;if(l.right>a.right&&(c=a.right-l.right,this.root.style.left=`${r+c}px`),l.left<a.left&&(c=a.left-l.left,this.root.style.left=`${r+c}px`),l.bottom>a.bottom){const d=l.bottom-l.top,f=e.bottom-e.top+d;this.root.style.top=`${n-f}px`,this.root.classList.add("ql-flip")}return c}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}const Tle=[!1,"center","right","justify"],Rle=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],Dle=[!1,"serif","monospace"],Ole=["1","2","3",!1],Mle=["small",!1,"large","huge"];class jp extends gf{constructor(e,r){super(e,r);const n=a=>{if(!document.body.contains(e.root)){document.body.removeEventListener("click",n);return}this.tooltip!=null&&!this.tooltip.root.contains(a.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(l=>{l.container.contains(a.target)||l.close()})};e.emitter.listenDOM("click",document.body,n)}addModule(e){const r=super.addModule(e);return e==="toolbar"&&this.extendToolbar(r),r}buildButtons(e,r){Array.from(e).forEach(n=>{(n.getAttribute("class")||"").split(/\s+/).forEach(l=>{if(l.startsWith("ql-")&&(l=l.slice(3),r[l]!=null))if(l==="direction")n.innerHTML=r[l][""]+r[l].rtl;else if(typeof r[l]=="string")n.innerHTML=r[l];else{const c=n.value||"";c!=null&&r[l][c]&&(n.innerHTML=r[l][c])}})})}buildPickers(e,r){this.pickers=Array.from(e).map(a=>{if(a.classList.contains("ql-align")&&(a.querySelector("option")==null&&Wh(a,Tle),typeof r.align=="object"))return new RL(a,r.align);if(a.classList.contains("ql-background")||a.classList.contains("ql-color")){const l=a.classList.contains("ql-background")?"background":"color";return a.querySelector("option")==null&&Wh(a,Rle,l==="background"?"#ffffff":"#000000"),new TL(a,r[l])}return a.querySelector("option")==null&&(a.classList.contains("ql-font")?Wh(a,Dle):a.classList.contains("ql-header")?Wh(a,Ole):a.classList.contains("ql-size")&&Wh(a,Mle)),new kv(a)});const n=()=>{this.pickers.forEach(a=>{a.update()})};this.quill.on(tt.events.EDITOR_CHANGE,n)}}jp.DEFAULTS=ac({},gf.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let t=this.container.querySelector("input.ql-image[type=file]");t==null&&(t=document.createElement("input"),t.setAttribute("type","file"),t.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),t.classList.add("ql-image"),t.addEventListener("change",()=>{const e=this.quill.getSelection(!0);this.quill.uploader.upload(e,t.files),t.value=""}),this.container.appendChild(t)),t.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class OL extends DL{constructor(e,r){super(e,r),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",e=>{e.key==="Enter"?(this.save(),e.preventDefault()):e.key==="Escape"&&(this.cancel(),e.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;r!=null?this.textbox.value=r:e!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const n=this.quill.getBounds(this.quill.selection.savedRange);n!=null&&this.position(n),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${e}`)||""),this.root.setAttribute("data-mode",e)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:e}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:r}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",e,tt.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",e,tt.sources.USER)),this.quill.root.scrollTop=r;break}case"video":e=Ple(e);case"formula":{if(!e)break;const r=this.quill.getSelection(!0);if(r!=null){const n=r.index+r.length;this.quill.insertEmbed(n,this.root.getAttribute("data-mode"),e,tt.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(n+1," ",tt.sources.USER),this.quill.setSelection(n+2,tt.sources.USER)}break}}this.textbox.value="",this.hide()}}function Ple(t){let e=t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return e?`${e[1]||"https"}://www.youtube.com/embed/${e[2]}?showinfo=0`:(e=t.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${e[1]||"https"}://player.vimeo.com/video/${e[2]}/`:t}function Wh(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;e.forEach(n=>{const a=document.createElement("option");n===r?a.setAttribute("selected","selected"):a.setAttribute("value",String(n)),t.appendChild(a)})}const Lle=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class ML extends OL{constructor(e,r){super(e,r),this.quill.on(tt.events.EDITOR_CHANGE,(n,a,l,c)=>{if(n===tt.events.SELECTION_CHANGE)if(a!=null&&a.length>0&&c===tt.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const d=this.quill.getLines(a.index,a.length);if(d.length===1){const f=this.quill.getBounds(a);f!=null&&this.position(f)}else{const f=d[d.length-1],h=this.quill.getIndex(f),p=Math.min(f.length()-1,a.index+a.length-h),g=this.quill.getBounds(new Ed(h,p));g!=null&&this.position(g)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(tt.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const e=this.quill.getSelection();if(e!=null){const r=this.quill.getBounds(e);r!=null&&this.position(r)}},1)})}cancel(){this.show()}position(e){const r=super.position(e),n=this.root.querySelector(".ql-tooltip-arrow");return n.style.marginLeft="",r!==0&&(n.style.marginLeft=`${-1*r-n.offsetWidth/2}px`),r}}qe(ML,"TEMPLATE",['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""));class PL extends jp{constructor(e,r){r.modules.toolbar!=null&&r.modules.toolbar.container==null&&(r.modules.toolbar.container=Lle),super(e,r),this.quill.container.classList.add("ql-bubble")}extendToolbar(e){this.tooltip=new ML(this.quill,this.options.bounds),e.container!=null&&(this.tooltip.root.appendChild(e.container),this.buildButtons(e.container.querySelectorAll("button"),Ym),this.buildPickers(e.container.querySelectorAll("select"),Ym))}}PL.DEFAULTS=ac({},jp.DEFAULTS,{modules:{toolbar:{handlers:{link(t){t?this.quill.theme.tooltip.edit():this.quill.format("link",!1,De.sources.USER)}}}}});const Ile=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class LL extends OL{constructor(){super(...arguments);qe(this,"preview",this.root.querySelector("a.ql-preview"))}listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",r=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),r.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",r=>{if(this.linkRange!=null){const n=this.linkRange;this.restoreFocus(),this.quill.formatText(n,"link",!1,tt.sources.USER),delete this.linkRange}r.preventDefault(),this.hide()}),this.quill.on(tt.events.SELECTION_CHANGE,(r,n,a)=>{if(r!=null){if(r.length===0&&a===tt.sources.USER){const[l,c]=this.quill.scroll.descendant(rc,r.index);if(l!=null){this.linkRange=new Ed(r.index-c,l.length());const d=rc.formats(l.domNode);this.preview.textContent=d,this.preview.setAttribute("href",d),this.show();const f=this.quill.getBounds(this.linkRange);f!=null&&this.position(f);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}qe(LL,"TEMPLATE",['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""));class IL extends jp{constructor(e,r){r.modules.toolbar!=null&&r.modules.toolbar.container==null&&(r.modules.toolbar.container=Ile),super(e,r),this.quill.container.classList.add("ql-snow")}extendToolbar(e){e.container!=null&&(e.container.classList.add("ql-snow"),this.buildButtons(e.container.querySelectorAll("button"),Ym),this.buildPickers(e.container.querySelectorAll("select"),Ym),this.tooltip=new LL(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(r,n)=>{e.handlers.link.call(e,!n.format.link)}))}}IL.DEFAULTS=ac({},jp.DEFAULTS,{modules:{toolbar:{handlers:{link(t){if(t){const e=this.quill.getSelection();if(e==null||e.length===0)return;let r=this.quill.getText(e);/^\S+@\S+\.\S+$/.test(r)&&r.indexOf("mailto:")!==0&&(r=`mailto:${r}`);const{tooltip:n}=this.quill.theme;n.edit("link",r)}else this.quill.format("link",!1,De.sources.USER)}}}}});De.register({"attributors/attribute/direction":xL,"attributors/class/align":hL,"attributors/class/background":tie,"attributors/class/color":eie,"attributors/class/direction":gL,"attributors/class/font":bL,"attributors/class/size":wL,"attributors/style/align":mL,"attributors/style/background":e_,"attributors/style/color":J1,"attributors/style/direction":yL,"attributors/style/font":jL,"attributors/style/size":NL},!0);De.register({"formats/align":hL,"formats/direction":gL,"formats/indent":Vie,"formats/background":e_,"formats/color":J1,"formats/font":bL,"formats/size":wL,"formats/blockquote":tN,"formats/code-block":Rn,"formats/header":sN,"formats/list":bp,"formats/bold":Vm,"formats/code":t_,"formats/italic":rN,"formats/link":rc,"formats/script":nN,"formats/strike":aN,"formats/underline":iN,"formats/formula":Sg,"formats/image":lN,"formats/video":Eg,"modules/syntax":AL,"modules/table":Wie,"modules/toolbar":i_,"themes/bubble":PL,"themes/snow":IL,"ui/icons":Ym,"ui/picker":kv,"ui/icon-picker":RL,"ui/color-picker":TL,"ui/tooltip":DL},!0);class Cv extends ye.Component{constructor(e){super(e),this.editingAreaRef=x.createRef(),this.dirtyProps=["modules","formats","bounds","theme","children"],this.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],this.state={generation:0},this.selection=null,this.onEditorChange=(n,a,l,c)=>{var d,f;n==="text-change"?(d=this.onEditorChangeText)==null||d.call(this,this.editor.root.innerHTML,a,c,this.unprivilegedEditor):n==="selection-change"&&((f=this.onEditorChangeSelection)==null||f.call(this,a,c,this.unprivilegedEditor))};const r=this.isControlled()?e.value:e.defaultValue;this.value=r??""}validateProps(e){if(ye.Children.count(e.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(ye.Children.count(e.children)){const r=ye.Children.only(e.children);if((r==null?void 0:r.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&e.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")}shouldComponentUpdate(e,r){if(this.validateProps(e),!this.editor||this.state.generation!==r.generation)return!0;if("value"in e){const n=this.getEditorContents(),a=e.value??"";this.isEqualValue(a,n)||this.setEditorContents(this.editor,a)}return e.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,e.readOnly),[...this.cleanProps,...this.dirtyProps].some(n=>!Jo(e[n],this.props[n]))}shouldComponentRegenerate(e){return this.dirtyProps.some(r=>!Jo(e[r],this.props[r]))}componentDidMount(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())}componentWillUnmount(){this.destroyEditor()}componentDidUpdate(e,r){if(this.editor&&this.shouldComponentRegenerate(e)){const n=this.editor.getContents(),a=this.editor.getSelection();this.regenerationSnapshot={delta:n,selection:a},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==r.generation){const{delta:n,selection:a}=this.regenerationSnapshot;delete this.regenerationSnapshot,this.instantiateEditor();const l=this.editor;l.setContents(n),JA(()=>this.setEditorSelection(l,a))}}instantiateEditor(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())}destroyEditor(){var n;if(!this.editor)return;this.unhookEditor(this.editor);const e=(n=this.props.modules)==null?void 0:n.toolbar;if(!(typeof e=="object"&&e&&"container"in e&&typeof e.container=="string"||typeof e=="string")){const a=document.querySelector(".ql-toolbar");a&&a.remove()}delete this.editor}isControlled(){return"value"in this.props}getEditorConfig(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,tabIndex:this.props.tabIndex,theme:this.props.theme}}getEditor(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor}createEditor(e,r){const n=new De(e,r);return r.tabIndex!=null&&this.setEditorTabIndex(n,r.tabIndex),this.hookEditor(n),n}hookEditor(e){this.unprivilegedEditor=this.makeUnprivilegedEditor(e),e.on("editor-change",this.onEditorChange)}unhookEditor(e){e.off("editor-change",this.onEditorChange)}getEditorContents(){return this.value}getEditorSelection(){return this.selection}isDelta(e){return e&&e.ops}isEqualValue(e,r){return this.isDelta(e)&&this.isDelta(r)?Jo(e.ops,r.ops):Jo(e,r)}setEditorContents(e,r){this.value=r;const n=this.getEditorSelection();typeof r=="string"?e.setContents(e.clipboard.convert({html:r})):e.setContents(r),JA(()=>this.setEditorSelection(e,n))}setEditorSelection(e,r){if(this.selection=r,r){const n=e.getLength();r.index=Math.max(0,Math.min(r.index,n-1)),r.length=Math.max(0,Math.min(r.length,n-1-r.index)),e.setSelection(r)}}setEditorTabIndex(e,r){var n;(n=e==null?void 0:e.scroll)!=null&&n.domNode&&(e.scroll.domNode.tabIndex=r)}setEditorReadOnly(e,r){r?e.disable():e.enable()}makeUnprivilegedEditor(e){const r=e;return{getHTML:()=>r.root.innerHTML,getSemanticHTML:r.getSemanticHTML.bind(r),getLength:r.getLength.bind(r),getText:r.getText.bind(r),getContents:r.getContents.bind(r),getSelection:r.getSelection.bind(r),getBounds:r.getBounds.bind(r)}}getEditingArea(){const e=this.editingAreaRef.current;if(!e)throw new Error("Cannot find element for editing area");if(e.nodeType===3)throw new Error("Editing area cannot be a text node");return e}renderEditingArea(){const{children:e,preserveWhitespace:r}=this.props,{generation:n}=this.state,a={key:n,ref:this.editingAreaRef};return ye.Children.count(e)?ye.cloneElement(ye.Children.only(e),a):r?ye.createElement("pre",{...a}):ye.createElement("div",{...a})}render(){return ye.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:`quill ${this.props.className??""}`,onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())}onEditorChangeText(e,r,n,a){var c,d;if(!this.editor)return;const l=this.isDelta(this.value)?a.getContents():a.getHTML();l!==this.getEditorContents()&&(this.lastDeltaChangeSet=r,this.value=l,(d=(c=this.props).onChange)==null||d.call(c,e,r,n,a))}onEditorChangeSelection(e,r,n){var d,f,h,p,g,y;if(!this.editor)return;const a=this.getEditorSelection(),l=!a&&e,c=a&&!e;Jo(e,a)||(this.selection=e,(f=(d=this.props).onChangeSelection)==null||f.call(d,e,r,n),l?(p=(h=this.props).onFocus)==null||p.call(h,e,r,n):c&&((y=(g=this.props).onBlur)==null||y.call(g,a,r,n)))}focus(){this.editor&&this.editor.focus()}blur(){this.editor&&(this.selection=null,this.editor.blur())}}Cv.displayName="React Quill";Cv.Quill=De;Cv.defaultProps={theme:"snow",modules:{},readOnly:!1};function JA(t){Promise.resolve().then(t)}const Wm=x.forwardRef(({value:t="",onChange:e,placeholder:r="Start typing...",disabled:n=!1,className:a,minHeight:l=150,maxHeight:c,variant:d="default"},f)=>{const h=()=>{switch(d){case"minimal":return[["bold","italic","underline"],[{list:"ordered"},{list:"bullet"}],["clean"]];case"full":return[[{font:[]}],[{header:[1,2,3,4,5,6,!1]}],[{align:[]}],[{list:"ordered"},{list:"bullet"},{list:"check"}],[{indent:"-1"},{indent:"+1"}],["bold","italic","underline","strike"],[{script:"super"},{script:"sub"}],["blockquote","code-block"],[{color:[]},{background:[]}],["clean"]];default:return[[{header:[1,2,3,!1]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],[{align:[]}],["blockquote","code-block"],[{color:[]}],["clean"]]}},p=()=>{switch(d){case"minimal":return["bold","italic","underline","list","bullet","clean"];case"full":return["font","header","align","list","bullet","check","indent","bold","italic","underline","strike","script","blockquote","code-block","color","background","clean"];default:return["header","bold","italic","underline","strike","list","bullet","align","blockquote","code-block","color","clean"]}},g={toolbar:h()},y=p();return s.jsx("div",{className:Pe("rich-text-editor border border-input rounded-md overflow-hidden",n&&"opacity-50 pointer-events-none",a),style:{minHeight:`${l}px`,maxHeight:c?`${c}px`:void 0},children:s.jsx(Cv,{ref:f,theme:"snow",value:t,onChange:e,placeholder:r,readOnly:n,modules:g,formats:y,style:{height:"100%",minHeight:`${l}px`}})})});Wm.displayName="RichTextEditor";var Av="Switch",[Ule,ede]=tn(Av),[Fle,zle]=Ule(Av),UL=x.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:l,required:c,disabled:d,value:f="on",onCheckedChange:h,form:p,...g}=t,[y,b]=x.useState(null),j=Rt(e,k=>b(k)),w=x.useRef(!1),_=y?p||!!y.closest("form"):!0,[E,S]=Sa({prop:a,defaultProp:l??!1,onChange:h,caller:Av});return s.jsxs(Fle,{scope:r,checked:E,disabled:d,children:[s.jsx(Xe.button,{type:"button",role:"switch","aria-checked":E,"aria-required":c,"data-state":qL(E),"data-disabled":d?"":void 0,disabled:d,value:f,...g,ref:j,onClick:He(t.onClick,k=>{S(R=>!R),_&&(w.current=k.isPropagationStopped(),w.current||k.stopPropagation())})}),_&&s.jsx($L,{control:y,bubbles:!w.current,name:n,value:f,checked:E,required:c,disabled:d,form:p,style:{transform:"translateX(-100%)"}})]})});UL.displayName=Av;var FL="SwitchThumb",zL=x.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,a=zle(FL,r);return s.jsx(Xe.span,{"data-state":qL(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:e})});zL.displayName=FL;var $le="SwitchBubbleInput",$L=x.forwardRef(({__scopeSwitch:t,control:e,checked:r,bubbles:n=!0,...a},l)=>{const c=x.useRef(null),d=Rt(c,l),f=L1(r),h=EN(e);return x.useEffect(()=>{const p=c.current;if(!p)return;const g=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(g,"checked").set;if(f!==r&&b){const j=new Event("click",{bubbles:n});b.call(p,r),p.dispatchEvent(j)}},[f,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:d,style:{...a.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});$L.displayName=$le;function qL(t){return t?"checked":"unchecked"}var BL=UL,qle=zL;const HL=x.forwardRef(({className:t,...e},r)=>s.jsx(BL,{className:Pe("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:r,children:s.jsx(qle,{className:Pe("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));HL.displayName=BL.displayName;const Ble=oo({title:as().min(1,"Title is required").max(200,"Title must be less than 200 characters"),description:as().optional(),activity_date:as().min(1,"Date is required"),start_time:as().optional(),end_time:as().optional(),activity_type:tP(Ys,{required_error:"Activity type is required"}),meeting_link:as().optional(),location:as().optional(),is_active:mp().optional()}).refine(t=>{var e,r;return!(t.activity_type===Ys.ONLINE&&!((e=t.meeting_link)!=null&&e.trim())||t.activity_type===Ys.OFFLINE&&!((r=t.location)!=null&&r.trim()))},{message:"Meeting link is required for online activities, location is required for offline activities",path:["activity_type"]}).refine(t=>!(t.activity_type===Ys.ONLINE&&t.meeting_link&&!Nt.isValidMeetingLink(t.meeting_link)),{message:"Meeting link must be from Google Meet, Zoom, or Microsoft Teams",path:["meeting_link"]});function VL({mode:t,activity:e,onSuccess:r,onCancel:n}){const{user:a}=Jn(k=>k.auth),[l,c]=x.useState([]),[d,f]=x.useState([]),[h,p]=x.useState([]),[g,y]=x.useState(!1),b=ti({resolver:si(Ble),defaultValues:{title:"",description:"",activity_date:Ga(new Date,"yyyy-MM-dd"),start_time:"",end_time:"",activity_type:Ys.OFFLINE,meeting_link:"",location:"",is_active:!0}});x.useEffect(()=>{t==="edit"&&e?(b.reset({title:e.title,description:e.description||"",activity_date:e.activity_date,start_time:e.start_time||"",end_time:e.end_time||"",activity_type:e.activity_type||Ys.OFFLINE,meeting_link:e.meeting_link||"",location:e.location||"",is_active:e.is_active}),f([]),p([])):t==="create"&&(b.reset({title:"",description:"",activity_date:Ga(new Date,"yyyy-MM-dd"),start_time:"",end_time:"",activity_type:Ys.OFFLINE,meeting_link:"",location:"",is_active:!0}),c([]))},[t,e,b]);const j=k=>{p(R=>[...R,k])},w=k=>{p(R=>R.filter(L=>L!==k))},_=e&&a&&Nt.canEdit(e,a.id),E=async k=>{try{if(y(!0),t==="create"){if(a){const L=[{user_id:a.id,role:"owner"},...l.map(T=>({user_id:T.user_id,role:T.role}))],I={title:k.title,description:k.description,activity_date:k.activity_date,start_time:k.start_time,end_time:k.end_time,activity_type:k.activity_type,meeting_link:k.activity_type===Ys.ONLINE?k.meeting_link:void 0,location:k.activity_type===Ys.OFFLINE?k.location:void 0,participants:L};await Nt.createActivity(I)}}else if(t==="edit"&&e&&_){const R={title:k.title,description:k.description||void 0,activity_date:k.activity_date,start_time:k.start_time||void 0,end_time:k.end_time||void 0,activity_type:k.activity_type,meeting_link:k.activity_type===Ys.ONLINE&&k.meeting_link||void 0,location:k.activity_type===Ys.OFFLINE&&k.location||void 0,is_active:k.is_active};if(await Nt.updateActivity(e.id,R),d.length>0||h.length>0){const L={add_participants:d.length>0?d.map(I=>({user_id:I.user_id,role:I.role})):void 0,remove_participant_ids:h.length>0?h:void 0};await Nt.manageParticipants(e.id,L)}}r()}catch(R){console.error(`Error ${t==="create"?"creating":"updating"} activity:`,R)}finally{y(!1)}};if(t==="edit"&&(!e||!_))return s.jsx("div",{className:"w-full",children:s.jsx(ee,{children:s.jsx(te,{className:"py-8 text-center",children:s.jsxs("div",{className:"text-destructive",children:[s.jsx("p",{className:"text-lg font-medium mb-2",children:"Error"}),s.jsx("p",{className:"text-sm",children:e?"You don't have permission to edit this activity":"Activity not found"})]})})})});const S=({participant:k})=>{var L;const R=h.includes(k.id);return s.jsxs("div",{className:`flex items-center justify-between p-3 border rounded-lg ${R?"bg-red-50 opacity-50":""}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(na,{className:"h-8 w-8",children:s.jsx(aa,{className:"text-sm",children:((L=k.user_name)==null?void 0:L.slice(0,2).toUpperCase())||"U"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:k.user_name||"Unknown User"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:k.user_email}),k.employee_id&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:["ID: ",k.employee_id]}),s.jsxs(Ke,{className:`text-xs mt-1 ${R?"bg-red-100 text-red-800":""}`,children:[k.role.toUpperCase(),R&&" (Removed)"]})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:R?s.jsx(re,{type:"button",variant:"outline",size:"sm",onClick:()=>w(k.id),className:"text-green-600 hover:text-green-700",children:s.jsx(or,{className:"h-4 w-4"})}):k.role!=="owner"&&s.jsx(re,{type:"button",variant:"ghost",size:"sm",onClick:()=>j(k.id),className:"text-red-600 hover:text-red-700",children:s.jsx(KH,{className:"h-4 w-4"})})})]})};return s.jsx("div",{className:"w-full",children:s.jsx(co,{...b,children:s.jsxs("form",{onSubmit:b.handleSubmit(E),className:"space-y-6",children:[s.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[s.jsxs(ee,{children:[s.jsx(ue,{children:s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(Ze,{className:"h-5 w-5"}),"Activity Details"]})}),s.jsxs(te,{className:"space-y-4",children:[s.jsx(Jt,{control:b.control,name:"title",render:({field:k})=>s.jsxs(es,{children:[s.jsx(Gt,{children:"Title *"}),s.jsx(rs,{children:s.jsx(Ct,{placeholder:"Enter activity title",...k})}),s.jsx(ns,{})]})}),s.jsx(Jt,{control:b.control,name:"description",render:({field:k})=>s.jsxs(es,{children:[s.jsx(Gt,{children:"Description"}),s.jsx(rs,{children:s.jsx(Wm,{value:k.value||"",onChange:k.onChange,placeholder:"Enter activity description...",disabled:g,minHeight:120,maxHeight:300,variant:"default",className:"border-primary focus-within:border-primary"})}),s.jsx(ns,{})]})}),s.jsx(Jt,{control:b.control,name:"activity_date",render:({field:k})=>s.jsxs(es,{children:[s.jsx(Gt,{children:"Date *"}),s.jsx(rs,{children:s.jsx(Ct,{type:"date",...k})}),s.jsx(ns,{})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Jt,{control:b.control,name:"start_time",render:({field:k})=>s.jsxs(es,{children:[s.jsx(Gt,{children:"Start Time"}),s.jsx(rs,{children:s.jsx(Ct,{type:"time",...k})}),s.jsx(ns,{})]})}),s.jsx(Jt,{control:b.control,name:"end_time",render:({field:k})=>s.jsxs(es,{children:[s.jsx(Gt,{children:"End Time"}),s.jsx(rs,{children:s.jsx(Ct,{type:"time",...k})}),s.jsx(ns,{})]})})]}),s.jsx(Jt,{control:b.control,name:"activity_type",render:({field:k})=>s.jsxs(es,{children:[s.jsx(Gt,{children:"Activity Type *"}),s.jsx(rs,{children:s.jsxs(Lt,{value:k.value,onValueChange:k.onChange,children:[s.jsx(Dt,{children:s.jsx(It,{placeholder:"Select activity type"})}),s.jsxs(Ot,{children:[s.jsx($e,{value:Ys.ONLINE,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Gu,{className:"h-4 w-4"}),"Online Meeting"]})}),s.jsx($e,{value:Ys.OFFLINE,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ka,{className:"h-4 w-4"}),"In-Person/Offline"]})})]})]})}),s.jsx(ns,{})]})}),b.watch("activity_type")===Ys.ONLINE&&s.jsx(Jt,{control:b.control,name:"meeting_link",render:({field:k})=>s.jsxs(es,{children:[s.jsx(Gt,{children:"Meeting Link *"}),s.jsx(rs,{children:s.jsx(Ct,{type:"url",placeholder:"https://meet.google.com/xxx or https://zoom.us/j/xxx",...k})}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Supported: Google Meet, Zoom, Microsoft Teams"}),s.jsx(ns,{})]})}),s.jsx(Jt,{control:b.control,name:"location",render:({field:k})=>s.jsxs(es,{children:[s.jsx(Gt,{children:b.watch("activity_type")===Ys.OFFLINE?"Location *":"Additional Location Info (Optional)"}),s.jsx(rs,{children:s.jsx(Ct,{placeholder:b.watch("activity_type")===Ys.OFFLINE?"Meeting room, address, or venue":"Backup location or additional info",maxLength:200,...k})}),s.jsx(ns,{})]})}),t==="edit"&&s.jsx(Jt,{control:b.control,name:"is_active",render:({field:k})=>s.jsxs(es,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Gt,{className:"text-base",children:"Active"}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Deactivate to hide this activity from participants"})]}),s.jsx(rs,{children:s.jsx(HL,{checked:k.value,onCheckedChange:k.onChange})})]})})]})]}),s.jsxs(ee,{children:[s.jsx(ue,{children:s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(Ze,{className:"h-5 w-5"}),t==="create"?"Participants & PICs":"Manage Participants"]})}),s.jsx(te,{className:"space-y-4",children:t==="create"?s.jsx(ZC,{selectedParticipants:l,onParticipantsChange:c}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{children:"Add New Participants"}),s.jsx(ZC,{selectedParticipants:d,onParticipantsChange:f})]}),s.jsx(ys,{}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(kt,{children:"Current Participants"}),e==null?void 0:e.participants.map(k=>s.jsx(S,{participant:k},k.id))]})]})})]})]}),s.jsxs("div",{className:"flex justify-end gap-4",children:[s.jsx(re,{type:"button",variant:"outline",onClick:n,disabled:g,children:"Cancel"}),s.jsxs(re,{type:"submit",disabled:g,className:"gap-2",children:[g?t==="create"?"Creating...":"Saving...":t==="create"?"Create Activity":"Save Changes",t==="create"?s.jsx(or,{className:"h-4 w-4"}):null]})]})]})})})}function Hle(){const t=ht(),[e,r]=x.useState([]),[n,a]=x.useState([]),[l,c]=x.useState([]),[d,f]=x.useState([]),[h,p]=x.useState(null),[g,y]=x.useState(!1),[b,j]=x.useState(new Date),[w,_]=x.useState("calendar"),[E,S]=x.useState(!1),[k,R]=x.useState(new Set),L=x.useRef(!1),[I,T]=x.useState(1),[O,P]=x.useState(10),[X,A]=x.useState(0),[z,$]=x.useState(!1),[J,B]=x.useState(Ko.ALL),[M,V]=x.useState("all"),[Q,le]=x.useState(Ou.DATE),[H,K]=x.useState(bg.DESC),[Y,se]=x.useState(""),[G,C]=x.useState(""),U=[{label:"Dashboard",href:"/dashboard"},{label:"Activities",current:!0}],ne=x.useCallback(()=>({page:I,size:O,status:J!==Ko.ALL?J:void 0,activity_type:M!=="all"?M:void 0,sort_by:Q,sort_order:H,date_from:Y||void 0,date_to:G||void 0}),[I,O,J,M,Q,H,Y,G]),me=x.useCallback(async(q,de=!1)=>{if(!L.current)try{L.current=!0,y(!0);const je=ne();let Ue;q==="calendar"?Ue=[Nt.getAllActivities(je),Nt.getSummary()]:q==="my"?Ue=[Nt.getMyActivities(je),Nt.getSummary()]:Ue=[Nt.getMyCreatedActivities(je),Nt.getSummary()];const[Le,ae]=await Promise.all(Ue);q==="my"?c(Le.items):q==="created"&&f(Le.items),A(Le.total||0),$(Le.has_next||!1),p(ae),(de||!k.has(q))&&R(Ie=>new Set([...Ie,q]))}catch(je){console.error("Error loading activities:",je)}finally{y(!1),L.current=!1}},[ne]);x.useEffect(()=>{const q=Nt.parseFilterQuery(window.location.search),de=new URLSearchParams(window.location.search).get("tab")||"calendar";_(de),q.page&&T(q.page),q.size&&P(q.size),q.status&&B(q.status),q.activity_type&&V(q.activity_type),q.sort_by&&le(q.sort_by),q.sort_order&&K(q.sort_order),q.date_from&&se(q.date_from),q.date_to&&C(q.date_to),S(!0)},[]),x.useEffect(()=>{E&&me(w)},[E,me,w]),x.useEffect(()=>{E&&!L.current&&me(w,!0)},[I,O,J,M,Q,H,Y,G,w,E,me]),x.useEffect(()=>{b&&Ee()},[b]),x.useEffect(()=>{if(E){const q=ne(),de=Nt.buildFilterQuery(q),je=new URLSearchParams(de);je.set("tab",w);const Ue=je.toString(),Le=window.location.search.slice(1);if(Ue!==Le){const ae=`${window.location.pathname}?${Ue}`;window.history.replaceState(null,"",ae)}}},[I,O,J,M,Q,H,Y,G,w,E]);const ie=x.useCallback(async()=>{await me(w,!0)},[me,w]),Ee=x.useCallback(async()=>{try{const q=RO(b),de=p1(b),[je,Ue]=await Promise.all([Nt.getCalendarActivities(Ga(q,"yyyy-MM-dd"),Ga(de,"yyyy-MM-dd")),at.getApprovedLeaveActivities(Ga(q,"yyyy-MM-dd"),Ga(de,"yyyy-MM-dd"))]);r(je),a(Ue)}catch(q){console.error("Error loading calendar activities:",q)}},[b]),Oe=q=>{const de=e.filter(Ue=>m1(u0(Ue.activity_date),q)),je=n.filter(Ue=>{const Le=u0(Ue.start_date),ae=u0(Ue.end_date);return q>=Le&&q<=ae});return{activities:de,leaveEvents:je}},fe=q=>{const de=q==="prev"?gK(b):CO(b,1);j(de)},Ce=x.useCallback(async q=>{try{await Nt.deleteActivity(q),ie(),Ee()}catch(de){console.error("Failed to delete activity:",de)}},[ie,Ee]),pe=x.useCallback(async q=>{_(q),k.has(q)||await me(q)},[me,k]),ze=q=>{T(q)},lt=q=>{P(q),T(1)},Je=(q,de)=>{switch(T(1),q){case"status":B(de);break;case"type":V(de);break;case"sortBy":le(de);break;case"sortOrder":K(de);break;case"dateFrom":se(de);break;case"dateTo":C(de);break}},Zt=x.useMemo(()=>J!==Ko.ALL||M!=="all"||Y||G,[J,M,Y,G]),jt=()=>h?s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4 mb-6",children:[s.jsxs(ee,{children:[s.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(xe,{className:"text-sm font-medium",children:"Total Activities"}),s.jsx(Ze,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(te,{children:s.jsx("div",{className:"text-2xl font-bold",children:h.total_activities})})]}),s.jsxs(ee,{children:[s.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(xe,{className:"text-sm font-medium",children:"Upcoming"}),s.jsx(Pt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(te,{children:s.jsx("div",{className:"text-2xl font-bold",children:h.upcoming_activities})})]}),s.jsxs(ee,{children:[s.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(xe,{className:"text-sm font-medium",children:"As Owner"}),s.jsx(ws,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(te,{children:s.jsx("div",{className:"text-2xl font-bold",children:h.as_owner})})]}),s.jsxs(ee,{children:[s.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(xe,{className:"text-sm font-medium",children:"As PIC"}),s.jsx(ws,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(te,{children:s.jsx("div",{className:"text-2xl font-bold",children:h.as_pic})})]})]}):null;if(g&&!E)return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx(Ne,{className:"h-8 w-48 mb-2"}),s.jsx(Ne,{className:"h-4 w-96"})]}),s.jsx(Ne,{className:"h-10 w-32"})]}),s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[...Array(4)].map((q,de)=>s.jsx(tee,{},de))}),s.jsx(z1,{count:6})]});const kr=s.jsxs(re,{onClick:()=>t("/activities/create"),size:"sm",children:[s.jsx(or,{className:"h-4 w-4 mr-2"}),"Create Activity"]}),dr=()=>s.jsxs(Yr,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Status"}),s.jsxs(Lt,{value:J,onValueChange:q=>Je("status",q),children:[s.jsx(Dt,{children:s.jsx(It,{})}),s.jsxs(Ot,{children:[s.jsx($e,{value:Ko.ALL,children:"All"}),s.jsx($e,{value:Ko.UPCOMING,children:"Upcoming"}),s.jsx($e,{value:Ko.TODAY,children:"Today"}),s.jsx($e,{value:Ko.PAST,children:"Past"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Type"}),s.jsxs(Lt,{value:M,onValueChange:q=>Je("type",q),children:[s.jsx(Dt,{children:s.jsx(It,{})}),s.jsxs(Ot,{children:[s.jsx($e,{value:"all",children:"All Types"}),s.jsx($e,{value:Ys.ONLINE,children:"Online"}),s.jsx($e,{value:Ys.OFFLINE,children:"In-Person"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Sort By"}),s.jsxs(Lt,{value:Q,onValueChange:q=>Je("sortBy",q),children:[s.jsx(Dt,{children:s.jsx(It,{})}),s.jsxs(Ot,{children:[s.jsx($e,{value:Ou.DATE,children:"Date"}),s.jsx($e,{value:Ou.TITLE,children:"Title"}),s.jsx($e,{value:Ou.CREATED_AT,children:"Created"}),s.jsx($e,{value:Ou.PARTICIPANTS_COUNT,children:"Participants"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Sort Order"}),s.jsxs(Lt,{value:H,onValueChange:q=>Je("sortOrder",q),children:[s.jsx(Dt,{children:s.jsx(It,{})}),s.jsxs(Ot,{children:[s.jsx($e,{value:bg.ASC,children:"Ascending"}),s.jsx($e,{value:bg.DESC,children:"Descending"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Date From"}),s.jsx(Ct,{type:"date",value:Y,onChange:q=>Je("dateFrom",q.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Date To"}),s.jsx(Ct,{type:"date",value:G,onChange:q=>Je("dateTo",q.target.value)})]})]});return s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ye,{title:"Activities",description:"Manage and view all activities, schedule events, and track participation",breadcrumbs:U,actions:kr}),s.jsx(jt,{}),s.jsxs(XJ,{value:w,onValueChange:pe,children:[s.jsx(a3,{className:"my-8 md:my-4 p-0 bg-transparent ",children:s.jsxs("div",{className:"flex flex-wrap gap-2 w-full md:w-auto p-2 rounded-md bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700",children:[s.jsx(wg,{value:"calendar",children:"Calendar"}),s.jsx(wg,{value:"my",children:"My Activities"}),s.jsx(wg,{value:"created",children:"Created by Me"})]})}),s.jsx(Ng,{value:"calendar",className:"space-y-6",children:s.jsx(JJ,{selectedDate:b,setSelectedDate:j,calendarActivities:e,getActivitiesForDate:Oe,navigateMonth:fe,onDelete:Ce})}),s.jsx(Ng,{value:"my",className:"space-y-4",children:s.jsx(see,{FilteringSection:dr,loading:g,myActivities:l,hasActiveFilters:!!Zt,pageSize:O,total:X,page:I,hasNext:z,onPageChange:ze,onPageSizeChange:lt,onDelete:Ce})}),s.jsx(Ng,{value:"created",className:"space-y-4",children:s.jsx(ree,{FilteringSection:dr,loading:g,createdActivities:d,hasActiveFilters:!!Zt,pageSize:O,total:X,page:I,hasNext:z,onPageChange:ze,onPageSizeChange:lt,onDelete:Ce})})]})]})}function Vle(){const t=ht(),e=[{label:"Dashboard",href:"/dashboard"},{label:"Activities",href:"/activities"},{label:"Create",current:!0}],r=()=>{t("/activities")},n=()=>{t("/activities")};return s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ye,{title:"Create New Activity",description:"Schedule a new activity and assign participants",breadcrumbs:e,actions:s.jsxs(re,{variant:"outline",onClick:r,children:[s.jsx($t,{className:"h-4 w-4 mr-2"}),"Back to Activities"]})}),s.jsx("div",{className:"mt-6",children:s.jsx(VL,{mode:"create",onSuccess:n,onCancel:r})})]})}function Yle(){const{id:t}=zn(),e=ht(),{user:r}=Jn(k=>k.auth),[n,a]=x.useState(null),[l,c]=x.useState(!0),[d,f]=x.useState(!1);x.useEffect(()=>{t&&h()},[t]);const h=async()=>{try{c(!0);const k=await Nt.getActivityById(Number(t));a(k)}catch(k){console.error("Error loading activity:",k),e("/activities")}finally{c(!1)}},p=async()=>{if(n)try{f(!0),await Nt.deleteActivity(n.id),e("/activities")}catch(k){console.error("Error deleting activity:",k)}finally{f(!1)}},g=k=>{switch(k){case"owner":return"bg-purple-100 text-purple-800";case"pic":return"bg-blue-100 text-blue-800";case"participant":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},y=[{label:"Dashboard",href:"/dashboard"},{label:"Activities",href:"/activities"},{label:"Details",current:!0}],b=n&&r&&Nt.canEdit(n,r.id),j=(n==null?void 0:n.created_by)===(r==null?void 0:r.id),w=()=>{e("/activities")},_=k=>new Date(k).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});if(l)return s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ye,{title:"Activity Details",description:"Loading activity information...",breadcrumbs:y,actions:s.jsxs(re,{variant:"outline",onClick:w,children:[s.jsx($t,{className:"h-4 w-4 mr-2"}),"Back to Activities"]})}),s.jsx("div",{className:"mt-6",children:s.jsx(ee,{children:s.jsxs(te,{className:"py-8 text-center",children:[s.jsx(js,{className:"mx-auto h-8 w-8 animate-spin mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading activity details..."})]})})})]});if(!n)return s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ye,{title:"Activity Details",description:"Activity not found",breadcrumbs:y,actions:s.jsxs(re,{variant:"outline",onClick:w,children:[s.jsx($t,{className:"h-4 w-4 mr-2"}),"Back to Activities"]})}),s.jsx("div",{className:"mt-6",children:s.jsx(ee,{children:s.jsx(te,{className:"py-8 text-center",children:s.jsxs("div",{className:"text-destructive",children:[s.jsx("p",{className:"text-lg font-medium mb-2",children:"Error"}),s.jsx("p",{className:"text-sm",children:"Activity not found"})]})})})})]});const E=({participant:k})=>{var L;const R=k.user_id===(r==null?void 0:r.id);return s.jsx("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(na,{className:"h-8 w-8",children:s.jsx(aa,{className:"text-sm",children:((L=k.user_name)==null?void 0:L.slice(0,2).toUpperCase())||"U"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("p",{className:"font-medium text-sm",children:[k.user_name||"Unknown User",R&&s.jsx("span",{className:"text-xs text-muted-foreground",children:"(You)"})]}),s.jsx(Ke,{className:`text-xs ${g(k.role)}`,children:k.role.toUpperCase()})]}),k.employee_id&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:["ID: ",k.employee_id]}),k.org_unit_name&&s.jsx("p",{className:"text-xs text-muted-foreground",children:k.org_unit_name})]})]})})},S=()=>{const k=[];return b&&k.push(s.jsxs(re,{variant:"outline",onClick:()=>e(`/activities/${n.id}/edit`),children:[s.jsx(en,{className:"h-4 w-4 mr-2"}),"Edit"]},"edit")),j&&k.push(s.jsxs(Ls,{children:[s.jsx(Or,{asChild:!0,children:s.jsxs(re,{variant:"outline",className:"text-red-600 hover:text-red-700",children:[s.jsx(ea,{className:"h-4 w-4 mr-2"}),"Delete"]})}),s.jsxs(Ns,{children:[s.jsxs(_s,{children:[s.jsx(Es,{children:"Delete Activity"}),s.jsx(ks,{children:"Are you sure you want to delete this activity? This action cannot be undone."})]}),s.jsxs(Ss,{children:[s.jsx(As,{children:"Cancel"}),s.jsx(Cs,{onClick:p,disabled:d,className:"bg-red-600 hover:bg-red-700 focus:ring-red-600",children:d?"Deleting...":"Delete"})]})]})]},"delete")),k.push(s.jsxs(re,{variant:"outline",onClick:w,children:[s.jsx($t,{className:"h-4 w-4 mr-2"}),"Back to Activities"]},"back")),k};return s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ye,{title:n.title,description:`${Nt.formatActivityDate(n.activity_date)} ${n.start_time||n.end_time?" "+Nt.formatTimeRange(n.start_time,n.end_time):""}`,breadcrumbs:y,actions:s.jsx("div",{className:"flex items-center gap-2",children:S()})}),s.jsxs("div",{className:"mt-6 space-y-6",children:[s.jsxs(ee,{children:[s.jsx(ue,{children:s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(Ze,{className:"h-5 w-5"}),"Activity Overview",s.jsx("div",{className:"ml-auto flex items-center gap-2",children:n.activity_type===Ys.ONLINE?s.jsxs(Ke,{variant:"default",className:"bg-blue-500 hover:bg-blue-600 flex items-center gap-1",children:[s.jsx(Gu,{className:"h-3 w-3"}),"Online"]}):s.jsxs(Ke,{variant:"default",className:"bg-green-500 hover:bg-green-600 flex items-center gap-1",children:[s.jsx(Ka,{className:"h-3 w-3"}),"In-Person"]})})]})}),s.jsx(te,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Activity Date"}),s.jsx("p",{className:"text-lg",children:Nt.formatActivityDate(n.activity_date)})]}),(n.start_time||n.end_time)&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Time"}),s.jsx("p",{className:"text-lg",children:Nt.formatTimeRange(n.start_time,n.end_time)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Type"}),s.jsx("p",{className:"text-lg",children:Nt.getActivityTypeLabel(n.activity_type)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Participants"}),s.jsxs("p",{className:"text-lg",children:[n.participants.length," people"]})]})]})})]}),n.description&&s.jsxs(ee,{children:[s.jsx(ue,{children:s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(Ze,{className:"h-5 w-5"}),"Activity Description"]})}),s.jsx(te,{children:s.jsx("div",{className:"p-4 border rounded-lg",children:s.jsx(_r,{content:n.description,isDetailView:!0,className:"text-base leading-relaxed"})})})]}),s.jsxs(ee,{children:[s.jsx(ue,{children:s.jsxs(xe,{className:"flex items-center gap-2",children:[n.activity_type===Ys.ONLINE?s.jsx(Gu,{className:"h-5 w-5"}):s.jsx(Ka,{className:"h-5 w-5"}),n.activity_type===Ys.ONLINE?"Meeting Information":"Location Information"]})}),s.jsxs(te,{className:"space-y-4",children:[n.activity_type===Ys.ONLINE&&n.meeting_link&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Gu,{className:"h-4 w-4 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Meeting Link"}),s.jsxs("a",{href:n.meeting_link,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline flex items-center gap-1",children:["Join Meeting",s.jsx(am,{className:"h-3 w-3"})]})]})]}),n.location&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Ka,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:n.activity_type===Ys.OFFLINE?"Location":"Additional Location"}),s.jsx("p",{className:"text-muted-foreground",children:n.location})]})]})]})]}),s.jsxs(ee,{children:[s.jsx(ue,{children:s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(ws,{className:"h-5 w-5"}),"Participants",s.jsxs(Ke,{variant:"secondary",className:"ml-2",children:[n.participants.length," people"]})]})}),s.jsxs(te,{children:[s.jsx("div",{className:"grid gap-4 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3",children:n.participants.map(k=>s.jsx(E,{participant:k},k.id))}),s.jsx(ys,{className:"my-4"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"font-medium text-muted-foreground",children:"Owners"}),s.jsx("p",{className:"text-lg font-bold text-purple-600",children:n.participants.filter(k=>k.role==="owner").length})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"font-medium text-muted-foreground",children:"PICs"}),s.jsx("p",{className:"text-lg font-bold text-blue-600",children:n.participants.filter(k=>k.role==="pic").length})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"font-medium text-muted-foreground",children:"Participants"}),s.jsx("p",{className:"text-lg font-bold text-gray-600",children:n.participants.filter(k=>k.role==="participant").length})]})]})]})]}),s.jsxs(ee,{children:[s.jsx(ue,{children:s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(Pt,{className:"h-5 w-5"}),"Status Information"]})}),s.jsx(te,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-muted-foreground",children:"Created"}),s.jsx("p",{children:_(n.created_at)})]}),n.updated_at&&s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-muted-foreground",children:"Last Updated"}),s.jsx("p",{children:_(n.updated_at)})]})]})})]})]})]})}function Wle(){const{id:t}=zn(),e=ht(),[r,n]=x.useState(null),[a,l]=x.useState(!0);x.useEffect(()=>{t&&c()},[t]);const c=async()=>{try{l(!0);const p=await Nt.getActivityById(Number(t));n(p)}catch(p){console.error("Error loading activity:",p),e("/activities")}finally{l(!1)}},d=[{label:"Dashboard",href:"/dashboard"},{label:"Activities",href:"/activities"},{label:(r==null?void 0:r.title)||"Activity",href:r?`/activities/${r.id}`:"/activities"},{label:"Edit",current:!0}],f=()=>{e(r?`/activities/${r.id}`:"/activities")},h=()=>{e(r?`/activities/${r.id}`:"/activities")};return a?s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ye,{title:"Edit Activity",description:"Loading activity information...",breadcrumbs:[{label:"Dashboard",href:"/dashboard"},{label:"Activities",href:"/activities"},{label:"Edit",current:!0}],actions:s.jsxs(re,{variant:"outline",onClick:()=>e("/activities"),children:[s.jsx($t,{className:"h-4 w-4 mr-2"}),"Back to Activities"]})}),s.jsx("div",{className:"mt-6",children:s.jsx(ee,{children:s.jsxs(te,{className:"py-8 text-center",children:[s.jsx(js,{className:"mx-auto h-8 w-8 animate-spin mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading activity details..."})]})})})]}):r?s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ye,{title:"Edit Activity",description:"Update activity details and manage participants",breadcrumbs:d,actions:s.jsxs(re,{variant:"outline",onClick:f,children:[s.jsx($t,{className:"h-4 w-4 mr-2"}),"Back to Activity"]})}),s.jsx("div",{className:"mt-6",children:s.jsx(VL,{mode:"edit",activity:r,onSuccess:h,onCancel:f})})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ye,{title:"Edit Activity",description:"Activity not found",breadcrumbs:d,actions:s.jsxs(re,{variant:"outline",onClick:()=>e("/activities"),children:[s.jsx($t,{className:"h-4 w-4 mr-2"}),"Back to Activities"]})}),s.jsx("div",{className:"mt-6",children:s.jsx(ee,{children:s.jsx(te,{className:"py-8 text-center",children:s.jsxs("div",{className:"text-destructive",children:[s.jsx("p",{className:"text-lg font-medium mb-2",children:"Error"}),s.jsx("p",{className:"text-sm",children:"Activity not found"})]})})})})]})}var Tv="Checkbox",[Gle,tde]=tn(Tv),[Zle,Kle]=Gle(Tv),YL=x.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:l,required:c,disabled:d,value:f="on",onCheckedChange:h,form:p,...g}=t,[y,b]=x.useState(null),j=Rt(e,R=>b(R)),w=x.useRef(!1),_=y?p||!!y.closest("form"):!0,[E,S]=Sa({prop:a,defaultProp:l??!1,onChange:h,caller:Tv}),k=x.useRef(E);return x.useEffect(()=>{const R=y==null?void 0:y.form;if(R){const L=()=>S(k.current);return R.addEventListener("reset",L),()=>R.removeEventListener("reset",L)}},[y,S]),s.jsxs(Zle,{scope:r,state:E,disabled:d,children:[s.jsx(Xe.button,{type:"button",role:"checkbox","aria-checked":lc(E)?"mixed":E,"aria-required":c,"data-state":KL(E),"data-disabled":d?"":void 0,disabled:d,value:f,...g,ref:j,onKeyDown:He(t.onKeyDown,R=>{R.key==="Enter"&&R.preventDefault()}),onClick:He(t.onClick,R=>{S(L=>lc(L)?!0:!L),_&&(w.current=R.isPropagationStopped(),w.current||R.stopPropagation())})}),_&&s.jsx(ZL,{control:y,bubbles:!w.current,name:n,value:f,checked:E,required:c,disabled:d,form:p,style:{transform:"translateX(-100%)"},defaultChecked:lc(l)?!1:l})]})});YL.displayName=Tv;var WL="CheckboxIndicator",GL=x.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:n,...a}=t,l=Kle(WL,r);return s.jsx(Vr,{present:n||lc(l.state)||l.state===!0,children:s.jsx(Xe.span,{"data-state":KL(l.state),"data-disabled":l.disabled?"":void 0,...a,ref:e,style:{pointerEvents:"none",...t.style}})})});GL.displayName=WL;var Xle="CheckboxBubbleInput",ZL=x.forwardRef(({__scopeCheckbox:t,control:e,checked:r,bubbles:n=!0,defaultChecked:a,...l},c)=>{const d=x.useRef(null),f=Rt(d,c),h=L1(r),p=EN(e);x.useEffect(()=>{const y=d.current;if(!y)return;const b=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(b,"checked").set;if(h!==r&&w){const _=new Event("click",{bubbles:n});y.indeterminate=lc(r),w.call(y,lc(r)?!1:r),y.dispatchEvent(_)}},[h,r,n]);const g=x.useRef(lc(r)?!1:r);return s.jsx(Xe.input,{type:"checkbox","aria-hidden":!0,defaultChecked:a??g.current,...l,tabIndex:-1,ref:f,style:{...l.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});ZL.displayName=Xle;function lc(t){return t==="indeterminate"}function KL(t){return lc(t)?"indeterminate":t?"checked":"unchecked"}var Qle=YL,Jle=GL;function XL({className:t,...e}){return s.jsx(Qle,{"data-slot":"checkbox",className:Pe("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:s.jsx(Jle,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:s.jsx(Jy,{className:"size-3.5"})})})}const eoe=Wt.object({action:Wt.enum(["approved","rejected"]),notes:Wt.string()}).refine(t=>t.action==="rejected"?t.notes.trim().length>0:!0,{message:"Notes are required when rejecting an entry",path:["notes"]});function toe({open:t,onOpenChange:e,logbook:r,onSuccess:n}){const[a,l]=x.useState(!1),c=ti({resolver:si(eoe),defaultValues:{action:"approved",notes:""}}),d=c.watch("action"),f=async h=>{if(r)try{l(!0);const p={status:h.action,rejection_reason:h.action==="rejected"?h.notes:void 0};await bt.admin.approveLogbook(r.id,p),c.reset(),n(),e(!1)}catch(p){console.error("Failed to process logbook approval:",p)}finally{l(!1)}};return r?s.jsx(jd,{open:t,onOpenChange:e,children:s.jsxs(wd,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Um,{children:s.jsxs(Fm,{className:"flex items-center gap-2",children:[s.jsx(cr,{className:"h-5 w-5"}),"Review Logbook Entry"]})}),s.jsx("div",{className:"space-y-4",children:s.jsx(co,{...c,children:s.jsxs("form",{onSubmit:c.handleSubmit(f),className:"space-y-6",children:[s.jsxs(ee,{children:[s.jsxs(ue,{children:[s.jsx(xe,{children:"Approval Decision"}),s.jsx(Tt,{children:"Choose whether to approve or reject this logbook entry and provide your notes"})]}),s.jsxs(te,{className:"space-y-4",children:[s.jsx(Jt,{control:c.control,name:"action",render:({field:h})=>s.jsxs(es,{children:[s.jsx(Gt,{children:"Decision"}),s.jsx(rs,{children:s.jsxs("div",{className:"flex gap-4",children:[s.jsxs(re,{type:"button",variant:h.value==="approved"?"default":"outline",onClick:()=>h.onChange("approved"),className:"flex items-center gap-2",children:[s.jsx(cr,{className:"h-4 w-4"}),"Approve"]}),s.jsxs(re,{type:"button",variant:h.value==="rejected"?"destructive":"outline",onClick:()=>h.onChange("rejected"),className:"flex items-center gap-2",children:[s.jsx(An,{className:"h-4 w-4"}),"Reject"]})]})}),s.jsx(ns,{})]})}),d==="rejected"&&s.jsx(Jt,{control:c.control,name:"notes",render:({field:h})=>s.jsxs(es,{children:[s.jsx(Gt,{children:"Rejection Reason"}),s.jsx(rs,{children:s.jsx(Tn,{placeholder:"Please provide a reason for rejecting this logbook entry...",...h,rows:4})}),s.jsx(ns,{})]})}),s.jsx("div",{className:"p-4 bg-muted/50 rounded-lg",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"flex-shrink-0 mt-1",children:d==="approved"?s.jsx(cr,{className:"h-5 w-5 text-green-600"}):s.jsx(An,{className:"h-5 w-5 text-red-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:d==="approved"?"Approve Logbook Entry":"Reject Logbook Entry"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:d==="approved"?"The employee will be notified that their logbook entry has been approved.":"The employee will be notified of the rejection and can revise their logbook entry based on your feedback."})]})]})})]})]}),s.jsxs(U1,{children:[s.jsx(re,{type:"button",variant:"outline",onClick:()=>e(!1),disabled:a,children:"Cancel"}),s.jsx(re,{type:"submit",disabled:a,variant:d==="rejected"?"destructive":"default",children:a?"Processing...":d==="approved"?"Approve Entry":"Reject Entry"})]})]})})})]})}):null}function soe(){const[t,e]=x.useState([]),[r,n]=x.useState(null),[a,l]=x.useState(!0),[c,d]=x.useState(1),[f,h]=x.useState(10),[p,g]=x.useState(0),[y,b]=x.useState(!1),[j,w]=x.useState(!1),[_,E]=x.useState("all"),[S,k]=x.useState(new Date().getFullYear().toString()),[R,L]=x.useState("all"),{isAdmin:I,isMasterAdmin:T}=uo(),[O,P]=x.useState([]),[X,A]=x.useState(!1),[z,$]=x.useState(!1),[J,B]=x.useState(null),[M,V]=x.useState(!1),Q=ht(),le=[{label:"Dashboard",href:"/dashboard"},{label:"My Logbook",current:!0}],H=x.useCallback(()=>{const q=new URLSearchParams;return q.set("page",c.toString()),q.set("pageSize",f.toString()),q.set("status",_),q.set("year",S),q.set("month",R),q.toString()},[c,f,_,S,R]),K=x.useCallback(()=>{const q=new URLSearchParams(window.location.search),de=parseInt(q.get("page")||"1"),je=parseInt(q.get("pageSize")||"10"),Ue=q.get("status")||"all",Le=q.get("year")||new Date().getFullYear().toString(),ae=q.get("month")||"all";d(de),h(Math.max(je,10)),E(Ue),k(Le),L(ae),w(!0)},[]),Y=async()=>{try{l(!0);const q={page:c,size:Math.max(f,10)};if(_!=="all"&&(q.status=_),S!=="all"){const je=parseInt(S),Ue=new Date().getFullYear();if(je<=Ue+1)if(R!=="all"){const Le=parseInt(R);Le>=1&&Le<=12&&(q.month=Le,q.year=je)}else q.year=je}else if(R!=="all"){const je=new Date().getFullYear(),Ue=parseInt(R);Ue>=1&&Ue<=12&&(q.month=Ue,q.year=je)}const de=await bt.getMyLogbooks(q);e((de==null?void 0:de.items)||[]),g(de.total),b(de.has_next)}catch(q){console.error("Failed to fetch logbooks:",q)}finally{l(!1)}},se=async()=>{try{const q=new Date,de=await bt.getMonthlySummary(q.getFullYear(),q.getMonth()+1);n(de)}catch(q){console.error("Failed to fetch summary:",q)}};x.useEffect(()=>{K()},[K]),x.useEffect(()=>{j&&Y()},[c,f,_,S,R,j]),x.useEffect(()=>{if(j){const q=H(),de=q,je=window.location.search.slice(1);if(de!==je){const Ue=`${window.location.pathname}${q?"?"+q:""}`;window.history.replaceState(null,"",Ue)}}},[c,f,_,S,R,j,H]),x.useEffect(()=>{se()},[]);const G=async q=>{try{await bt.deleteLogbook(q),Y(),se()}catch(de){console.error("Failed to delete logbook:",de)}},C=()=>{Q("/logbook/create")},U=q=>{Q(`/logbook/${q.id}/edit`)},ne=q=>{Q(`/logbook/${q.id}/details`)},me=async q=>{try{await bt.submitForApproval(q.id),Y(),se()}catch(de){console.error("Failed to submit logbook:",de)}},ie=async q=>{try{await bt.revertToDraft(q.id),Y(),se()}catch(de){console.error("Failed to revert logbook:",de)}},Ee=async()=>{if(O.length!==0)try{A(!0),await Promise.all(O.map(q=>bt.admin.approveLogbook(q,{status:"approved"}))),P([]),Y(),se()}catch(q){console.error("Failed to bulk approve logbooks:",q)}finally{A(!1)}},Oe=async()=>{if(O.length!==0)try{A(!0),await Promise.all(O.map(q=>bt.admin.approveLogbook(q,{status:"rejected",rejection_reason:"Bulk rejection"}))),P([]),Y(),se()}catch(q){console.error("Failed to bulk reject logbooks:",q)}finally{A(!1)}},fe=q=>{P(de=>de.includes(q)?de.filter(je=>je!==q):[...de,q])},Ce=()=>{const q=ze.filter(de=>de.status==="submitted");O.length===q.length?P([]):P(q.map(de=>de.id))},pe=()=>{V(!M),P([])},ze=t,lt=new Date().getFullYear(),Je=Array.from({length:5},(q,de)=>lt-2+de),Zt=[{value:"1",label:"January"},{value:"2",label:"February"},{value:"3",label:"March"},{value:"4",label:"April"},{value:"5",label:"May"},{value:"6",label:"June"},{value:"7",label:"July"},{value:"8",label:"August"},{value:"9",label:"September"},{value:"10",label:"October"},{value:"11",label:"November"},{value:"12",label:"December"}],jt=q=>({draft:"text-gray-600 bg-gray-100",submitted:"text-blue-600 bg-blue-100",approved:"text-green-600 bg-green-100",rejected:"text-red-600 bg-red-100"})[q]||"text-gray-600 bg-gray-100",kr=q=>{switch(q){case"approved":return s.jsx(cr,{className:"h-4 w-4"});case"submitted":return s.jsx(Pt,{className:"h-4 w-4"});case"rejected":return s.jsx(ea,{className:"h-4 w-4"});default:return s.jsx(bs,{className:"h-4 w-4"})}},dr=s.jsxs("div",{className:"flex items-center gap-2",children:[(I||T)&&s.jsxs(re,{variant:M?"default":"outline",size:"sm",onClick:pe,children:[s.jsx(ws,{className:"h-4 w-4 mr-2"}),M?"User View":"Admin View"]}),s.jsx(re,{variant:"outline",size:"sm",onClick:()=>Q("/logbook/summary"),children:"Summary"}),s.jsxs(re,{onClick:C,size:"sm",children:[s.jsx(or,{className:"h-4 w-4 mr-2"}),"Create Entry"]})]});return s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ye,{title:"My Logbook",description:"Track your daily activities and work progress",breadcrumbs:le,actions:dr}),r&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsxs(ee,{children:[s.jsx(ue,{className:"pb-2",children:s.jsx(xe,{className:"text-sm font-medium text-muted-foreground",children:"Total Entries"})}),s.jsx(te,{className:"pt-0",children:s.jsx("div",{className:"text-2xl font-bold",children:r.total_entries})})]}),s.jsxs(ee,{children:[s.jsx(ue,{className:"pb-2",children:s.jsx(xe,{className:"text-sm font-medium text-muted-foreground",children:"Approved"})}),s.jsx(te,{className:"pt-0",children:s.jsx("div",{className:"text-2xl font-bold text-green-600",children:r.approved_entries})})]}),s.jsxs(ee,{children:[s.jsx(ue,{className:"pb-2",children:s.jsx(xe,{className:"text-sm font-medium text-muted-foreground",children:"Pending"})}),s.jsx(te,{className:"pt-0",children:s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:r.pending_entries})})]}),s.jsxs(ee,{children:[s.jsx(ue,{className:"pb-2",children:s.jsx(xe,{className:"text-sm font-medium text-muted-foreground",children:"Draft"})}),s.jsx(te,{className:"pt-0",children:s.jsx("div",{className:"text-2xl font-bold text-gray-600",children:r.draft_entries})})]}),s.jsxs(ee,{children:[s.jsx(ue,{className:"pb-2",children:s.jsx(xe,{className:"text-sm font-medium text-muted-foreground",children:"Completion Rate"})}),s.jsx(te,{className:"pt-0",children:s.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[Math.round(r.completion_rate),"%"]})})]})]}),M&&(I||T)&&s.jsxs(ee,{children:[s.jsxs(ue,{children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(bm,{className:"h-5 w-5"}),"Admin Actions"]}),s.jsx(Tt,{children:"Manage logbook entries and perform bulk operations"})]}),s.jsx(te,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(re,{variant:"outline",size:"sm",onClick:Ce,disabled:ze.filter(q=>q.status==="submitted").length===0,children:O.length===ze.filter(q=>q.status==="submitted").length?"Deselect All":"Select All Submitted"}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:[O.length," selected"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(re,{variant:"default",size:"sm",onClick:Ee,disabled:O.length===0||X,children:[s.jsx(cr,{className:"h-4 w-4 mr-2"}),"Bulk Approve"]}),s.jsxs(re,{variant:"destructive",size:"sm",onClick:Oe,disabled:O.length===0||X,children:[s.jsx(ZN,{className:"h-4 w-4 mr-2"}),"Bulk Reject"]})]})]})})]}),s.jsxs(Yr,{children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium text-primary",children:[s.jsx(Di,{className:"h-4 w-4"}),s.jsx("span",{children:"Status"})]}),s.jsxs("select",{className:"w-full border border-primary p-2 h-10 rounded-md bg-white dark:bg-gray-800",value:_,onChange:q=>E(q.target.value),children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"draft",children:"Draft"}),s.jsx("option",{value:"submitted",children:"Submitted"}),s.jsx("option",{value:"approved",children:"Approved"}),s.jsx("option",{value:"rejected",children:"Rejected"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium text-primary",children:[s.jsx(Ze,{className:"h-4 w-4"}),s.jsx("span",{children:"Year"})]}),s.jsxs("select",{className:"w-full border border-primary p-2 h-10 rounded-md bg-white dark:bg-gray-800",value:S,onChange:q=>k(q.target.value),children:[s.jsx("option",{value:"all",children:"All Years"}),Je.map(q=>s.jsx("option",{value:q.toString(),children:q},q))]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium text-primary",children:[s.jsx(Ze,{className:"h-4 w-4"}),s.jsx("span",{children:"Month"})]}),s.jsxs("select",{className:"w-full border border-primary p-2 h-10 rounded-md bg-white dark:bg-gray-800",value:R,onChange:q=>L(q.target.value),children:[s.jsx("option",{value:"all",children:"All Months"}),Zt.map(q=>s.jsx("option",{value:q.value,children:q.label},q.value))]})]})]}),s.jsx("div",{className:"space-y-4",children:a?Array.from({length:5}).map((q,de)=>s.jsxs(ee,{children:[s.jsx(ue,{children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"space-y-2 flex-1",children:[s.jsx(Ne,{className:"h-4 w-3/4"}),s.jsx(Ne,{className:"h-3 w-1/2"})]}),s.jsx(Ne,{className:"h-6 w-20"})]})}),s.jsx(te,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ne,{className:"h-3 w-full"}),s.jsx(Ne,{className:"h-3 w-2/3"})]})})]},de)):ze.length===0?s.jsx(ee,{children:s.jsx(te,{className:"py-8",children:s.jsxs("div",{className:"text-center text-muted-foreground",children:[s.jsx(bs,{className:"mx-auto h-12 w-12 mb-4 opacity-50"}),s.jsx("p",{className:"text-lg font-medium mb-2",children:"No logbook entries found"}),s.jsx("p",{className:"text-sm",children:_!=="all"||S!=="all"||R!=="all"?"Try adjusting your filters to see more results.":"Create your first logbook entry to get started."})]})})}):ze.map(q=>s.jsxs(ee,{className:"hover:shadow-md transition-shadow pt-4 pb-0",children:[s.jsx(ue,{children:s.jsxs("div",{className:"flex items-start gap-3",children:[M&&(I||T)&&q.status==="submitted"&&s.jsx(XL,{checked:O.includes(q.id),onCheckedChange:()=>fe(q.id),className:"mt-1"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(xe,{className:"text-lg",children:bt.formatLogDate(q.log_date)}),s.jsxs("div",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${jt(q.status)}`,children:[kr(q.status),q.status.charAt(0).toUpperCase()+q.status.slice(1)]}),q.evidences&&q.evidences.length>0&&s.jsxs("div",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-medium",children:[s.jsx(Tf,{className:"h-3 w-3"}),q.evidences.length]})]}),s.jsx(Tt,{className:"text-sm text-muted-foreground line-clamp-2",children:s.jsx(_r,{content:q.activity_description,isDetailView:!1,maxLength:120,className:"text-sm text-muted-foreground"})})]})]})}),s.jsx(te,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 rounded-lg bg-gray-50 border",children:[s.jsx("div",{className:"mb-2",children:s.jsx("h4",{className:"font-semibold text-gray-900",children:"Activity Description:"})}),s.jsx("div",{className:"text-gray-700 leading-relaxed",children:s.jsx(_r,{content:q.activity_description,isDetailView:!1})})]}),q.notes&&s.jsxs("div",{className:"p-4 rounded-lg bg-blue-50 border border-blue-200",children:[s.jsx("div",{className:"mb-2",children:s.jsx("h4",{className:"font-semibold text-blue-800",children:"Notes:"})}),s.jsx("div",{className:"text-blue-700 leading-relaxed",children:s.jsx(_r,{content:q.notes,isDetailView:!1})})]}),q.rejection_reason&&s.jsxs("div",{className:"p-4 rounded-lg bg-red-50 border border-red-200",children:[s.jsx("div",{className:"mb-2",children:s.jsx("h4",{className:"font-semibold text-red-800",children:"Rejection Reason:"})}),s.jsx("div",{className:"text-red-700 leading-relaxed",children:s.jsx(_r,{content:q.rejection_reason,isDetailView:!1})})]})]})}),s.jsx("div",{className:"px-6 py-3 border-t",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-0",children:[s.jsx("div",{className:"flex flex-wrap gap-2 w-full sm:w-auto",children:q.status==="draft"?s.jsxs(s.Fragment,{children:[s.jsxs(re,{variant:"outline",size:"sm",onClick:()=>U(q),className:"flex items-center gap-2",children:[s.jsx(en,{className:"h-4 w-4"}),s.jsx("span",{children:"Edit"})]}),s.jsxs(Ls,{children:[s.jsx(Or,{asChild:!0,children:s.jsxs(re,{variant:"default",size:"sm",className:"flex items-center gap-2",children:[s.jsx(qy,{className:"h-4 w-4"}),s.jsx("span",{children:"Submit"})]})}),s.jsxs(Ns,{children:[s.jsxs(_s,{children:[s.jsx(Es,{children:"Submit Logbook Entry"}),s.jsx(ks,{children:"Are you sure you want to submit this logbook entry for approval? Once submitted, you won't be able to edit it until it's reviewed."})]}),s.jsxs(Ss,{children:[s.jsx(As,{children:"Cancel"}),s.jsx(Cs,{onClick:()=>me(q),children:"Submit for Approval"})]})]})]})]}):q.status==="submitted"?s.jsxs(Ls,{children:[s.jsx(Or,{asChild:!0,children:s.jsxs(re,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[s.jsx(hc,{className:"h-4 w-4"}),s.jsx("span",{children:"Revert to Draft"})]})}),s.jsxs(Ns,{children:[s.jsxs(_s,{children:[s.jsx(Es,{children:"Revert to Draft"}),s.jsx(ks,{children:"Are you sure you want to revert this logbook entry back to draft status? This will allow you to edit it again, but any approval status will be lost."})]}),s.jsxs(Ss,{children:[s.jsx(As,{children:"Cancel"}),s.jsx(Cs,{onClick:()=>ie(q),children:"Revert to Draft"})]})]})]}):q.status==="rejected"?s.jsxs(Ls,{children:[s.jsx(Or,{asChild:!0,children:s.jsxs(re,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[s.jsx(hc,{className:"h-4 w-4"}),s.jsx("span",{children:"Revert for Approval"})]})}),s.jsxs(Ns,{children:[s.jsxs(_s,{children:[s.jsx(Es,{children:"Revert for Approval"}),s.jsx(ks,{children:"Are you sure you want to revert this logbook entry for approval? This will change its status back to submitted."})]}),s.jsxs(Ss,{children:[s.jsx(As,{children:"Cancel"}),s.jsx(Cs,{onClick:()=>ie(q),children:"Revert for Approval"})]})]})]}):null}),s.jsx("div",{className:"flex justify-start w-full sm:w-auto",children:s.jsxs(On,{children:[s.jsx(Mn,{asChild:!0,children:s.jsxs(re,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:[s.jsx(ra,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"More actions"})]})}),s.jsxs(un,{align:"end",children:[s.jsxs(ts,{onClick:()=>ne(q),children:[s.jsx(Ut,{className:"mr-2 h-4 w-4"}),"View Details"]}),(q.status==="draft"||q.status==="rejected")&&s.jsxs(ts,{onClick:()=>G(q.id),className:"text-red-600 focus:text-red-600",children:[s.jsx(ea,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})})]})})]},q.id))}),!a&&ze.length>0&&s.jsx(Ks,{currentPage:c,totalItems:p,itemsPerPage:f,onPageChange:d,onItemsPerPageChange:q=>h(Math.max(Number(q),10)),hasNext:y}),s.jsx(toe,{open:z,onOpenChange:$,logbook:J,onSuccess:()=>{Y(),se(),B(null)}})]})}function QL({files:t,existingFiles:e=[],onFilesChange:r,onExistingFileRemove:n,disabled:a=!1,maxFiles:l=10,acceptedTypes:c="image/*,application/pdf,.doc,.docx,.xls,.xlsx,.txt",className:d=""}){const[f,h]=x.useState([]),[p,g]=x.useState(!1),[y,b]=x.useState(""),[j,w]=x.useState([]),_=x.useRef(null),E=x.useCallback(A=>{const z=A.map(({file:$,description:J})=>{const B=Vs.isImageFile($.type)?Vs.createPreviewUrl($):void 0;return{file:$,description:J,preview:B}});h(z)},[]);ye.useEffect(()=>(E(t),()=>{f.forEach(A=>{A.preview&&Vs.revokePreviewUrl(A.preview)})}),[t,E]);const S=x.useCallback(A=>{b("");const z=e.filter(V=>V.evidenceId&&!j.includes(V.evidenceId)).length;if(t.length+z+A.length>l){b(`Maximum ${l} files allowed. Currently have ${t.length+z} files.`);return}const J=Vs.validateFiles(A);if(!J.isValid){b(J.error||"Invalid files");return}const B=A.map(V=>({file:V,description:""})),M=[...t,...B];r(M)},[t,e,l,r,j]),k=x.useCallback(A=>{A.preventDefault(),A.stopPropagation(),A.type==="dragenter"||A.type==="dragover"?g(!0):A.type==="dragleave"&&g(!1)},[]),R=x.useCallback(A=>{if(A.preventDefault(),A.stopPropagation(),g(!1),a)return;const z=Array.from(A.dataTransfer.files);S(z)},[a,S]),L=x.useCallback(A=>{const z=Array.from(A.target.files||[]);S(z)},[S]),I=x.useCallback(A=>{const z=f[A];z!=null&&z.preview&&Vs.revokePreviewUrl(z.preview);const $=t.filter((J,B)=>B!==A);r($)},[t,f,r]),T=x.useCallback((A,z)=>{const $=[...t];$[A]={...$[A],description:z},r($)},[t,r]),O=x.useCallback(A=>{w(z=>[...z,A]),n&&n(A)},[n]),P=A=>Vs.isImageFile(A)?s.jsx(im,{className:"h-4 w-4"}):Vs.isPdfFile(A)?s.jsx(bs,{className:"h-4 w-4"}):s.jsx(GN,{className:"h-4 w-4"}),X=()=>{var A;(A=_.current)==null||A.click()};return s.jsxs("div",{className:d,children:[s.jsxs("div",{className:`relative border-2 border-dashed rounded-lg p-6 transition-colors ${p?"border-primary bg-primary/5":"border-gray-300 hover:border-gray-400"} ${a?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,onDragEnter:k,onDragLeave:k,onDragOver:k,onDrop:R,onClick:a?void 0:X,children:[s.jsx("input",{ref:_,type:"file",multiple:!0,accept:c,onChange:L,className:"hidden",disabled:a}),s.jsxs("div",{className:"text-center",children:[s.jsx(vR,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),s.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:[s.jsx("span",{className:"font-medium text-primary",children:"Click to upload"})," or drag and drop"]}),s.jsx("p",{className:"text-xs text-gray-500",children:"Images, PDFs, Word docs, Excel files, or text files (max 10MB each)"}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Maximum ",l," files  Currently: ",t.length+e.filter(A=>A.evidenceId&&!j.includes(A.evidenceId)).length,"/",l]})]})]}),y&&s.jsxs(Br,{variant:"destructive",className:"mt-4",children:[s.jsx(ym,{className:"h-4 w-4"}),s.jsx(Hr,{children:y})]}),e.filter(A=>A.evidenceId&&!j.includes(A.evidenceId)).length>0&&s.jsxs("div",{className:"mt-6",children:[s.jsx("h4",{className:"text-sm font-medium mb-3 text-gray-700",children:"Current Evidence Files"}),s.jsx("div",{className:"grid gap-3 sm:grid-cols-1 lg:grid-cols-2",children:e.filter(A=>A.evidenceId&&!j.includes(A.evidenceId)).map(A=>s.jsx(ee,{className:"relative",children:s.jsxs(te,{className:"p-3",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[P(A.file.content_type),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium truncate",title:A.file.original_filename,children:A.file.original_filename}),s.jsx("p",{className:"text-xs text-gray-500",children:Vs.formatFileSize(A.file.file_size)})]})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(re,{type:"button",variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-gray-400 hover:text-blue-500",onClick:()=>qr.downloadFile(A.file.id,A.file.original_filename),title:"Download file",children:s.jsx(pl,{className:"h-3 w-3"})}),!a&&n&&A.evidenceId&&s.jsxs(Ls,{children:[s.jsx(Or,{asChild:!0,children:s.jsx(re,{type:"button",variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-gray-400 hover:text-red-500",title:"Delete file",children:s.jsx(ea,{className:"h-3 w-3"})})}),s.jsxs(Ns,{children:[s.jsxs(_s,{children:[s.jsx(Es,{children:"Delete Evidence File"}),s.jsxs(ks,{children:['Are you sure you want to delete "',A.file.original_filename,'"? This action cannot be undone and the file will be permanently removed from the logbook entry.']})]}),s.jsxs(Ss,{children:[s.jsx(As,{children:"Cancel"}),s.jsx(Cs,{onClick:()=>O(A.evidenceId),className:"bg-red-600 hover:bg-red-700 focus:ring-red-600",children:"Delete File"})]})]})]})]})]}),Vs.isImageFile(A.file.content_type)&&A.file.file_url&&s.jsx("div",{className:"mb-2",children:s.jsx("img",{src:qr.getFullFileUrl(A.file.file_url),alt:A.file.original_filename,className:"w-full h-20 object-cover rounded border",loading:"lazy"})}),A.description&&s.jsxs("div",{className:"mb-2",children:[s.jsx("p",{className:"text-xs text-gray-600 font-medium",children:"Description:"}),s.jsx("p",{className:"text-sm text-gray-700",children:A.description})]}),s.jsxs(Ke,{variant:"secondary",className:"text-xs",children:[Vs.getFileIcon(A.file.content_type)," Uploaded"]})]})},A.file.id))})]}),f.length>0&&s.jsxs("div",{className:"mt-6",children:[s.jsx("h4",{className:"text-sm font-medium mb-3 text-gray-700",children:"New Files to Upload"}),s.jsx("div",{className:"grid gap-3 sm:grid-cols-1 lg:grid-cols-2",children:f.map((A,z)=>s.jsx(ee,{className:"relative",children:s.jsxs(te,{className:"p-3",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[P(A.file.type),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium truncate",title:A.file.name,children:A.file.name}),s.jsx("p",{className:"text-xs text-gray-500",children:Vs.formatFileSize(A.file.size)})]})]}),!a&&s.jsx(re,{type:"button",variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-gray-400 hover:text-red-500",onClick:()=>I(z),children:s.jsx(ZN,{className:"h-3 w-3"})})]}),A.preview&&s.jsx("div",{className:"mb-2",children:s.jsx("img",{src:A.preview,alt:A.file.name,className:"w-full h-20 object-cover rounded border",loading:"lazy"})}),s.jsxs("div",{className:"mb-2",children:[s.jsx("label",{className:"text-xs font-medium text-gray-600 block mb-1",children:"Description (optional)"}),s.jsx(Tn,{placeholder:"Describe this evidence file...",value:A.description||"",onChange:$=>T(z,$.target.value),disabled:a,rows:2,className:"text-sm"})]}),A.uploading&&s.jsxs("div",{className:"mb-2",children:[s.jsx(_m,{value:A.progress||0,className:"h-1"}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Uploading... ",A.progress||0,"%"]})]}),A.error&&s.jsx("div",{className:"mb-2",children:s.jsx("p",{className:"text-xs text-red-500",children:A.error})}),s.jsxs(Ke,{variant:"outline",className:"text-xs",children:[Vs.getFileIcon(A.file.type)," Ready to upload"]})]})},z))})]}),(t.length>0||e.filter(A=>A.evidenceId&&!j.includes(A.evidenceId)).length>0)&&s.jsxs("div",{className:"mt-4 text-xs text-gray-500",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Accepted file types:"})," Images (JPEG, PNG, GIF, WebP), PDF, Word documents, Excel files, Text files"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Maximum file size:"})," 10MB per file"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Maximum files:"})," ",l," total files"]})]})]})}const roe=Wt.object({log_date:Wt.string().min(1,"Log date is required").refine(t=>{const e=new Date(t),r=new Date;return r.setHours(23,59,59,999),e<=r},{message:"Log date cannot be in the future"}),activity_description:Wt.string().min(20,"Activity description must be at least 20 characters"),notes:Wt.string().optional(),work_plan_detail_ids:Wt.array(Wt.number()).optional()});function JL({mode:t,logbook:e,onSuccess:r,onCancel:n,preselectedDate:a}){var T;const[l,c]=x.useState(!1),[d,f]=x.useState([]),[h,p]=x.useState(!1),[g,y]=x.useState([]),[b,j]=x.useState([]),w=Jn(O=>O.auth.user),_=ti({resolver:si(roe),defaultValues:{log_date:a||new Date().toISOString().split("T")[0],activity_description:"",notes:"",work_plan_detail_ids:[]}}),E=O=>{const P=document.createElement("DIV");return P.innerHTML=O,P.textContent||P.innerText||""},S=async()=>{if(w!=null&&w.id)try{p(!0);let P=(await Cn.getAvailableWorkPlanDetails(w.id)).available_work_plan_details;if(t==="edit"&&(e!=null&&e.work_plan_details)){const X=P.map(z=>z.work_plan_detail_id),A=e.work_plan_details.filter(z=>!X.includes(z.id)).map(z=>({work_plan_detail_id:z.id,planned_activity:z.planned_activity||"Unknown Activity",work_plan_id:z.work_plan_id||0,week_start_date:"",week_end_date:"",order_index:0}));P=[...P,...A]}f(P)}catch(O){console.error("Failed to fetch available work plan details:",O)}finally{p(!1)}};x.useEffect(()=>{S()},[w==null?void 0:w.id,t,e]),x.useEffect(()=>{var O;if(t==="edit"&&e){const P=((O=e.work_plan_details)==null?void 0:O.map(X=>X.id))||[];_.reset({log_date:e.log_date,activity_description:e.activity_description,notes:e.notes||"",work_plan_detail_ids:P}),y([]),j([])}else t==="create"&&(_.reset({log_date:a||new Date().toISOString().split("T")[0],activity_description:"",notes:"",work_plan_detail_ids:[]}),y([]),j([]))},[t,e,_,a]);const k=async O=>{var P;try{if(c(!0),E(O.activity_description).length<20){_.setError("activity_description",{message:"Activity description must be at least 20 characters (excluding HTML tags)"});return}const A=O;if(t==="create"){const z={log_date:A.log_date,activity_description:A.activity_description,notes:A.notes,work_plan_detail_ids:A.work_plan_detail_ids};await bt.createLogbook(z,g.length>0?g:void 0)}else if(t==="edit"&&e){const z=((P=e.evidences)==null?void 0:P.filter(J=>!b.includes(J.id)).map(J=>({file_upload_id:J.file_upload_id,description:J.description})))||[],$={activity_description:A.activity_description,notes:A.notes,work_plan_detail_ids:A.work_plan_detail_ids,evidences:z};await bt.updateLogbook(e.id,$,g.length>0?g:void 0,b.length>0?b:void 0)}r()}catch(X){console.error(`Failed to ${t} logbook:`,X)}finally{c(!1)}},R=()=>new Date(Date.now()+7*60*60*1e3).toISOString().split("T")[0],L=()=>{const O=new Date(Date.now()-864e5);return new Date(O.getTime()+7*60*60*1e3).toISOString().split("T")[0]},I=()=>d.map(O=>({id:O.work_plan_detail_id,description:O.planned_activity,planWeek:O.week_start_date?`Week of ${new Date(O.week_start_date).toLocaleDateString()}`:"Current Assignment"}));return s.jsx("div",{className:"w-full",children:s.jsx(co,{..._,children:s.jsxs("form",{onSubmit:_.handleSubmit(k),className:"space-y-6",children:[s.jsxs(ee,{children:[s.jsxs(ue,{children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(Ze,{className:"h-5 w-5"}),"Log Information"]}),s.jsx(Tt,{children:"Enter the date and details of your activities"})]}),s.jsxs(te,{className:"space-y-4",children:[s.jsx(Jt,{control:_.control,name:"log_date",render:({field:O})=>s.jsxs(es,{children:[s.jsx(Gt,{children:"Log Date"}),s.jsx(rs,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ct,{type:"date",...O,max:R(),disabled:t==="edit"}),t==="create"&&s.jsxs("div",{className:"flex gap-2",children:[s.jsx(re,{type:"button",variant:"outline",size:"sm",onClick:()=>O.onChange(R()),children:"Today"}),s.jsx(re,{type:"button",variant:"outline",size:"sm",onClick:()=>O.onChange(L()),children:"Yesterday"})]})]})}),s.jsx(Qr,{children:"Select the date for this log entry. Cannot be in the future."}),s.jsx(ns,{})]})}),s.jsx(Jt,{control:_.control,name:"activity_description",render:({field:O})=>s.jsxs(es,{children:[s.jsx(Gt,{children:"Activity Description"}),s.jsx(rs,{children:s.jsx(Wm,{value:O.value,onChange:O.onChange,placeholder:"Describe your activities for this day in detail...",disabled:l,minHeight:200,maxHeight:400,variant:"default",className:"border-primary focus-within:border-primary"})}),s.jsx(Qr,{children:"Provide a detailed description of what you accomplished (minimum 20 characters of actual text)"}),s.jsx(ns,{})]})}),s.jsx(Jt,{control:_.control,name:"notes",render:({field:O})=>s.jsxs(es,{children:[s.jsx(Gt,{children:"Additional Notes"}),s.jsx(rs,{children:s.jsx(Wm,{value:O.value||"",onChange:O.onChange,placeholder:"Any additional notes, challenges, or observations...",disabled:l,minHeight:150,maxHeight:300,variant:"minimal",className:"border-primary focus-within:border-primary"})}),s.jsx(Qr,{children:"Optional notes about challenges, learnings, or other observations"}),s.jsx(ns,{})]})})]})]}),s.jsxs(ee,{children:[s.jsxs(ue,{children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(yR,{className:"h-5 w-5"}),"Link to Work Plans"]}),s.jsx(Tt,{children:"Connect this logbook entry to relevant work plan items (optional)"})]}),s.jsx(te,{children:h?s.jsx("p",{className:"text-muted-foreground",children:"Loading work plans..."}):I().length===0?s.jsx("p",{className:"text-muted-foreground",children:"No recent work plans available for linking."}):s.jsx(Jt,{control:_.control,name:"work_plan_detail_ids",render:({field:O})=>s.jsxs(es,{children:[s.jsx(Gt,{children:"Select Work Plan Items"}),s.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:I().map(P=>{var X;return s.jsxs("div",{className:"flex flex-row items-start space-x-3 space-y-0",children:[s.jsx(XL,{checked:((X=O.value)==null?void 0:X.includes(P.id))||!1,onCheckedChange:A=>{const z=O.value||[];if(A){const $=[...z,P.id];O.onChange($)}else{const $=z.filter(J=>J!==P.id);O.onChange($)}}}),s.jsxs("div",{className:"space-y-1 leading-none",children:[s.jsx("div",{className:"text-sm font-normal cursor-pointer",onClick:()=>{const A=O.value||[];if(A.includes(P.id)){const $=A.filter(J=>J!==P.id);O.onChange($)}else{const $=[...A,P.id];O.onChange($)}},children:s.jsx(_r,{content:P.description,isDetailView:!1,maxLength:100,className:"text-sm font-normal"})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:P.planWeek})]})]},P.id)})}),s.jsx(Qr,{children:"Select work plan items that relate to the activities in this log entry"}),s.jsx(ns,{})]})})})]}),s.jsxs(ee,{children:[s.jsxs(ue,{children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(Tf,{className:"h-5 w-5"}),"Evidence Files"]}),s.jsx(Tt,{children:"Upload supporting documents, images, or files as evidence for your logbook entry"})]}),s.jsxs(te,{children:[s.jsx(QL,{files:g,existingFiles:((T=e==null?void 0:e.evidences)==null?void 0:T.map(O=>({file:O.file_upload,description:O.description,evidenceId:O.id})))||[],onFilesChange:O=>y(O),onExistingFileRemove:O=>{j(P=>[...P,O])},disabled:l||t==="edit"&&(e==null?void 0:e.status)!=="draft",maxFiles:10,className:"w-full"}),t==="edit"&&(e==null?void 0:e.status)!=="draft"&&s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Evidence files can only be modified when the logbook is in draft status."})]})]}),s.jsxs("div",{className:"flex justify-end gap-4",children:[s.jsx(re,{type:"button",variant:"outline",onClick:n,disabled:l,children:"Cancel"}),s.jsxs(re,{type:"submit",disabled:l,children:[s.jsx($y,{className:"h-4 w-4 mr-2"}),l?t==="create"?"Creating...":"Updating...":t==="create"?"Create Entry":"Update Entry"]})]})]})})})}function noe(){const t=ht(),[e]=E4(),r=e.get("date"),n=()=>{t("/logbook")},a=()=>{t("/logbook")};return s.jsxs("div",{className:"container mx-auto lg:px-4 lg:py-6 max-w-none",children:[s.jsx(Ye,{title:"Create Logbook Entry",description:"Record your daily activities and work progress",breadcrumbs:[{label:"Dashboard",href:"/dashboard"},{label:"Logbook",href:"/logbook"},{label:"Create",current:!0}],actions:s.jsxs(re,{variant:"outline",onClick:a,children:[s.jsx($t,{className:"h-4 w-4 mr-2"}),"Back to Logbook"]})}),s.jsx("div",{className:"mt-6",children:s.jsx(JL,{mode:"create",onSuccess:n,onCancel:a,preselectedDate:r})})]})}function aoe(){const{id:t}=zn(),e=ht(),{isAdmin:r,isMasterAdmin:n}=uo(),a=Jn(M=>M.auth.user),[l,c]=x.useState(null),[d,f]=x.useState(!0),[h,p]=x.useState(null),[g,y]=x.useState(null),[b,j]=x.useState(""),w=()=>!l||!a||n?!1:r&&l.status==="submitted"&&a.org_unit_id!==void 0&&a.id!==l.user_id,_=()=>l!==null&&a!==null&&l.user_id===a.id;x.useEffect(()=>{(async()=>{if(!t){p("Logbook ID is required"),f(!1);return}try{const V=await bt.getLogbookById(Number(t));c(V)}catch(V){p("Failed to load logbook entry"),console.error("Error fetching logbook:",V)}finally{f(!1)}})()},[t]);const E=()=>{e(`/logbook/${t}/edit`)},S=async()=>{if(l)try{y("submit");const M=await bt.submitForApproval(l.id);c(M)}catch(M){console.error("Failed to submit for approval:",M)}finally{y(null)}},k=async()=>{if(l)try{y("revert");const M=await bt.revertToDraft(l.id);c(M)}catch(M){console.error("Failed to revert to draft:",M)}finally{y(null)}},R=async()=>{if(l)try{y("approve"),await bt.admin.approveLogbook(l.id,{status:"approved"});const M=await bt.getLogbookById(l.id);c(M)}catch(M){console.error("Failed to approve logbook:",M)}finally{y(null)}},L=async()=>{if(!(!l||!b.trim()))try{y("reject"),await bt.admin.approveLogbook(l.id,{status:"rejected",rejection_reason:b.trim()});const M=await bt.getLogbookById(l.id);c(M),j("")}catch(M){console.error("Failed to reject logbook:",M)}finally{y(null)}},I=async(M,V)=>{try{await qr.downloadFile(M,V)}catch(Q){console.error("Failed to download file:",Q)}},T=()=>{n||r&&!_()?e("/logbook/monitoring"):e("/logbook")},O=()=>n||r&&!_()?"Back to Monitoring":"Back to My Logbook",P=()=>{const M=[{label:"Dashboard",href:"/dashboard"}];return n?[...M,{label:"Logbook Monitoring",href:"/logbook/monitoring"},{label:"Details",current:!0}]:r&&!_()?[...M,{label:"Logbook Monitoring",href:"/logbook/monitoring"},{label:"Details",current:!0}]:[...M,{label:"My Logbook",href:"/logbook"},{label:"Details",current:!0}]},X=M=>new Date(M).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),A=M=>new Date(M).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),z=M=>{switch(M){case"draft":return{icon:s.jsx(bs,{className:"h-5 w-5"}),color:"text-gray-600 bg-gray-100",label:"Draft"};case"submitted":return{icon:s.jsx(Pt,{className:"h-5 w-5"}),color:"text-blue-600 bg-blue-100",label:"Submitted"};case"approved":return{icon:s.jsx($g,{className:"h-5 w-5"}),color:"text-green-600 bg-green-100",label:"Approved"};case"rejected":return{icon:s.jsx(An,{className:"h-5 w-5"}),color:"text-red-600 bg-red-100",label:"Rejected"};default:return{icon:s.jsx(bs,{className:"h-5 w-5"}),color:"text-gray-600 bg-gray-100",label:"Unknown"}}},$=()=>{const M=[];return d||!l||(_()&&(bt.isEditable(l.status)&&M.push(s.jsxs(re,{onClick:E,disabled:g!==null,children:[s.jsx(en,{className:"h-4 w-4 mr-2"}),"Edit"]},"edit")),bt.canSubmit(l.status)&&M.push(s.jsxs(re,{onClick:S,disabled:g!==null,variant:"default",children:[g==="submit"?s.jsx(js,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(qy,{className:"h-4 w-4 mr-2"}),"Submit for Approval"]},"submit")),bt.canRevertToDraft(l.status)&&M.push(s.jsxs(re,{onClick:k,disabled:g!==null,variant:"outline",children:[g==="revert"?s.jsx(js,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(hc,{className:"h-4 w-4 mr-2"}),"Revert to Draft"]},"revert"))),w()&&(M.push(s.jsxs(Ls,{children:[s.jsx(Or,{asChild:!0,children:s.jsxs(re,{variant:"default",disabled:g!==null,children:[g==="approve"?s.jsx(js,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(cr,{className:"h-4 w-4 mr-2"}),"Approve"]})}),s.jsxs(Ns,{children:[s.jsxs(_s,{children:[s.jsx(Es,{children:"Approve Logbook Entry"}),s.jsxs(ks,{children:["Are you sure you want to approve this logbook entry for ",l==null?void 0:l.user_name,"?"]})]}),s.jsxs(Ss,{children:[s.jsx(As,{children:"Cancel"}),s.jsx(Cs,{onClick:R,children:"Approve"})]})]})]},"approve-dialog")),M.push(s.jsxs(Ls,{children:[s.jsx(Or,{asChild:!0,children:s.jsxs(re,{variant:"destructive",disabled:g!==null,children:[g==="reject"?s.jsx(js,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(An,{className:"h-4 w-4 mr-2"}),"Reject"]})}),s.jsxs(Ns,{children:[s.jsxs(_s,{children:[s.jsx(Es,{children:"Reject Logbook Entry"}),s.jsxs(ks,{children:["Please provide a reason for rejecting this logbook entry for ",l==null?void 0:l.user_name,"."]})]}),s.jsx("div",{className:"py-4",children:s.jsx(Tn,{placeholder:"Enter rejection reason...",value:b,onChange:V=>j(V.target.value),className:"w-full",rows:3})}),s.jsxs(Ss,{children:[s.jsx(As,{onClick:()=>j(""),children:"Cancel"}),s.jsx(Cs,{onClick:L,disabled:!b.trim(),className:"bg-red-600 hover:bg-red-700",children:"Reject"})]})]})]},"reject-dialog"))),n&&!_()&&M.push(s.jsxs(Ke,{variant:"outline",className:"px-3 py-1",children:[s.jsx(Ut,{className:"h-4 w-4 mr-1"}),"View Only"]},"view-only"))),M};if(d)return s.jsxs("div",{className:"container mx-auto px-4 lg:py-6 max-w-none",children:[s.jsx(Ye,{title:"Logbook Details",description:"Loading logbook entry...",breadcrumbs:P(),actions:s.jsxs(re,{variant:"outline",onClick:T,children:[s.jsx($t,{className:"h-4 w-4 mr-2"}),O()]})}),s.jsx("div",{className:"mt-6",children:s.jsx(ee,{children:s.jsxs(te,{className:"py-8 text-center",children:[s.jsx(js,{className:"mx-auto h-8 w-8 animate-spin mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading logbook details..."})]})})})]});if(h||!l)return s.jsxs("div",{className:"container mx-auto lg:px-4 lg:py-6 max-w-none",children:[s.jsx(Ye,{title:"Logbook Details",description:"Error loading logbook entry",breadcrumbs:P(),actions:s.jsxs(re,{variant:"outline",onClick:T,children:[s.jsx($t,{className:"h-4 w-4 mr-2"}),O()]})}),s.jsx("div",{className:"mt-6",children:s.jsx(ee,{children:s.jsx(te,{className:"py-8 text-center",children:s.jsxs("div",{className:"text-destructive",children:[s.jsx("p",{className:"text-lg font-medium mb-2",children:"Error"}),s.jsx("p",{className:"text-sm",children:h||"Logbook entry not found"})]})})})})]});const J=z(l.status),B=$();return s.jsxs("div",{className:"container mx-auto lg:px-4 lg:py-6 max-w-none",children:[s.jsx(Ye,{title:"Logbook Details",description:`Entry for ${X(l.log_date)}`,breadcrumbs:P(),actions:s.jsxs("div",{className:"flex items-center gap-2",children:[B,s.jsxs(re,{variant:"outline",onClick:T,children:[s.jsx($t,{className:"h-4 w-4 mr-2"}),O()]})]})}),s.jsxs("div",{className:"mt-6 space-y-6",children:[s.jsxs(ee,{children:[s.jsx(ue,{children:s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(Ze,{className:"h-5 w-5"}),"Entry Overview",!_()&&s.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[n&&s.jsx(Ke,{variant:"secondary",children:"Master Admin View"}),r&&!n&&s.jsx(Ke,{variant:"outline",children:w()?"Can Approve":"Admin View"})]})]})}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Log Date"}),s.jsx("p",{className:"text-lg",children:X(l.log_date)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Status"}),s.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full text-sm font-medium ${J.color}`,children:[J.icon,J.label]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Author"}),s.jsxs("p",{className:"text-lg",children:[l.user_name,l.org_unit_name&&s.jsx("span",{className:"text-sm text-muted-foreground block",children:l.org_unit_name})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Created"}),s.jsx("p",{className:"text-lg",children:A(l.created_at)})]})]}),w()&&s.jsx("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-blue-900",children:"Approval Required"}),s.jsx("p",{className:"text-sm text-blue-700",children:"This logbook entry is awaiting approval from your organizational unit."})]})})}),n&&!_()&&s.jsx("div",{className:"mt-4 p-4 bg-gray-50 border border-gray-200 rounded-lg",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ut,{className:"h-5 w-5 text-gray-600"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:"Master Admin View"}),s.jsx("p",{className:"text-sm text-gray-600",children:"You are viewing this logbook entry for monitoring purposes. Approval actions are handled by organizational unit administrators."})]})]})})]})]}),s.jsxs(ee,{children:[s.jsxs(ue,{children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(bs,{className:"h-5 w-5"}),"Activity Description"]}),s.jsx(Tt,{children:"Detailed description of activities performed"})]}),s.jsx(te,{children:s.jsxs("div",{className:"p-4 border rounded-lg space-y-3",children:[s.jsx("div",{className:"flex-1",children:s.jsx(_r,{content:l.activity_description,isDetailView:!0,className:"text-base leading-relaxed"})}),s.jsx(ys,{}),s.jsxs("div",{className:"flex flex-col gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ze,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Log Date"}),s.jsx("p",{className:"text-muted-foreground",children:X(l.log_date)})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(bs,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Status"}),s.jsx("p",{className:`text-sm ${l.status==="approved"?"text-green-600":l.status==="rejected"?"text-red-600":l.status==="submitted"?"text-blue-600":"text-gray-500"}`,children:J.label})]})]})]})]})})]}),l.notes&&s.jsxs(ee,{children:[s.jsx(ue,{children:s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(bs,{className:"h-5 w-5"}),"Additional Notes"]})}),s.jsx(te,{children:s.jsx("div",{className:"p-4 border rounded-lg",children:s.jsx(_r,{content:l.notes,isDetailView:!0,className:"text-base leading-relaxed text-muted-foreground"})})})]}),l.work_plan_details&&l.work_plan_details.length>0&&s.jsxs(ee,{children:[s.jsxs(ue,{children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(yR,{className:"h-5 w-5"}),"Linked Work Plans"]}),s.jsx(Tt,{children:"Work plan items connected to this logbook entry"})]}),s.jsx(te,{children:s.jsx("div",{className:"space-y-4",children:l.work_plan_details.map((M,V)=>s.jsx("div",{className:`p-4 border rounded-lg space-y-3 ${M.is_completed?"bg-green-50 border-green-200":""}`,children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsxs("h4",{className:"font-medium text-lg",children:["Work Item ",V+1]}),M.is_completed&&s.jsxs("div",{className:"inline-flex items-center gap-1 px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs font-medium",children:[s.jsx($g,{className:"h-3 w-3"}),"Completed"]})]}),s.jsx("div",{className:`text-sm ${M.is_completed?"text-green-700 line-through":"text-muted-foreground"}`,children:s.jsx(_r,{content:M.planned_activity,isDetailView:!0,className:M.is_completed?"text-green-700 line-through":"text-muted-foreground"})})]})})},V))})})]}),l.evidences&&l.evidences.length>0&&s.jsxs(ee,{children:[s.jsxs(ue,{children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(Tf,{className:"h-5 w-5"}),"Evidence Files",s.jsxs(Ke,{variant:"secondary",className:"ml-2",children:[l.evidences.length," file",l.evidences.length!==1?"s":""]})]}),s.jsx(Tt,{children:"Supporting documents and files for this logbook entry"})]}),s.jsxs(te,{children:[s.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:l.evidences.map(M=>{var Q;const V=M.file_upload;return s.jsx(ee,{className:"relative overflow-hidden",children:s.jsxs(te,{className:"p-4",children:[s.jsx("div",{className:"flex items-start justify-between mb-3",children:s.jsxs("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[bt.isImageFile(V.content_type)?s.jsx(im,{className:"h-4 w-4 text-blue-500"}):s.jsx(GN,{className:"h-4 w-4 text-gray-500"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium truncate",title:V.original_filename,children:V.original_filename}),s.jsx("p",{className:"text-xs text-gray-500",children:bt.formatFileSize(V.file_size)})]})]})}),M.description&&s.jsx("div",{className:"mb-3",children:s.jsxs("p",{className:"text-xs text-gray-600 italic",children:['"',M.description,'"']})}),bt.isImageFile(V.content_type)&&V.file_url&&s.jsx("div",{className:"mb-3",children:s.jsxs(jd,{children:[s.jsx(VP,{asChild:!0,children:s.jsxs("div",{className:"cursor-pointer group relative",children:[s.jsx("img",{src:qr.getFullFileUrl(V.file_url),alt:V.original_filename,className:"w-full h-24 object-cover rounded border group-hover:opacity-80 transition-opacity",loading:"lazy"}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 bg-black/20 transition-opacity rounded",children:s.jsx(Ut,{className:"h-6 w-6 text-white"})})]})}),s.jsx(wd,{className:"max-w-4xl",children:s.jsx("img",{src:qr.getFullFileUrl(V.file_url),alt:V.original_filename,className:"w-full h-auto max-h-[80vh] object-contain"})})]})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Ke,{variant:"outline",className:"text-xs",children:[bt.getFileIcon(V.content_type)," ",((Q=V.content_type.split("/")[1])==null?void 0:Q.toUpperCase())||"FILE"]}),s.jsx(re,{size:"sm",variant:"ghost",onClick:()=>I(V.id,V.original_filename),className:"h-8 w-8 p-0",children:s.jsx(pl,{className:"h-3 w-3"})})]}),s.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Uploaded: ",new Date(V.created_at).toLocaleDateString()]})]})},M.id)})}),s.jsx("div",{className:"mt-4 text-xs text-gray-500",children:s.jsxs("p",{children:[s.jsx("strong",{children:"Note:"})," Click on images to view full size. Use the download button to save files."]})})]})]}),s.jsxs(ee,{children:[s.jsx(ue,{children:s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(Pt,{className:"h-5 w-5"}),"Status Information"]})}),s.jsx(te,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-muted-foreground",children:"Created"}),s.jsx("p",{children:A(l.created_at)})]}),l.updated_at&&s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-muted-foreground",children:"Last Updated"}),s.jsx("p",{children:A(l.updated_at)})]})]}),(l.status==="approved"||l.status==="rejected")&&s.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[l.approved_at&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:l.status==="approved"?"Approved At":"Processed At"}),s.jsx("p",{className:"text-sm",children:A(l.approved_at)})]}),l.approved_by&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Processed By"}),s.jsxs("p",{className:"text-sm",children:["User ID: ",l.approved_by]})]})]}),l.rejection_reason&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Rejection Reason"}),s.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:s.jsx("p",{className:"text-red-800 text-sm",children:l.rejection_reason})})]})]})]})})]})]})]})}function ioe(){const{id:t}=zn(),e=ht(),[r,n]=x.useState(null),[a,l]=x.useState(!0),[c,d]=x.useState(null);x.useEffect(()=>{(async()=>{if(!t){d("Logbook ID is required"),l(!1);return}try{const g=await bt.getLogbookById(Number(t));if(!bt.isEditable(g.status)){d("This logbook entry cannot be edited"),l(!1);return}n(g)}catch(g){d("Failed to load logbook entry"),console.error("Error fetching logbook:",g)}finally{l(!1)}})()},[t]);const f=()=>{e(`/logbook/${t}/details`)},h=()=>{e(`/logbook/${t}/details`)};return a?s.jsxs("div",{className:"container mx-auto lg:px-4 lg:py-6 max-w-none",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsxs(re,{variant:"outline",onClick:()=>e("/logbook"),children:[s.jsx($t,{className:"h-4 w-4 mr-2"}),"Back to Logbook"]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Edit Logbook Entry"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading logbook entry..."})]})]}),s.jsx(ee,{children:s.jsxs(te,{className:"py-8 text-center",children:[s.jsx(js,{className:"mx-auto h-8 w-8 animate-spin mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading logbook details..."})]})})]}):c||!r?s.jsxs("div",{className:"container mx-auto lg:px-4 lg:py-6 max-w-none",children:[s.jsx(Ye,{title:"Edit Logbook Entry",description:"Error loading logbook entry",breadcrumbs:[{label:"Dashboard",href:"/dashboard"},{label:"Logbook",href:"/logbook"},{label:"Edit",current:!0}],actions:s.jsxs(re,{variant:"outline",onClick:()=>e("/logbook"),children:[s.jsx($t,{className:"h-4 w-4 mr-2"}),"Back to Logbook"]})}),s.jsx(ee,{className:"mt-6",children:s.jsx(te,{className:"py-8 text-center",children:s.jsxs("div",{className:"text-destructive",children:[s.jsx("p",{className:"text-lg font-medium mb-2",children:"Error"}),s.jsx("p",{className:"text-sm mb-4",children:c||"Logbook entry not found"}),s.jsx(re,{onClick:()=>e("/logbook"),children:"Return to Logbook"})]})})})]}):s.jsxs("div",{className:"container mx-auto lg:px-4 lg:py-6 max-w-none",children:[s.jsx(Ye,{title:"Edit Logbook Entry",description:`Modify your logbook entry for ${bt.formatLogDate(r.log_date)}`,breadcrumbs:[{label:"Dashboard",href:"/dashboard"},{label:"Logbook",href:"/logbook"},{label:"Entry",href:`/logbook/${t}/details`},{label:"Edit",current:!0}],actions:s.jsxs(re,{variant:"outline",onClick:h,children:[s.jsx($t,{className:"h-4 w-4 mr-2"}),"Back to Entry"]})}),s.jsx("div",{className:"mt-6",children:s.jsx(JL,{mode:"edit",logbook:r,onSuccess:f,onCancel:h})})]})}function loe(){const[t,e]=x.useState(new Date().getFullYear()),[r,n]=x.useState(new Date().getMonth()+1),[a,l]=x.useState("monthly"),[c,d]=x.useState(null),[f,h]=x.useState([]),[p,g]=x.useState([]),[y,b]=x.useState(!0),j=ht(),w=[{label:"Dashboard",href:"/dashboard"},{label:"My Logbook",href:"/logbook"},{label:"Summary & Analytics",current:!0}],_=[{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"},{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"}],E=async()=>{try{b(!0);const A=await bt.getMonthlySummary(t,r);d(A)}catch(A){console.error("Failed to fetch monthly data:",A)}finally{b(!1)}},S=async()=>{try{b(!0);const A=_.map(async $=>{try{const J=await bt.getMonthlySummary(t,$.value);return{month:$.value,monthName:$.label,summary:J}}catch{return{month:$.value,monthName:$.label,summary:{year:t,month:$.value,total_entries:0,approved_entries:0,pending_entries:0,draft_entries:0,rejected_entries:0,working_days:0,completion_rate:0}}}}),z=await Promise.all(A);h(z)}catch(A){console.error("Failed to fetch yearly data:",A)}finally{b(!1)}},k=async()=>{try{const A=await bt.getMyLogbooks({page:1,size:5,sort_by:"log_date",sort_order:"desc"});g(A.items)}catch(A){console.error("Failed to fetch recent entries:",A)}};x.useEffect(()=>{a==="monthly"?E():S(),k()},[t,r,a]);const R=A=>({draft:"text-gray-600",submitted:"text-blue-600",approved:"text-green-600",rejected:"text-red-600"})[A]||"text-gray-600",L=()=>{console.log("Export functionality to be implemented")},I=()=>{a==="monthly"?E():S(),k()},O=f.reduce((A,z)=>({totalEntries:A.totalEntries+z.summary.total_entries,approvedEntries:A.approvedEntries+z.summary.approved_entries,pendingEntries:A.pendingEntries+z.summary.pending_entries,draftEntries:A.draftEntries+z.summary.draft_entries,rejectedEntries:A.rejectedEntries+z.summary.rejected_entries,totalWorkingDays:A.totalWorkingDays+z.summary.working_days}),{totalEntries:0,approvedEntries:0,pendingEntries:0,draftEntries:0,rejectedEntries:0,totalWorkingDays:0}),P=O.totalWorkingDays>0?O.totalEntries/O.totalWorkingDays*100:0,X=s.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2",children:[s.jsxs(re,{variant:"outline",size:"sm",onClick:L,className:"flex-1 sm:flex-none",children:[s.jsx(pl,{className:"h-4 w-4 mr-2"}),"Export"]}),s.jsxs(re,{variant:"outline",size:"sm",onClick:I,className:"flex-1 sm:flex-none",children:[s.jsx(RH,{className:"h-4 w-4 mr-2"}),"Refresh"]}),s.jsxs(re,{onClick:()=>j("/logbook/create"),size:"sm",className:"flex-1 sm:flex-none",children:[s.jsx(or,{className:"h-4 w-4 mr-2"}),"Create Entry"]})]});return s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ye,{title:"Logbook Summary & Analytics",description:"Track your productivity patterns and performance metrics",breadcrumbs:w,actions:X}),s.jsxs(Yr,{children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium text-primary",children:[s.jsx(Di,{className:"h-4 w-4"}),s.jsx("span",{children:"View Type"})]}),s.jsxs(Lt,{value:a,onValueChange:A=>l(A),children:[s.jsx(Dt,{className:"w-full border-primary",children:s.jsx(It,{})}),s.jsxs(Ot,{children:[s.jsx($e,{value:"monthly",children:"Monthly"}),s.jsx($e,{value:"yearly",children:"Yearly"})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium text-primary",children:[s.jsx(Ze,{className:"h-4 w-4"}),s.jsx("span",{children:"Year"})]}),s.jsxs(Lt,{value:t.toString(),onValueChange:A=>e(parseInt(A)),children:[s.jsx(Dt,{className:"w-full border-primary",children:s.jsx(It,{})}),s.jsx(Ot,{children:Array.from({length:5},(A,z)=>new Date().getFullYear()-z).map(A=>s.jsx($e,{value:A.toString(),children:A},A))})]})]}),a==="monthly"&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium text-primary",children:[s.jsx(Ze,{className:"h-4 w-4"}),s.jsx("span",{children:"Month"})]}),s.jsxs(Lt,{value:r.toString(),onValueChange:A=>n(parseInt(A)),children:[s.jsx(Dt,{className:"w-full border-primary",children:s.jsx(It,{})}),s.jsx(Ot,{children:_.map(A=>s.jsx($e,{value:A.value.toString(),children:A.label},A.value))})]})]})]}),y?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4",children:Array.from({length:5}).map((A,z)=>s.jsxs(ee,{children:[s.jsx(ue,{className:"pb-2",children:s.jsx(Ne,{className:"h-4 w-20"})}),s.jsx(te,{className:"pt-0",children:s.jsx(Ne,{className:"h-8 w-16"})})]},z))}):a==="monthly"&&c?s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4",children:[s.jsxs(ee,{children:[s.jsx(ue,{className:"pb-2",children:s.jsxs(xe,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[s.jsx(on,{className:"h-4 w-4"}),"Total Entries"]})}),s.jsxs(te,{className:"pt-0",children:[s.jsx("div",{className:"text-2xl font-bold",children:c.total_entries}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["out of ",c.working_days," working days"]})]})]}),s.jsxs(ee,{children:[s.jsx(ue,{className:"pb-2",children:s.jsx(xe,{className:"text-sm font-medium text-muted-foreground",children:"Approved"})}),s.jsxs(te,{className:"pt-0",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:c.approved_entries}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[c.total_entries>0?Math.round(c.approved_entries/c.total_entries*100):0,"% of total"]})]})]}),s.jsxs(ee,{children:[s.jsx(ue,{className:"pb-2",children:s.jsx(xe,{className:"text-sm font-medium text-muted-foreground",children:"Pending"})}),s.jsxs(te,{className:"pt-0",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:c.pending_entries}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[c.total_entries>0?Math.round(c.pending_entries/c.total_entries*100):0,"% of total"]})]})]}),s.jsxs(ee,{children:[s.jsx(ue,{className:"pb-2",children:s.jsx(xe,{className:"text-sm font-medium text-muted-foreground",children:"Draft"})}),s.jsxs(te,{className:"pt-0",children:[s.jsx("div",{className:"text-2xl font-bold text-gray-600",children:c.draft_entries}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[c.total_entries>0?Math.round(c.draft_entries/c.total_entries*100):0,"% of total"]})]})]}),s.jsxs(ee,{children:[s.jsx(ue,{className:"pb-2",children:s.jsxs(xe,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[s.jsx(cl,{className:"h-4 w-4"}),"Completion Rate"]})}),s.jsxs(te,{className:"pt-0",children:[s.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[Math.round(c.completion_rate),"%"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"productivity score"})]})]})]}):f.length>0?s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4",children:[s.jsxs(ee,{children:[s.jsx(ue,{className:"pb-2",children:s.jsxs(xe,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[s.jsx(on,{className:"h-4 w-4"}),"Total Entries"]})}),s.jsxs(te,{className:"pt-0",children:[s.jsx("div",{className:"text-2xl font-bold",children:O.totalEntries}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"across all months"})]})]}),s.jsxs(ee,{children:[s.jsx(ue,{className:"pb-2",children:s.jsx(xe,{className:"text-sm font-medium text-muted-foreground",children:"Approved"})}),s.jsxs(te,{className:"pt-0",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:O.approvedEntries}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[O.totalEntries>0?Math.round(O.approvedEntries/O.totalEntries*100):0,"% of total"]})]})]}),s.jsxs(ee,{children:[s.jsx(ue,{className:"pb-2",children:s.jsx(xe,{className:"text-sm font-medium text-muted-foreground",children:"Pending"})}),s.jsxs(te,{className:"pt-0",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:O.pendingEntries}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[O.totalEntries>0?Math.round(O.pendingEntries/O.totalEntries*100):0,"% of total"]})]})]}),s.jsxs(ee,{children:[s.jsx(ue,{className:"pb-2",children:s.jsx(xe,{className:"text-sm font-medium text-muted-foreground",children:"Draft"})}),s.jsxs(te,{className:"pt-0",children:[s.jsx("div",{className:"text-2xl font-bold text-gray-600",children:O.draftEntries}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[O.totalEntries>0?Math.round(O.draftEntries/O.totalEntries*100):0,"% of total"]})]})]}),s.jsxs(ee,{children:[s.jsx(ue,{className:"pb-2",children:s.jsxs(xe,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[s.jsx(cl,{className:"h-4 w-4"}),"Completion Rate"]})}),s.jsxs(te,{className:"pt-0",children:[s.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[Math.round(P),"%"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"yearly average"})]})]})]}):null,a==="yearly"&&!y&&f.length>0&&s.jsxs(ee,{children:[s.jsxs(ue,{children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(Ze,{className:"h-5 w-5"}),"Monthly Breakdown - ",t]}),s.jsx(Tt,{children:"Monthly statistics and trends throughout the year"})]}),s.jsx(te,{children:s.jsx("div",{className:"space-y-4",children:f.map(A=>s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-4 border rounded-lg gap-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-20 font-medium",children:A.monthName}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[A.summary.total_entries," entries"]})]}),s.jsxs("div",{className:"grid grid-cols-2 sm:flex sm:items-center gap-4 sm:gap-6",children:[s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"text-green-600 font-medium",children:A.summary.approved_entries}),s.jsx("span",{className:"text-muted-foreground",children:" approved"})]}),s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"text-blue-600 font-medium",children:A.summary.pending_entries}),s.jsx("span",{className:"text-muted-foreground",children:" pending"})]}),s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:A.summary.draft_entries}),s.jsx("span",{className:"text-muted-foreground",children:" draft"})]}),s.jsxs("div",{className:"text-sm font-medium",children:[Math.round(A.summary.completion_rate),"%"]})]})]},A.month))})})]}),s.jsxs(ee,{children:[s.jsxs(ue,{children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(AB,{className:"h-5 w-5"}),"Recent Entries"]}),s.jsx(Tt,{children:"Your latest logbook entries"})]}),s.jsx(te,{children:p.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Ze,{className:"mx-auto h-12 w-12 mb-4 opacity-50"}),s.jsx("p",{children:"No recent entries found"})]}):s.jsx("div",{className:"space-y-3",children:p.map(A=>s.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-3 border rounded-lg hover:bg-muted/50 cursor-pointer transition-colors gap-2",onClick:()=>j(`/logbook/${A.id}/details`),children:s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 mb-1",children:[s.jsx("span",{className:"font-medium",children:bt.formatLogDate(A.log_date)}),s.jsx("span",{className:`text-xs px-2 py-1 rounded-full w-fit ${R(A.status)}`,children:A.status})]}),s.jsx("div",{className:"text-sm text-muted-foreground line-clamp-1",children:s.jsx(_r,{content:A.activity_description,isDetailView:!1,maxLength:80,className:"text-sm text-muted-foreground"})})]})},A.id))})})]})]})}function ooe(){var U,ne,me;const[t,e]=x.useState([]),[r,n]=x.useState(!0),[a,l]=x.useState(1),[c,d]=x.useState(10),[f,h]=x.useState(0),[p,g]=x.useState(!1),[y,b]=x.useState(!1),[j,w]=x.useState("all"),[_,E]=x.useState(new Date().getFullYear().toString()),[S,k]=x.useState("all"),[R,L]=x.useState("all"),I=ht(),{user:T}=yr(),[O,P]=x.useState(""),X=[{label:"Dashboard",href:"/dashboard"},{label:"Logbook Monitoring",current:!0}],A=(U=T==null?void 0:T.roles)==null?void 0:U.some(ie=>ie.name==="master_admin"),z=(ne=T==null?void 0:T.roles)==null?void 0:ne.some(ie=>ie.name==="admin"),$=(me=T==null?void 0:T.org_unit)==null?void 0:me.id,J=ie=>!T||A?!1:!!z&&ie.status==="submitted"&&ie.user_id!==T.id,B=x.useCallback(()=>{const ie=new URLSearchParams;return ie.set("page",a.toString()),ie.set("pageSize",c.toString()),ie.set("status",j),ie.set("year",_),ie.set("month",S),A&&ie.set("orgUnit",R),ie.toString()},[a,c,j,_,S,R,A]),M=x.useCallback(()=>{const ie=new URLSearchParams(window.location.search),Ee=parseInt(ie.get("page")||"1"),Oe=parseInt(ie.get("pageSize")||"10"),fe=ie.get("status")||"submitted",Ce=ie.get("year")||new Date().getFullYear().toString(),pe=ie.get("month")||"all",ze=ie.get("orgUnit")||"all";l(Ee),d(Math.max(Oe,10)),w(fe),E(Ce),k(pe),A&&L(ze),b(!0)},[A]),V=async()=>{try{n(!0);let ie;const Ee={page:a,size:Math.max(c,10)};if(j!=="all"&&(Ee.status=j),_!=="all"){const Oe=parseInt(_),fe=new Date().getFullYear();if(Oe<=fe+1)if(S!=="all"){const Ce=parseInt(S);Ce>=1&&Ce<=12&&(Ee.month=Ce,Ee.year=Oe)}else Ee.year=Oe}else if(S!=="all"){const Oe=new Date().getFullYear(),fe=parseInt(S);fe>=1&&fe<=12&&(Ee.month=fe,Ee.year=Oe)}A?(R!=="all"&&(Ee.org_unit_id=parseInt(R)),ie=await bt.admin.getAllLogbooks(Ee)):z&&$?ie=await bt.admin.getLogbooksByOrgUnit($,Ee):ie={items:[],total:0,page:1,size:10,has_next:!1},e((ie==null?void 0:ie.items)||[]),h(ie.total),g(ie.has_next)}catch(ie){console.error("Failed to fetch logbooks:",ie)}finally{n(!1)}};x.useEffect(()=>{M()},[M]),x.useEffect(()=>{y&&V()},[a,c,j,_,S,R,y]),x.useEffect(()=>{if(y){const ie=B(),Ee=ie,Oe=window.location.search.slice(1);if(Ee!==Oe){const fe=`${window.location.pathname}${ie?"?"+ie:""}`;window.history.replaceState(null,"",fe)}}},[a,c,j,_,S,R,y,B]);const Q=ie=>{I(`/logbook/${ie.id}/details`)},le=async ie=>{try{await bt.admin.approveLogbook(ie.id,{status:"approved"}),V()}catch(Ee){console.error("Failed to approve logbook:",Ee)}},H=async ie=>{if(O.trim())try{await bt.admin.approveLogbook(ie.id,{status:"rejected",rejection_reason:O.trim()}),P(""),V()}catch(Ee){console.error("Failed to reject logbook:",Ee)}},K=t,Y=new Date().getFullYear(),se=Array.from({length:5},(ie,Ee)=>Y-2+Ee),G=[{value:"1",label:"January"},{value:"2",label:"February"},{value:"3",label:"March"},{value:"4",label:"April"},{value:"5",label:"May"},{value:"6",label:"June"},{value:"7",label:"July"},{value:"8",label:"August"},{value:"9",label:"September"},{value:"10",label:"October"},{value:"11",label:"November"},{value:"12",label:"December"}],C=ie=>{switch(ie){case"approved":return s.jsx(Ke,{className:"bg-green-100 text-green-800",children:"Approved"});case"rejected":return s.jsx(Ke,{className:"bg-red-100 text-red-800",children:"Rejected"});case"submitted":return s.jsx(Ke,{className:"bg-yellow-100 text-yellow-800",children:"Pending"});case"draft":return s.jsx(Ke,{className:"bg-gray-100 text-gray-800",children:"Draft"});default:return s.jsx(Ke,{className:"bg-gray-100 text-gray-800",children:"Unknown"})}};return s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ye,{title:"Logbook Monitoring",description:A?"Monitor all logbooks across the organization":"Monitor logbooks in your organizational unit",breadcrumbs:X}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs(ee,{children:[s.jsx(ue,{className:"pb-2",children:s.jsx(xe,{className:"text-sm font-medium text-muted-foreground",children:"Total Logbooks"})}),s.jsx(te,{className:"pt-0",children:s.jsx("div",{className:"text-2xl font-bold",children:f})})]}),s.jsxs(ee,{children:[s.jsx(ue,{className:"pb-2",children:s.jsx(xe,{className:"text-sm font-medium text-muted-foreground",children:"Approved"})}),s.jsx(te,{className:"pt-0",children:s.jsx("div",{className:"text-2xl font-bold text-green-600",children:K.filter(ie=>ie.status==="approved").length})})]}),s.jsxs(ee,{children:[s.jsx(ue,{className:"pb-2",children:s.jsx(xe,{className:"text-sm font-medium text-muted-foreground",children:"Pending"})}),s.jsx(te,{className:"pt-0",children:s.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:K.filter(ie=>ie.status==="submitted").length})})]}),s.jsxs(ee,{children:[s.jsx(ue,{className:"pb-2",children:s.jsx(xe,{className:"text-sm font-medium text-muted-foreground",children:"Rejected"})}),s.jsx(te,{className:"pt-0",children:s.jsx("div",{className:"text-2xl font-bold text-red-600",children:K.filter(ie=>ie.status==="rejected").length})})]})]}),s.jsxs(Yr,{children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium text-primary",children:[s.jsx(Di,{className:"h-4 w-4"}),s.jsx("span",{children:"Status"})]}),s.jsxs("select",{className:"w-full border border-primary p-2 h-10 rounded-md bg-white dark:bg-gray-800",value:j,onChange:ie=>w(ie.target.value),children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"draft",children:"Draft"}),s.jsx("option",{value:"submitted",children:"Pending"}),s.jsx("option",{value:"approved",children:"Approved"}),s.jsx("option",{value:"rejected",children:"Rejected"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium text-primary",children:[s.jsx(Ze,{className:"h-4 w-4"}),s.jsx("span",{children:"Year"})]}),s.jsxs("select",{className:"w-full border border-primary p-2 h-10 rounded-md bg-white dark:bg-gray-800",value:_,onChange:ie=>E(ie.target.value),children:[s.jsx("option",{value:"all",children:"All Years"}),se.map(ie=>s.jsx("option",{value:ie.toString(),children:ie},ie))]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium text-primary",children:[s.jsx(Ze,{className:"h-4 w-4"}),s.jsx("span",{children:"Month"})]}),s.jsxs("select",{className:"w-full border border-primary p-2 h-10 rounded-md bg-white dark:bg-gray-800",value:S,onChange:ie=>k(ie.target.value),children:[s.jsx("option",{value:"all",children:"All Months"}),G.map(ie=>s.jsx("option",{value:ie.value,children:ie.label},ie.value))]})]}),A&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium text-primary",children:[s.jsx(Na,{className:"h-4 w-4"}),s.jsx("span",{children:"Org Unit"})]}),s.jsx("select",{className:"w-full border border-primary p-2 h-10 rounded-md bg-white dark:bg-gray-800",value:R,onChange:ie=>L(ie.target.value),children:s.jsx("option",{value:"all",children:"All Units"})})]})]}),s.jsx("div",{className:"space-y-4",children:r?Array.from({length:5}).map((ie,Ee)=>s.jsxs(ee,{children:[s.jsx(ue,{children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"space-y-2 flex-1",children:[s.jsx(Ne,{className:"h-4 w-3/4"}),s.jsx(Ne,{className:"h-3 w-1/2"})]}),s.jsx(Ne,{className:"h-6 w-20"})]})}),s.jsx(te,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ne,{className:"h-3 w-full"}),s.jsx(Ne,{className:"h-3 w-2/3"})]})})]},Ee)):K.length===0?s.jsx(ee,{children:s.jsx(te,{className:"py-8",children:s.jsxs("div",{className:"text-center text-muted-foreground",children:[s.jsx(Ze,{className:"mx-auto h-12 w-12 mb-4 opacity-50"}),s.jsx("p",{className:"text-lg font-medium mb-2",children:"No logbooks found"}),s.jsx("p",{className:"text-sm",children:j!=="all"||_!=="all"||S!=="all"?"Try adjusting your filters to see more results.":"No logbooks have been created yet."})]})})}):K.map(ie=>s.jsxs(ee,{className:"hover:shadow-md transition-shadow pt-4 pb-0",children:[s.jsx(ue,{children:s.jsx("div",{className:"flex items-start gap-3",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(xe,{className:"text-lg",children:new Date(ie.log_date).toLocaleDateString()}),C(ie.status),ie.evidences&&ie.evidences.length>0&&s.jsxs("div",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-medium",children:[s.jsx(Tf,{className:"h-3 w-3"}),ie.evidences.length]})]}),s.jsxs(Tt,{className:"text-sm text-muted-foreground flex flex-col gap-4",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(ws,{className:"h-3 w-3"}),ie.user_name]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(rp,{className:"h-3 w-3"}),ie.org_unit_name]})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("span",{children:["Activity:",s.jsx(_r,{content:ie.activity_description,isDetailView:!1,maxLength:60,className:"inline ml-1"})]}),ie.notes&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Pt,{className:"h-3 w-3"}),"Notes available"]})]})]})]})})}),s.jsx(te,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 rounded-lg bg-gray-50 border",children:[s.jsx("div",{className:"mb-2",children:s.jsx("h4",{className:"font-semibold text-gray-900",children:"Activity Description:"})}),s.jsx("div",{className:"text-gray-700 leading-relaxed",children:s.jsx(_r,{content:ie.activity_description,isDetailView:!1})})]}),ie.notes&&s.jsxs("div",{className:"p-4 rounded-lg bg-blue-50 border border-blue-200",children:[s.jsx("div",{className:"mb-2",children:s.jsx("h4",{className:"font-semibold text-blue-800",children:"Notes:"})}),s.jsx("div",{className:"text-blue-700 leading-relaxed",children:s.jsx(_r,{content:ie.notes,isDetailView:!1})})]}),ie.rejection_reason&&s.jsxs("div",{className:"p-4 rounded-lg bg-red-50 border border-red-200",children:[s.jsx("div",{className:"mb-2",children:s.jsx("h4",{className:"font-semibold text-red-800",children:"Rejection Reason:"})}),s.jsx("div",{className:"text-red-700 leading-relaxed",children:s.jsx(_r,{content:ie.rejection_reason,isDetailView:!1})})]})]})}),s.jsx("div",{className:"px-6 py-3 border-t",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-0",children:[s.jsx("div",{className:"flex flex-wrap gap-2 w-full sm:w-auto",children:J(ie)?s.jsxs(s.Fragment,{children:[s.jsxs(Ls,{children:[s.jsx(Or,{asChild:!0,children:s.jsxs(re,{variant:"default",size:"sm",className:"flex items-center gap-2",children:[s.jsx(cr,{className:"h-4 w-4"}),s.jsx("span",{children:"Approve"})]})}),s.jsxs(Ns,{children:[s.jsxs(_s,{children:[s.jsx(Es,{children:"Approve Logbook Entry"}),s.jsxs(ks,{children:["Are you sure you want to approve this logbook entry for ",ie.user_name,"?"]})]}),s.jsxs(Ss,{children:[s.jsx(As,{children:"Cancel"}),s.jsx(Cs,{onClick:()=>le(ie),children:"Approve"})]})]})]}),s.jsxs(Ls,{children:[s.jsx(Or,{asChild:!0,children:s.jsxs(re,{variant:"destructive",size:"sm",className:"flex items-center gap-2",children:[s.jsx(An,{className:"h-4 w-4"}),s.jsx("span",{children:"Reject"})]})}),s.jsxs(Ns,{children:[s.jsxs(_s,{children:[s.jsx(Es,{children:"Reject Logbook Entry"}),s.jsxs(ks,{children:["Please provide a reason for rejecting this logbook entry for ",ie.user_name,"."]})]}),s.jsx("div",{className:"py-4",children:s.jsx(Tn,{placeholder:"Enter rejection reason...",value:O,onChange:Ee=>P(Ee.target.value),className:"w-full",rows:3})}),s.jsxs(Ss,{children:[s.jsx(As,{onClick:()=>P(""),children:"Cancel"}),s.jsx(Cs,{onClick:()=>H(ie),disabled:!O.trim(),className:"bg-red-600 hover:bg-red-700",children:"Reject"})]})]})]})]}):null}),s.jsx("div",{className:"flex justify-start w-full sm:w-auto",children:s.jsxs(On,{children:[s.jsx(Mn,{asChild:!0,children:s.jsxs(re,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:[s.jsx(ra,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"More actions"})]})}),s.jsx(un,{align:"end",children:s.jsxs(ts,{onClick:()=>Q(ie),children:[s.jsx(Ut,{className:"mr-2 h-4 w-4"}),"View Details"]})})]})})]})})]},ie.id))}),!r&&K.length>0&&s.jsx(Ks,{currentPage:a,totalItems:f,itemsPerPage:c,onPageChange:l,onItemsPerPageChange:ie=>d(Math.max(Number(ie),10)),hasNext:p})]})}const coe=Wt.object({leave_type:Wt.enum(["annual","maternity"],{required_error:"Please select a leave type"}),start_date:Wt.string().min(1,"Start date is required").refine(t=>{const e=new Date(t),r=new Date;return r.setHours(0,0,0,0),e>=r},{message:"Start date cannot be in the past"}),end_date:Wt.string().min(1,"End date is required"),reason:Wt.string().min(10,"Reason must be at least 10 characters")}).refine(t=>{const e=new Date(t.start_date);return new Date(t.end_date)>=e},{message:"End date cannot be before start date",path:["end_date"]});function e5({mode:t,leaveRequest:e,onSuccess:r,onCancel:n}){var A;const a=Jn(z=>z.auth.user),[l,c]=x.useState(!1),[d,f]=x.useState(!1),[h,p]=x.useState(null),[g,y]=x.useState(0),[b,j]=x.useState(""),[w,_]=x.useState([]),[E,S]=x.useState([]),k=new Date().getFullYear(),R=(a==null?void 0:a.gender)==="female",L=ti({resolver:si(coe),defaultValues:{leave_type:(e==null?void 0:e.leave_type)||void 0,start_date:(e==null?void 0:e.start_date)||"",end_date:(e==null?void 0:e.end_date)||"",reason:(e==null?void 0:e.reason)||""}}),I=L.watch("leave_type"),T=L.watch("start_date"),O=L.watch("end_date");x.useEffect(()=>{t==="edit"&&e?(_([]),S([])):t==="create"&&(_([]),S([]))},[t,e]),x.useEffect(()=>{I&&P()},[I]),x.useEffect(()=>{if(T&&O){const z=at.calculateDays(T,O);if(y(z),h&&I){const $=I==="annual"?h.annual_remaining:h.maternity_remaining;z>$?j(`Insufficient quota. You have ${$} days remaining for ${at.getLeaveTypeDisplay(I)}.`):j("")}}},[T,O,h,I]);const P=async()=>{try{f(!0);const z=await at.getQuota(k);p(z)}catch(z){console.error("Failed to fetch quota:",z)}finally{f(!1)}},X=async z=>{var $;try{if(c(!0),h&&I){const M=I==="annual"?h.annual_remaining:h.maternity_remaining;if(g>M){j("Insufficient quota for this request.");return}}const J=at.validateDates(z.start_date,z.end_date,z.leave_type);if(!J.valid){j(J.error);return}const B=z;if(t==="create"){const M={leave_type:B.leave_type,start_date:B.start_date,end_date:B.end_date,reason:B.reason};await at.createLeaveRequest(M,w.length>0?w:void 0)}else if(t==="edit"&&e){const M=(($=e.evidences)==null?void 0:$.filter(Q=>!E.includes(Q.id)).map(Q=>({file_upload_id:Q.file_upload_id,description:Q.description})))||[],V={leave_type:B.leave_type,start_date:B.start_date,end_date:B.end_date,reason:B.reason,evidences:M};await at.updateRequest(e.id,V,w.length>0?w:void 0,E.length>0?E:void 0)}r()}catch(J){console.error("Failed to save leave request:",J)}finally{c(!1)}};return s.jsxs("div",{className:"space-y-6",children:[h&&s.jsx(C1,{quota:h}),s.jsxs(ee,{children:[s.jsxs(ue,{children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(Ze,{className:"h-5 w-5"}),t==="create"?"New Leave Request":"Edit Leave Request"]}),s.jsx(Tt,{children:t==="create"?"Fill in the details for your leave request":"Update your leave request details"})]}),s.jsx(te,{children:s.jsx(co,{...L,children:s.jsxs("form",{onSubmit:L.handleSubmit(X),className:"space-y-6",children:[s.jsx(Jt,{control:L.control,name:"leave_type",render:({field:z})=>s.jsxs(es,{children:[s.jsx(Gt,{children:"Leave Type"}),s.jsxs(Lt,{onValueChange:z.onChange,defaultValue:z.value,children:[s.jsx(rs,{children:s.jsx(Dt,{children:s.jsx(It,{placeholder:"Select leave type"})})}),s.jsxs(Ot,{children:[s.jsx($e,{value:"annual",children:"Annual Leave"}),R&&s.jsx($e,{value:"maternity",children:"Maternity Leave"})]})]}),s.jsx(ns,{})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(Jt,{control:L.control,name:"start_date",render:({field:z})=>s.jsxs(es,{children:[s.jsx(Gt,{children:"Start Date"}),s.jsx(rs,{children:s.jsx(Ct,{type:"date",...z,min:new Date().toISOString().split("T")[0]})}),s.jsx(ns,{})]})}),s.jsx(Jt,{control:L.control,name:"end_date",render:({field:z})=>s.jsxs(es,{children:[s.jsx(Gt,{children:"End Date"}),s.jsx(rs,{children:s.jsx(Ct,{type:"date",...z,min:T||new Date().toISOString().split("T")[0]})}),s.jsx(ns,{})]})})]}),g>0&&s.jsxs("div",{className:"flex items-center gap-2 p-3 bg-blue-50 rounded-lg",children:[s.jsx(Ze,{className:"h-4 w-4 text-blue-600"}),s.jsxs("span",{className:"text-sm font-medium text-blue-900",children:["Total Days: ",g," ",g===1?"day":"days"]})]}),b&&s.jsxs(Br,{variant:"destructive",children:[s.jsx(Zl,{className:"h-4 w-4"}),s.jsx(Hr,{children:b})]}),s.jsx(Jt,{control:L.control,name:"reason",render:({field:z})=>s.jsxs(es,{children:[s.jsx(Gt,{children:"Reason"}),s.jsx(rs,{children:s.jsx(Wm,{value:z.value,onChange:z.onChange,placeholder:"Please provide a reason for your leave request...",variant:"minimal",minHeight:120,disabled:l})}),s.jsx(Qr,{children:"Minimum 10 characters required"}),s.jsx(ns,{})]})}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(Gt,{children:"Supporting Documents (Optional)"}),s.jsx(QL,{files:w,existingFiles:((A=e==null?void 0:e.evidences)==null?void 0:A.map(z=>({file:{...z.file_upload,file_url:z.file_upload.file_url||z.file_upload.file_path||"",uploaded_by:0,uploaded_at:z.created_at,created_at:z.created_at},description:z.description,evidenceId:z.id})))||[],onFilesChange:z=>_(z),onExistingFileRemove:z=>{S($=>[...$,z])},disabled:l||t==="edit"&&(e==null?void 0:e.status)!=="draft",maxFiles:5,className:"w-full"}),t==="edit"&&(e==null?void 0:e.status)!=="draft"&&s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Evidence files can only be modified when the leave request is in draft status."}),s.jsx(Qr,{children:"Upload supporting documents for your leave request (medical certificates, etc.)"})]}),s.jsxs("div",{className:"flex gap-3 pt-6",children:[s.jsx(re,{type:"submit",disabled:l||!!b||d,className:"min-w-[120px]",children:l?s.jsx(s.Fragment,{children:"Loading..."}):s.jsxs(s.Fragment,{children:[s.jsx($y,{className:"h-4 w-4 mr-2"}),t==="create"?"Save Request":"Update Request"]})}),s.jsx(re,{type:"button",variant:"outline",onClick:n,disabled:l,children:"Cancel"})]})]})})})]})]})}function doe(){const t=ht(),e=()=>{t("/leave-requests",{state:{message:"Leave request created successfully as draft. You can submit it for approval later."}})},r=()=>{t("/leave-requests")};return s.jsxs("div",{className:"container mx-auto lg:px-4 lg:py-6 max-w-none",children:[s.jsx(Ye,{title:"Create Leave Request",description:"Create a new leave request (saved as draft). You can submit it for approval after creation.",breadcrumbs:[{label:"Dashboard",href:"/dashboard"},{label:"Leave Requests",href:"/leave-requests"},{label:"Create",current:!0}],actions:s.jsxs(re,{variant:"outline",onClick:r,children:[s.jsx($t,{className:"h-4 w-4 mr-2"}),"Back to Leave Requests"]})}),s.jsx("div",{className:"mt-6",children:s.jsx(e5,{mode:"create",onSuccess:e,onCancel:r})})]})}function uoe(){const[t,e]=x.useState(null),[r,n]=x.useState(null),[a,l]=x.useState(!0),[c,d]=x.useState(!0),[f,h]=x.useState(1),[p,g]=x.useState(10),[y,b]=x.useState(!1),[j,w]=x.useState("all"),[_,E]=x.useState("all"),[S,k]=x.useState(new Date().getFullYear().toString()),[R,L]=x.useState("all"),I=ht(),T=[{label:"Dashboard",href:"/dashboard"},{label:"My Leave Requests",current:!0}],O=new Date().getFullYear(),P=x.useCallback(()=>{const U=new URLSearchParams;return U.set("page",f.toString()),U.set("pageSize",p.toString()),U.set("status",j),U.set("leaveType",_),U.set("year",S),U.set("month",R),U.toString()},[f,p,j,_,S,R]),X=x.useCallback(()=>{const U=new URLSearchParams(window.location.search),ne=parseInt(U.get("page")||"1"),me=parseInt(U.get("pageSize")||"10"),ie=U.get("status")||"all",Ee=U.get("leaveType")||"all",Oe=U.get("year")||new Date().getFullYear().toString(),fe=U.get("month")||"all";h(ne),g(Math.max(me,10)),w(ie),E(Ee),k(Oe),L(fe),b(!0)},[]),A=async()=>{try{l(!0);const U={page:f,limit:p};if(j!=="all"&&(U.status=j),_!=="all"&&(U.leave_type=_),S!=="all"){const me=parseInt(S),ie=new Date().getFullYear();if(me<=ie+1)if(R!=="all"){const Ee=parseInt(R);if(Ee>=1&&Ee<=12){const Oe=new Date(me,Ee-1,1),fe=new Date(me,Ee,0);U.start_date_from=Oe.toISOString().split("T")[0],U.end_date_to=fe.toISOString().split("T")[0]}}else{const Ee=new Date(me,0,1),Oe=new Date(me,11,31);U.start_date_from=Ee.toISOString().split("T")[0],U.end_date_to=Oe.toISOString().split("T")[0]}}else if(R!=="all"){const me=new Date().getFullYear(),ie=parseInt(R);if(ie>=1&&ie<=12){const Ee=new Date(me,ie-1,1),Oe=new Date(me,ie,0);U.start_date_from=Ee.toISOString().split("T")[0],U.end_date_to=Oe.toISOString().split("T")[0]}}const ne=await at.getMyRequests(U);e(ne)}catch(U){console.error("Failed to fetch leave requests:",U)}finally{l(!1)}},z=async()=>{try{d(!0);const U=await at.getQuota(parseInt(S));n(U)}catch(U){console.error("Failed to fetch quota:",U)}finally{d(!1)}};x.useEffect(()=>{X()},[X]),x.useEffect(()=>{y&&A()},[f,p,j,_,S,R,y]),x.useEffect(()=>{y&&z()},[S,y]),x.useEffect(()=>{if(y){const U=P(),ne=U,me=window.location.search.slice(1);if(ne!==me){const ie=`${window.location.pathname}${U?"?"+U:""}`;window.history.replaceState(null,"",ie)}}},[f,p,j,_,S,R,y,P]);const $=()=>{I("/leave-requests/create")},J=U=>{I(`/leave-requests/${U.id}/details`)},B=U=>{I(`/leave-requests/${U.id}/edit`)},M=async U=>{try{await at.deleteRequest(U),A()}catch(ne){console.error("Failed to delete leave request:",ne)}},V=async U=>{try{await at.submitRequest(U),A()}catch(ne){console.error("Failed to submit leave request:",ne)}},Q=async U=>{try{await at.revertToDraft(U),A()}catch(ne){console.error("Failed to revert leave request:",ne)}},le=(t==null?void 0:t.items)||[],H=(t==null?void 0:t.total)||0,K=(t==null?void 0:t.has_next)||!1,Y=Array.from({length:5},(U,ne)=>O-2+ne),se=[{value:"1",label:"January"},{value:"2",label:"February"},{value:"3",label:"March"},{value:"4",label:"April"},{value:"5",label:"May"},{value:"6",label:"June"},{value:"7",label:"July"},{value:"8",label:"August"},{value:"9",label:"September"},{value:"10",label:"October"},{value:"11",label:"November"},{value:"12",label:"December"}],G=U=>{const ne=at.getStatusColor(U),me=at.getStatusDisplay(U);return s.jsx(Ke,{className:`
        ${ne==="green"?"bg-green-100 text-green-800":""}
        ${ne==="yellow"?"bg-yellow-100 text-yellow-800":""}
        ${ne==="red"?"bg-red-100 text-red-800":""}
        ${ne==="gray"?"bg-gray-100 text-gray-800":""}
      `,children:me})},C=U=>{const ne=at.getLeaveTypeColor(U),me=at.getLeaveTypeDisplay(U);return s.jsx(Ke,{variant:"outline",className:`
        ${ne==="blue"?"border-blue-200 text-blue-700":""}
        ${ne==="pink"?"border-pink-200 text-pink-700":""}
      `,children:me})};return s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ye,{title:"My Leave Requests",description:"Manage your leave requests and track your quota usage",breadcrumbs:T,actions:s.jsxs(re,{onClick:$,children:[s.jsx(or,{className:"h-4 w-4 mr-2"}),"New Request"]})}),c?s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(Ne,{className:"h-[200px]"}),s.jsx(Ne,{className:"h-[200px]"})]}):r?s.jsx(C1,{quota:r}):null,s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs(ee,{children:[s.jsx(ue,{className:"pb-2",children:s.jsx(xe,{className:"text-sm font-medium text-muted-foreground",children:"Total Requests"})}),s.jsx(te,{className:"pt-0",children:s.jsx("div",{className:"text-2xl font-bold",children:H})})]}),s.jsxs(ee,{children:[s.jsx(ue,{className:"pb-2",children:s.jsx(xe,{className:"text-sm font-medium text-muted-foreground",children:"Approved"})}),s.jsx(te,{className:"pt-0",children:s.jsx("div",{className:"text-2xl font-bold text-green-600",children:le.filter(U=>U.status==="approved").length})})]}),s.jsxs(ee,{children:[s.jsx(ue,{className:"pb-2",children:s.jsx(xe,{className:"text-sm font-medium text-muted-foreground",children:"Pending"})}),s.jsx(te,{className:"pt-0",children:s.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:le.filter(U=>U.status==="submitted").length})})]}),s.jsxs(ee,{children:[s.jsx(ue,{className:"pb-2",children:s.jsx(xe,{className:"text-sm font-medium text-muted-foreground",children:"Rejected"})}),s.jsx(te,{className:"pt-0",children:s.jsx("div",{className:"text-2xl font-bold text-red-600",children:le.filter(U=>U.status==="rejected").length})})]})]}),s.jsxs(Yr,{children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium text-primary",children:[s.jsx(Di,{className:"h-4 w-4"}),s.jsx("span",{children:"Status"})]}),s.jsxs("select",{className:"w-full border border-primary p-2 h-10 rounded-md bg-white dark:bg-gray-800",value:j,onChange:U=>w(U.target.value),children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"draft",children:"Draft"}),s.jsx("option",{value:"submitted",children:"Pending Approval"}),s.jsx("option",{value:"approved",children:"Approved"}),s.jsx("option",{value:"rejected",children:"Rejected"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium text-primary",children:[s.jsx(bs,{className:"h-4 w-4"}),s.jsx("span",{children:"Leave Type"})]}),s.jsxs("select",{className:"w-full border border-primary p-2 h-10 rounded-md bg-white dark:bg-gray-800",value:_,onChange:U=>E(U.target.value),children:[s.jsx("option",{value:"all",children:"All Types"}),s.jsx("option",{value:"annual",children:"Annual Leave"}),s.jsx("option",{value:"maternity",children:"Maternity Leave"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium text-primary",children:[s.jsx(Ze,{className:"h-4 w-4"}),s.jsx("span",{children:"Year"})]}),s.jsxs("select",{className:"w-full border border-primary p-2 h-10 rounded-md bg-white dark:bg-gray-800",value:S,onChange:U=>k(U.target.value),children:[s.jsx("option",{value:"all",children:"All Years"}),Y.map(U=>s.jsx("option",{value:U.toString(),children:U},U))]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium text-primary",children:[s.jsx(Ze,{className:"h-4 w-4"}),s.jsx("span",{children:"Month"})]}),s.jsxs("select",{className:"w-full border border-primary p-2 h-10 rounded-md bg-white dark:bg-gray-800",value:R,onChange:U=>L(U.target.value),children:[s.jsx("option",{value:"all",children:"All Months"}),se.map(U=>s.jsx("option",{value:U.value,children:U.label},U.value))]})]})]}),s.jsx("div",{className:"space-y-4",children:a?Array.from({length:5}).map((U,ne)=>s.jsxs(ee,{children:[s.jsx(ue,{children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"space-y-2 flex-1",children:[s.jsx(Ne,{className:"h-4 w-3/4"}),s.jsx(Ne,{className:"h-3 w-1/2"})]}),s.jsx(Ne,{className:"h-6 w-20"})]})}),s.jsx(te,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ne,{className:"h-3 w-full"}),s.jsx(Ne,{className:"h-3 w-2/3"})]})})]},ne)):le.length===0?s.jsx(ee,{children:s.jsx(te,{className:"py-8",children:s.jsxs("div",{className:"text-center text-muted-foreground",children:[s.jsx(Ze,{className:"mx-auto h-12 w-12 mb-4 opacity-50"}),s.jsx("p",{className:"text-lg font-medium mb-2",children:"No leave requests found"}),s.jsx("p",{className:"text-sm",children:j!=="all"||_!=="all"||S!=="all"||R!=="all"?"Try adjusting your filters to see more results.":"You haven't submitted any leave requests yet."}),j==="all"&&_==="all"&&S===new Date().getFullYear().toString()&&R==="all"&&s.jsxs(re,{className:"mt-4",onClick:$,children:[s.jsx(or,{className:"h-4 w-4 mr-2"}),"Create Your First Request"]})]})})}):le.map(U=>s.jsxs(ee,{className:"hover:shadow-md transition-shadow pt-4 pb-0",children:[s.jsx(ue,{children:s.jsx("div",{className:"flex items-start gap-3",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(xe,{className:"text-lg",children:at.formatDateRange(U.start_date,U.end_date)}),G(U.status),C(U.leave_type)]}),s.jsx(Tt,{className:"text-sm text-muted-foreground",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Pt,{className:"h-3 w-3"}),U.total_days," ",U.total_days===1?"day":"days"]}),s.jsxs("span",{children:["Created: ",new Date(U.created_at).toLocaleDateString()]})]})})]})})}),s.jsx(te,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 rounded-lg bg-gray-50 border",children:[s.jsx("div",{className:"mb-2",children:s.jsx("h4",{className:"font-semibold text-gray-900",children:"Reason:"})}),s.jsx("div",{className:"text-gray-700 leading-relaxed",children:s.jsx(_r,{content:U.reason,isDetailView:!1})})]}),U.rejection_reason&&s.jsxs("div",{className:"p-4 rounded-lg bg-red-50 border border-red-200",children:[s.jsx("div",{className:"mb-2",children:s.jsx("h4",{className:"font-semibold text-red-800",children:"Rejection Reason:"})}),s.jsx("div",{className:"text-red-700 leading-relaxed",children:U.rejection_reason})]})]})}),s.jsx("div",{className:"px-6 py-3 border-t",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-0",children:[s.jsx("div",{className:"flex flex-wrap gap-2 w-full sm:w-auto",children:U.status==="draft"?s.jsxs(s.Fragment,{children:[s.jsxs(re,{variant:"outline",size:"sm",onClick:()=>B(U),className:"flex items-center gap-2",children:[s.jsx(en,{className:"h-4 w-4"}),s.jsx("span",{children:"Edit"})]}),s.jsxs(Ls,{children:[s.jsx(Or,{asChild:!0,children:s.jsxs(re,{variant:"default",size:"sm",className:"flex items-center gap-2",children:[s.jsx(qy,{className:"h-4 w-4"}),s.jsx("span",{children:"Submit"})]})}),s.jsxs(Ns,{children:[s.jsxs(_s,{children:[s.jsx(Es,{children:"Submit Leave Request"}),s.jsx(ks,{children:"Are you sure you want to submit this leave request for approval? Once submitted, you won't be able to edit it until it's reviewed."})]}),s.jsxs(Ss,{children:[s.jsx(As,{children:"Cancel"}),s.jsx(Cs,{onClick:()=>V(U.id),children:"Submit for Approval"})]})]})]})]}):U.status==="submitted"?s.jsxs(Ls,{children:[s.jsx(Or,{asChild:!0,children:s.jsxs(re,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[s.jsx(hc,{className:"h-4 w-4"}),s.jsx("span",{children:"Revert to Draft"})]})}),s.jsxs(Ns,{children:[s.jsxs(_s,{children:[s.jsx(Es,{children:"Revert to Draft"}),s.jsx(ks,{children:"Are you sure you want to revert this leave request back to draft status? This will allow you to edit it again, but any approval status will be lost."})]}),s.jsxs(Ss,{children:[s.jsx(As,{children:"Cancel"}),s.jsx(Cs,{onClick:()=>Q(U.id),children:"Revert to Draft"})]})]})]}):U.status==="rejected"?s.jsxs(Ls,{children:[s.jsx(Or,{asChild:!0,children:s.jsxs(re,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[s.jsx(hc,{className:"h-4 w-4"}),s.jsx("span",{children:"Revert for Approval"})]})}),s.jsxs(Ns,{children:[s.jsxs(_s,{children:[s.jsx(Es,{children:"Revert for Approval"}),s.jsx(ks,{children:"Are you sure you want to revert this leave request for approval? This will change its status back to submitted."})]}),s.jsxs(Ss,{children:[s.jsx(As,{children:"Cancel"}),s.jsx(Cs,{onClick:()=>Q(U.id),children:"Revert for Approval"})]})]})]}):null}),s.jsx("div",{className:"flex justify-start w-full sm:w-auto",children:s.jsxs(On,{children:[s.jsx(Mn,{asChild:!0,children:s.jsxs(re,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:[s.jsx(ra,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"More actions"})]})}),s.jsxs(un,{align:"end",children:[s.jsxs(ts,{onClick:()=>J(U),children:[s.jsx(Ut,{className:"mr-2 h-4 w-4"}),"View Details"]}),(U.status==="draft"||U.status==="rejected")&&s.jsxs(Ls,{children:[s.jsx(Or,{asChild:!0,children:s.jsxs(ts,{className:"text-red-600 focus:text-red-600",onSelect:ne=>ne.preventDefault(),children:[s.jsx(ea,{className:"mr-2 h-4 w-4"}),"Delete"]})}),s.jsxs(Ns,{children:[s.jsxs(_s,{children:[s.jsx(Es,{children:"Delete Leave Request"}),s.jsx(ks,{children:"Are you sure you want to delete this leave request? This action cannot be undone."})]}),s.jsxs(Ss,{children:[s.jsx(As,{children:"Cancel"}),s.jsx(Cs,{onClick:()=>M(U.id),className:"bg-red-600 hover:bg-red-700 focus:ring-red-600",children:"Delete"})]})]})]})]})]})})]})})]},U.id))}),!a&&le.length>0&&s.jsx(Ks,{currentPage:f,totalItems:H,itemsPerPage:p,onPageChange:h,onItemsPerPageChange:U=>g(Math.max(Number(U),10)),hasNext:K})]})}function foe(){var J;const{id:t}=zn(),e=ht(),{user:r}=yr(),[n,a]=x.useState(null),[l,c]=x.useState(!0),[d,f]=x.useState(null),[h,p]=x.useState(null),[g,y]=x.useState(""),b=(J=r==null?void 0:r.roles)==null?void 0:J.some(B=>B.name==="master_admin"),j=()=>!n||!r?!1:!!(b&&n.status==="submitted"&&r.id!==n.user_id),w=()=>n!==null&&r!==null&&n.user_id===r.id,_=()=>w()&&at.isEditable((n==null?void 0:n.status)||""),E=()=>n?w()&&at.canBeSubmitted(n.status):!1,S=()=>n?w()&&at.canBeReverted(n.status):!1;x.useEffect(()=>{t&&k()},[t]);const k=async()=>{if(t)try{c(!0),f(null);const B=await at.getRequestById(parseInt(t));a(B)}catch(B){console.error("Failed to fetch leave request:",B),f("Failed to load leave request details.")}finally{c(!1)}},R=()=>{n&&e(`/leave-requests/${n.id}/edit`)},L=async()=>{if(n)try{p("submit"),await at.submitRequest(n.id),k()}catch(B){console.error("Failed to submit leave request:",B)}finally{p(null)}},I=async()=>{if(n)try{p("revert"),await at.revertToDraft(n.id),k()}catch(B){console.error("Failed to revert leave request:",B)}finally{p(null)}},T=async()=>{if(n)try{p("approve"),await at.admin.approveRequest(n.id,{status:"approved"}),k()}catch(B){console.error("Failed to approve leave request:",B)}finally{p(null)}},O=async()=>{if(!(!n||!g.trim()))try{p("reject"),await at.admin.approveRequest(n.id,{status:"rejected",rejection_reason:g.trim()}),y(""),k()}catch(B){console.error("Failed to reject leave request:",B)}finally{p(null)}},P=()=>{e("/leave-requests")};if(l)return s.jsx("div",{className:"container mx-auto lg:px-4 lg:py-6 max-w-none",children:s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(js,{className:"h-6 w-6 animate-spin"}),s.jsx("span",{children:"Loading leave request..."})]})})});if(d||!n)return s.jsxs("div",{className:"container mx-auto lg:px-4 lg:py-6 max-w-none",children:[s.jsx(Ye,{title:"Leave Request Not Found",description:"The requested leave request could not be found.",breadcrumbs:[{label:"Dashboard",href:"/dashboard"},{label:"Leave Requests",href:"/leave-requests"},{label:"Details",current:!0}],actions:s.jsxs(re,{variant:"outline",onClick:P,children:[s.jsx($t,{className:"h-4 w-4 mr-2"}),"Back to Leave Requests"]})}),s.jsx(ee,{children:s.jsx(te,{className:"py-8",children:s.jsxs("div",{className:"text-center text-muted-foreground",children:[s.jsx(An,{className:"mx-auto h-12 w-12 mb-4 opacity-50"}),s.jsx("p",{className:"text-lg font-medium mb-2",children:"Leave Request Not Found"}),s.jsx("p",{className:"text-sm",children:d||"The leave request you are looking for does not exist or you do not have permission to view it."})]})})})]});const X=B=>new Date(B).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),A=B=>{const M=at.getStatusColor(B),V=at.getStatusDisplay(B);return s.jsx(Ke,{className:`
        ${M==="green"?"bg-green-100 text-green-800":""}
        ${M==="yellow"?"bg-yellow-100 text-yellow-800":""}
        ${M==="red"?"bg-red-100 text-red-800":""}
        ${M==="gray"?"bg-gray-100 text-gray-800":""}
      `,children:V})},z=B=>{const M=at.getLeaveTypeColor(B),V=at.getLeaveTypeDisplay(B);return s.jsx(Ke,{variant:"outline",className:`
        ${M==="blue"?"border-blue-200 text-blue-700":""}
        ${M==="pink"?"border-pink-200 text-pink-700":""}
      `,children:V})},$=[];return _()&&$.push(s.jsxs(re,{onClick:R,children:[s.jsx(en,{className:"h-4 w-4 mr-2"}),"Edit Request"]},"edit")),j()&&($.push(s.jsxs(Ls,{children:[s.jsx(Or,{asChild:!0,children:s.jsxs(re,{variant:"default",disabled:h!==null,children:[h==="approve"?s.jsx(js,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(cr,{className:"h-4 w-4 mr-2"}),"Approve"]})}),s.jsxs(Ns,{children:[s.jsxs(_s,{children:[s.jsx(Es,{children:"Approve Leave Request"}),s.jsxs(ks,{children:["Are you sure you want to approve this leave request for User ID: ",n==null?void 0:n.user_id,"?"]})]}),s.jsxs(Ss,{children:[s.jsx(As,{children:"Cancel"}),s.jsx(Cs,{onClick:T,children:"Approve"})]})]})]},"approve-dialog")),$.push(s.jsxs(Ls,{children:[s.jsx(Or,{asChild:!0,children:s.jsxs(re,{variant:"destructive",disabled:h!==null,children:[h==="reject"?s.jsx(js,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(An,{className:"h-4 w-4 mr-2"}),"Reject"]})}),s.jsxs(Ns,{children:[s.jsxs(_s,{children:[s.jsx(Es,{children:"Reject Leave Request"}),s.jsxs(ks,{children:["Please provide a reason for rejecting this leave request for User ID: ",n==null?void 0:n.user_id,"."]})]}),s.jsx("div",{className:"py-4",children:s.jsx(Tn,{placeholder:"Enter rejection reason...",value:g,onChange:B=>y(B.target.value),className:"w-full",rows:3})}),s.jsxs(Ss,{children:[s.jsx(As,{onClick:()=>y(""),children:"Cancel"}),s.jsx(Cs,{onClick:O,disabled:!g.trim(),className:"bg-red-600 hover:bg-red-700",children:"Reject"})]})]})]},"reject-dialog"))),E()&&$.push(s.jsxs(re,{onClick:L,disabled:h==="submit",children:[h==="submit"?s.jsx(js,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(qy,{className:"h-4 w-4 mr-2"}),"Submit for Approval"]},"submit")),S()&&$.push(s.jsxs(re,{variant:"outline",onClick:I,disabled:h==="revert",children:[h==="revert"?s.jsx(js,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(hc,{className:"h-4 w-4 mr-2"}),"Revert to Draft"]},"revert")),s.jsxs("div",{className:"container mx-auto lg:px-4 lg:py-6 max-w-none",children:[s.jsx(Ye,{title:"Leave Request Details",description:"View detailed information about this leave request",breadcrumbs:[{label:"Dashboard",href:"/dashboard"},{label:"Leave Requests",href:"/leave-requests"},{label:"Details",current:!0}],actions:s.jsxs("div",{className:"flex items-center gap-2",children:[$,s.jsxs(re,{variant:"outline",onClick:P,children:[s.jsx($t,{className:"h-4 w-4 mr-2"}),"Back to Leave Requests"]})]})}),s.jsxs("div",{className:"space-y-6 mt-4",children:[s.jsxs(ee,{children:[s.jsxs(ue,{children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(Ze,{className:"h-5 w-5"}),"Leave Request Information"]}),s.jsxs(Tt,{children:["Submitted on ",new Date(n.created_at).toLocaleDateString()]})]}),s.jsx(te,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Employee"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(to,{className:"h-4 w-4"}),s.jsxs("span",{children:["User ID: ",n.user_id]})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Leave Type"}),s.jsx("div",{children:z(n.leave_type)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Duration"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Pt,{className:"h-4 w-4"}),s.jsxs("span",{children:[n.total_days," ",n.total_days===1?"day":"days"]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Status"}),s.jsx("div",{children:A(n.status)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Period"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ze,{className:"h-4 w-4"}),s.jsx("span",{children:at.formatDateRange(n.start_date,n.end_date)})]})]})]})]})})]}),s.jsxs(ee,{children:[s.jsx(ue,{children:s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(bs,{className:"h-5 w-5"}),"Reason for Leave"]})}),s.jsx(te,{children:s.jsx("div",{className:"p-4 bg-muted/50 rounded-lg",children:s.jsx(_r,{content:n.reason,isDetailView:!0})})})]}),n.evidences&&n.evidences.length>0&&s.jsxs(ee,{children:[s.jsxs(ue,{children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(Tf,{className:"h-5 w-5"}),"Supporting Documents",s.jsxs(Ke,{variant:"secondary",className:"ml-2",children:[n.evidences.length," file",n.evidences.length!==1?"s":""]})]}),s.jsx(Tt,{children:"Supporting documents and files for this leave request"})]}),s.jsxs(te,{children:[s.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:n.evidences.map(B=>{var Q,le,H;const M=B.file_upload,V=(Q=M.content_type)==null?void 0:Q.startsWith("image/");return s.jsx(ee,{className:"relative overflow-hidden",children:s.jsxs(te,{className:"p-4",children:[s.jsx("div",{className:"flex items-start justify-between mb-3",children:s.jsxs("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[V?s.jsx(im,{className:"h-4 w-4 text-blue-500"}):s.jsx(GN,{className:"h-4 w-4 text-gray-500"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium truncate",title:M.original_filename,children:M.original_filename}),s.jsxs("p",{className:"text-xs text-gray-500",children:[(M.file_size/1024).toFixed(1)," KB"]})]})]})}),B.description&&s.jsx("div",{className:"mb-3",children:s.jsxs("p",{className:"text-xs text-gray-600 italic",children:['"',B.description,'"']})}),V&&s.jsx("div",{className:"mb-3",children:s.jsxs(jd,{children:[s.jsx(VP,{asChild:!0,children:s.jsxs("div",{className:"cursor-pointer group relative",children:[s.jsxs("div",{className:"w-full h-24 bg-gray-100 rounded border flex items-center justify-center",children:[s.jsx(im,{className:"h-8 w-8 text-gray-400"}),s.jsx("span",{className:"ml-2 text-sm text-gray-500",children:"Image Preview"})]}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 bg-black/20 transition-opacity rounded",children:s.jsx(Ut,{className:"h-6 w-6 text-white"})})]})}),s.jsx(wd,{className:"max-w-4xl",children:s.jsx("div",{className:"flex items-center justify-center h-96",children:s.jsxs("div",{className:"text-center",children:[s.jsx(im,{className:"h-16 w-16 mx-auto mb-4 text-gray-400"}),s.jsx("p",{className:"text-gray-500",children:"Image preview not available"})]})})})]})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Ke,{variant:"outline",className:"text-xs",children:((H=(le=M.content_type)==null?void 0:le.split("/")[1])==null?void 0:H.toUpperCase())||"FILE"}),s.jsx(re,{size:"sm",variant:"ghost",onClick:()=>qr.downloadFile(M.id,M.original_filename),className:"h-8 w-8 p-0",children:s.jsx(pl,{className:"h-3 w-3"})})]}),s.jsx("div",{className:"mt-2 text-xs text-gray-500",children:"File uploaded"})]})},B.id)})}),s.jsx("div",{className:"mt-4 text-xs text-gray-500",children:s.jsxs("p",{children:[s.jsx("strong",{children:"Note:"})," Click on images to view full size. Use the download button to save files."]})})]})]}),s.jsxs(ee,{children:[s.jsx(ue,{children:s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(Pt,{className:"h-5 w-5"}),"Status Information"]})}),s.jsx(te,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-muted-foreground",children:"Created"}),s.jsx("p",{children:X(n.created_at)})]}),n.updated_at&&s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-muted-foreground",children:"Last Updated"}),s.jsx("p",{children:X(n.updated_at)})]})]}),(n.status==="approved"||n.status==="rejected")&&s.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[n.approved_at&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:n.status==="approved"?"Approved At":"Processed At"}),s.jsx("p",{className:"text-sm",children:X(n.approved_at)})]}),n.approved_by&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Processed By"}),s.jsxs("p",{className:"text-sm",children:["User ID: ",n.approved_by]})]})]}),n.rejection_reason&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Rejection Reason"}),s.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:s.jsx("p",{className:"text-red-800 text-sm",children:n.rejection_reason})})]})]})]})})]})]})]})}function hoe(){var ie,Ee,Oe;const[t,e]=x.useState([]),[r,n]=x.useState(!0),[a,l]=x.useState(1),[c,d]=x.useState(10),[f,h]=x.useState(0),[p,g]=x.useState(!1),[y,b]=x.useState(!1),[j,w]=x.useState("all"),[_,E]=x.useState("all"),[S,k]=x.useState(new Date().getFullYear().toString()),[R,L]=x.useState("all"),[I,T]=x.useState("all"),O=ht(),{user:P}=yr(),X=[{label:"Dashboard",href:"/dashboard"},{label:"Leave Request Monitoring",current:!0}],A=(ie=P==null?void 0:P.roles)==null?void 0:ie.some(fe=>fe.name==="master_admin"),z=(Ee=P==null?void 0:P.roles)==null?void 0:Ee.some(fe=>fe.name==="admin"),$=(Oe=P==null?void 0:P.org_unit)==null?void 0:Oe.id,[J,B]=x.useState(""),M=fe=>P?!!A&&fe.status==="submitted"&&fe.user_id!==P.id:!1,V=x.useCallback(()=>{const fe=new URLSearchParams;return fe.set("page",a.toString()),fe.set("pageSize",c.toString()),fe.set("status",j),fe.set("leaveType",_),fe.set("year",S),fe.set("month",R),A&&fe.set("orgUnit",I),fe.toString()},[a,c,j,_,S,R,I,A]),Q=x.useCallback(()=>{const fe=new URLSearchParams(window.location.search),Ce=parseInt(fe.get("page")||"1"),pe=parseInt(fe.get("pageSize")||"10"),ze=fe.get("status")||"submitted",lt=fe.get("leaveType")||"all",Je=fe.get("year")||new Date().getFullYear().toString(),Zt=fe.get("month")||"all",jt=fe.get("orgUnit")||"all";l(Ce),d(Math.max(pe,10)),w(ze),E(lt),k(Je),L(Zt),A&&T(jt),b(!0)},[A]),le=async()=>{try{n(!0);let fe;const Ce={page:a,limit:Math.max(c,10)};if(j!=="all"&&(Ce.status=j),_!=="all"&&(Ce.leave_type=_),A&&I!=="all"&&(Ce.org_unit_id=[parseInt(I)]),S!=="all"){const pe=parseInt(S),ze=new Date().getFullYear();if(pe<=ze+1)if(R!=="all"){const lt=parseInt(R);if(lt>=1&&lt<=12){const Je=new Date(pe,lt-1,1),Zt=new Date(pe,lt,0);Ce.start_date_from=Je.toISOString().split("T")[0],Ce.end_date_to=Zt.toISOString().split("T")[0]}}else{const lt=new Date(pe,0,1),Je=new Date(pe,11,31);Ce.start_date_from=lt.toISOString().split("T")[0],Ce.end_date_to=Je.toISOString().split("T")[0]}}else if(R!=="all"){const pe=new Date().getFullYear(),ze=parseInt(R);if(ze>=1&&ze<=12){const lt=new Date(pe,ze-1,1),Je=new Date(pe,ze,0);Ce.start_date_from=lt.toISOString().split("T")[0],Ce.end_date_to=Je.toISOString().split("T")[0]}}A?fe=await at.admin.getAllRequests(Ce):z&&$?fe=await at.admin.getRequestsByOrgUnit(Ce):fe={items:[],total:0,page:1,size:10,has_next:!1},e((fe==null?void 0:fe.items)||[]),h(fe.total),g(fe.has_next)}catch(fe){console.error("Failed to fetch leave requests:",fe)}finally{n(!1)}};x.useEffect(()=>{Q()},[Q]),x.useEffect(()=>{y&&le()},[a,c,j,_,S,R,I,y]),x.useEffect(()=>{if(y){const fe=V(),Ce=fe,pe=window.location.search.slice(1);if(Ce!==pe){const ze=`${window.location.pathname}${fe?"?"+fe:""}`;window.history.replaceState(null,"",ze)}}},[a,c,j,_,S,R,I,y,V]);const H=fe=>{O(`/leave-requests/${fe.id}/details`)},K=async fe=>{try{await at.admin.approveRequest(fe.id,{status:"approved"}),le()}catch(Ce){console.error("Failed to approve leave request:",Ce)}},Y=async fe=>{if(J.trim())try{await at.admin.approveRequest(fe.id,{status:"rejected",rejection_reason:J.trim()}),B(""),le()}catch(Ce){console.error("Failed to reject leave request:",Ce)}},se=t,G=new Date().getFullYear(),C=Array.from({length:5},(fe,Ce)=>G-2+Ce),U=[{value:"1",label:"January"},{value:"2",label:"February"},{value:"3",label:"March"},{value:"4",label:"April"},{value:"5",label:"May"},{value:"6",label:"June"},{value:"7",label:"July"},{value:"8",label:"August"},{value:"9",label:"September"},{value:"10",label:"October"},{value:"11",label:"November"},{value:"12",label:"December"}],ne=fe=>{const Ce=at.getStatusColor(fe),pe=at.getStatusDisplay(fe);return s.jsx(Ke,{className:`
        ${Ce==="green"?"bg-green-100 text-green-800":""}
        ${Ce==="yellow"?"bg-yellow-100 text-yellow-800":""}
        ${Ce==="red"?"bg-red-100 text-red-800":""}
        ${Ce==="gray"?"bg-gray-100 text-gray-800":""}
      `,children:pe})},me=fe=>{const Ce=at.getLeaveTypeColor(fe),pe=at.getLeaveTypeDisplay(fe);return s.jsx(Ke,{variant:"outline",className:`
        ${Ce==="blue"?"border-blue-200 text-blue-700":""}
        ${Ce==="pink"?"border-pink-200 text-pink-700":""}
      `,children:pe})};return s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ye,{title:"Leave Request Monitoring",description:A?"Monitor all leave requests across the organization":"Monitor leave requests in your organizational unit",breadcrumbs:X,actions:null}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs(ee,{children:[s.jsx(ue,{className:"pb-2",children:s.jsx(xe,{className:"text-sm font-medium text-muted-foreground",children:"Total Requests"})}),s.jsx(te,{className:"pt-0",children:s.jsx("div",{className:"text-2xl font-bold",children:f})})]}),s.jsxs(ee,{children:[s.jsx(ue,{className:"pb-2",children:s.jsx(xe,{className:"text-sm font-medium text-muted-foreground",children:"Approved"})}),s.jsx(te,{className:"pt-0",children:s.jsx("div",{className:"text-2xl font-bold text-green-600",children:se.filter(fe=>fe.status==="approved").length})})]}),s.jsxs(ee,{children:[s.jsx(ue,{className:"pb-2",children:s.jsx(xe,{className:"text-sm font-medium text-muted-foreground",children:"Pending"})}),s.jsx(te,{className:"pt-0",children:s.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:se.filter(fe=>fe.status==="submitted").length})})]}),s.jsxs(ee,{children:[s.jsx(ue,{className:"pb-2",children:s.jsx(xe,{className:"text-sm font-medium text-muted-foreground",children:"Rejected"})}),s.jsx(te,{className:"pt-0",children:s.jsx("div",{className:"text-2xl font-bold text-red-600",children:se.filter(fe=>fe.status==="rejected").length})})]})]}),s.jsxs(Yr,{children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium text-primary",children:[s.jsx(Di,{className:"h-4 w-4"}),s.jsx("span",{children:"Status"})]}),s.jsxs("select",{className:"w-full border border-primary p-2 h-10 rounded-md bg-white dark:bg-gray-800",value:j,onChange:fe=>w(fe.target.value),children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"draft",children:"Draft"}),s.jsx("option",{value:"submitted",children:"Pending"}),s.jsx("option",{value:"approved",children:"Approved"}),s.jsx("option",{value:"rejected",children:"Rejected"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium text-primary",children:[s.jsx(ws,{className:"h-4 w-4"}),s.jsx("span",{children:"Leave Type"})]}),s.jsxs("select",{className:"w-full border border-primary p-2 h-10 rounded-md bg-white dark:bg-gray-800",value:_,onChange:fe=>E(fe.target.value),children:[s.jsx("option",{value:"all",children:"All Types"}),s.jsx("option",{value:"annual",children:"Annual Leave"}),s.jsx("option",{value:"maternity",children:"Maternity Leave"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium text-primary",children:[s.jsx(Ze,{className:"h-4 w-4"}),s.jsx("span",{children:"Year"})]}),s.jsxs("select",{className:"w-full border border-primary p-2 h-10 rounded-md bg-white dark:bg-gray-800",value:S,onChange:fe=>k(fe.target.value),children:[s.jsx("option",{value:"all",children:"All Years"}),C.map(fe=>s.jsx("option",{value:fe.toString(),children:fe},fe))]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium text-primary",children:[s.jsx(Ze,{className:"h-4 w-4"}),s.jsx("span",{children:"Month"})]}),s.jsxs("select",{className:"w-full border border-primary p-2 h-10 rounded-md bg-white dark:bg-gray-800",value:R,onChange:fe=>L(fe.target.value),children:[s.jsx("option",{value:"all",children:"All Months"}),U.map(fe=>s.jsx("option",{value:fe.value,children:fe.label},fe.value))]})]}),A&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium text-primary",children:[s.jsx(Na,{className:"h-4 w-4"}),s.jsx("span",{children:"Org Unit"})]}),s.jsx("select",{className:"w-full border border-primary p-2 h-10 rounded-md bg-white dark:bg-gray-800",value:I,onChange:fe=>T(fe.target.value),children:s.jsx("option",{value:"all",children:"All Units"})})]})]}),s.jsx("div",{className:"space-y-4",children:r?Array.from({length:5}).map((fe,Ce)=>s.jsxs(ee,{children:[s.jsx(ue,{children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"space-y-2 flex-1",children:[s.jsx(Ne,{className:"h-4 w-3/4"}),s.jsx(Ne,{className:"h-3 w-1/2"})]}),s.jsx(Ne,{className:"h-6 w-20"})]})}),s.jsx(te,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ne,{className:"h-3 w-full"}),s.jsx(Ne,{className:"h-3 w-2/3"})]})})]},Ce)):se.length===0?s.jsx(ee,{children:s.jsx(te,{className:"py-8",children:s.jsxs("div",{className:"text-center text-muted-foreground",children:[s.jsx(Ze,{className:"mx-auto h-12 w-12 mb-4 opacity-50"}),s.jsx("p",{className:"text-lg font-medium mb-2",children:"No leave requests found"}),s.jsx("p",{className:"text-sm",children:j!=="all"||_!=="all"||S!=="all"||R!=="all"?"Try adjusting your filters to see more results.":"No leave requests have been submitted yet."})]})})}):se.map(fe=>s.jsxs(ee,{className:"hover:shadow-md transition-shadow pt-4 pb-0",children:[s.jsx(ue,{children:s.jsx("div",{className:"flex items-start gap-3",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(xe,{className:"text-lg",children:at.formatDateRange(fe.start_date,fe.end_date)}),ne(fe.status),me(fe.leave_type)]}),s.jsxs(Tt,{className:"text-sm text-muted-foreground flex flex-col gap-4",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(ws,{className:"h-3 w-3"}),fe.user_name]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(rp,{className:"h-3 w-3"}),fe.org_unit_name]})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Pt,{className:"h-3 w-3"}),fe.total_days," ",fe.total_days===1?"day":"days"]}),s.jsxs("span",{children:["Created: ",new Date(fe.created_at).toLocaleDateString()]})]})]})]})})}),s.jsx(te,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 rounded-lg bg-gray-50 border",children:[s.jsx("div",{className:"mb-2",children:s.jsx("h4",{className:"font-semibold text-gray-900",children:"Reason:"})}),s.jsx("div",{className:"text-gray-700 leading-relaxed",children:s.jsx(_r,{content:fe.reason,isDetailView:!1})})]}),fe.rejection_reason&&s.jsxs("div",{className:"p-4 rounded-lg bg-red-50 border border-red-200",children:[s.jsx("div",{className:"mb-2",children:s.jsx("h4",{className:"font-semibold text-red-800",children:"Rejection Reason:"})}),s.jsx("div",{className:"text-red-700 leading-relaxed",children:fe.rejection_reason})]})]})}),s.jsx("div",{className:"px-6 py-3 border-t",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-0",children:[s.jsx("div",{className:"flex flex-wrap gap-2 w-full sm:w-auto",children:M(fe)?s.jsxs(s.Fragment,{children:[s.jsxs(Ls,{children:[s.jsx(Or,{asChild:!0,children:s.jsxs(re,{variant:"default",size:"sm",className:"flex items-center gap-2",children:[s.jsx(cr,{className:"h-4 w-4"}),s.jsx("span",{children:"Approve"})]})}),s.jsxs(Ns,{children:[s.jsxs(_s,{children:[s.jsx(Es,{children:"Approve Leave Request"}),s.jsxs(ks,{children:["Are you sure you want to approve this leave request for ",fe.user_name,"?"]})]}),s.jsxs(Ss,{children:[s.jsx(As,{children:"Cancel"}),s.jsx(Cs,{onClick:()=>K(fe),children:"Approve"})]})]})]}),s.jsxs(Ls,{children:[s.jsx(Or,{asChild:!0,children:s.jsxs(re,{variant:"destructive",size:"sm",className:"flex items-center gap-2",children:[s.jsx(An,{className:"h-4 w-4"}),s.jsx("span",{children:"Reject"})]})}),s.jsxs(Ns,{children:[s.jsxs(_s,{children:[s.jsx(Es,{children:"Reject Leave Request"}),s.jsxs(ks,{children:["Please provide a reason for rejecting this leave request for ",fe.user_name,"."]})]}),s.jsx("div",{className:"py-4",children:s.jsx(Tn,{placeholder:"Enter rejection reason...",value:J,onChange:Ce=>B(Ce.target.value),className:"w-full",rows:3})}),s.jsxs(Ss,{children:[s.jsx(As,{onClick:()=>B(""),children:"Cancel"}),s.jsx(Cs,{onClick:()=>Y(fe),disabled:!J.trim(),className:"bg-red-600 hover:bg-red-700",children:"Reject"})]})]})]})]}):null}),s.jsx("div",{className:"flex justify-start w-full sm:w-auto",children:s.jsxs(On,{children:[s.jsx(Mn,{asChild:!0,children:s.jsxs(re,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:[s.jsx(ra,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"More actions"})]})}),s.jsx(un,{align:"end",children:s.jsxs(ts,{onClick:()=>H(fe),children:[s.jsx(Ut,{className:"mr-2 h-4 w-4"}),"View Details"]})})]})})]})})]},fe.id))}),!r&&se.length>0&&s.jsx(Ks,{currentPage:a,totalItems:f,itemsPerPage:c,onPageChange:l,onItemsPerPageChange:fe=>d(Math.max(Number(fe),10)),hasNext:p})]})}function moe(){const{id:t}=zn(),e=ht(),{user:r}=yr(),[n,a]=x.useState(null),[l,c]=x.useState(!0),[d,f]=x.useState(null);x.useEffect(()=>{t&&h()},[t]);const h=async()=>{if(t)try{c(!0),f(null);const y=await at.getRequestById(parseInt(t));if(y.user_id!==(r==null?void 0:r.id)){f("You do not have permission to edit this leave request.");return}if(!at.isEditable(y.status)){f("This leave request cannot be edited as it has already been processed.");return}a(y)}catch(y){console.error("Failed to fetch leave request:",y),f("Failed to load leave request details.")}finally{c(!1)}},p=()=>{e(`/leave-requests/${t}`,{state:{message:"Leave request updated successfully."}})},g=()=>{e(`/leave-requests/${t}`)};return l?s.jsx("div",{className:"container mx-auto lg:px-4 lg:py-6 max-w-none",children:s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(js,{className:"h-6 w-6 animate-spin"}),s.jsx("span",{children:"Loading leave request..."})]})})}):d||!n?s.jsxs("div",{className:"container mx-auto lg:px-4 lg:py-6 max-w-none",children:[s.jsx(Ye,{title:"Edit Leave Request",description:"Unable to edit this leave request",breadcrumbs:[{label:"Dashboard",href:"/dashboard"},{label:"Leave Requests",href:"/leave-requests"},{label:"Edit",current:!0}],actions:s.jsxs(re,{variant:"outline",onClick:()=>e("/leave-requests"),children:[s.jsx($t,{className:"h-4 w-4 mr-2"}),"Back to Leave Requests"]})}),s.jsx(ee,{children:s.jsx(te,{className:"py-8",children:s.jsxs("div",{className:"text-center text-muted-foreground",children:[s.jsx("div",{className:"mx-auto h-12 w-12 mb-4 opacity-50 bg-red-100 rounded-full flex items-center justify-center",children:s.jsx($t,{className:"h-6 w-6 text-red-600"})}),s.jsx("p",{className:"text-lg font-medium mb-2",children:"Cannot Edit Leave Request"}),s.jsx("p",{className:"text-sm",children:d||"This leave request cannot be edited."}),s.jsx(re,{className:"mt-4",onClick:()=>e("/leave-requests"),children:"Back to Leave Requests"})]})})})]}):s.jsxs("div",{className:"container mx-auto lg:px-4 lg:py-6 max-w-none",children:[s.jsx(Ye,{title:"Edit Leave Request",description:"Update your leave request details",breadcrumbs:[{label:"Dashboard",href:"/dashboard"},{label:"Leave Requests",href:"/leave-requests"},{label:at.formatDateRange(n.start_date,n.end_date),href:`/leave-requests/${t}`},{label:"Edit",current:!0}],actions:s.jsxs(re,{variant:"outline",onClick:g,children:[s.jsx($t,{className:"h-4 w-4 mr-2"}),"Back to Details"]})}),s.jsx("div",{className:"mt-6",children:s.jsx(e5,{mode:"edit",leaveRequest:n,onSuccess:p,onCancel:g,allowSubmit:at.canBeSubmitted(n.status)})})]})}Wt.object({action:Wt.enum(["approved","rejected"]),notes:Wt.string()}).refine(t=>t.action==="rejected"?t.notes.trim().length>0:!0,{message:"Notes are required when rejecting an entry",path:["notes"]});function poe(){const{user:t}=yr(),[e,r]=x.useState(null),[n,a]=x.useState(null),[l,c]=x.useState(""),[d,f]=x.useState(!1),[h,p]=x.useState(new Date),[g,y]=x.useState(null),[b,j]=x.useState(null),[w,_]=x.useState(!1),[E,S]=x.useState(null),k=x.useRef(null),R=x.useRef(null),{toast:L}=tr();if(!((t==null?void 0:t.roles.some(K=>K.name==="user"))&&!(t!=null&&t.roles.some(K=>["admin","master_admin"].includes(K.name)))))return s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ye,{title:"Check In / Out",description:"Manage your daily attendance check-in and check-out",breadcrumbs:[{label:"Attendance",href:"/attendance"},{label:"Check In/Out",current:!0}]}),s.jsxs(Br,{variant:"destructive",children:[s.jsx(Zl,{className:"h-4 w-4"}),s.jsx(Hr,{children:"Access denied. Only regular users can check in/out. Admins can view attendance through the monitoring section."})]})]});const T=[{label:"Attendance",href:"/attendance"},{label:"Check In/Out",current:!0}];x.useEffect(()=>{const K=setInterval(()=>{p(new Date)},1e3);return()=>clearInterval(K)},[]),x.useEffect(()=>{(async()=>{try{const[Y,se]=await Promise.all([We.getStatus(),We.getTodayAttendance()]);console.log(Y),r(Y),se&&"id"in se&&a(se)}catch(Y){console.error("Error fetching attendance data:",Y)}})()},[]);const O=async K=>{try{console.log("Starting camera...");const Y={video:{facingMode:"user"},audio:!1};console.log("Requesting camera with constraints:",Y);const se=await navigator.mediaDevices.getUserMedia(Y);console.log("Camera stream obtained:",se),y(se),_(!0),S(K),setTimeout(()=>{k.current?(console.log("Setting video srcObject"),k.current.srcObject=se,k.current.onloadedmetadata=()=>{var G,C;console.log("Video metadata loaded, dimensions:",(G=k.current)==null?void 0:G.videoWidth,"x",(C=k.current)==null?void 0:C.videoHeight)},k.current.oncanplay=()=>{console.log("Video can play")},k.current.onerror=G=>{console.error("Video error:",G)},k.current.play().catch(G=>console.error("Play failed:",G))):console.error("Video ref not available")},100)}catch(Y){console.error("Camera access denied:",Y),L({title:"Camera Access Required",description:"Please allow camera access to take a selfie for attendance.",variant:"destructive"})}},P=()=>{g&&(g.getTracks().forEach(K=>K.stop()),y(null)),k.current&&(k.current.srcObject=null,k.current.onloadedmetadata=null,k.current.oncanplay=null,k.current.onplaying=null),_(!1),S(null),j(null)},X=()=>{if(k.current&&R.current){const K=k.current,Y=R.current,se=Y.getContext("2d"),G=K.videoWidth||640,C=K.videoHeight||480;if(Y.width=G,Y.height=C,se)try{se.save(),se.scale(-1,1),se.drawImage(K,-Y.width,0,Y.width,Y.height),se.restore();const U=Y.toDataURL("image/jpeg",.8);j(U)}catch(U){console.error("Error capturing image:",U),L({title:"Capture Failed",description:"Failed to capture image. Please try again.",variant:"destructive"})}}},A=()=>{j(null)},z=(K,Y)=>{const se=K.split(","),G=se[0].match(/:(.*?);/)[1],C=atob(se[1]);let U=C.length;const ne=new Uint8Array(U);for(;U--;)ne[U]=C.charCodeAt(U);return new File([ne],Y,{type:G})},$=async()=>{if(!(!b||!E)){f(!0);try{const K=z(b,`selfie-${Date.now()}.jpg`);let Y;E==="checkin"?Y=await We.completeCheckInWithGPS(K,void 0,l,!0):Y=await We.completeCheckOutWithGPS(K,l,!0),a(Y),c(""),P();const se=await We.getStatus();r(se),L({title:E==="checkin"?"Check In Successful":"Check Out Successful",description:`You have successfully ${E==="checkin"?"checked in":"checked out"} for today.`})}catch(K){console.error(`${E} failed:`,K)}finally{f(!1)}}},J=()=>{e!=null&&e.can_check_in&&O("checkin")},B=()=>{e!=null&&e.can_check_out&&O("checkout")};x.useEffect(()=>()=>{g&&g.getTracks().forEach(K=>K.stop())},[g]);const M=K=>K.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit"}),V=K=>K.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),Q=()=>e?e.can_check_in&&!e.can_check_out?s.jsx(Ke,{variant:"outline",className:"text-orange-600 border-orange-600",children:"Not Checked In"}):!e.can_check_in&&e.can_check_out?s.jsx(Ke,{variant:"outline",className:"text-green-600 border-green-600",children:"Checked In"}):!e.can_check_in&&!e.can_check_out?s.jsx(Ke,{variant:"outline",className:"text-blue-600 border-blue-600",children:"Completed"}):s.jsx(Ke,{variant:"outline",children:"Ready"}):null,H=(()=>{if(!e)return null;const K=[];if(e.logbook_required&&e.logbook_status!=="submitted"&&K.push({type:"warning",message:"Daily logbook is required but not yet submitted. Please complete your logbook first.",icon:Zl}),e.can_check_in){const Y=new Date,se=new Date;se.setHours(9,0,0,0),Y>se&&K.push({type:"warning",message:"You are checking in late. Standard work time starts at 9:00 AM.",icon:Zl})}if(e.can_check_out){const Y=new Date,se=new Date;se.setHours(17,0,0,0),Y<se&&K.push({type:"info",message:"Early checkout detected. Standard work time ends at 5:00 PM.",icon:gR})}return K})();return s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ye,{title:"Check In / Out",description:"Manage your daily attendance check-in and check-out",breadcrumbs:T}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs(ee,{children:[s.jsxs(ue,{children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(Pt,{className:"h-5 w-5"}),"Current Status"]}),s.jsx(Tt,{children:"Your current attendance status for today"})]}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Status:"}),Q()]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Date:"}),s.jsx("span",{className:"text-sm font-medium",children:V(h)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Current Time:"}),s.jsx("span",{className:"text-sm font-mono font-bold",children:M(h)})]}),n&&s.jsxs(s.Fragment,{children:[n.check_in_time&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Check In:"}),s.jsx("span",{className:"text-sm font-medium",children:We.formatTime(n.check_in_time)})]}),n.check_out_time&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Check Out:"}),s.jsx("span",{className:"text-sm font-medium",children:We.formatTime(n.check_out_time)})]}),n.check_in_time&&n.check_out_time&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Working Hours:"}),s.jsx("span",{className:"text-sm font-medium",children:We.calculateWorkingHours(n)})]})]})]})]}),s.jsxs(ee,{children:[s.jsxs(ue,{children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(to,{className:"h-5 w-5"}),"Attendance Actions"]}),s.jsx(Tt,{children:"Check in or check out for today"})]}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{htmlFor:"notes",children:"Notes (Optional)"}),s.jsx(Tn,{id:"notes",placeholder:"Add any notes about your work day...",value:l,onChange:K=>c(K.target.value),rows:3})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(re,{onClick:J,disabled:!(e!=null&&e.can_check_in)||d,className:"flex-1",variant:e!=null&&e.can_check_in?"default":"outline",children:[s.jsx(Wa,{className:"h-4 w-4 mr-2"}),"Check In"]}),s.jsxs(re,{onClick:B,disabled:!(e!=null&&e.can_check_out)||d,className:"flex-1",variant:e!=null&&e.can_check_out?"destructive":"outline",children:[s.jsx(Wa,{className:"h-4 w-4 mr-2"}),"Check Out"]})]}),d&&s.jsx("div",{className:"text-center text-sm text-muted-foreground",children:"Processing..."})]})]})]}),H&&H.length>0&&s.jsx("div",{className:"space-y-3",children:H.map((K,Y)=>{const se=K.icon;return s.jsxs(Br,{variant:K.type==="warning"?"destructive":"default",children:[s.jsx(se,{className:"h-4 w-4"}),s.jsx(Hr,{children:K.message})]},Y)})}),n&&s.jsxs(ee,{children:[s.jsxs(ue,{children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(Ze,{className:"h-5 w-5"}),"Today's Attendance Details"]}),s.jsx(Tt,{children:"Complete details of your attendance for today"})]}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2 flex flex-col",children:[s.jsx(kt,{className:"text-sm font-medium",children:"Status"}),s.jsx(Ke,{variant:"outline",className:`w-fit ${We.getStatusColor(n.status)==="green"?"text-green-600 border-green-600":"text-gray-600 border-gray-600"}`,children:We.getStatusLabel(n.status)})]}),(n.check_in_location_name||n.check_in_submitted_location)&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs(kt,{className:"text-sm font-medium flex items-center gap-1",children:[s.jsx(Ka,{className:"h-3 w-3"}),"Location"]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:We.formatLocationName(n,"check_in")})]}),(n.check_in_notes||n.check_out_notes)&&s.jsxs("div",{className:"space-y-2 md:col-span-2",children:[s.jsx(kt,{className:"text-sm font-medium",children:"Notes"}),n.check_in_notes&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx("span",{className:"font-medium",children:"Check-in:"})," ",n.check_in_notes]}),n.check_out_notes&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx("span",{className:"font-medium",children:"Check-out:"})," ",n.check_out_notes]})]})]}),s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[n.check_in_time&&We.isLate(n)&&s.jsx(Ke,{variant:"outline",className:"text-orange-600 border-orange-600",children:"Late Check In"}),n.check_out_time&&We.isEarlyCheckout(n)&&s.jsx(Ke,{variant:"outline",className:"text-blue-600 border-blue-600",children:"Early Check Out"})]})]})]}),w&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs(ee,{className:"w-full max-w-md mx-4",children:[s.jsxs(ue,{children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(Wa,{className:"h-5 w-5"}),"Take Selfie for ",E==="checkin"?"Check In":"Check Out"]}),s.jsx(Tt,{children:"Please take a clear selfie for attendance verification"})]}),s.jsxs(te,{className:"space-y-4",children:[s.jsx("div",{className:"relative",children:b?s.jsx("img",{src:b,alt:"Captured selfie",className:"w-full h-64 object-cover rounded-lg"}):s.jsxs(s.Fragment,{children:[s.jsx("video",{ref:k,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-64 object-cover rounded-lg bg-gray-100"}),s.jsx("canvas",{ref:R,className:"hidden"})]})}),s.jsx("div",{className:"flex gap-2",children:b?s.jsxs(s.Fragment,{children:[s.jsxs(re,{onClick:A,variant:"outline",className:"flex-1",children:[s.jsx(hc,{className:"h-4 w-4 mr-2"}),"Retake"]}),s.jsx(re,{onClick:$,disabled:d,className:"flex-1",children:d?"Processing...":"Confirm"})]}):s.jsxs(s.Fragment,{children:[s.jsxs(re,{onClick:X,className:"flex-1",children:[s.jsx(Wa,{className:"h-4 w-4 mr-2"}),"Capture"]}),s.jsx(re,{onClick:P,variant:"outline",className:"flex-1",children:"Cancel"})]})})]})]})})]})}const mo=x.forwardRef(({className:t,...e},r)=>s.jsx("div",{className:"w-full overflow-auto rounded-md md:overflow-hidden",children:s.jsx("table",{ref:r,className:Pe("w-full border-collapse",t),...e})}));mo.displayName="Table";const po=x.forwardRef(({className:t,...e},r)=>s.jsx("thead",{ref:r,className:Pe("bg-primary",t),...e}));po.displayName="TableHeader";const xo=x.forwardRef(({className:t,...e},r)=>s.jsx("tbody",{ref:r,className:Pe("",t),...e}));xo.displayName="TableBody";const xoe=x.forwardRef(({className:t,...e},r)=>s.jsx("tfoot",{ref:r,className:Pe("border-t bg-muted/50 font-medium",t),...e}));xoe.displayName="TableFooter";const dn=x.forwardRef(({className:t,...e},r)=>s.jsx("tr",{ref:r,className:Pe("border-b",t),...e}));dn.displayName="TableRow";const ct=x.forwardRef(({className:t,...e},r)=>s.jsx("th",{ref:r,className:Pe("p-4 text-left align-middle font-medium text-secondary hover:cursor-default",t),...e}));ct.displayName="TableHead";const dt=x.forwardRef(({className:t,...e},r)=>s.jsx("td",{ref:r,className:Pe("p-4 align-middle",t),...e}));dt.displayName="TableCell";const goe=x.forwardRef(({className:t,...e},r)=>s.jsx("caption",{ref:r,className:Pe("mt-4 text-sm text-muted-foreground",t),...e}));goe.displayName="TableCaption";function t5({attendances:t,onViewDetails:e,page:r,pageSize:n,total:a,onPageChange:l,onPageSizeChange:c,hasNext:d,showUserColumn:f=!1}){const h=p=>We.calculateWorkingHours(p);return s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"rounded-md border",children:s.jsxs(mo,{children:[s.jsx(po,{children:s.jsxs(dn,{children:[s.jsx(ct,{children:"Date"}),f&&s.jsx(ct,{children:"User"}),s.jsx(ct,{children:"Status"}),s.jsx(ct,{children:"Check In"}),s.jsx(ct,{children:"Check Out"}),s.jsx(ct,{children:"Working Hours"}),s.jsx(ct,{children:"Location"}),s.jsx(ct,{className:"w-12",children:"Actions"})]})}),s.jsx(xo,{children:t.map(p=>s.jsxs(dn,{children:[s.jsx(dt,{children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium",children:We.formatAttendanceDate(p.attendance_date)}),f&&p.org_unit_name&&s.jsx("span",{className:"text-sm text-muted-foreground",children:p.org_unit_name})]})}),f&&s.jsx(dt,{children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium",children:p.user_name||`User ID: ${p.user_id}`}),p.is_manual&&s.jsx("span",{className:"text-xs text-muted-foreground",children:"Manual Entry"})]})}),s.jsx(dt,{children:We.getStatusLabel(p.status)}),s.jsx(dt,{children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{children:We.formatTime(p.check_in_time)}),p.check_in_time&&We.isLate(p)&&s.jsx("span",{className:"text-xs text-orange-600",children:"Late"})]})}),s.jsx(dt,{children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{children:We.formatTime(p.check_out_time)}),p.check_out_time&&We.isEarlyCheckout(p)&&s.jsx("span",{className:"text-xs text-blue-600",children:"Early"})]})}),s.jsx(dt,{children:h(p)}),s.jsx(dt,{children:s.jsx("div",{className:"max-w-[200px]",children:p.check_in_location_name||p.check_in_submitted_location?s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm truncate",children:We.formatLocationName(p,"check_in")}),We.hasGPSLocation(p,"check_in")&&s.jsxs("span",{className:"text-xs text-muted-foreground",children:["GPS: ",We.getGPSAccuracy(p,"check_in")]})]}):s.jsx("span",{className:"text-muted-foreground text-sm",children:"-"})})}),s.jsx(dt,{children:s.jsxs(On,{children:[s.jsx(Mn,{asChild:!0,children:s.jsxs(re,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:[s.jsx(ra,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Actions"})]})}),s.jsxs(un,{align:"end",children:[s.jsxs(ts,{onClick:()=>e(p.id),children:[s.jsx(Ut,{className:"h-4 w-4 mr-2"}),"View Details"]}),p.check_in_selfie_file&&s.jsxs(ts,{onClick:()=>window.open(qr.getFullFileUrl(p.check_in_selfie_file.file_url),"_blank"),children:[s.jsx(Wa,{className:"h-4 w-4 mr-2"}),"Check-in Selfie"]}),p.check_out_selfie_file&&s.jsxs(ts,{onClick:()=>window.open(qr.getFullFileUrl(p.check_out_selfie_file.file_url),"_blank"),children:[s.jsx(Wa,{className:"h-4 w-4 mr-2"}),"Check-out Selfie"]})]})]})})]},p.id))})]})}),t.length>0&&s.jsx(Ks,{currentPage:r,totalItems:a,itemsPerPage:n,onPageChange:l,onItemsPerPageChange:p=>c(Math.max(Number(p),10)),hasNext:d})]})}function s5({attendances:t,onViewDetails:e,page:r,pageSize:n,total:a,onPageChange:l,onPageSizeChange:c,hasNext:d,showUserInfo:f=!1}){const h=p=>We.calculateWorkingHours(p);return s.jsxs("div",{className:"space-y-4",children:[t.map(p=>s.jsxs(ee,{className:"hover:shadow-md transition-shadow",children:[s.jsx(ue,{className:"pb-3",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium",children:We.getStatusLabel(p.status)}),p.is_manual&&s.jsx("span",{className:"text-xs text-muted-foreground",children:"Manual"})]}),f&&s.jsx("span",{className:"text-sm text-muted-foreground",children:p.user_name||`User ID: ${p.user_id}`}),s.jsx("span",{className:"text-sm text-muted-foreground",children:We.formatAttendanceDate(p.attendance_date)})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-sm font-medium",children:h(p)}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"working hours"})]})]})}),s.jsxs(te,{className:"pt-0",children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-3",children:s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("span",{children:[p.check_in_time?`In: ${We.formatTime(p.check_in_time)}`:"No check-in",p.check_in_time&&We.isLate(p)&&s.jsx("span",{className:"text-orange-600 ml-1",children:"(Late)"})]}),p.check_out_time&&s.jsxs("span",{children:["Out: ",We.formatTime(p.check_out_time),We.isEarlyCheckout(p)&&s.jsx("span",{className:"text-blue-600 ml-1",children:"(Early)"})]})]})}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:p.check_in_location_name||p.check_in_submitted_location?s.jsx("span",{children:We.formatLocationName(p,"check_in")}):s.jsx("span",{children:"No location"})}),s.jsxs(On,{children:[s.jsx(Mn,{asChild:!0,children:s.jsxs(re,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:[s.jsx(ra,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Actions"})]})}),s.jsxs(un,{align:"end",children:[s.jsxs(ts,{onClick:()=>e(p.id),children:[s.jsx(Ut,{className:"h-4 w-4 mr-2"}),"View Details"]}),p.check_in_selfie_file&&s.jsxs(ts,{onClick:()=>window.open(qr.getFullFileUrl(p.check_in_selfie_file.file_url),"_blank"),children:[s.jsx(Wa,{className:"h-4 w-4 mr-2"}),"Check-in Selfie"]}),p.check_out_selfie_file&&s.jsxs(ts,{onClick:()=>window.open(qr.getFullFileUrl(p.check_out_selfie_file.file_url),"_blank"),children:[s.jsx(Wa,{className:"h-4 w-4 mr-2"}),"Check-out Selfie"]})]})]})]})]})]},p.id)),t.length>0&&s.jsx(Ks,{currentPage:r,totalItems:a,itemsPerPage:n,onPageChange:l,onItemsPerPageChange:p=>c(Math.max(Number(p),10)),hasNext:d})]})}function yoe({open:t,onOpenChange:e,onSubmit:r,loading:n=!1}){const[a,l]=x.useState({attendance_date:new Date().toISOString().split("T")[0],status:"present",notes:""}),c=async()=>{const f={attendance_date:a.attendance_date,status:a.status,notes:a.notes||void 0};await r(f),l({attendance_date:new Date().toISOString().split("T")[0],status:"present",notes:""})},d=()=>{l({attendance_date:new Date().toISOString().split("T")[0],status:"present",notes:""}),e(!1)};return s.jsx(Ls,{open:t,onOpenChange:e,children:s.jsxs(Ns,{className:"max-w-md",children:[s.jsxs(_s,{children:[s.jsxs(Es,{className:"flex items-center gap-2",children:[s.jsx(Ad,{className:"h-5 w-5"}),"Bulk Mark Present"]}),s.jsx(ks,{children:"Mark all users as present for a specific date. This will apply to all users in the system."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{htmlFor:"bulk-date",children:"Attendance Date"}),s.jsx(Ct,{id:"bulk-date",type:"date",value:a.attendance_date,onChange:f=>l({...a,attendance_date:f.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{htmlFor:"bulk-status",children:"Status"}),s.jsxs(Lt,{value:a.status,onValueChange:f=>l({...a,status:f}),children:[s.jsx(Dt,{children:s.jsx(It,{})}),s.jsxs(Ot,{children:[s.jsx($e,{value:"present",children:"Present"}),s.jsx($e,{value:"holiday_present",children:"Holiday Present"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{htmlFor:"bulk-notes",children:"Notes (optional)"}),s.jsx(Tn,{id:"bulk-notes",placeholder:"Additional notes...",value:a.notes,onChange:f=>l({...a,notes:f.target.value})})]})]}),s.jsxs(Ss,{children:[s.jsx(As,{onClick:d,children:"Cancel"}),s.jsx(Cs,{onClick:c,disabled:n,children:n?"Processing...":"Mark All Users Present"})]})]})})}function voe({open:t,onOpenChange:e,onSubmit:r,loading:n=!1}){const[a,l]=x.useState(null),[c,d]=x.useState({attendance_date:new Date().toISOString().split("T")[0],status:"present",notes:""}),f=g=>{l(g)},h=async()=>{if(!a)return;const g={user_id:a.id,attendance_date:c.attendance_date,status:c.status,notes:c.notes||void 0};await r(g),l(null),d({attendance_date:new Date().toISOString().split("T")[0],status:"present",notes:""})},p=()=>{l(null),d({attendance_date:new Date().toISOString().split("T")[0],status:"present",notes:""}),e(!1)};return s.jsx(Ls,{open:t,onOpenChange:e,children:s.jsxs(Ns,{className:"max-w-md",children:[s.jsxs(_s,{children:[s.jsxs(Es,{className:"flex items-center gap-2",children:[s.jsx(jm,{className:"h-5 w-5"}),"Manual Attendance Entry"]}),s.jsx(ks,{children:"Create a manual attendance record for a user."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{children:"Select User"}),s.jsx(vv,{value:(a==null?void 0:a.id)||null,onChange:()=>{},onUserSelect:f,placeholder:"Search and select a user...",className:"w-full"}),a&&s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Selected: ",s.jsx("span",{className:"font-medium",children:a.name}),a.employee_id&&s.jsxs("span",{children:[" (",a.employee_id,")"]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{htmlFor:"manual-date",children:"Attendance Date"}),s.jsx(Ct,{id:"manual-date",type:"date",value:c.attendance_date,onChange:g=>d({...c,attendance_date:g.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{htmlFor:"manual-status",children:"Status"}),s.jsxs(Lt,{value:c.status,onValueChange:g=>d({...c,status:g}),children:[s.jsx(Dt,{children:s.jsx(It,{})}),s.jsxs(Ot,{children:[s.jsx($e,{value:"present",children:"Present"}),s.jsx($e,{value:"absent",children:"Absent"}),s.jsx($e,{value:"leave",children:"On Leave"}),s.jsx($e,{value:"holiday_present",children:"Holiday Present"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{htmlFor:"manual-notes",children:"Notes (optional)"}),s.jsx(Tn,{id:"manual-notes",placeholder:"Additional notes...",value:c.notes,onChange:g=>d({...c,notes:g.target.value})})]})]}),s.jsxs(Ss,{children:[s.jsx(As,{onClick:p,children:"Cancel"}),s.jsx(Cs,{onClick:h,disabled:n||!a,children:n?"Creating...":"Create Record"})]})]})})}function boe(){const{user:t}=yr(),e=ht(),[r,n]=x.useState(null),[a,l]=x.useState(!0),[c,d]=x.useState(1),[f,h]=x.useState(10),[p,g]=x.useState(""),[y,b]=x.useState(""),[j,w]=x.useState("");if(!((t==null?void 0:t.roles.some(O=>O.name==="user"))&&!(t!=null&&t.roles.some(O=>["admin","master_admin"].includes(O.name)))))return s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ye,{title:"My Attendance",description:"View your personal attendance records",breadcrumbs:[{label:"Attendance",href:"/attendance"},{label:"My Attendance",current:!0}]}),s.jsxs(Br,{variant:"destructive",children:[s.jsx(Zl,{className:"h-4 w-4"}),s.jsx(Hr,{children:"Access denied. This page is only available for regular users. Admins can view attendance through the team monitoring section."})]})]});const E=[{label:"Dashboard",href:"/dashboard"},{label:"My Attendance",current:!0}],S=new Date().getFullYear(),k=Array.from({length:5},(O,P)=>S-2+P),R=[{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"},{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"}],L=(r==null?void 0:r.items)||[],I=O=>{e(`/attendance/${O}/details`)},T=s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(re,{variant:"outline",size:"sm",onClick:()=>e("/attendance/summary"),children:[s.jsx(on,{className:"h-4 w-4 mr-2"}),"Summary"]}),s.jsxs(re,{onClick:()=>e("/attendance/checkin"),size:"sm",children:[s.jsx(Pt,{className:"h-4 w-4 mr-2"}),"Check In/Out"]})]});return x.useEffect(()=>{(async()=>{l(!0);try{const P={page:c,size:f};p&&(P.status=p),j&&(P.year=parseInt(j)),y&&(P.month=parseInt(y));const X=await We.getMyAttendances(P);n(X)}catch(P){console.error("Error fetching attendance data:",P)}finally{l(!1)}})()},[c,f,p,y,j]),s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ye,{title:"My Attendance",description:"View your personal attendance records and manage check-ins",breadcrumbs:E,actions:T}),s.jsxs(ee,{children:[s.jsx(ue,{children:s.jsx("h3",{className:"text-lg font-semibold",children:"Filter Attendance"})}),s.jsx(te,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Status"}),s.jsxs("select",{className:"w-full border rounded-md p-2 text-sm",value:p,onChange:O=>g(O.target.value),children:[s.jsx("option",{value:"",children:"All Status"}),s.jsx("option",{value:"present",children:"Present"}),s.jsx("option",{value:"absent",children:"Absent"}),s.jsx("option",{value:"leave",children:"Leave"}),s.jsx("option",{value:"holiday_present",children:"Holiday Present"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Year"}),s.jsxs("select",{className:"w-full border rounded-md p-2 text-sm",value:j,onChange:O=>w(O.target.value),children:[s.jsx("option",{value:"",children:"All Years"}),k.map(O=>s.jsx("option",{value:O.toString(),children:O},O))]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Month"}),s.jsxs("select",{className:"w-full border rounded-md p-2 text-sm",value:y,onChange:O=>b(O.target.value),children:[s.jsx("option",{value:"",children:"All Months"}),R.map(O=>s.jsx("option",{value:O.value.toString(),children:O.label},O.value))]})]})]})})]}),s.jsx("div",{className:"space-y-4",children:a?Array.from({length:5}).map((O,P)=>s.jsxs(ee,{children:[s.jsx(ue,{children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"space-y-2 flex-1",children:[s.jsx(Ne,{className:"h-4 w-3/4"}),s.jsx(Ne,{className:"h-3 w-1/2"})]}),s.jsx(Ne,{className:"h-6 w-20"})]})}),s.jsx(te,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ne,{className:"h-3 w-full"}),s.jsx(Ne,{className:"h-3 w-2/3"})]})})]},P)):L.length===0?s.jsx(ee,{children:s.jsx(te,{className:"py-8",children:s.jsxs("div",{className:"text-center text-muted-foreground",children:[s.jsx(Ze,{className:"mx-auto h-12 w-12 mb-4 opacity-50"}),s.jsx("p",{className:"text-lg font-medium mb-2",children:"No attendance records found"}),s.jsx("p",{className:"text-sm mb-4",children:p||j||y?"Try adjusting your filters to see more results.":"You haven't logged any attendance yet."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 justify-center",children:[(p||j||y)&&s.jsx(re,{variant:"outline",onClick:()=>{g(""),w(""),b(""),d(1)},children:"Clear Filters"}),s.jsxs(re,{onClick:()=>e("/attendance/checkin"),children:[s.jsx(Pt,{className:"h-4 w-4 mr-2"}),"Check In Now"]})]})]})})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"hidden lg:block",children:s.jsx(t5,{attendances:L,onViewDetails:I,page:c,pageSize:f,total:(r==null?void 0:r.total)||0,onPageChange:d,onPageSizeChange:h,hasNext:(r==null?void 0:r.has_next)||!1,showUserColumn:!1})}),s.jsx("div",{className:"lg:hidden",children:s.jsx(s5,{attendances:L,onViewDetails:I,page:c,pageSize:f,total:(r==null?void 0:r.total)||0,onPageChange:d,onPageSizeChange:h,hasNext:(r==null?void 0:r.has_next)||!1,showUserInfo:!1})})]})})]})}function joe(){var I;const{user:t}=yr(),e=ht(),[r,n]=x.useState(null),[a,l]=x.useState(!0),[c,d]=x.useState(new Date().getFullYear()),[f,h]=x.useState(new Date().getMonth()+1),[p,g]=x.useState([]);if(!((t==null?void 0:t.roles.some(T=>T.name==="user"))&&!(t!=null&&t.roles.some(T=>["admin","master_admin"].includes(T.name)))))return s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ye,{title:"Attendance Summary",description:"View your personal attendance statistics",breadcrumbs:[{label:"Attendance",href:"/attendance"},{label:"Monthly Summary",current:!0}]}),s.jsxs(Br,{variant:"destructive",children:[s.jsx(Zl,{className:"h-4 w-4"}),s.jsx(Hr,{children:"Access denied. This page is only available for regular users. Admins can view attendance summaries through the team monitoring section."})]})]});const b=[{label:"Dashboard",href:"/dashboard"},{label:"Attendance",href:"/attendance"},{label:"Monthly Summary",current:!0}],j=[{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"},{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"}],w=async()=>{try{l(!0);const T=await We.getMonthlySummary(c,f);n(T)}catch(T){console.error("Error fetching attendance summary:",T)}finally{l(!1)}},_=async()=>{try{const T=await We.getMyAttendances({page:1,size:5});g(T.items)}catch(T){console.error("Error fetching recent attendances:",T)}};x.useEffect(()=>{w(),_()},[c,f]);const E=()=>!r||r.working_days===0?0:Math.round(r.present_days/r.working_days*100),S=T=>T>=90?"text-green-600":T>=75?"text-yellow-600":"text-red-600",k=T=>T>=90?s.jsx(cl,{className:"h-4 w-4 text-green-600"}):T>=75?s.jsx(vw,{className:"h-4 w-4 text-yellow-600"}):s.jsx(vw,{className:"h-4 w-4 text-red-600"}),R=T=>({present:"text-green-600",absent:"text-red-600",late:"text-yellow-600",on_leave:"text-blue-600",partial:"text-orange-600"})[T]||"text-gray-600",L=s.jsx("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2",children:s.jsxs(re,{onClick:()=>e("/attendance/checkin"),size:"sm",className:"flex-1 sm:flex-none",children:[s.jsx(or,{className:"h-4 w-4 mr-2"}),"Check In/Out"]})});return s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ye,{title:"Attendance Summary",description:"View your personal attendance statistics and analytics",breadcrumbs:b,actions:L}),s.jsxs(Yr,{children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium text-primary",children:[s.jsx(Ze,{className:"h-4 w-4"}),s.jsx("span",{children:"Year"})]}),s.jsxs(Lt,{value:c.toString(),onValueChange:T=>d(parseInt(T)),children:[s.jsx(Dt,{className:"w-full border-primary",children:s.jsx(It,{})}),s.jsx(Ot,{children:Array.from({length:5},(T,O)=>new Date().getFullYear()-O).map(T=>s.jsx($e,{value:T.toString(),children:T},T))})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium text-primary",children:[s.jsx(Ze,{className:"h-4 w-4"}),s.jsx("span",{children:"Month"})]}),s.jsxs(Lt,{value:f.toString(),onValueChange:T=>h(parseInt(T)),children:[s.jsx(Dt,{className:"w-full border-primary",children:s.jsx(It,{})}),s.jsx(Ot,{children:j.map(T=>s.jsx($e,{value:T.value.toString(),children:T.label},T.value))})]})]})]}),a?s.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:Array.from({length:4}).map((T,O)=>s.jsxs(ee,{children:[s.jsx(ue,{className:"pb-2",children:s.jsx(Ne,{className:"h-4 w-20"})}),s.jsx(te,{className:"pt-0",children:s.jsx(Ne,{className:"h-8 w-16"})})]},O))}):r?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[s.jsxs(ee,{children:[s.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(xe,{className:"text-sm font-medium",children:"Working Days"}),s.jsx(Ze,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(te,{children:[s.jsx("div",{className:"text-2xl font-bold",children:r.working_days}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Total working days in ",(I=j.find(T=>T.value===f))==null?void 0:I.label," ",c]})]})]}),s.jsxs(ee,{children:[s.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(xe,{className:"text-sm font-medium",children:"Present Days"}),s.jsx(cr,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(te,{children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:r.present_days}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Days you attended work"})]})]}),s.jsxs(ee,{children:[s.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(xe,{className:"text-sm font-medium",children:"Absent Days"}),s.jsx(An,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(te,{children:[s.jsx("div",{className:"text-2xl font-bold text-red-600",children:r.absent_days}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Days you were absent"})]})]}),s.jsxs(ee,{children:[s.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(xe,{className:"text-sm font-medium",children:"Leave Days"}),s.jsx(EH,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(te,{children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:r.leave_days}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Days on approved leave"})]})]})]}),s.jsxs("div",{className:"grid gap-4 lg:grid-cols-2",children:[s.jsxs(ee,{children:[s.jsxs(ue,{children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(on,{className:"h-5 w-5"}),"Attendance Rate"]}),s.jsx(Tt,{children:"Your attendance percentage for this period"})]}),s.jsxs(te,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:`text-3xl font-bold ${S(E())}`,children:[E(),"%"]}),k(E())]}),s.jsxs("div",{className:"mt-4 space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Present"}),s.jsxs("span",{children:[r.present_days," days"]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Working Days"}),s.jsxs("span",{children:[r.working_days," days"]})]})]})]})]}),s.jsxs(ee,{children:[s.jsxs(ue,{children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(Pt,{className:"h-5 w-5"}),"Quick Actions"]}),s.jsx(Tt,{children:"Access related attendance features"})]}),s.jsxs(te,{className:"flex flex-col sm:flex-row gap-4",children:[s.jsx(re,{asChild:!0,className:"flex-1 sm:flex-none",children:s.jsxs(ja,{to:"/attendance/checkin",children:[s.jsx(Pt,{className:"h-4 w-4 mr-2"}),"Check In/Out"]})}),s.jsx(re,{variant:"outline",asChild:!0,className:"flex-1 sm:flex-none",children:s.jsxs(ja,{to:"/attendance",children:[s.jsx(Ze,{className:"h-4 w-4 mr-2"}),"View Records"]})})]})]})]}),s.jsxs(ee,{children:[s.jsxs(ue,{children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(Pt,{className:"h-5 w-5"}),"Recent Attendances"]}),s.jsx(Tt,{children:"Your latest attendance records"})]}),s.jsx(te,{children:p.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Ze,{className:"mx-auto h-12 w-12 mb-4 opacity-50"}),s.jsx("p",{children:"No recent attendances found"})]}):s.jsx("div",{className:"space-y-3",children:p.map(T=>s.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-3 border rounded-lg hover:bg-muted/50 cursor-pointer transition-colors gap-2",onClick:()=>e(`/attendance/${T.id}/details`),children:s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 mb-1",children:[s.jsx("span",{className:"font-medium",children:new Date(T.attendance_date).toLocaleDateString()}),s.jsx("span",{className:`text-xs px-2 py-1 rounded-full w-fit ${R(T.status)}`,children:T.status})]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[T.check_in_time&&s.jsxs("span",{children:["In: ",T.check_in_time]}),T.check_out_time&&s.jsxs("span",{className:"ml-4",children:["Out: ",T.check_out_time]})]})]})},T.id))})})]})]}):s.jsx(ee,{children:s.jsxs(te,{className:"text-center py-8",children:[s.jsx(Ze,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No data available"}),s.jsx("p",{className:"text-muted-foreground",children:"No attendance data found for the selected period."})]})})]})}function woe(){var Oe,fe,Ce;const[t,e]=x.useState([]),[r,n]=x.useState(!0),[a,l]=x.useState(1),[c,d]=x.useState(10),[f,h]=x.useState(0),[p,g]=x.useState(!1),[y,b]=x.useState(!1),[j,w]=x.useState("all"),[_,E]=x.useState(new Date().getFullYear().toString()),[S,k]=x.useState("all"),[R,L]=x.useState("all"),[I,T]=x.useState(!1),[O,P]=x.useState(!1),[X,A]=x.useState(!1),[z,$]=x.useState(!1),{user:J}=yr(),B=ht(),M=[{label:"Dashboard",href:"/dashboard"},{label:"Attendance Monitoring",current:!0}],V=(Oe=J==null?void 0:J.roles)==null?void 0:Oe.some(pe=>pe.name==="master_admin"),Q=(fe=J==null?void 0:J.roles)==null?void 0:fe.some(pe=>pe.name==="admin");if(!V&&!Q)return s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ye,{title:"Attendance Monitoring",description:"Monitor team attendance records",breadcrumbs:M}),s.jsxs(Br,{variant:"destructive",children:[s.jsx(Zl,{className:"h-4 w-4"}),s.jsx(Hr,{children:"Access denied. This page is only available for administrators."})]})]});const le=(Ce=J==null?void 0:J.org_unit)==null?void 0:Ce.id,H=x.useCallback(()=>{const pe=new URLSearchParams;return pe.set("page",a.toString()),pe.set("pageSize",c.toString()),pe.set("status",j),pe.set("year",_),pe.set("month",S),pe.toString()},[a,c,j,_,S,R,V]),K=x.useCallback(()=>{const pe=new URLSearchParams(window.location.search),ze=parseInt(pe.get("page")||"1"),lt=parseInt(pe.get("pageSize")||"10"),Je=pe.get("status")||"all",Zt=pe.get("year")||new Date().getFullYear().toString(),jt=pe.get("month")||"all",kr=pe.get("orgUnit")||"all";l(ze),d(Math.max(lt,10)),w(Je),E(Zt),k(jt),V&&L(kr),b(!0)},[V]),Y=async()=>{try{n(!0);let pe;const ze={page:a,size:Math.max(c,10)};if(j!=="all"&&(ze.status=j),V&&R!=="all"&&(ze.org_unit_id=parseInt(R)),_!=="all"){const lt=parseInt(_),Je=new Date().getFullYear();if(lt<=Je+1)if(S!=="all"){const Zt=parseInt(S);Zt>=1&&Zt<=12&&(ze.month=Zt,ze.year=lt)}else ze.year=lt}else if(S!=="all"){const lt=new Date().getFullYear(),Je=parseInt(S);Je>=1&&Je<=12&&(ze.month=Je,ze.year=lt)}V?pe=await We.admin.getAllAttendances(ze):Q&&le?pe=await We.admin.getAttendancesByOrgUnit(le,ze):pe={items:[],total:0,page:1,size:10,has_next:!1,has_prev:!1,total_pages:0},e(pe.items),h(pe.total),g(pe.has_next)}catch(pe){console.error("Failed to fetch attendances:",pe)}finally{n(!1)}};x.useEffect(()=>{K()},[K]),x.useEffect(()=>{y&&Y()},[a,c,j,_,S,R,y]),x.useEffect(()=>{if(y){const pe=H(),ze=pe,lt=window.location.search.slice(1);if(ze!==lt){const Je=`${window.location.pathname}${pe?"?"+pe:""}`;window.history.replaceState(null,"",Je)}}},[a,c,j,_,S,R,y,H]);const se=t,G=new Date().getFullYear(),C=Array.from({length:5},(pe,ze)=>G-2+ze),U=[{value:"1",label:"January"},{value:"2",label:"February"},{value:"3",label:"March"},{value:"4",label:"April"},{value:"5",label:"May"},{value:"6",label:"June"},{value:"7",label:"July"},{value:"8",label:"August"},{value:"9",label:"September"},{value:"10",label:"October"},{value:"11",label:"November"},{value:"12",label:"December"}],ne=pe=>{B(`/attendance/${pe}/details`)},me=async pe=>{A(!0);try{await We.admin.bulkMarkPresent(pe),T(!1),Y()}catch(ze){console.error("Failed to bulk mark present:",ze)}finally{A(!1)}},ie=async pe=>{$(!0);try{await We.admin.createManualAttendance(pe),P(!1),Y()}catch(ze){console.error("Failed to create manual attendance:",ze)}finally{$(!1)}},Ee=V?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(re,{variant:"outline",size:"sm",onClick:()=>T(!0),children:[s.jsx(Ad,{className:"h-4 w-4 mr-2"}),"Bulk Present"]}),s.jsxs(re,{variant:"outline",size:"sm",onClick:()=>P(!0),children:[s.jsx(jm,{className:"h-4 w-4 mr-2"}),"Manual Entry"]})]}):void 0;return s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ye,{title:"Attendance Monitoring",description:V?"Monitor all attendance records across the organization":"Monitor attendance records in your organizational unit",breadcrumbs:M,actions:Ee}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs(ee,{children:[s.jsx(ue,{className:"pb-2",children:s.jsx(xe,{className:"text-sm font-medium text-muted-foreground",children:"Total Records"})}),s.jsx(te,{className:"pt-0",children:s.jsx("div",{className:"text-2xl font-bold",children:f})})]}),s.jsxs(ee,{children:[s.jsx(ue,{className:"pb-2",children:s.jsx(xe,{className:"text-sm font-medium text-muted-foreground",children:"Present"})}),s.jsx(te,{className:"pt-0",children:s.jsx("div",{className:"text-2xl font-bold text-green-600",children:se.filter(pe=>pe.status==="present").length})})]}),s.jsxs(ee,{children:[s.jsx(ue,{className:"pb-2",children:s.jsx(xe,{className:"text-sm font-medium text-muted-foreground",children:"Absent"})}),s.jsx(te,{className:"pt-0",children:s.jsx("div",{className:"text-2xl font-bold text-red-600",children:se.filter(pe=>pe.status==="absent").length})})]}),s.jsxs(ee,{children:[s.jsx(ue,{className:"pb-2",children:s.jsx(xe,{className:"text-sm font-medium text-muted-foreground",children:"On Leave"})}),s.jsx(te,{className:"pt-0",children:s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:se.filter(pe=>pe.status==="leave").length})})]})]}),s.jsxs(Yr,{children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium text-primary",children:[s.jsx(Di,{className:"h-4 w-4"}),s.jsx("span",{children:"Status"})]}),s.jsxs("select",{className:"w-full border border-primary p-2 h-10 rounded-md bg-white dark:bg-gray-800",value:j,onChange:pe=>w(pe.target.value),children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"present",children:"Present"}),s.jsx("option",{value:"absent",children:"Absent"}),s.jsx("option",{value:"leave",children:"On Leave"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium text-primary",children:[s.jsx(Ze,{className:"h-4 w-4"}),s.jsx("span",{children:"Year"})]}),s.jsxs("select",{className:"w-full border border-primary p-2 h-10 rounded-md bg-white dark:bg-gray-800",value:_,onChange:pe=>E(pe.target.value),children:[s.jsx("option",{value:"all",children:"All Years"}),C.map(pe=>s.jsx("option",{value:pe.toString(),children:pe},pe))]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium text-primary",children:[s.jsx(Ze,{className:"h-4 w-4"}),s.jsx("span",{children:"Month"})]}),s.jsxs("select",{className:"w-full border border-primary p-2 h-10 rounded-md bg-white dark:bg-gray-800",value:S,onChange:pe=>k(pe.target.value),children:[s.jsx("option",{value:"all",children:"All Months"}),U.map(pe=>s.jsx("option",{value:pe.value,children:pe.label},pe.value))]})]}),V&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium text-primary",children:[s.jsx(Na,{className:"h-4 w-4"}),s.jsx("span",{children:"Org Unit"})]}),s.jsx("select",{className:"w-full border border-primary p-2 h-10 rounded-md bg-white dark:bg-gray-800",value:R,onChange:pe=>L(pe.target.value),children:s.jsx("option",{value:"all",children:"All Units"})})]})]}),s.jsx("div",{className:"space-y-4",children:r?Array.from({length:5}).map((pe,ze)=>s.jsxs(ee,{children:[s.jsx(ue,{children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"space-y-2 flex-1",children:[s.jsx(Ne,{className:"h-4 w-3/4"}),s.jsx(Ne,{className:"h-3 w-1/2"})]}),s.jsx(Ne,{className:"h-6 w-20"})]})}),s.jsx(te,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ne,{className:"h-3 w-full"}),s.jsx(Ne,{className:"h-3 w-2/3"})]})})]},ze)):se.length===0?s.jsx(ee,{children:s.jsx(te,{className:"py-8",children:s.jsxs("div",{className:"text-center text-muted-foreground",children:[s.jsx(Ze,{className:"mx-auto h-12 w-12 mb-4 opacity-50"}),s.jsx("p",{className:"text-lg font-medium mb-2",children:"No attendance records found"}),s.jsx("p",{className:"text-sm",children:j!=="all"||_!=="all"||S!=="all"?"Try adjusting your filters to see more results.":"No attendance records have been created yet."})]})})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"hidden lg:block",children:s.jsx(t5,{attendances:se,onViewDetails:ne,page:a,pageSize:c,total:f,onPageChange:l,onPageSizeChange:d,hasNext:p,showUserColumn:!0})}),s.jsx("div",{className:"lg:hidden",children:s.jsx(s5,{attendances:se,onViewDetails:ne,page:a,pageSize:c,total:f,onPageChange:l,onPageSizeChange:d,hasNext:p,showUserInfo:!0})})]})}),s.jsx(yoe,{open:I,onOpenChange:T,onSubmit:me,loading:X}),s.jsx(voe,{open:O,onOpenChange:P,onSubmit:ie,loading:z})]})}function Noe(){var g,y,b,j,w,_;const{id:t}=zn(),e=ht(),{user:r}=yr(),[n,a]=x.useState(null),[l,c]=x.useState(!0),[d,f]=x.useState(null);x.useEffect(()=>{(async()=>{if(!t){f("Invalid attendance ID"),c(!1);return}try{c(!0),f(null);const S=await We.getAttendanceById(parseInt(t));a(S)}catch(S){console.error("Failed to fetch attendance details:",S),f(S.message||"Failed to load attendance details")}finally{c(!1)}})()},[t]);const h=[{label:"Dashboard",href:"/dashboard"},{label:(g=r==null?void 0:r.roles)!=null&&g.some(E=>E.name==="user")?"My Attendance":"Attendance Monitoring",href:(y=r==null?void 0:r.roles)!=null&&y.some(E=>E.name==="user")?"/attendance/my-attendance":"/attendance/monitoring"},{label:"Details",current:!0}],p=E=>{switch(E){case"present":return"default";case"absent":return"destructive";case"leave":return"secondary";case"holiday_present":return"outline";default:return"outline"}};return l?s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ye,{title:"Attendance Details",description:"View detailed attendance information",breadcrumbs:h}),s.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:Array.from({length:4}).map((E,S)=>s.jsxs(ee,{children:[s.jsx(ue,{children:s.jsx(Ne,{className:"h-6 w-3/4"})}),s.jsxs(te,{className:"space-y-3",children:[s.jsx(Ne,{className:"h-4 w-full"}),s.jsx(Ne,{className:"h-4 w-2/3"}),s.jsx(Ne,{className:"h-4 w-1/2"})]})]},S))})]}):d||!n?s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ye,{title:"Attendance Details",description:"View detailed attendance information",breadcrumbs:h}),s.jsx(Br,{variant:"destructive",children:s.jsx(Hr,{children:d||"Attendance record not found"})}),s.jsxs(re,{variant:"outline",onClick:()=>e(-1),children:[s.jsx($t,{className:"h-4 w-4 mr-2"}),"Go Back"]})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ye,{title:"Attendance Details",description:"View detailed attendance information",breadcrumbs:h,actions:s.jsxs(re,{variant:"outline",onClick:()=>e(-1),children:[s.jsx($t,{className:"h-4 w-4 mr-2"}),"Back to Attendance"]})}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs(ee,{children:[s.jsx(ue,{children:s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(to,{className:"h-5 w-5"}),"Basic Information"]})}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"User:"}),s.jsx("span",{className:"font-medium",children:n.user_name||`User ID: ${n.user_id}`})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Date:"}),s.jsx("span",{className:"font-medium",children:We.formatAttendanceDate(n.attendance_date)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Status:"}),s.jsx(Ke,{variant:p(n.status),children:We.getStatusLabel(n.status)})]}),n.org_unit_name&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Organization Unit:"}),s.jsxs("span",{className:"font-medium flex items-center gap-1",children:[s.jsx(rp,{className:"h-3 w-3"}),n.org_unit_name]})]}),n.is_manual&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Entry Type:"}),s.jsx(Ke,{variant:"outline",className:"text-blue-600 border-blue-600",children:"Manual Entry"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Working Hours:"}),s.jsx("span",{className:"font-medium",children:We.calculateWorkingHours(n)})]})]})]}),s.jsxs(ee,{children:[s.jsx(ue,{children:s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(Pt,{className:"h-5 w-5"}),"Time Information"]})}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Check In:"}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"font-medium",children:We.formatTime(n.check_in_time)}),n.check_in_time&&We.isLate(n)&&s.jsx(Ke,{variant:"outline",className:"text-orange-600 border-orange-600 text-xs",children:"Late"})]})]}),n.check_in_submitted_at&&s.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[s.jsx("span",{children:"Submitted at:"}),s.jsx("span",{children:We.formatTime(n.check_in_submitted_at)})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Check Out:"}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"font-medium",children:We.formatTime(n.check_out_time)}),n.check_out_time&&We.isEarlyCheckout(n)&&s.jsx(Ke,{variant:"outline",className:"text-blue-600 border-blue-600 text-xs",children:"Early"})]})]}),n.check_out_submitted_at&&s.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[s.jsx("span",{children:"Submitted at:"}),s.jsx("span",{children:We.formatTime(n.check_out_submitted_at)})]})]})]})]})]}),(n.check_in_location_name||n.check_in_submitted_location||n.check_out_location_name||n.check_out_submitted_location||We.hasGPSLocation(n,"check_in")||We.hasGPSLocation(n,"check_out"))&&s.jsxs(ee,{children:[s.jsx(ue,{children:s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(Ka,{className:"h-5 w-5"}),"Location Information"]})}),s.jsxs(te,{className:"space-y-6",children:[(n.check_in_location_name||n.check_in_submitted_location||We.hasGPSLocation(n,"check_in"))&&s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{className:"font-medium text-sm",children:"Check-in Location"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Xk,{className:"h-4 w-4 text-muted-foreground mt-0.5 flex-shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("span",{className:"text-sm font-medium",children:"Location:"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:We.formatLocationName(n,"check_in")})]})]}),We.hasGPSLocation(n,"check_in")&&s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Qk,{className:"h-4 w-4 text-muted-foreground mt-0.5 flex-shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("span",{className:"text-sm font-medium",children:"GPS Coordinates:"}),s.jsxs("p",{className:"text-sm text-muted-foreground font-mono",children:[(b=n.check_in_latitude)==null?void 0:b.toFixed(6),", ",(j=n.check_in_longitude)==null?void 0:j.toFixed(6)]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Accuracy: ",We.getGPSAccuracy(n,"check_in")]})]})]})]})]}),(n.check_out_location_name||n.check_out_submitted_location||We.hasGPSLocation(n,"check_out"))&&s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{className:"font-medium text-sm",children:"Check-out Location"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Xk,{className:"h-4 w-4 text-muted-foreground mt-0.5 flex-shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("span",{className:"text-sm font-medium",children:"Location:"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:We.formatLocationName(n,"check_out")})]})]}),We.hasGPSLocation(n,"check_out")&&s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Qk,{className:"h-4 w-4 text-muted-foreground mt-0.5 flex-shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("span",{className:"text-sm font-medium",children:"GPS Coordinates:"}),s.jsxs("p",{className:"text-sm text-muted-foreground font-mono",children:[(w=n.check_out_latitude)==null?void 0:w.toFixed(6),", ",(_=n.check_out_longitude)==null?void 0:_.toFixed(6)]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Accuracy: ",We.getGPSAccuracy(n,"check_out")]})]})]})]})]})]})]}),(n.check_in_notes||n.check_out_notes)&&s.jsxs(ee,{children:[s.jsx(ue,{children:s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(bs,{className:"h-5 w-5"}),"Notes"]})}),s.jsxs(te,{className:"space-y-4",children:[n.check_in_notes&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-sm mb-2",children:"Check-in Notes"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:n.check_in_notes})]}),n.check_out_notes&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-sm mb-2",children:"Check-out Notes"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:n.check_out_notes})]})]})]}),(n.check_in_selfie_file||n.check_out_selfie_file)&&s.jsxs(ee,{children:[s.jsx(ue,{children:s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(Wa,{className:"h-5 w-5"}),"Selfie Files"]})}),s.jsx(te,{children:s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.check_in_selfie_file&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-medium text-sm",children:"Check-in Selfie"}),s.jsxs(re,{variant:"outline",onClick:()=>window.open(qr.getFullFileUrl(n.check_in_selfie_file.file_url),"_blank"),className:"w-full",children:[s.jsx(Wa,{className:"h-4 w-4 mr-2"}),"View Check-in Selfie"]})]}),n.check_out_selfie_file&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-medium text-sm",children:"Check-out Selfie"}),s.jsxs(re,{variant:"outline",onClick:()=>window.open(qr.getFullFileUrl(n.check_out_selfie_file.file_url),"_blank"),className:"w-full",children:[s.jsx(Wa,{className:"h-4 w-4 mr-2"}),"View Check-out Selfie"]})]})]})})]}),s.jsxs(ee,{children:[s.jsx(ue,{children:s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(UH,{className:"h-5 w-5"}),"Technical Details"]})}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[(n.check_in_submitted_ip||n.check_in_submitted_device_info)&&s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{className:"font-medium text-sm",children:"Check-in Details"}),n.check_in_submitted_ip&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"IP Address:"}),s.jsx("span",{className:"text-sm font-mono",children:n.check_in_submitted_ip})]}),n.check_in_submitted_device_info&&s.jsxs("div",{className:"space-y-1",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Device Info:"}),s.jsx("p",{className:"text-xs text-muted-foreground font-mono break-all",children:n.check_in_submitted_device_info})]})]}),(n.check_out_submitted_ip||n.check_out_submitted_device_info)&&s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{className:"font-medium text-sm",children:"Check-out Details"}),n.check_out_submitted_ip&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"IP Address:"}),s.jsx("span",{className:"text-sm font-mono",children:n.check_out_submitted_ip})]}),n.check_out_submitted_device_info&&s.jsxs("div",{className:"space-y-1",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Device Info:"}),s.jsx("p",{className:"text-xs text-muted-foreground font-mono break-all",children:n.check_out_submitted_device_info})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Created:"}),s.jsx("span",{className:"text-sm",children:We.formatTime(n.created_at)})]}),n.updated_at&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Last Updated:"}),s.jsx("span",{className:"text-sm",children:We.formatTime(n.updated_at)})]})]})]})]})}function _oe({users:t,onEdit:e,onView:r,onDelete:n,page:a,pageSize:l,total:c,totalPages:d,onPageChange:f,onPageSizeChange:h}){const[p,g]=x.useState(null),y=w=>Mt.formatUserRoles(w),b=w=>{var _;return`${w.first_name.charAt(0)}${((_=w.last_name)==null?void 0:_.charAt(0))||""}`.toUpperCase()},j=()=>{p&&n&&n(p),g(null)};return s.jsxs("div",{className:"space-y-4",children:[s.jsx(ee,{className:"p-0",children:s.jsx(te,{className:"p-0",children:s.jsx("div",{children:s.jsxs(mo,{children:[s.jsx(po,{children:s.jsxs(dn,{children:[s.jsx(ct,{children:"User"}),s.jsx(ct,{children:"Contact"}),s.jsx(ct,{children:"Role"}),s.jsx(ct,{children:"Org Unit"}),s.jsx(ct,{children:"Last Login"}),s.jsx(ct,{className:"text-right",children:"Actions"})]})}),s.jsx(xo,{children:t.map(w=>{var _;return s.jsxs(dn,{children:[s.jsx(dt,{children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs(na,{children:[s.jsx(Td,{src:qr.getFullFileUrl(((_=w==null?void 0:w.avatar_file)==null?void 0:_.file_url)||"")}),s.jsx(aa,{children:b(w)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:Mt.getUserFullName(w)}),s.jsx("div",{className:"text-sm text-muted-foreground",children:w.employee_id&&`ID: ${w.employee_id}`})]})]})}),s.jsx(dt,{children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(vm,{className:"h-3 w-3 text-muted-foreground"}),s.jsx("span",{className:"text-sm",children:w.email})]}),w.phone&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(zy,{className:"h-3 w-3 text-muted-foreground"}),s.jsx("span",{className:"text-sm",children:w.phone})]})]})}),s.jsx(dt,{children:s.jsx("span",{className:"text-sm",children:y(w)})}),s.jsx(dt,{children:s.jsx("span",{className:"text-sm",children:Mt.getOrgUnitName(w)})}),s.jsx(dt,{children:s.jsx("span",{className:"text-sm",children:Mt.formatDateTime(w.last_login)})}),s.jsx(dt,{className:"text-right",children:s.jsxs(On,{children:[s.jsx(Mn,{asChild:!0,children:s.jsx(re,{variant:"ghost",className:"h-8 w-8 p-0",children:s.jsx(ra,{className:"h-4 w-4"})})}),s.jsxs(un,{align:"end",children:[s.jsx(Df,{children:"Actions"}),s.jsxs(ts,{onClick:()=>r(w.id),children:[s.jsx(Ut,{className:"mr-2 h-4 w-4"}),"View Details"]}),e&&s.jsxs(ts,{onClick:()=>e(w.id),children:[s.jsx(en,{className:"mr-2 h-4 w-4"}),"Edit User"]}),(e||n)&&s.jsx(cp,{}),n&&s.jsxs(ts,{onClick:()=>g(w.id),className:"text-red-600",children:[s.jsx(ea,{className:"mr-2 h-4 w-4"}),"Delete User"]})]})]})})]},w.id)})})]})})})}),s.jsx(Ks,{currentPage:a,totalPages:d,itemsPerPage:l,totalItems:c,onPageChange:f,onItemsPerPageChange:w=>h(parseInt(w))}),s.jsx(Ls,{open:p!==null,onOpenChange:()=>g(null),children:s.jsxs(Ns,{children:[s.jsxs(_s,{children:[s.jsx(Es,{children:"Are you sure?"}),s.jsx(ks,{children:"This action cannot be undone. This will permanently delete the user account."})]}),s.jsxs(Ss,{children:[s.jsx(As,{children:"Cancel"}),s.jsx(Cs,{onClick:j,className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})})]})}function Soe({users:t,onEdit:e,onView:r,onDelete:n,page:a,pageSize:l,total:c,totalPages:d,onPageChange:f,onPageSizeChange:h}){const[p,g]=x.useState(null),y=w=>Mt.formatUserRoles(w),b=w=>{var _;return`${w.first_name.charAt(0)}${((_=w.last_name)==null?void 0:_.charAt(0))||""}`.toUpperCase()},j=()=>{p&&n&&n(p),g(null)};return s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("h3",{className:"text-lg font-medium",children:["Users (",c,")"]})}),s.jsx("div",{className:"space-y-4",children:t.map(w=>{var _;return s.jsxs(ee,{children:[s.jsx(ue,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs(na,{children:[s.jsx(Td,{src:qr.getFullFileUrl(((_=w==null?void 0:w.avatar_file)==null?void 0:_.file_url)||"")}),s.jsx(aa,{children:b(w)})]}),s.jsxs("div",{children:[s.jsx(xe,{className:"text-base",children:Mt.getUserFullName(w)}),w.employee_id&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["ID: ",w.employee_id]})]})]}),s.jsxs(On,{children:[s.jsx(Mn,{asChild:!0,children:s.jsx(re,{variant:"ghost",className:"h-8 w-8 p-0",children:s.jsx(ra,{className:"h-4 w-4"})})}),s.jsxs(un,{align:"end",children:[s.jsx(Df,{children:"Actions"}),s.jsxs(ts,{onClick:()=>r(w.id),children:[s.jsx(Ut,{className:"mr-2 h-4 w-4"}),"View Details"]}),e&&s.jsxs(ts,{onClick:()=>e(w.id),children:[s.jsx(en,{className:"mr-2 h-4 w-4"}),"Edit User"]}),(e||n)&&s.jsx(cp,{}),n&&s.jsxs(ts,{onClick:()=>g(w.id),className:"text-red-600",children:[s.jsx(ea,{className:"mr-2 h-4 w-4"}),"Delete User"]})]})]})]})}),s.jsx(te,{className:"pt-0",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(vm,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm",children:w.email})]}),w.phone&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(zy,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm",children:w.phone})]})]}),s.jsx("div",{className:"space-y-1",children:s.jsxs("div",{className:"text-sm",children:["Role: ",y(w)]})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ol,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm",children:Mt.getOrgUnitName(w)})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ze,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("span",{className:"text-sm",children:["Last login: ",Mt.formatDateTime(w.last_login)]})]}),s.jsxs("div",{className:"flex space-x-2 pt-2",children:[s.jsxs(re,{variant:"outline",size:"sm",onClick:()=>r(w.id),children:[s.jsx(Ut,{className:"h-4 w-4 mr-1"}),"View"]}),e&&s.jsxs(re,{variant:"outline",size:"sm",onClick:()=>e(w.id),children:[s.jsx(en,{className:"h-4 w-4 mr-1"}),"Edit"]})]})]})})]},w.id)})}),s.jsx(Ks,{currentPage:a,totalPages:d,itemsPerPage:l,totalItems:c,onPageChange:f,onItemsPerPageChange:w=>h(parseInt(w))}),s.jsx(Ls,{open:p!==null,onOpenChange:()=>g(null),children:s.jsxs(Ns,{children:[s.jsxs(_s,{children:[s.jsx(Es,{children:"Are you sure?"}),s.jsx(ks,{children:"This action cannot be undone. This will permanently delete the user account."})]}),s.jsxs(Ss,{children:[s.jsx(As,{children:"Cancel"}),s.jsx(Cs,{onClick:j,className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})})]})}const{toast:$l}=tr(),sa={getOrganizationUnits:async t=>{var e,r;try{return(await ve.get("/org-units/",{params:t})).data}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to fetch organization units";throw $l({title:"Error",description:a,variant:"destructive"}),new Error(a)}},searchOrganizationUnits:async(t,e)=>{var r,n;try{const a={q:t};return e!=null&&e.page&&(a.page=e.page),e!=null&&e.size&&(a.size=e.size),(e==null?void 0:e.offset)!==void 0&&(a.offset=e.offset),(await ve.get("/org-units/search",{params:a})).data}catch(a){const l=((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.detail)||"Failed to search organization units";throw $l({title:"Error",description:l,variant:"destructive"}),new Error(l)}},getOrganizationUnit:async t=>{var e,r;try{return(await ve.get(`/org-units/${t}`)).data}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to fetch organization unit";throw $l({title:"Error",description:a,variant:"destructive"}),new Error(a)}},createOrganizationUnit:async t=>{var e,r;try{const n=await ve.post("/org-units/",t);return $l({title:"Success",description:"Organization unit created successfully"}),n.data}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to create organization unit";throw $l({title:"Error",description:a,variant:"destructive"}),new Error(a)}},updateOrganizationUnit:async(t,e)=>{var r,n;try{const a=await ve.put(`/org-units/${t}`,e);return $l({title:"Success",description:"Organization unit updated successfully"}),a.data}catch(a){const l=((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.detail)||"Failed to update organization unit";throw $l({title:"Error",description:l,variant:"destructive"}),new Error(l)}},deleteOrganizationUnit:async t=>{var e,r;try{const n=await ve.delete(`/org-units/${t}`);return $l({title:"Success",description:"Organization unit deleted successfully"}),n.data}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to delete organization unit";throw $l({title:"Error",description:a,variant:"destructive"}),new Error(a)}},hasHead:t=>!!t.head_user_id,getDisplayName:t=>t.name,getStatusDisplay:t=>t.is_active?"Active":"Inactive",getStatusColor:t=>t.is_active?"green":"red",formatUnitInfo:t=>{const e=[t.name];return t.description&&e.push(`(${t.description})`),e.join(" ")},getHeadDisplay:t=>t.head_name||"No head assigned",sortByName:t=>[...t].sort((e,r)=>e.name.localeCompare(r.name)),filterActive:t=>t.filter(e=>e.is_active),filterByHead:(t,e)=>t.filter(r=>e?!!r.head_user_id:!r.head_user_id),searchUnits:(t,e)=>{const r=e.toLowerCase();return t.filter(n=>n.name.toLowerCase().includes(r)||n.description&&n.description.toLowerCase().includes(r))},createFilterParams:(t={})=>({page:1,size:10,status:"active",sort_by:"name",sort_order:"asc",...t}),formatDate:t=>new Date(t).toLocaleDateString(),formatDateTime:t=>new Date(t).toLocaleString()},Eoe=oo({email:as().email("Please enter a valid email address"),password:as().min(8,"Password must be at least 8 characters"),confirm_password:as(),first_name:as().min(1,"First name is required"),last_name:as().optional(),employee_id:as().optional(),phone:as().optional(),gender:P1(["male","female","other","none"]).optional(),hire_date:as().optional(),basic_salary:uf.number().min(0).optional(),org_unit_id:uf.number().optional(),is_active:mp().optional(),role_ids:M1(uv()).optional()}).refine(t=>t.password===t.confirm_password,{message:"Passwords don't match",path:["confirm_password"]}),koe=oo({email:as().email("Please enter a valid email address"),password:as().optional(),confirm_password:as().optional(),first_name:as().min(1,"First name is required"),last_name:as().optional(),employee_id:as().optional(),phone:as().optional(),gender:P1(["male","female","other","none"]).optional(),hire_date:as().optional(),basic_salary:uf.number().min(0).optional(),org_unit_id:uf.number().optional(),is_active:mp().optional(),role_ids:M1(uv()).optional()}).superRefine((t,e)=>{t.password&&t.password.length>0&&(t.password.length<8&&e.addIssue({code:Fe.too_small,minimum:8,type:"string",inclusive:!0,path:["password"],message:"Password must be at least 8 characters"}),t.password!==t.confirm_password&&e.addIssue({code:Fe.custom,path:["confirm_password"],message:"Passwords don't match"}))}),Coe=[{value:"male",label:"Male"},{value:"female",label:"Female"}];function r5({mode:t,initialData:e,onSubmit:r,onCancel:n,loading:a=!1}){const{toast:l}=tr(),[c,d]=x.useState([]),[f,h]=x.useState(!1),[p,g]=x.useState([]),[y,b]=x.useState(!1),[j,w]=x.useState(!1),[_,E]=x.useState(!1),{register:S,handleSubmit:k,formState:{errors:R},setValue:L,watch:I,reset:T}=ti({resolver:si(t==="create"?Eoe:koe),defaultValues:{email:"",password:"",confirm_password:"",first_name:"",last_name:"",employee_id:"",phone:"",gender:"none",hire_date:"",basic_salary:void 0,org_unit_id:0,is_active:!0,role_ids:[]}}),O=I("role_ids")||[];x.useEffect(()=>{const X=async()=>{try{h(!0);const z=await sa.getOrganizationUnits({status:"active",size:100});d(z.items)}catch(z){console.error("Failed to load organization units:",z),l({title:"Error",description:"Failed to load organization units",variant:"destructive"})}finally{h(!1)}},A=async()=>{try{b(!0);const z=await Mt.getAllRoles();g(z)}catch(z){console.error("Failed to load roles:",z),l({title:"Error",description:"Failed to load roles",variant:"destructive"})}finally{b(!1)}};X(),A()},[]),x.useEffect(()=>{t==="edit"&&e&&T({email:e.email,first_name:e.first_name,last_name:e.last_name||"",employee_id:e.employee_id||"",phone:e.phone||"",gender:e.gender||"none",hire_date:e.hire_date||"",basic_salary:e.basic_salary||void 0,org_unit_id:e.org_unit_id||0,is_active:!0,role_ids:e.roles.map(X=>X.id)})},[t,e,T]);const P=async X=>{try{const A={...X,gender:X.gender==="none"?void 0:X.gender,org_unit_id:X.org_unit_id===0?void 0:X.org_unit_id,is_verified:!0};t==="edit"&&delete A.password,delete A.confirm_password;const z=Object.fromEntries(Object.entries(A).filter(([$,J])=>$!=="confirm_password"&&J!==void 0&&J!==""&&J!=="none"&&J!==0));await r(z)}catch(A){console.error("Form submission error:",A)}};return s.jsxs(ee,{children:[s.jsx(ue,{children:s.jsx(xe,{children:t==="create"?"Create New User":"Edit User"})}),s.jsx(te,{children:s.jsxs("form",{onSubmit:k(P),className:"space-y-4",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(kt,{htmlFor:"email",className:"w-32 text-sm",children:"Email *"}),s.jsxs("div",{className:"flex-1",children:[s.jsx(Ct,{id:"email",type:"email",...S("email")}),R.email&&s.jsx("span",{className:"text-sm text-red-500",children:R.email.message})]})]}),t==="create"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(kt,{htmlFor:"password",className:"w-32 text-sm",children:"Password *"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Ct,{id:"password",type:j?"text":"password",...S("password")}),s.jsx(re,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>w(!j),children:j?s.jsx(nl,{className:"h-4 w-4"}):s.jsx(Ut,{className:"h-4 w-4"})})]}),R.password&&s.jsx("span",{className:"text-sm text-red-500",children:R.password.message})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(kt,{htmlFor:"confirm_password",className:"w-32 text-sm",children:"Confirm Password *"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Ct,{id:"confirm_password",type:_?"text":"password",...S("confirm_password")}),s.jsx(re,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>E(!_),children:_?s.jsx(nl,{className:"h-4 w-4"}):s.jsx(Ut,{className:"h-4 w-4"})})]}),R.confirm_password&&s.jsx("span",{className:"text-sm text-red-500",children:R.confirm_password.message})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(kt,{htmlFor:"first_name",className:"w-32 text-sm",children:"First Name *"}),s.jsxs("div",{className:"flex-1",children:[s.jsx(Ct,{id:"first_name",...S("first_name")}),R.first_name&&s.jsx("span",{className:"text-sm text-red-500",children:R.first_name.message})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(kt,{htmlFor:"last_name",className:"w-32 text-sm",children:"Last Name"}),s.jsxs("div",{className:"flex-1",children:[s.jsx(Ct,{id:"last_name",...S("last_name")}),R.last_name&&s.jsx("span",{className:"text-sm text-red-500",children:R.last_name.message})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(kt,{htmlFor:"employee_id",className:"w-32 text-sm",children:"Employee ID"}),s.jsxs("div",{className:"flex-1",children:[s.jsx(Ct,{id:"employee_id",...S("employee_id")}),R.employee_id&&s.jsx("span",{className:"text-sm text-red-500",children:R.employee_id.message})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(kt,{htmlFor:"phone",className:"w-32 text-sm",children:"Phone"}),s.jsxs("div",{className:"flex-1",children:[s.jsx(Ct,{id:"phone",type:"tel",...S("phone")}),R.phone&&s.jsx("span",{className:"text-sm text-red-500",children:R.phone.message})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(kt,{htmlFor:"gender",className:"w-32 text-sm",children:"Gender"}),s.jsx("div",{className:"flex-1",children:s.jsxs("select",{id:"gender",...S("gender"),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[s.jsx("option",{value:"none",children:"Select Gender"}),Coe.map(X=>s.jsx("option",{value:X.value,children:X.label},X.value))]})})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(kt,{htmlFor:"hire_date",className:"w-32 text-sm",children:"Hire Date"}),s.jsxs("div",{className:"flex-1",children:[s.jsx(Ct,{id:"hire_date",type:"date",...S("hire_date")}),R.hire_date&&s.jsx("span",{className:"text-sm text-red-500",children:R.hire_date.message})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(kt,{htmlFor:"basic_salary",className:"w-32 text-sm",children:"Basic Salary"}),s.jsxs("div",{className:"flex-1",children:[s.jsx(Ct,{id:"basic_salary",type:"number",min:"0",step:"0.01",...S("basic_salary")}),R.basic_salary&&s.jsx("span",{className:"text-sm text-red-500",children:R.basic_salary.message})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(kt,{htmlFor:"org_unit_id",className:"w-32 text-sm",children:"Organization Unit"}),s.jsx("div",{className:"flex-1",children:s.jsxs("select",{id:"org_unit_id",...S("org_unit_id"),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",disabled:f,children:[s.jsx("option",{value:"0",children:"Select Organization Unit"}),c.map(X=>s.jsx("option",{value:X.id,children:X.name},X.id))]})})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(kt,{htmlFor:"role",className:"w-32 text-sm",children:"Role"}),s.jsx("div",{className:"flex-1",children:s.jsxs("select",{id:"role",value:O[0]||"",onChange:X=>L("role_ids",X.target.value?[parseInt(X.target.value)]:[]),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",disabled:y,children:[s.jsx("option",{value:"",children:"Select Role"}),p.map(X=>s.jsx("option",{value:X.id,children:X.name.replace("_"," ").replace(/\b\w/g,A=>A.toUpperCase())},X.id))]})})]})]}),s.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[s.jsx(re,{type:"button",variant:"outline",onClick:n,disabled:a,children:"Cancel"}),s.jsxs(re,{type:"submit",disabled:a,children:[a&&s.jsx(js,{className:"mr-2 h-4 w-4 animate-spin"}),t==="create"?"Create User":"Update User"]})]})]})})]})}function Aoe({icon:t,title:e,description:r}){return s.jsx(ee,{children:s.jsx(te,{className:"py-8",children:s.jsxs("div",{className:"text-center text-muted-foreground",children:[s.jsx(t,{className:"mx-auto h-12 w-12 mb-4 opacity-50"}),s.jsx("p",{className:"text-lg font-medium mb-2",children:e}),s.jsx("p",{className:"text-sm",children:r})]})})})}function e4(){return s.jsxs(ee,{children:[s.jsx(ue,{children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ne,{className:"h-10 w-10 rounded-full"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ne,{className:"h-4 w-32"}),s.jsx(Ne,{className:"h-3 w-20"})]})]})}),s.jsxs(te,{className:"space-y-2",children:[s.jsx(Ne,{className:"h-4 w-full"}),s.jsx(Ne,{className:"h-4 w-3/4"}),s.jsx(Ne,{className:"h-4 w-1/2"})]})]})}function t4(){return s.jsxs(ee,{children:[s.jsx(ue,{children:s.jsx(Ne,{className:"h-6 w-32"})}),s.jsx(te,{children:s.jsx("div",{className:"space-y-4",children:[...Array(5)].map((t,e)=>s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(Ne,{className:"h-10 w-10 rounded-full"}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx(Ne,{className:"h-4 w-48"}),s.jsx(Ne,{className:"h-3 w-32"})]}),s.jsx(Ne,{className:"h-6 w-16"}),s.jsx(Ne,{className:"h-6 w-16"}),s.jsx(Ne,{className:"h-8 w-8"})]},e))})})]})}function Toe(){return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(Ne,{className:"h-16 w-16 rounded-full"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ne,{className:"h-8 w-48"}),s.jsx(Ne,{className:"h-4 w-32"})]})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs(ee,{children:[s.jsx(ue,{children:s.jsx(Ne,{className:"h-6 w-32"})}),s.jsx(te,{className:"space-y-4",children:[...Array(4)].map((t,e)=>s.jsxs("div",{className:"flex justify-between",children:[s.jsx(Ne,{className:"h-4 w-24"}),s.jsx(Ne,{className:"h-4 w-32"})]},e))})]}),s.jsxs(ee,{children:[s.jsx(ue,{children:s.jsx(Ne,{className:"h-6 w-32"})}),s.jsx(te,{className:"space-y-4",children:[...Array(4)].map((t,e)=>s.jsxs("div",{className:"flex justify-between",children:[s.jsx(Ne,{className:"h-4 w-24"}),s.jsx(Ne,{className:"h-4 w-32"})]},e))})]})]})]})}function Roe(){return s.jsxs(ee,{children:[s.jsx(ue,{children:s.jsx(Ne,{className:"h-6 w-32"})}),s.jsxs(te,{className:"space-y-6",children:[s.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:[...Array(8)].map((t,e)=>s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ne,{className:"h-4 w-24"}),s.jsx(Ne,{className:"h-10 w-full"})]},e))}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(Ne,{className:"h-10 w-20"}),s.jsx(Ne,{className:"h-10 w-20"})]})]})]})}function Doe(){const t=ht(),{isMasterAdmin:e}=uo(),[r,n]=x.useState([]),[a,l]=x.useState(null),[c,d]=x.useState(!0),[f,h]=x.useState(!1),[p,g]=x.useState(1),[y,b]=x.useState(10),[j,w]=x.useState(0),[_,E]=x.useState(0),[S,k]=x.useState(""),[R,L]=x.useState("all"),[I,T]=x.useState(),[O,P]=x.useState("first_name"),[X,A]=x.useState("asc"),z=[{label:"Dashboard",href:"/dashboard"},{label:"Users",current:!0}],$=x.useCallback(()=>({page:p,size:y,search:S||void 0,role_name:R!=="all"?R:void 0,org_unit_id:I,sort_by:O,sort_order:X}),[p,y,S,R,I,O,X]),J=x.useCallback(async()=>{try{d(!0);const G=$(),C=await Mt.getAllUsers(G);n(C.items),w(C.total),E(C.pages);const U=C.items.filter(ie=>ie.is_active).length,ne=C.items.filter(ie=>!ie.is_active).length,me=C.items.filter(ie=>Mt.isAdminOrMasterAdmin(ie)).length;l({total_users:C.total,active_users:U,inactive_users:ne,admin_users:me})}catch(G){console.error("Error loading users:",G)}finally{d(!1)}},[$]);x.useEffect(()=>{const G=new URLSearchParams(window.location.search);G.get("page")&&g(parseInt(G.get("page"))),G.get("size")&&b(parseInt(G.get("size"))),G.get("search")&&k(G.get("search")),G.get("role")?L(G.get("role")):L("all"),G.get("org_unit_id")&&T(parseInt(G.get("org_unit_id"))),G.get("sort_by")&&P(G.get("sort_by")),G.get("sort_order")&&A(G.get("sort_order")),h(!0)},[]),x.useEffect(()=>{f&&J()},[f,J]),x.useEffect(()=>{if(f){const G=new URLSearchParams;p>1&&G.set("page",p.toString()),y!==10&&G.set("size",y.toString()),S&&G.set("search",S),R!=="all"&&G.set("role",R),I&&G.set("org_unit_id",I.toString()),O!=="first_name"&&G.set("sort_by",O),X!=="asc"&&G.set("sort_order",X);const C=`${window.location.pathname}?${G.toString()}`;window.history.replaceState(null,"",C)}},[p,y,S,R,I,O,X,f]);const B=G=>{g(G)},M=G=>{b(G),g(1)},V=G=>{k(G),g(1)},Q=(G,C)=>{switch(g(1),G){case"role":L(C);break;case"orgUnit":T(C);break;case"sortBy":P(C);break;case"sortOrder":A(C);break}},le=x.useCallback(async G=>{try{await Mt.deleteUser(G),J()}catch(C){console.error("Failed to delete user:",C)}},[J]),H=x.useMemo(()=>S||R!=="all"||I,[S,R,I]),K=()=>a?s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4 mb-6",children:[s.jsxs(ee,{children:[s.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(xe,{className:"text-sm font-medium",children:"Total Users"}),s.jsx(ws,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(te,{children:s.jsx("div",{className:"text-2xl font-bold",children:a.total_users})})]}),s.jsxs(ee,{children:[s.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(xe,{className:"text-sm font-medium",children:"Active Users"}),s.jsx(Ad,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(te,{children:s.jsx("div",{className:"text-2xl font-bold",children:a.active_users})})]}),s.jsxs(ee,{children:[s.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(xe,{className:"text-sm font-medium",children:"Inactive Users"}),s.jsx(JH,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(te,{children:s.jsx("div",{className:"text-2xl font-bold",children:a.inactive_users})})]}),s.jsxs(ee,{children:[s.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(xe,{className:"text-sm font-medium",children:"Admin Users"}),s.jsx(ol,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(te,{children:s.jsx("div",{className:"text-2xl font-bold",children:a.admin_users})})]})]}):null,Y=()=>s.jsxs(Yr,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Search"}),s.jsx(Ct,{placeholder:"Search users...",value:S,onChange:G=>V(G.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Role"}),s.jsxs(Lt,{value:R,onValueChange:G=>Q("role",G),children:[s.jsx(Dt,{children:s.jsx(It,{placeholder:"All Roles"})}),s.jsxs(Ot,{children:[s.jsx($e,{value:"all",children:"All Roles"}),s.jsx($e,{value:"user",children:"User"}),s.jsx($e,{value:"admin",children:"Admin"}),s.jsx($e,{value:"master_admin",children:"Master Admin"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Sort By"}),s.jsxs(Lt,{value:O,onValueChange:G=>Q("sortBy",G),children:[s.jsx(Dt,{children:s.jsx(It,{})}),s.jsxs(Ot,{children:[s.jsx($e,{value:"first_name",children:"First Name"}),s.jsx($e,{value:"last_name",children:"Last Name"}),s.jsx($e,{value:"email",children:"Email"}),s.jsx($e,{value:"created_at",children:"Created Date"}),s.jsx($e,{value:"last_login",children:"Last Login"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Sort Order"}),s.jsxs(Lt,{value:X,onValueChange:G=>Q("sortOrder",G),children:[s.jsx(Dt,{children:s.jsx(It,{})}),s.jsxs(Ot,{children:[s.jsx($e,{value:"asc",children:"Ascending"}),s.jsx($e,{value:"desc",children:"Descending"})]})]})]})]});if(c&&!f)return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("div",{className:"h-8 w-48 bg-gray-200 rounded animate-pulse mb-2"}),s.jsx("div",{className:"h-4 w-96 bg-gray-200 rounded animate-pulse"})]}),s.jsx("div",{className:"h-10 w-32 bg-gray-200 rounded animate-pulse"})]}),s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[...Array(4)].map((G,C)=>s.jsx(e4,{},C))}),s.jsx(t4,{})]});const se=e?s.jsxs(re,{onClick:()=>t("/users/create"),size:"sm",children:[s.jsx(or,{className:"h-4 w-4 mr-2"}),"Create User"]}):null;return s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ye,{title:"User Management",description:"Manage users, roles, and permissions",breadcrumbs:z,actions:se}),s.jsx(K,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(Y,{}),c?s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"hidden md:block",children:s.jsx(t4,{})}),s.jsx("div",{className:"md:hidden space-y-4",children:[...Array(5)].map((G,C)=>s.jsx(e4,{},C))})]}):r.length===0?s.jsx(Aoe,{icon:ws,title:H?"No users found":"No users yet",description:H?"Try adjusting your filters":"Create your first user to get started"}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"hidden md:block",children:s.jsx(_oe,{users:r,onEdit:e?G=>t(`/users/${G}/edit`):void 0,onView:G=>t(`/users/${G}`),onDelete:e?le:void 0,page:p,pageSize:y,total:j,totalPages:_,onPageChange:B,onPageSizeChange:M})}),s.jsx("div",{className:"md:hidden",children:s.jsx(Soe,{users:r,onEdit:e?G=>t(`/users/${G}/edit`):void 0,onView:G=>t(`/users/${G}`),onDelete:e?le:void 0,page:p,pageSize:y,total:j,totalPages:_,onPageChange:B,onPageSizeChange:M})})]})]})]})}function Ooe(){var E;const{id:t}=zn(),e=ht(),{toast:r}=tr(),{isMasterAdmin:n}=uo(),[a,l]=x.useState(null),[c,d]=x.useState(!0),[f,h]=x.useState(!1),p=[{label:"Dashboard",href:"/dashboard"},{label:"Users",href:"/users"},{label:a?Mt.getUserFullName(a):"User Details",current:!0}];x.useEffect(()=>{(async()=>{try{if(d(!0),t){const k=await Mt.getUserById(parseInt(t));l(k)}}catch(k){console.error("Error loading user:",k),r({title:"Error",description:"Failed to load user details",variant:"destructive"}),e("/users")}finally{d(!1)}})()},[t,e]);const g=async()=>{if(a)try{h(!0),await Mt.unlockUserAccount(a.id);const S=await Mt.getUserById(a.id);l(S),r({title:"Success",description:"User account unlocked successfully"})}catch(S){console.error("Error unlocking user:",S)}finally{h(!1)}},y=s.jsxs(re,{variant:"ghost",size:"sm",onClick:()=>e("/users"),children:[s.jsx($t,{className:"h-4 w-4 mr-2"}),"Back to Users"]});if(c)return s.jsx("div",{className:"space-y-6",children:s.jsx(Toe,{})});if(!a)return s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ye,{title:"User Not Found",description:"The requested user could not be found",breadcrumbs:p,actions:y}),s.jsx(ee,{children:s.jsx(te,{className:"py-8",children:s.jsx("div",{className:"text-center text-muted-foreground",children:s.jsx("p",{children:"User not found"})})})})]});const b=()=>{const S=Mt.formatUserRoles(a),k=Mt.isAdminOrMasterAdmin(a);return s.jsx(Ke,{variant:k?"default":"outline",children:S})},j=()=>{var S;return`${a.first_name.charAt(0)}${((S=a.last_name)==null?void 0:S.charAt(0))||""}`.toUpperCase()},w=Mt.isUserLocked(a),_=s.jsxs("div",{className:"flex space-x-2",children:[y,n&&w&&s.jsxs(re,{variant:"outline",size:"sm",onClick:g,disabled:f,children:[s.jsx(uH,{className:"h-4 w-4 mr-2"}),"Unlock Account"]}),n&&s.jsxs(re,{size:"sm",onClick:()=>e(`/users/${a.id}/edit`),children:[s.jsx(en,{className:"h-4 w-4 mr-2"}),"Edit User"]})]});return s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ye,{title:Mt.getUserFullName(a),description:`User ID: ${a.id}${a.employee_id?`  Employee ID: ${a.employee_id}`:""}`,breadcrumbs:p,actions:_}),s.jsx(ee,{children:s.jsx(te,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(na,{className:"h-16 w-16",children:[s.jsx(Td,{src:qr.getFullFileUrl(((E=a==null?void 0:a.avatar_file)==null?void 0:E.file_url)||"")}),s.jsx(aa,{className:"text-lg",children:j()})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"text-2xl font-bold",children:Mt.getUserFullName(a)}),s.jsx("p",{className:"text-muted-foreground",children:a.email}),s.jsx("div",{className:"flex items-center space-x-2 mt-2",children:b()})]})]})})}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs(ee,{children:[s.jsx(ue,{children:s.jsxs(xe,{className:"flex items-center",children:[s.jsx(ol,{className:"h-5 w-5 mr-2"}),"Personal Information"]})}),s.jsx(te,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Full Name:"}),s.jsx("span",{className:"text-sm",children:Mt.getUserFullName(a)})]}),s.jsx(ys,{}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Email:"}),s.jsx("span",{className:"text-sm",children:a.email})]}),s.jsx(ys,{}),a.phone&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Phone:"}),s.jsx("span",{className:"text-sm",children:a.phone})]}),s.jsx(ys,{})]}),a.gender&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Gender:"}),s.jsx("span",{className:"text-sm capitalize",children:a.gender})]}),s.jsx(ys,{})]}),s.jsx(ys,{}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Verified:"}),s.jsx("span",{className:"text-sm",children:a.is_verified?"Yes":"No"})]}),a.mfa_enabled!==void 0&&s.jsxs(s.Fragment,{children:[s.jsx(ys,{}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"MFA Enabled:"}),s.jsx("span",{className:"text-sm",children:a.mfa_enabled?"Yes":"No"})]})]})]})})]}),s.jsxs(ee,{children:[s.jsx(ue,{children:s.jsxs(xe,{className:"flex items-center",children:[s.jsx(Qn,{className:"h-5 w-5 mr-2"}),"Employment Information"]})}),s.jsx(te,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-3",children:[a.employee_id&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Employee ID:"}),s.jsx("span",{className:"text-sm",children:a.employee_id})]}),s.jsx(ys,{})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Organization Unit:"}),s.jsx("span",{className:"text-sm",children:Mt.getOrgUnitName(a)})]}),s.jsx(ys,{}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Roles:"}),s.jsx("span",{className:"text-sm",children:Mt.formatUserRoles(a)})]}),s.jsx(ys,{}),a.hire_date&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Hire Date:"}),s.jsx("span",{className:"text-sm",children:Mt.formatDate(a.hire_date)})]}),s.jsx(ys,{})]}),a.basic_salary&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Basic Salary:"}),s.jsxs("span",{className:"text-sm",children:["$",new Intl.NumberFormat("en-US").format(a.basic_salary)]})]}),s.jsx(ys,{})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Last Login:"}),s.jsx("span",{className:"text-sm",children:Mt.formatDateTime(a.last_login)})]})]})})]}),s.jsxs(ee,{children:[s.jsx(ue,{children:s.jsxs(xe,{className:"flex items-center",children:[s.jsx(ol,{className:"h-5 w-5 mr-2"}),"Security Information"]})}),s.jsx(te,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Account Status:"}),s.jsx("span",{className:"text-sm",children:Mt.formatUserStatus(a)})]}),s.jsx(ys,{}),a.failed_login_attempts!==void 0&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Failed Login Attempts:"}),s.jsx("span",{className:"text-sm",children:a.failed_login_attempts})]}),s.jsx(ys,{})]}),a.locked_until&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Locked Until:"}),s.jsx("span",{className:"text-sm",children:Mt.formatDateTime(a.locked_until)})]}),s.jsx(ys,{})]}),a.password_changed_at&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Password Changed:"}),s.jsx("span",{className:"text-sm",children:Mt.formatDateTime(a.password_changed_at)})]}),s.jsx(ys,{})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Force Password Change:"}),s.jsx("span",{className:"text-sm",children:a.force_password_change?"Yes":"No"})]})]})})]}),s.jsxs(ee,{children:[s.jsx(ue,{children:s.jsxs(xe,{className:"flex items-center",children:[s.jsx(Pt,{className:"h-5 w-5 mr-2"}),"Activity Summary"]})}),s.jsx(te,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Last Login:"}),s.jsx("span",{className:"text-sm",children:Mt.formatDateTime(a.last_login)})]}),s.jsx(ys,{}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Account Created:"}),s.jsx("span",{className:"text-sm",children:Mt.formatDateTime(a.password_changed_at)})]}),s.jsx(ys,{}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Profile Updated:"}),s.jsx("span",{className:"text-sm",children:Mt.formatDateTime(a.password_changed_at)})]})]})})]})]})]})}function Moe(){const t=ht(),{toast:e}=tr(),[r,n]=x.useState(!1),a=[{label:"Dashboard",href:"/dashboard"},{label:"Users",href:"/users"},{label:"Create User",current:!0}],l=async f=>{try{n(!0);const h=await Mt.createUser(f);e({title:"Success",description:"User created successfully"}),t(`/users/${h.id}`)}catch(h){console.error("Error creating user:",h),e({title:"Error",description:"Failed to create user",variant:"destructive"})}finally{n(!1)}},c=()=>{t("/users")},d=s.jsxs(re,{variant:"ghost",size:"sm",onClick:()=>t("/users"),children:[s.jsx($t,{className:"h-4 w-4 mr-2"}),"Back to Users"]});return s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ye,{title:"Create New User",description:"Add a new user to the system with roles and permissions",breadcrumbs:a,actions:d}),s.jsx(r5,{mode:"create",onSubmit:l,onCancel:c,loading:r})]})}function Poe(){const{id:t}=zn(),e=ht(),{toast:r}=tr(),[n,a]=x.useState(null),[l,c]=x.useState(!0),[d,f]=x.useState(!1),h=[{label:"Dashboard",href:"/dashboard"},{label:"Users",href:"/users"},{label:n?Mt.getUserFullName(n):"Edit User",current:!0}];x.useEffect(()=>{(async()=>{try{if(c(!0),t){const j=await Mt.getUserById(parseInt(t));a(j)}}catch(j){console.error("Error loading user:",j),r({title:"Error",description:"Failed to load user details",variant:"destructive"}),e("/users")}finally{c(!1)}})()},[t,e]);const p=async b=>{if(n)try{f(!0);const j=await Mt.updateUser(n.id,b);r({title:"Success",description:"User updated successfully"}),e(`/users/${j.id}`)}catch(j){console.error("Error updating user:",j),r({title:"Error",description:"Failed to update user",variant:"destructive"})}finally{f(!1)}},g=()=>{e(`/users/${t}`)},y=n?s.jsxs(re,{variant:"ghost",size:"sm",onClick:()=>e(`/users/${n.id}`),children:[s.jsx($t,{className:"h-4 w-4 mr-2"}),"Back to User Details"]}):s.jsxs(re,{variant:"ghost",size:"sm",onClick:()=>e("/users"),children:[s.jsx($t,{className:"h-4 w-4 mr-2"}),"Back to Users"]});return l?s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex justify-between items-center",children:s.jsxs("div",{children:[s.jsx("div",{className:"h-8 w-48 bg-gray-200 rounded animate-pulse mb-2"}),s.jsx("div",{className:"h-4 w-96 bg-gray-200 rounded animate-pulse"})]})}),s.jsx(Roe,{})]}):n?s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ye,{title:`Edit ${Mt.getUserFullName(n)}`,description:"Update user information, roles, and permissions",breadcrumbs:h,actions:y}),s.jsx(r5,{mode:"edit",initialData:n,onSubmit:p,onCancel:g,loading:d})]}):s.jsx("div",{className:"space-y-6",children:s.jsx(Ye,{title:"User Not Found",description:"The requested user could not be found",breadcrumbs:h,actions:y})})}function Loe({organizationUnits:t,onEdit:e,onView:r,onDelete:n,page:a,pageSize:l,total:c,totalPages:d,onPageChange:f,onPageSizeChange:h}){const[p,g]=x.useState(!1),[y,b]=x.useState(null),j=S=>{b(S),g(!0)},w=()=>{y&&n&&(n(y.id),g(!1),b(null))},_=S=>new Date(S).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),E=S=>S.split(" ").map(k=>k.charAt(0)).join("").toUpperCase().slice(0,2);return s.jsxs("div",{className:"space-y-4",children:[s.jsx(ee,{className:"py-0",children:s.jsx(te,{className:"p-0",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(mo,{children:[s.jsx(po,{children:s.jsxs(dn,{children:[s.jsx(ct,{children:"Organization Unit"}),s.jsx(ct,{children:"Head"}),s.jsx(ct,{children:"Description"}),s.jsx(ct,{children:"Status"}),s.jsx(ct,{children:"Created"}),s.jsx(ct,{className:"text-right",children:"Actions"})]})}),s.jsx(xo,{children:t.map(S=>s.jsxs(dn,{className:"hover:bg-muted/50",children:[s.jsx(dt,{children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(na,{className:"h-8 w-8",children:s.jsx(aa,{className:"bg-primary/10 text-primary",children:E(S.name)})}),s.jsx("div",{children:s.jsx("div",{className:"font-medium",children:S.name})})]})}),s.jsx(dt,{children:S.head_name?s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ad,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm",children:S.head_name})]}):s.jsx("span",{className:"text-sm text-muted-foreground",children:"No head assigned"})}),s.jsx(dt,{children:s.jsx("div",{className:"text-sm text-muted-foreground max-w-xs truncate",children:S.description||"-"})}),s.jsx(dt,{children:s.jsx("div",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${S.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:S.is_active?"Active":"Inactive"})}),s.jsx(dt,{children:s.jsx("div",{className:"text-sm text-muted-foreground",children:_(S.created_at)})}),s.jsx(dt,{className:"text-right",children:s.jsxs(On,{children:[s.jsx(Mn,{asChild:!0,children:s.jsx(re,{variant:"ghost",className:"h-8 w-8 p-0",children:s.jsx(ra,{className:"h-4 w-4"})})}),s.jsxs(un,{align:"end",children:[s.jsx(Df,{children:"Actions"}),s.jsxs(ts,{onClick:()=>r(S.id),children:[s.jsx(Ut,{className:"mr-2 h-4 w-4"}),"View Details"]}),e&&s.jsxs(ts,{onClick:()=>e(S.id),children:[s.jsx(en,{className:"mr-2 h-4 w-4"}),"Edit"]}),(e||n)&&s.jsx(cp,{}),n&&s.jsxs(ts,{onClick:()=>j(S),className:"text-red-600 hover:text-red-700",children:[s.jsx(ea,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})})]},S.id))})]})})})}),s.jsx(Ks,{currentPage:a,totalPages:d,totalItems:c,itemsPerPage:l,onPageChange:f,onItemsPerPageChange:S=>h(parseInt(S))}),s.jsx(Ls,{open:p,onOpenChange:g,children:s.jsxs(Ns,{children:[s.jsxs(_s,{children:[s.jsx(Es,{children:"Are you sure?"}),s.jsxs(ks,{children:["This action cannot be undone. This will permanently delete the organization unit",s.jsx("strong",{className:"mx-1",children:y==null?void 0:y.name}),"and may affect associated users and sub-units."]})]}),s.jsxs(Ss,{children:[s.jsx(As,{children:"Cancel"}),s.jsx(Cs,{onClick:w,className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})})]})}function Ioe({organizationUnits:t,onEdit:e,onView:r,onDelete:n,page:a,pageSize:l,total:c,totalPages:d,onPageChange:f,onPageSizeChange:h}){const[p,g]=x.useState(!1),[y,b]=x.useState(null),j=S=>{b(S),g(!0)},w=()=>{y&&n&&(n(y.id),g(!1),b(null))},_=S=>new Date(S).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),E=S=>S.split(" ").map(k=>k.charAt(0)).join("").toUpperCase().slice(0,2);return s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"space-y-4",children:t.map(S=>s.jsxs(ee,{className:"hover:shadow-md transition-shadow",children:[s.jsx(ue,{className:"pb-3",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(na,{className:"h-12 w-12",children:s.jsx(aa,{className:"bg-primary/10 text-primary",children:E(S.name)})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx(xe,{className:"text-lg font-semibold truncate",children:S.name}),S.description&&s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:S.description}),s.jsx("div",{className:"flex items-center space-x-2 mt-2",children:s.jsx("div",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${S.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:S.is_active?"Active":"Inactive"})})]})]}),s.jsxs(On,{children:[s.jsx(Mn,{asChild:!0,children:s.jsx(re,{variant:"ghost",className:"h-8 w-8 p-0",children:s.jsx(ra,{className:"h-4 w-4"})})}),s.jsxs(un,{align:"end",children:[s.jsx(Df,{children:"Actions"}),s.jsxs(ts,{onClick:()=>r(S.id),children:[s.jsx(Ut,{className:"mr-2 h-4 w-4"}),"View Details"]}),e&&s.jsxs(ts,{onClick:()=>e(S.id),children:[s.jsx(en,{className:"mr-2 h-4 w-4"}),"Edit"]}),(e||n)&&s.jsx(cp,{}),n&&s.jsxs(ts,{onClick:()=>j(S),className:"text-red-600 hover:text-red-700",children:[s.jsx(ea,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]})}),s.jsxs(te,{className:"pt-0",children:[s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ad,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-muted-foreground",children:"Head"}),s.jsx("div",{className:"text-sm font-medium",children:S.head_name||"No head assigned"})]})]}),S.description&&s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx(Na,{className:"h-4 w-4 text-muted-foreground mt-1"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-xs text-muted-foreground",children:"Description"}),s.jsx("div",{className:"text-sm font-medium",children:S.description})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ze,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Created ",_(S.created_at)]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs(re,{variant:"outline",size:"sm",onClick:()=>r(S.id),children:[s.jsx(Ut,{className:"h-4 w-4 mr-1"}),"View"]}),e&&s.jsxs(re,{variant:"outline",size:"sm",onClick:()=>e(S.id),children:[s.jsx(en,{className:"h-4 w-4 mr-1"}),"Edit"]})]})]})]})]},S.id))}),s.jsx(Ks,{currentPage:a,totalPages:d,totalItems:c,itemsPerPage:l,onPageChange:f,onItemsPerPageChange:S=>h(parseInt(S))}),s.jsx(Ls,{open:p,onOpenChange:g,children:s.jsxs(Ns,{children:[s.jsxs(_s,{children:[s.jsx(Es,{children:"Are you sure?"}),s.jsxs(ks,{children:["This action cannot be undone. This will permanently delete the organization unit",s.jsx("strong",{className:"mx-1",children:y==null?void 0:y.name}),"and may affect associated users and sub-units."]})]}),s.jsxs(Ss,{children:[s.jsx(As,{children:"Cancel"}),s.jsx(Cs,{onClick:w,className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})})]})}const Uoe=oo({name:as().min(1,"Organization unit name is required"),head_user_id:uf.number().optional(),description:as().optional()});function n5({mode:t,initialData:e,onSubmit:r,onCancel:n,loading:a=!1}){const{toast:l}=tr(),[c,d]=x.useState(null),{register:f,handleSubmit:h,formState:{errors:p},setValue:g,reset:y}=ti({resolver:si(Uoe),defaultValues:{name:"",head_user_id:void 0,description:""}});x.useEffect(()=>{t==="edit"&&e&&(y({name:e.name,head_user_id:e.head_user_id,description:e.description||""}),e.head_user_id&&e.head_name&&d({id:e.head_user_id,name:e.head_name,email:"",employee_id:"",org_unit_name:"",is_active:!0}))},[t,e,y]);const b=async _=>{try{const E={name:_.name,head_user_id:_.head_user_id||void 0,description:_.description||void 0};await r(E)}catch(E){console.error("Error submitting form:",E),l({title:"Error",description:"Failed to submit form",variant:"destructive"})}},j=_=>{d(_),g("head_user_id",_.id)},w=_=>{g("head_user_id",typeof _=="string"?parseInt(_):_)};return s.jsxs(ee,{className:"w-full mx-auto",children:[s.jsx(ue,{children:s.jsx(xe,{children:t==="create"?"Create Organization Unit":"Edit Organization Unit"})}),s.jsx(te,{children:s.jsxs("form",{onSubmit:h(b),className:"space-y-4",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(kt,{htmlFor:"name",className:"w-32 text-sm",children:"Organization Unit Name *"}),s.jsxs("div",{className:"flex-1",children:[s.jsx(Ct,{id:"name",...f("name"),placeholder:"Enter organization unit name",disabled:a}),p.name&&s.jsx("span",{className:"text-sm text-red-500",children:p.name.message})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(kt,{htmlFor:"head_user_id",className:"w-32 text-sm",children:"Head User"}),s.jsxs("div",{className:"flex-1",children:[s.jsx(vv,{value:c==null?void 0:c.id,onChange:w,onUserSelect:j,placeholder:"Select head user (optional)",searchPlaceholder:"Search users by name or email..."}),p.head_user_id&&s.jsx("span",{className:"text-sm text-red-500",children:p.head_user_id.message})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(kt,{htmlFor:"description",className:"w-32 text-sm",children:"Description"}),s.jsxs("div",{className:"flex-1",children:[s.jsx(Tn,{id:"description",...f("description"),placeholder:"Enter organization unit description",disabled:a,rows:3}),p.description&&s.jsx("span",{className:"text-sm text-red-500",children:p.description.message})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[s.jsx(re,{type:"button",variant:"outline",onClick:n,disabled:a,children:"Cancel"}),s.jsxs(re,{type:"submit",disabled:a,children:[a&&s.jsx(js,{className:"mr-2 h-4 w-4 animate-spin"}),t==="create"?"Create Organization Unit":"Update Organization Unit"]})]})]})})]})}function Foe({icon:t,title:e,description:r}){return s.jsx(ee,{children:s.jsx(te,{className:"py-8",children:s.jsxs("div",{className:"text-center text-muted-foreground",children:[s.jsx(t,{className:"mx-auto h-12 w-12 mb-4 opacity-50"}),s.jsx("p",{className:"text-lg font-medium mb-2",children:e}),s.jsx("p",{className:"text-sm",children:r})]})})})}function s4(){return s.jsxs(ee,{children:[s.jsx(ue,{children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ne,{className:"h-10 w-10 rounded-full"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ne,{className:"h-4 w-32"}),s.jsx(Ne,{className:"h-3 w-20"})]})]})}),s.jsxs(te,{className:"space-y-2",children:[s.jsx(Ne,{className:"h-4 w-full"}),s.jsx(Ne,{className:"h-4 w-3/4"}),s.jsx(Ne,{className:"h-4 w-1/2"})]})]})}function r4(){return s.jsxs(ee,{children:[s.jsx(ue,{children:s.jsx(Ne,{className:"h-6 w-32"})}),s.jsx(te,{children:s.jsx("div",{className:"space-y-4",children:[...Array(5)].map((t,e)=>s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(Ne,{className:"h-10 w-10 rounded-full"}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx(Ne,{className:"h-4 w-48"}),s.jsx(Ne,{className:"h-3 w-32"})]}),s.jsx(Ne,{className:"h-6 w-16"}),s.jsx(Ne,{className:"h-6 w-16"}),s.jsx(Ne,{className:"h-8 w-8"})]},e))})})]})}function zoe(){return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(Ne,{className:"h-16 w-16 rounded-full"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ne,{className:"h-8 w-48"}),s.jsx(Ne,{className:"h-4 w-32"})]})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs(ee,{children:[s.jsx(ue,{children:s.jsx(Ne,{className:"h-6 w-32"})}),s.jsx(te,{className:"space-y-4",children:[...Array(4)].map((t,e)=>s.jsxs("div",{className:"flex justify-between",children:[s.jsx(Ne,{className:"h-4 w-24"}),s.jsx(Ne,{className:"h-4 w-32"})]},e))})]}),s.jsxs(ee,{children:[s.jsx(ue,{children:s.jsx(Ne,{className:"h-6 w-32"})}),s.jsx(te,{className:"space-y-4",children:[...Array(4)].map((t,e)=>s.jsxs("div",{className:"flex justify-between",children:[s.jsx(Ne,{className:"h-4 w-24"}),s.jsx(Ne,{className:"h-4 w-32"})]},e))})]})]}),s.jsxs(ee,{children:[s.jsx(ue,{children:s.jsx(Ne,{className:"h-6 w-32"})}),s.jsx(te,{className:"space-y-4",children:[...Array(3)].map((t,e)=>s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(Ne,{className:"h-8 w-8 rounded-full"}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx(Ne,{className:"h-4 w-32"}),s.jsx(Ne,{className:"h-3 w-24"})]}),s.jsx(Ne,{className:"h-6 w-16"})]},e))})]})]})}function $oe(){return s.jsxs(ee,{className:"w-full max-w-2xl mx-auto",children:[s.jsx(ue,{children:s.jsx(Ne,{className:"h-6 w-48"})}),s.jsxs(te,{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ne,{className:"h-4 w-32"}),s.jsx(Ne,{className:"h-10 w-full"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ne,{className:"h-4 w-24"}),s.jsx(Ne,{className:"h-10 w-full"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ne,{className:"h-4 w-20"}),s.jsx(Ne,{className:"h-20 w-full"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ne,{className:"h-4 w-40"}),s.jsx(Ne,{className:"h-10 w-full"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ne,{className:"h-6 w-12"}),s.jsx(Ne,{className:"h-4 w-16"})]}),s.jsxs("div",{className:"flex justify-end space-x-4 pt-6",children:[s.jsx(Ne,{className:"h-10 w-20"}),s.jsx(Ne,{className:"h-10 w-32"})]})]})]})}function qoe(){const t=ht(),{isMasterAdmin:e}=uo(),[r,n]=x.useState([]),[a,l]=x.useState(null),[c,d]=x.useState(!0),[f,h]=x.useState(!1),[p,g]=x.useState(1),[y,b]=x.useState(10),[j,w]=x.useState(0),[_,E]=x.useState(0),[S,k]=x.useState("all"),[R,L]=x.useState("all"),[I,T]=x.useState("name"),[O,P]=x.useState("asc"),X=[{label:"Dashboard",href:"/dashboard"},{label:"Organization Units",current:!0}],A=x.useCallback(()=>({page:p,size:y,status:S!=="all"?S:void 0,has_head:R!=="all"?R==="yes":void 0,sort_by:I,sort_order:O}),[p,y,S,R,I,O]),z=x.useCallback(async()=>{try{d(!0);const K=A(),Y=await sa.getOrganizationUnits(K);n(Y.items),w(Y.total),E(Y.pages);const se=Y.items.filter(U=>U.is_active).length,G=Y.items.filter(U=>!U.is_active).length,C=Y.items.filter(U=>U.head_user_id).length;l({total_units:Y.total,active_units:se,inactive_units:G,units_with_head:C})}catch(K){console.error("Error loading organization units:",K)}finally{d(!1)}},[A]);x.useEffect(()=>{const K=new URLSearchParams(window.location.search);K.get("page")&&g(parseInt(K.get("page"))),K.get("size")&&b(parseInt(K.get("size"))),K.get("status")?k(K.get("status")):k("all"),K.get("has_head")?L(K.get("has_head")):L("all"),K.get("sort_by")&&T(K.get("sort_by")),K.get("sort_order")&&P(K.get("sort_order")),h(!0)},[]),x.useEffect(()=>{f&&z()},[f,z]),x.useEffect(()=>{if(f){const K=new URLSearchParams;p>1&&K.set("page",p.toString()),y!==10&&K.set("size",y.toString()),S!=="all"&&K.set("status",S),R!=="all"&&K.set("has_head",R),I!=="name"&&K.set("sort_by",I),O!=="asc"&&K.set("sort_order",O);const Y=`${window.location.pathname}?${K.toString()}`;window.history.replaceState(null,"",Y)}},[p,y,S,R,I,O,f]);const $=K=>{g(K)},J=K=>{b(K),g(1)},B=(K,Y)=>{switch(g(1),K){case"status":k(Y);break;case"hasHead":L(Y);break;case"sortBy":T(Y);break;case"sortOrder":P(Y);break}},M=x.useCallback(async K=>{try{await sa.deleteOrganizationUnit(K),z()}catch(Y){console.error("Failed to delete organization unit:",Y)}},[z]),V=x.useMemo(()=>S!=="all"||R!=="all",[S,R]),Q=()=>a?s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4 mb-6",children:[s.jsxs(ee,{children:[s.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(xe,{className:"text-sm font-medium",children:"Total Units"}),s.jsx(Na,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(te,{children:s.jsx("div",{className:"text-2xl font-bold",children:a.total_units})})]}),s.jsxs(ee,{children:[s.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(xe,{className:"text-sm font-medium",children:"Active Units"}),s.jsx(cr,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(te,{children:s.jsx("div",{className:"text-2xl font-bold",children:a.active_units})})]}),s.jsxs(ee,{children:[s.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(xe,{className:"text-sm font-medium",children:"Inactive Units"}),s.jsx(rp,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(te,{children:s.jsx("div",{className:"text-2xl font-bold",children:a.inactive_units})})]}),s.jsxs(ee,{children:[s.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(xe,{className:"text-sm font-medium",children:"Units with Head"}),s.jsx(ws,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(te,{children:s.jsx("div",{className:"text-2xl font-bold",children:a.units_with_head})})]})]}):null,le=()=>s.jsxs(Yr,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Status"}),s.jsxs(Lt,{value:S,onValueChange:K=>B("status",K),children:[s.jsx(Dt,{children:s.jsx(It,{placeholder:"All Status"})}),s.jsxs(Ot,{children:[s.jsx($e,{value:"all",children:"All Status"}),s.jsx($e,{value:"active",children:"Active"}),s.jsx($e,{value:"inactive",children:"Inactive"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Has Head"}),s.jsxs(Lt,{value:R,onValueChange:K=>B("hasHead",K),children:[s.jsx(Dt,{children:s.jsx(It,{placeholder:"All Units"})}),s.jsxs(Ot,{children:[s.jsx($e,{value:"all",children:"All Units"}),s.jsx($e,{value:"yes",children:"With Head"}),s.jsx($e,{value:"no",children:"Without Head"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Sort By"}),s.jsxs(Lt,{value:I,onValueChange:K=>B("sortBy",K),children:[s.jsx(Dt,{children:s.jsx(It,{})}),s.jsxs(Ot,{children:[s.jsx($e,{value:"name",children:"Name"}),s.jsx($e,{value:"created_at",children:"Created Date"}),s.jsx($e,{value:"updated_at",children:"Updated Date"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Sort Order"}),s.jsxs(Lt,{value:O,onValueChange:K=>B("sortOrder",K),children:[s.jsx(Dt,{children:s.jsx(It,{})}),s.jsxs(Ot,{children:[s.jsx($e,{value:"asc",children:"Ascending"}),s.jsx($e,{value:"desc",children:"Descending"})]})]})]})]});if(c&&!f)return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("div",{className:"h-8 w-48 bg-gray-200 rounded animate-pulse mb-2"}),s.jsx("div",{className:"h-4 w-96 bg-gray-200 rounded animate-pulse"})]}),s.jsx("div",{className:"h-10 w-32 bg-gray-200 rounded animate-pulse"})]}),s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[...Array(4)].map((K,Y)=>s.jsx(s4,{},Y))}),s.jsx(r4,{})]});const H=e?s.jsxs(re,{onClick:()=>t("/organization-units/create"),size:"sm",children:[s.jsx(or,{className:"h-4 w-4 mr-2"}),"Create Organization Unit"]}):null;return s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ye,{title:"Organization Unit Management",description:"Manage organization units and their hierarchy",breadcrumbs:X,actions:H}),s.jsx(Q,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(le,{}),c?s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"hidden md:block",children:s.jsx(r4,{})}),s.jsx("div",{className:"md:hidden space-y-4",children:[...Array(5)].map((K,Y)=>s.jsx(s4,{},Y))})]}):r.length===0?s.jsx(Foe,{icon:Na,title:V?"No organization units found":"No organization units yet",description:V?"Try adjusting your filters":"Create your first organization unit to get started"}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"hidden md:block",children:s.jsx(Loe,{organizationUnits:r,onEdit:e?K=>t(`/organization-units/${K}/edit`):void 0,onView:K=>t(`/organization-units/${K}`),onDelete:e?M:void 0,page:p,pageSize:y,total:j,totalPages:_,onPageChange:$,onPageSizeChange:J})}),s.jsx("div",{className:"md:hidden",children:s.jsx(Ioe,{organizationUnits:r,onEdit:e?K=>t(`/organization-units/${K}/edit`):void 0,onView:K=>t(`/organization-units/${K}`),onDelete:e?M:void 0,page:p,pageSize:y,total:j,totalPages:_,onPageChange:$,onPageSizeChange:J})})]})]})]})}function Boe(){const t=ht(),{id:e}=zn(),{isMasterAdmin:r}=uo(),[n,a]=x.useState(null),[l,c]=x.useState(!0),[d,f]=x.useState(!1),h=[{label:"Dashboard",href:"/dashboard"},{label:"Organization Units",href:"/organization-units"},{label:"Organization Unit Details",current:!0}];x.useEffect(()=>{(async()=>{try{if(!e)return;c(!0);const w=await sa.getOrganizationUnit(parseInt(e));a(w)}catch(w){console.error("Failed to load organization unit:",w),t("/organization-units")}finally{c(!1)}})()},[e,t]);const p=x.useCallback(async()=>{try{if(!e)return;f(!0),await sa.deleteOrganizationUnit(parseInt(e)),t("/organization-units")}catch(j){console.error("Failed to delete organization unit:",j)}finally{f(!1)}},[e,t]),g=j=>new Date(j).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),y=j=>j.split(" ").map(w=>w.charAt(0)).join("").toUpperCase().slice(0,2);if(l)return s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ye,{title:"Organization Unit Details",description:"View organization unit information",breadcrumbs:h}),s.jsx(zoe,{})]});if(!n)return s.jsx("div",{className:"space-y-6",children:s.jsx(Ye,{title:"Organization Unit Not Found",description:"The requested organization unit could not be found",breadcrumbs:h})});const b=r?s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs(re,{variant:"outline",onClick:()=>t(`/organization-units/${e}/edit`),children:[s.jsx(en,{className:"h-4 w-4 mr-2"}),"Edit"]}),s.jsxs(Ls,{children:[s.jsx(Or,{asChild:!0,children:s.jsxs(re,{variant:"destructive",children:[s.jsx(ea,{className:"h-4 w-4 mr-2"}),"Delete"]})}),s.jsxs(Ns,{children:[s.jsxs(_s,{children:[s.jsx(Es,{children:"Are you sure?"}),s.jsxs(ks,{children:["This action cannot be undone. This will permanently delete the organization unit",s.jsx("strong",{className:"mx-1",children:n.name}),"and may affect associated users and sub-units."]})]}),s.jsxs(Ss,{children:[s.jsx(As,{children:"Cancel"}),s.jsx(Cs,{onClick:p,className:"bg-red-600 hover:bg-red-700",disabled:d,children:d?"Deleting...":"Delete"})]})]})]})]}):null;return s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ye,{title:n.name,description:"Organization unit details and information",breadcrumbs:h,actions:b}),s.jsx(ee,{children:s.jsx(te,{className:"pt-6",children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx(na,{className:"h-16 w-16",children:s.jsx(aa,{className:"bg-primary/10 text-primary text-lg",children:y(n.name)})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx("h2",{className:"text-2xl font-bold",children:n.name}),s.jsx(Ke,{variant:n.is_active?"default":"secondary",children:n.is_active?s.jsxs(s.Fragment,{children:[s.jsx(cr,{className:"h-3 w-3 mr-1"}),"Active"]}):s.jsxs(s.Fragment,{children:[s.jsx(An,{className:"h-3 w-3 mr-1"}),"Inactive"]})})]}),s.jsx("div",{className:"flex items-center space-x-4 text-sm text-muted-foreground mb-2",children:n.head_name&&s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Ad,{className:"h-4 w-4"}),s.jsxs("span",{children:["Head: ",n.head_name]})]})}),n.description&&s.jsx("p",{className:"text-muted-foreground",children:n.description})]})]})})}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs(ee,{children:[s.jsx(ue,{children:s.jsx(xe,{children:"Organization Unit Information"})}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Name:"}),s.jsx("span",{className:"text-sm",children:n.name})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Head:"}),s.jsx("span",{className:"text-sm",children:n.head_name||"No head assigned"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Status:"}),s.jsx(Ke,{variant:n.is_active?"default":"secondary",children:n.is_active?"Active":"Inactive"})]})]})]}),s.jsxs(ee,{children:[s.jsx(ue,{children:s.jsx(xe,{children:"Statistics"})}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Created:"}),s.jsx("span",{className:"text-sm",children:g(n.created_at)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Updated:"}),s.jsx("span",{className:"text-sm",children:g(n.updated_at)})]})]})]})]})]})}function Hoe(){const t=ht(),e=[{label:"Dashboard",href:"/dashboard"},{label:"Organization Units",href:"/organization-units"},{label:"Create Organization Unit",current:!0}],r=x.useCallback(async a=>{try{await sa.createOrganizationUnit(a),t("/organization-units")}catch(l){throw console.error("Failed to create organization unit:",l),l}},[t]),n=x.useCallback(()=>{t("/organization-units")},[t]);return s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ye,{title:"Create Organization Unit",description:"Add a new organization unit to your system",breadcrumbs:e}),s.jsx(n5,{mode:"create",onSubmit:r,onCancel:n})]})}function Voe(){const t=ht(),{id:e}=zn(),[r,n]=x.useState(null),[a,l]=x.useState(!0),[c,d]=x.useState(!1),f=[{label:"Dashboard",href:"/dashboard"},{label:"Organization Units",href:"/organization-units"},{label:"Edit Organization Unit",current:!0}];x.useEffect(()=>{(async()=>{try{if(!e)return;l(!0);const y=await sa.getOrganizationUnit(parseInt(e));n(y)}catch(y){console.error("Failed to load organization unit:",y),t("/organization-units")}finally{l(!1)}})()},[e,t]);const h=x.useCallback(async g=>{try{if(!e)return;d(!0),await sa.updateOrganizationUnit(parseInt(e),g),t("/organization-units")}catch(y){throw console.error("Failed to update organization unit:",y),y}finally{d(!1)}},[e,t]),p=x.useCallback(()=>{t("/organization-units")},[t]);return a?s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ye,{title:"Edit Organization Unit",description:"Update organization unit information",breadcrumbs:f}),s.jsx($oe,{})]}):r?s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ye,{title:`Edit Organization Unit: ${r.name}`,description:"Update organization unit information",breadcrumbs:f}),s.jsx(n5,{mode:"edit",initialData:r,onSubmit:h,onCancel:p,loading:c})]}):s.jsx("div",{className:"space-y-6",children:s.jsx(Ye,{title:"Organization Unit Not Found",description:"The requested organization unit could not be found",breadcrumbs:f})})}function wp({icon:t,title:e,description:r}){return s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[s.jsx("div",{className:"w-16 h-16 mb-4 flex items-center justify-center rounded-full bg-muted",children:s.jsx(t,{className:"w-8 h-8 text-muted-foreground"})}),s.jsx("h3",{className:"text-lg font-semibold text-center mb-2",children:e}),s.jsx("p",{className:"text-sm text-muted-foreground text-center max-w-md",children:r})]})}const Du={title:"Attendance Reports",description:"Comprehensive attendance summary and analytics for all users",icon:Pt,apiEndpoint:{all:async t=>{const e={page:t.page,size:t.size,year:t.year,month:t.month},r=await We.admin.getAllUserSummaries(e);return{...r,pages:r.total_pages||Math.ceil(r.total/(t.size||10)),has_previous:r.has_prev||!1,items:r.items.map(n=>({user_id:n.user_id,user_name:n.user_name,employee_id:n.employee_id,org_unit_name:n.org_unit_name,present_days:n.present_days||0,absent_days:n.absent_days||0,leave_days:n.leave_days||0,last_attendance_date:n.last_attendance_date}))}},byOrgUnit:async(t,e)=>{const r={page:e.page,size:e.size,year:e.year,month:e.month,org_unit_id:t},n=await We.admin.getUserSummariesByOrgUnit(t,r);return{...n,pages:n.total_pages||Math.ceil(n.total/(e.size||10)),has_previous:n.has_prev||!1,items:n.items.map(a=>({user_id:a.user_id,user_name:a.user_name,employee_id:a.employee_id,org_unit_name:a.org_unit_name,present_days:a.present_days||0,absent_days:a.absent_days||0,leave_days:a.leave_days||0,last_attendance_date:a.last_attendance_date}))}}},columns:[{key:"user_name",label:"Employee Name",render:t=>s.jsx("div",{className:"font-medium",children:t})},{key:"employee_id",label:"Employee ID",render:t=>s.jsx("div",{className:"text-sm text-muted-foreground",children:t||"-"})},{key:"org_unit_name",label:"Organization Unit",render:t=>s.jsx("div",{className:"text-sm",children:t||"-"})},{key:"present_days",label:"Present Days",render:t=>s.jsx("div",{className:"text-sm text-center font-medium text-green-600",children:t})},{key:"absent_days",label:"Absent Days",render:t=>s.jsx("div",{className:"text-sm text-center font-medium text-red-600",children:t})},{key:"leave_days",label:"Leave Days",render:t=>s.jsx("div",{className:"text-sm text-center font-medium text-blue-600",children:t})},{key:"last_attendance_date",label:"Last Attendance",render:t=>s.jsx("div",{className:"text-sm text-muted-foreground",children:t?new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"-"})}],mobileCardFields:[{key:"user_name",label:"Employee Name",primary:!0,render:(t,e)=>s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{children:t}),e.employee_id&&s.jsxs("div",{className:"text-sm text-muted-foreground",children:["ID: ",e.employee_id]})]})},{key:"org_unit_name",label:"Organization Unit",render:t=>t||"-"},{key:"present_days",label:"Present Days",render:t=>`${t} days`},{key:"absent_days",label:"Absent Days",render:t=>`${t} days`},{key:"leave_days",label:"Leave Days",render:t=>`${t} days`},{key:"last_attendance_date",label:"Last Attendance",render:t=>t?new Date(t).toLocaleDateString("en-US"):"-"}],exportFields:[{key:"user_name",label:"Employee Name"},{key:"employee_id",label:"Employee ID",format:t=>t||""},{key:"org_unit_name",label:"Organization Unit",format:t=>t||""},{key:"present_days",label:"Present Days"},{key:"absent_days",label:"Absent Days"},{key:"leave_days",label:"Leave Days"},{key:"last_attendance_date",label:"Last Attendance Date",format:t=>t?new Date(t).toLocaleDateString("en-US"):""}],additionalFilters:[]};function Yoe(){const t=ht(),[e,r]=x.useState([]),[n,a]=x.useState([]),[l,c]=x.useState(!0),[d,f]=x.useState(!1),[h,p]=x.useState(1),[g,y]=x.useState(10),[b,j]=x.useState(0),[w,_]=x.useState(0),E=new Date,S=E.getFullYear(),k=E.getMonth()+1,[R,L]=x.useState("all"),[I,T]=x.useState(S),[O,P]=x.useState(k),X=[{label:"Dashboard",href:"/dashboard"},{label:"Reports",href:"/reports"},{label:"Attendance Reports",current:!0}],A=[{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"},{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"}],z=x.useMemo(()=>{const C=[];for(let U=0;U<3;U++)C.push(S-U);return C},[S]),$=x.useCallback(()=>{const C={page:h,size:g,year:I,month:O};return R!=="all"&&(C.org_unit_id=parseInt(R)),C},[h,g,R,I,O]),J=x.useCallback(async()=>{try{const C=await sa.getOrganizationUnits({page:1,size:100,status:"active"});a(C.items)}catch(C){console.error("Error loading organization units:",C)}},[]),B=x.useCallback(async()=>{try{c(!0);const C=$(),U=R!=="all"?await We.admin.getUserSummariesByOrgUnit(parseInt(R),C):await We.admin.getAllUserSummaries(C);r(U.items),j(U.total),_(U.total_pages)}catch(C){console.error("Error loading attendance reports:",C)}finally{c(!1)}},[$,R]);x.useEffect(()=>{const C=new URLSearchParams(window.location.search);C.get("page")&&p(parseInt(C.get("page"))),C.get("size")&&y(parseInt(C.get("size"))),C.get("org_unit")?L(C.get("org_unit")):L("all"),C.get("year")&&T(parseInt(C.get("year"))),C.get("month")&&P(parseInt(C.get("month"))),f(!0)},[]),x.useEffect(()=>{J()},[J]),x.useEffect(()=>{d&&B()},[d,B]),x.useEffect(()=>{if(d){const C=new URLSearchParams;h>1&&C.set("page",h.toString()),g!==10&&C.set("size",g.toString()),R!=="all"&&C.set("org_unit",R),I!==S&&C.set("year",I.toString()),O!==k&&C.set("month",O.toString());const U=`${window.location.pathname}?${C.toString()}`;window.history.replaceState(null,"",U)}},[h,g,R,I,O,d,S,k]);const M=C=>{p(C)},V=C=>{y(C),p(1)},Q=(C,U)=>{switch(p(1),C){case"orgUnit":L(U);break;case"year":T(parseInt(U));break;case"month":P(parseInt(U));break}},le=x.useCallback(C=>{t(`/attendance/${C}/monitoring`)},[t]),H=x.useCallback(async()=>{var C,U;try{const ne={...$(),page:1,size:1e3},ie=(R!=="all"?await We.admin.getUserSummariesByOrgUnit(parseInt(R),ne):await We.admin.getAllUserSummaries(ne)).items,Oe=[Du.exportFields.map(pe=>pe.label).join(","),...ie.map(pe=>Du.exportFields.map(ze=>{const lt=pe[ze.key];return ze.format?`"${ze.format(lt,pe)}"`:typeof lt=="string"?`"${lt}"`:lt}).join(","))].join(`
`),fe=new Blob([Oe],{type:"text/csv;charset=utf-8;"}),Ce=document.createElement("a");if(Ce.download!==void 0){const pe=URL.createObjectURL(fe);Ce.setAttribute("href",pe);const ze=new Date(Date.now()+7*60*60*1e3).toISOString().split("T")[0],lt=((C=A.find(jt=>jt.value===O))==null?void 0:C.label)||O,Zt=`attendance-report-${R!=="all"?((U=n.find(jt=>jt.id.toString()===R))==null?void 0:U.name)||"Unit":"All-Units"}-${lt}-${I}-${ze}.csv`;Ce.setAttribute("download",Zt),Ce.style.visibility="hidden",document.body.appendChild(Ce),Ce.click(),document.body.removeChild(Ce)}}catch(ne){console.error("Error exporting attendance data:",ne)}},[$,R,O,I,A,n]),K=x.useMemo(()=>R!=="all"||I!==S||O!==k,[R,I,O,S,k]),Y=()=>s.jsxs(Yr,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Year *"}),s.jsxs(Lt,{value:I.toString(),onValueChange:C=>Q("year",C),children:[s.jsx(Dt,{children:s.jsx(It,{})}),s.jsx(Ot,{children:z.map(C=>s.jsx($e,{value:C.toString(),children:C},C))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Month *"}),s.jsxs(Lt,{value:O.toString(),onValueChange:C=>Q("month",C),children:[s.jsx(Dt,{children:s.jsx(It,{})}),s.jsx(Ot,{children:A.map(C=>s.jsx($e,{value:C.value.toString(),children:C.label},C.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Organization Unit"}),s.jsxs(Lt,{value:R,onValueChange:C=>Q("orgUnit",C),children:[s.jsx(Dt,{children:s.jsx(It,{placeholder:"All Units"})}),s.jsxs(Ot,{children:[s.jsx($e,{value:"all",children:"All Units"}),n.map(C=>s.jsx($e,{value:C.id.toString(),children:C.name},C.id))]})]})]})]}),se=C=>C?new Date(C).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"-";if(l&&!d)return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsx("div",{className:"flex justify-between items-center",children:s.jsxs("div",{children:[s.jsx("div",{className:"h-8 w-48 bg-gray-200 rounded animate-pulse mb-2"}),s.jsx("div",{className:"h-4 w-96 bg-gray-200 rounded animate-pulse"})]})}),s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[...Array(4)].map((C,U)=>s.jsx("div",{className:"h-32 bg-gray-200 rounded animate-pulse"},U))}),s.jsx("div",{className:"h-96 bg-gray-200 rounded animate-pulse"})]});const G=s.jsxs(re,{onClick:H,size:"sm",disabled:l,children:[s.jsx(pl,{className:"h-4 w-4 mr-2"}),"Download as Spreadsheet"]});return s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ye,{title:Du.title,description:Du.description,breadcrumbs:X,actions:G}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(Y,{}),l?s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"hidden md:block",children:s.jsx("div",{className:"h-96 bg-gray-200 rounded animate-pulse"})}),s.jsx("div",{className:"md:hidden space-y-4",children:[...Array(5)].map((C,U)=>s.jsx("div",{className:"h-32 bg-gray-200 rounded animate-pulse"},U))})]}):e.length===0?s.jsx(wp,{icon:Pt,title:K?"No attendance data found":"No attendance data yet",description:K?"Try adjusting your filters":"Attendance data will appear here once users start submitting their attendance"}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"hidden md:block",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx(ee,{className:"py-0",children:s.jsx(te,{className:"p-0",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(mo,{children:[s.jsx(po,{children:s.jsxs(dn,{children:[Du.columns.map(C=>s.jsx(ct,{className:C.key==="actions"?"text-center":"",children:C.label},C.key)),s.jsx(ct,{className:"text-center",children:"Actions"})]})}),s.jsx(xo,{children:e.map(C=>s.jsxs(dn,{className:"hover:bg-muted/50",children:[Du.columns.map(U=>s.jsx(dt,{children:U.render?U.render(C[U.key],C):C[U.key]},U.key)),s.jsx(dt,{className:"text-center",children:s.jsx(re,{variant:"ghost",size:"sm",onClick:()=>le(C.user_id),className:"h-8 px-2",children:s.jsx(Ut,{className:"h-4 w-4 mr-1"})})})]},C.user_id))})]})})})}),s.jsx(Ks,{currentPage:h,totalPages:w,totalItems:b,itemsPerPage:g,onPageChange:M,onItemsPerPageChange:C=>V(parseInt(C))})]})}),s.jsxs("div",{className:"md:hidden space-y-4",children:[e.map(C=>s.jsx(ee,{children:s.jsx(te,{className:"p-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:C.user_name}),C.employee_id&&s.jsxs("div",{className:"text-sm text-muted-foreground",children:["ID: ",C.employee_id]})]}),s.jsx(re,{variant:"ghost",size:"sm",onClick:()=>le(C.user_id),className:"h-8 px-2",children:s.jsx(Ut,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[s.jsxs("div",{children:["Org Unit: ",C.org_unit_name||"-"]}),s.jsxs("div",{children:["Present Days: ",C.present_days]}),s.jsxs("div",{children:["Absent Days: ",C.absent_days]}),s.jsxs("div",{children:["Leave Days: ",C.leave_days]}),s.jsxs("div",{children:["Last Attendance: ",se(C.last_attendance_date)]})]})]})})},C.user_id)),s.jsx(Ks,{currentPage:h,totalPages:w,totalItems:b,itemsPerPage:g,onPageChange:M,onItemsPerPageChange:C=>V(parseInt(C))})]})]})]})]})}function Woe(){const t=ht(),[e,r]=x.useState([]),[n,a]=x.useState([]),[l,c]=x.useState(!0),[d,f]=x.useState(!1),[h,p]=x.useState(1),[g,y]=x.useState(10),[b,j]=x.useState(0),[w,_]=x.useState(0),E=new Date,S=E.getFullYear(),k=E.getMonth()+1,[R,L]=x.useState("all"),[I,T]=x.useState(S),[O,P]=x.useState(k),X=[{label:"Dashboard",href:"/dashboard"},{label:"Reports",href:"/reports"},{label:"Leave Request Reports",current:!0}],A=[{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"},{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"}],z=x.useMemo(()=>{const C=[];for(let U=0;U<3;U++)C.push(S-U);return C},[S]),$=x.useCallback(()=>({page:h,limit:g,org_unit_id:R!=="all"?[parseInt(R)]:void 0}),[h,g,R]),J=x.useCallback(async()=>{try{const C=await sa.getOrganizationUnits({page:1,size:100,status:"active"});a(C.items)}catch(C){console.error("Error loading organization units:",C)}},[]),B=x.useCallback(async()=>{try{c(!0);const C=$(),U=await at.admin.getAllUserSummaries(I,C);r(U.items),j(U.total),_(U.pages)}catch(C){console.error("Error loading leave request reports:",C)}finally{c(!1)}},[$,I]);x.useEffect(()=>{const C=new URLSearchParams(window.location.search);C.get("page")&&p(parseInt(C.get("page"))),C.get("size")&&y(parseInt(C.get("size"))),C.get("org_unit")?L(C.get("org_unit")):L("all"),C.get("year")&&T(parseInt(C.get("year"))),C.get("month")&&P(parseInt(C.get("month"))),f(!0)},[]),x.useEffect(()=>{J()},[J]),x.useEffect(()=>{d&&B()},[d,B]),x.useEffect(()=>{if(d){const C=new URLSearchParams;h>1&&C.set("page",h.toString()),g!==10&&C.set("size",g.toString()),R!=="all"&&C.set("org_unit",R),I!==S&&C.set("year",I.toString()),O!==k&&C.set("month",O.toString());const U=`${window.location.pathname}?${C.toString()}`;window.history.replaceState(null,"",U)}},[h,g,R,I,O,d,S,k]);const M=C=>{p(C)},V=C=>{y(C),p(1)},Q=(C,U)=>{switch(p(1),C){case"orgUnit":L(U);break;case"year":T(parseInt(U));break;case"month":P(parseInt(U));break}},le=x.useCallback(C=>{t(`/attendance/${C}/monitoring`)},[t]),H=x.useCallback(async()=>{var C,U;try{const ne={...$(),page:1,limit:1e3},ie=(await at.admin.getAllUserSummaries(I,ne)).items,Oe=[["Employee Name","Employee ID","Organization Unit","Total Requests","Approved Requests","Pending Requests","Rejected Requests","Draft Requests","Total Leave Days","Available Annual Quota","Available Maternity Quota","Last Request Date"].join(","),...ie.map(pe=>[`"${pe.user_name}"`,`"${pe.employee_id||""}"`,`"${pe.org_unit_name||""}"`,pe.total_requests,pe.approved_requests,pe.pending_count,pe.rejected_requests,pe.draft_requests,pe.total_leave_days,pe.available_annual_quota,pe.available_maternity_quota,`"${pe.last_request_date?new Date(pe.last_request_date).toLocaleDateString("en-US"):""}"`].join(","))].join(`
`),fe=new Blob([Oe],{type:"text/csv;charset=utf-8;"}),Ce=document.createElement("a");if(Ce.download!==void 0){const pe=URL.createObjectURL(fe);Ce.setAttribute("href",pe);const ze=new Date(Date.now()+7*60*60*1e3).toISOString().split("T")[0],lt=((C=A.find(jt=>jt.value===O))==null?void 0:C.label)||O,Zt=`leave-request-report-${R!=="all"?((U=n.find(jt=>jt.id.toString()===R))==null?void 0:U.name)||"Unit":"All-Units"}-${lt}-${I}-${ze}.csv`;Ce.setAttribute("download",Zt),Ce.style.visibility="hidden",document.body.appendChild(Ce),Ce.click(),document.body.removeChild(Ce)}}catch(ne){console.error("Error exporting leave request data:",ne)}},[$,I,O,A,n,R]),K=x.useMemo(()=>R!=="all"||I!==S||O!==k,[R,I,O,S,k]),Y=()=>s.jsxs(Yr,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Year *"}),s.jsxs(Lt,{value:I.toString(),onValueChange:C=>Q("year",C),children:[s.jsx(Dt,{children:s.jsx(It,{})}),s.jsx(Ot,{children:z.map(C=>s.jsx($e,{value:C.toString(),children:C},C))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Month *"}),s.jsxs(Lt,{value:O.toString(),onValueChange:C=>Q("month",C),children:[s.jsx(Dt,{children:s.jsx(It,{})}),s.jsx(Ot,{children:A.map(C=>s.jsx($e,{value:C.value.toString(),children:C.label},C.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Organization Unit"}),s.jsxs(Lt,{value:R,onValueChange:C=>Q("orgUnit",C),children:[s.jsx(Dt,{children:s.jsx(It,{placeholder:"All Units"})}),s.jsxs(Ot,{children:[s.jsx($e,{value:"all",children:"All Units"}),n.map(C=>s.jsx($e,{value:C.id.toString(),children:C.name},C.id))]})]})]})]}),se=C=>C?new Date(C).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"-";if(l&&!d)return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsx("div",{className:"flex justify-between items-center",children:s.jsxs("div",{children:[s.jsx("div",{className:"h-8 w-48 bg-gray-200 rounded animate-pulse mb-2"}),s.jsx("div",{className:"h-4 w-96 bg-gray-200 rounded animate-pulse"})]})}),s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[...Array(4)].map((C,U)=>s.jsx("div",{className:"h-32 bg-gray-200 rounded animate-pulse"},U))}),s.jsx("div",{className:"h-96 bg-gray-200 rounded animate-pulse"})]});const G=s.jsxs(re,{onClick:H,size:"sm",disabled:l,children:[s.jsx(pl,{className:"h-4 w-4 mr-2"}),"Download as Spreadsheet"]});return s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ye,{title:"Leave Request Reports",description:"Comprehensive leave request summary and analytics for all users",breadcrumbs:X,actions:G}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(Y,{}),l?s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"hidden md:block",children:s.jsx("div",{className:"h-96 bg-gray-200 rounded animate-pulse"})}),s.jsx("div",{className:"md:hidden space-y-4",children:[...Array(5)].map((C,U)=>s.jsx("div",{className:"h-32 bg-gray-200 rounded animate-pulse"},U))})]}):e.length===0?s.jsx(wp,{icon:Ze,title:K?"No leave request data found":"No leave request data yet",description:K?"Try adjusting your filters":"Leave request data will appear here once users start submitting their requests"}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"hidden md:block",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx(ee,{className:"py-0",children:s.jsx(te,{className:"p-0",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(mo,{children:[s.jsx(po,{children:s.jsxs(dn,{children:[s.jsx(ct,{children:"Employee Name"}),s.jsx(ct,{children:"Employee ID"}),s.jsx(ct,{children:"Organization Unit"}),s.jsx(ct,{children:"Total Requests"}),s.jsx(ct,{children:"Approved"}),s.jsx(ct,{children:"Pending"}),s.jsx(ct,{children:"Rejected"}),s.jsx(ct,{children:"Total Leave Days"}),s.jsx(ct,{children:"Available Quota"}),s.jsx(ct,{children:"Last Request"}),s.jsx(ct,{className:"text-center",children:"Actions"})]})}),s.jsx(xo,{children:e.map(C=>s.jsxs(dn,{className:"hover:bg-muted/50",children:[s.jsx(dt,{children:s.jsx("div",{className:"font-medium",children:C.user_name})}),s.jsx(dt,{children:s.jsx("div",{className:"text-sm text-muted-foreground",children:C.employee_id||"-"})}),s.jsx(dt,{children:s.jsx("div",{className:"text-sm",children:C.org_unit_name||"-"})}),s.jsx(dt,{children:s.jsx("div",{className:"text-sm text-center font-medium",children:C.total_requests})}),s.jsx(dt,{children:s.jsx("div",{className:"text-sm text-center font-medium text-green-600",children:C.approved_requests})}),s.jsx(dt,{children:s.jsx("div",{className:"text-sm text-center font-medium text-yellow-600",children:C.pending_count})}),s.jsx(dt,{children:s.jsx("div",{className:"text-sm text-center font-medium text-red-600",children:C.rejected_requests})}),s.jsx(dt,{children:s.jsxs("div",{className:"text-sm text-center font-medium",children:[C.total_leave_days," days"]})}),s.jsx(dt,{children:s.jsxs("div",{className:"text-sm space-y-1",children:[s.jsxs("div",{children:["Annual: ",C.available_annual_quota," days"]}),s.jsxs("div",{children:["Maternity: ",C.available_maternity_quota," days"]})]})}),s.jsx(dt,{children:s.jsx("div",{className:"text-sm text-muted-foreground",children:se(C.last_request_date)})}),s.jsx(dt,{className:"text-center",children:s.jsx(re,{variant:"ghost",size:"sm",onClick:()=>le(C.user_id),className:"h-8 px-2",children:s.jsx(Ut,{className:"h-4 w-4 mr-1"})})})]},C.user_id))})]})})})}),s.jsx(Ks,{currentPage:h,totalPages:w,totalItems:b,itemsPerPage:g,onPageChange:M,onItemsPerPageChange:C=>V(parseInt(C))})]})}),s.jsxs("div",{className:"md:hidden space-y-4",children:[e.map(C=>s.jsx(ee,{children:s.jsx(te,{className:"p-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:C.user_name}),C.employee_id&&s.jsxs("div",{className:"text-sm text-muted-foreground",children:["ID: ",C.employee_id]})]}),s.jsx(re,{variant:"ghost",size:"sm",onClick:()=>le(C.user_id),className:"h-8 px-2",children:s.jsx(Ut,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[s.jsxs("div",{children:["Org Unit: ",C.org_unit_name||"-"]}),s.jsxs("div",{children:["Total Requests: ",C.total_requests]}),s.jsxs("div",{children:["Approved: ",C.approved_requests]}),s.jsxs("div",{children:["Pending: ",C.pending_count]}),s.jsxs("div",{children:["Rejected: ",C.rejected_requests]}),s.jsxs("div",{children:["Leave Days: ",C.total_leave_days]})]})]})})},C.user_id)),s.jsx(Ks,{currentPage:h,totalPages:w,totalItems:b,itemsPerPage:g,onPageChange:M,onItemsPerPageChange:C=>V(parseInt(C))})]})]})]})]})}const{toast:zs}=tr(),xt={createPayroll:async t=>{var e,r;try{const n=await ve.post("/payrolls/",t);return zs({title:"Success",description:"Payroll record created successfully"}),n.data}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to create payroll record";throw zs({title:"Error",description:a,variant:"destructive"}),new Error(a)}},getPayrolls:async(t,e,r,n,a=1,l=20)=>{var c,d;try{const f={page:a,size:l};return t!==void 0&&(f.period_month=t),e!==void 0&&(f.period_year=e),r&&(f.status=r),n&&(f.user_id=n),(await ve.get("/payrolls/",{params:f})).data}catch(f){const h=((d=(c=f.response)==null?void 0:c.data)==null?void 0:d.detail)||"Failed to fetch payrolls";throw zs({title:"Error",description:h,variant:"destructive"}),new Error(h)}},getMyPayrolls:async(t=1,e=20)=>{var r,n;try{return(await ve.get("/payrolls/my-payrolls",{params:{page:t,size:e}})).data}catch(a){const l=((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.detail)||"Failed to fetch your payrolls";throw zs({title:"Error",description:l,variant:"destructive"}),new Error(l)}},getPayrollsByPeriod:async(t,e,r=1,n=20)=>{var a,l;try{return(await ve.get(`/payrolls/period/${t}/${e}`,{params:{page:r,size:n}})).data}catch(c){const d=((l=(a=c.response)==null?void 0:a.data)==null?void 0:l.detail)||"Failed to fetch payrolls for period";throw zs({title:"Error",description:d,variant:"destructive"}),new Error(d)}},getPeriodSummary:async(t,e)=>{var r,n;try{return(await ve.get(`/payrolls/summary/${t}/${e}`)).data}catch(a){const l=((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.detail)||"Failed to fetch period summary";throw zs({title:"Error",description:l,variant:"destructive"}),new Error(l)}},getPayrollById:async t=>{var e,r;try{return(await ve.get(`/payrolls/${t}`)).data}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to fetch payroll record";throw zs({title:"Error",description:a,variant:"destructive"}),new Error(a)}},getPayrollBreakdown:async t=>{var e,r;try{return(await ve.get(`/payrolls/${t}/breakdown`)).data}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to fetch payroll breakdown";throw zs({title:"Error",description:a,variant:"destructive"}),new Error(a)}},updatePayroll:async(t,e)=>{var r,n;try{const a=await ve.put(`/payrolls/${t}`,e);return zs({title:"Success",description:"Payroll record updated successfully"}),a.data}catch(a){const l=((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.detail)||"Failed to update payroll record";throw zs({title:"Error",description:l,variant:"destructive"}),new Error(l)}},deletePayroll:async t=>{var e,r;try{await ve.delete(`/payrolls/${t}`),zs({title:"Success",description:"Payroll record deleted successfully"})}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to delete payroll record";throw zs({title:"Error",description:a,variant:"destructive"}),new Error(a)}},approvePayroll:async t=>{var e,r;try{const n=await ve.post(`/payrolls/${t}/approve`);return zs({title:"Success",description:"Payroll record approved successfully"}),n.data}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to approve payroll record";throw zs({title:"Error",description:a,variant:"destructive"}),new Error(a)}},markAsPaid:async(t,e)=>{var r,n;try{const a=new FormData;a.append("signature",e);const l=await ve.post(`/payrolls/${t}/mark-paid`,a,{headers:{"Content-Type":"multipart/form-data"}});return zs({title:"Success",description:"Payroll marked as paid successfully"}),l.data}catch(a){const l=((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.detail)||"Failed to mark payroll as paid";throw zs({title:"Error",description:l,variant:"destructive"}),new Error(l)}},revertPayroll:async t=>{var e,r;try{const n=await ve.post(`/payrolls/${t}/revert`);return zs({title:"Success",description:"Payroll reverted successfully"}),n.data}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to revert payroll";throw zs({title:"Error",description:a,variant:"destructive"}),new Error(a)}},bulkGenerate:async t=>{var e,r;try{const n=await ve.post("/payrolls/bulk-generate",t);return zs({title:"Success",description:"Payroll records generated successfully"}),n.data}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to bulk generate payrolls";throw zs({title:"Error",description:a,variant:"destructive"}),new Error(a)}},getUserHistory:async(t,e)=>{var r,n;try{const a={};return e&&(a.year=e),(await ve.get(`/payrolls/user/${t}/history`,{params:a})).data}catch(a){const l=((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.detail)||"Failed to fetch user payroll history";throw zs({title:"Error",description:l,variant:"destructive"}),new Error(l)}},calculateBreakdown:async(t,e,r)=>{var n,a;try{return(await ve.post(`/payrolls/calculate-breakdown?user_id=${t}&period_month=${e}&period_year=${r}`)).data}catch(l){const c=((a=(n=l.response)==null?void 0:n.data)==null?void 0:a.detail)||"Failed to calculate payroll breakdown";throw zs({title:"Error",description:c,variant:"destructive"}),new Error(c)}},getAllPayrollsAdmin:async(t=1,e=10,r,n,a,l)=>{var c,d;try{const f={page:t,size:e};return r!==void 0&&(f.period_month=r),n!==void 0&&(f.period_year=n),a&&(f.status=a),l&&(f.org_unit_id=l),(await ve.get("/payrolls/admin/all",{params:f})).data}catch(f){const h=((d=(c=f.response)==null?void 0:c.data)==null?void 0:d.detail)||"Failed to fetch admin payrolls";throw zs({title:"Error",description:h,variant:"destructive"}),new Error(h)}},getPayrollsByOrgUnit:async(t,e=1,r=10,n,a,l)=>{var c,d;try{const f={page:e,size:r};return n!==void 0&&(f.period_month=n),a!==void 0&&(f.period_year=a),l&&(f.status=l),(await ve.get(`/payrolls/admin/org-unit/${t}`,{params:f})).data}catch(f){const h=((d=(c=f.response)==null?void 0:c.data)==null?void 0:d.detail)||"Failed to fetch org unit payrolls";throw zs({title:"Error",description:h,variant:"destructive"}),new Error(h)}},getUsersWithoutPayroll:async(t,e,r=1,n=10)=>{var a,l;try{return(await ve.get(`/payrolls/admin/users-without-payroll/${t}/${e}`,{params:{page:r,size:n}})).data}catch(c){const d=((l=(a=c.response)==null?void 0:a.data)==null?void 0:l.detail)||"Failed to fetch users without payroll";throw zs({title:"Error",description:d,variant:"destructive"}),new Error(d)}},getAllUserSummariesAdmin:async(t={})=>{var e,r;try{const n={page:t.page||1,size:t.size||10,sort_by:t.sort_by||"user_name",sort_order:t.sort_order||"asc",...t};return(await ve.get("/payrolls/admin/summary/all",{params:n})).data}catch(n){const a=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.detail)||"Failed to fetch user summaries";throw zs({title:"Error",description:a,variant:"destructive"}),new Error(a)}},getUserSummariesByOrgUnit:async(t,e={})=>{var r,n;try{const a={page:e.page||1,size:e.size||10,sort_by:e.sort_by||"user_name",sort_order:e.sort_order||"asc",...e};return(await ve.get(`/payrolls/admin/summary/org-unit/${t}`,{params:a})).data}catch(a){const l=((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.detail)||"Failed to fetch org unit user summaries";throw zs({title:"Error",description:l,variant:"destructive"}),new Error(l)}},formatCurrency:(t,e="IDR")=>new Intl.NumberFormat("id-ID",{style:"currency",currency:e,minimumFractionDigits:0,maximumFractionDigits:0}).format(t),getStatusColor:t=>({draft:"gray",approved:"blue",paid:"green"})[t]||"gray",getStatusBadgeVariant:t=>({draft:"outline",approved:"default",revert:"destructive",paid:"secondary"})[t]||"outline",getPeriodDisplay:(t,e)=>`${["January","February","March","April","May","June","July","August","September","October","November","December"][e-1]} ${t}`,getShortPeriodDisplay:(t,e)=>`${["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e-1]} ${t}`,isEditable:t=>t==="draft",canApprove:t=>t==="draft",canMarkPaid:t=>t==="approved",canRevert:t=>t==="approved",calculateAttendanceRate:(t,e)=>e===0?0:t/e*100,calculateSalaryRatio:(t,e)=>e===0?0:t/e*100,formatPercentage:(t,e=1)=>`${t.toFixed(e)}%`,validatePeriod:(t,e)=>t>=1&&t<=12&&e>=2020&&e<=2050,getCurrentPeriod:()=>{const t=new Date;return{month:t.getMonth()+1,year:t.getFullYear()}},getPreviousPeriod:(t,e)=>t===1?{month:12,year:e-1}:{month:t-1,year:e},getNextPeriod:(t,e)=>t===12?{month:1,year:e+1}:{month:t+1,year:e},formatDate:t=>new Date(t).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),formatDateShort:t=>new Date(t).toLocaleDateString("id-ID")};function Goe(){var T,O;const[t,e]=x.useState([]),[r,n]=x.useState([]),[a,l]=x.useState(!1),[c,d]=x.useState(1),[f,h]=x.useState(0),[p,g]=x.useState(0),[y,b]=x.useState({period_month:"",period_year:"",status:"",org_unit_id:"",search:""}),{user:j}=yr(),{toast:w}=tr();x.useEffect(()=>{_()},[]),x.useEffect(()=>{E()},[c,y]);const _=async()=>{try{const P=await sa.getOrganizationUnits();n(P.items)}catch(P){console.error("Error loading org units:",P)}},E=async()=>{var P;try{l(!0);let X;(P=j==null?void 0:j.roles)!=null&&P.some(A=>A.name==="master_admin")?X=await xt.getAllUserSummariesAdmin({page:c,size:10,period_month:y.period_month?parseInt(y.period_month):void 0,period_year:y.period_year?parseInt(y.period_year):void 0,status:y.status||void 0,search:y.search||void 0}):X=await xt.getUserSummariesByOrgUnit(j==null?void 0:j.org_unit_id,{page:c,size:10,period_month:y.period_month?parseInt(y.period_month):void 0,period_year:y.period_year?parseInt(y.period_year):void 0,status:y.status||void 0,search:y.search||void 0}),e(X.items),h(X.total),g(X.pages)}catch(X){console.error("Error loading payroll reports:",X),w({title:"Error",description:"Failed to load payroll reports",variant:"destructive"})}finally{l(!1)}},S=P=>{b(P),d(1)},k=()=>{w({title:"Export",description:"Export functionality will be implemented soon"})},R=t.reduce((P,X)=>P+("total_basic_salary"in X?X.total_basic_salary:X.basic_salary||0),0),L=t.reduce((P,X)=>P+("total_final_salary"in X?X.total_final_salary:X.final_salary||0),0),I=P=>P?new Date(P).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"-";return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Payroll Reports"}),s.jsx("p",{className:"text-muted-foreground",children:(T=j==null?void 0:j.roles)!=null&&T.some(P=>P.name==="master_admin")?"View payroll summary reports across all organization units":"View payroll summary reports for your organization unit"})]}),s.jsxs(re,{onClick:k,children:[s.jsx(pl,{className:"h-4 w-4 mr-2"}),"Export"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(ee,{children:s.jsx(te,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-blue-50",children:s.jsx(ws,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Employees"}),s.jsx("p",{className:"text-lg font-semibold",children:f})]})]})})}),s.jsx(ee,{children:s.jsx(te,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-purple-50",children:s.jsx(Qn,{className:"h-6 w-6 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Basic Salary"}),s.jsx("p",{className:"text-lg font-semibold",children:xt.formatCurrency(R)})]})]})})}),s.jsx(ee,{children:s.jsx(te,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-green-50",children:s.jsx(NB,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Final Salary"}),s.jsx("p",{className:"text-lg font-semibold",children:xt.formatCurrency(L)})]})]})})}),s.jsx(ee,{children:s.jsx(te,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-orange-50",children:s.jsx(cl,{className:"h-6 w-6 text-orange-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Net Adjustment"}),s.jsx("p",{className:"text-lg font-semibold",children:xt.formatCurrency(L-R)})]})]})})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs(Yr,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Year *"}),s.jsxs(Lt,{value:y.period_year||new Date().getFullYear().toString(),onValueChange:P=>S({...y,period_year:P}),children:[s.jsx(Dt,{children:s.jsx(It,{})}),s.jsx(Ot,{children:Array.from({length:10},(P,X)=>new Date().getFullYear()-X).map(P=>s.jsx($e,{value:P.toString(),children:P},P))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Month *"}),s.jsxs(Lt,{value:y.period_month||(new Date().getMonth()+1).toString(),onValueChange:P=>S({...y,period_month:P}),children:[s.jsx(Dt,{children:s.jsx(It,{})}),s.jsx(Ot,{children:[{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"},{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"}].map(P=>s.jsx($e,{value:P.value.toString(),children:P.label},P.value))})]})]}),((O=j==null?void 0:j.roles)==null?void 0:O.some(P=>P.name==="master_admin"))&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Organization Unit"}),s.jsxs(Lt,{value:y.org_unit_id||"all",onValueChange:P=>S({...y,org_unit_id:P==="all"?"":P}),children:[s.jsx(Dt,{children:s.jsx(It,{placeholder:"All Units"})}),s.jsxs(Ot,{children:[s.jsx($e,{value:"all",children:"All Units"}),r.map(P=>s.jsx($e,{value:P.id.toString(),children:P.name},P.id))]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Status"}),s.jsxs(Lt,{value:y.status||"all",onValueChange:P=>S({...y,status:P==="all"?"":P}),children:[s.jsx(Dt,{children:s.jsx(It,{placeholder:"All Status"})}),s.jsxs(Ot,{children:[s.jsx($e,{value:"all",children:"All Status"}),s.jsx($e,{value:"draft",children:"Draft"}),s.jsx($e,{value:"approved",children:"Approved"}),s.jsx($e,{value:"paid",children:"Paid"})]})]})]})]}),a?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Loading payroll reports..."})]}):t.length===0?s.jsx(wp,{title:"No payroll records found",description:"No payroll records match your current filters",icon:Qn}):s.jsx(s.Fragment,{children:s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"hidden md:block",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx(ee,{className:"py-0",children:s.jsx(te,{className:"p-0",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(mo,{children:[s.jsx(po,{children:s.jsxs(dn,{children:[s.jsx(ct,{children:"Employee Name"}),s.jsx(ct,{children:"Employee ID"}),s.jsx(ct,{children:"Organization Unit"}),s.jsx(ct,{children:"Total Records"}),s.jsx(ct,{children:"Basic Salary"}),s.jsx(ct,{children:"Final Salary"}),s.jsx(ct,{children:"Avg Attendance"}),s.jsx(ct,{children:"Last Payroll"})]})}),s.jsx(xo,{children:t.map(P=>{const X="total_payrolls"in P;return s.jsxs(dn,{className:"hover:bg-muted/50",children:[s.jsx(dt,{children:s.jsx("div",{className:"font-medium",children:P.user_name})}),s.jsx(dt,{children:s.jsx("div",{className:"text-sm text-muted-foreground",children:"employee_id"in P&&P.employee_id||"-"})}),s.jsx(dt,{children:s.jsx("div",{className:"text-sm",children:P.org_unit_name||"-"})}),s.jsx(dt,{children:s.jsx("div",{className:"text-sm text-center font-medium",children:X?P.total_payrolls:1})}),s.jsx(dt,{children:s.jsx("div",{className:"text-sm font-medium text-blue-600",children:xt.formatCurrency(X?P.total_basic_salary:P.basic_salary||0)})}),s.jsx(dt,{children:s.jsx("div",{className:"text-sm font-medium text-green-600",children:xt.formatCurrency(X?P.total_final_salary:P.final_salary||0)})}),s.jsx(dt,{children:s.jsx("div",{className:"text-sm font-medium",children:xt.formatPercentage(X?P.avg_attendance_rate:xt.calculateAttendanceRate(P.total_present_days||0,P.total_working_days||1))})}),s.jsx(dt,{children:s.jsx("div",{className:"text-sm text-muted-foreground",children:X&&P.last_payroll_date?I(P.last_payroll_date):P.created_at?I(P.created_at):"-"})})]},P.user_id)})})]})})})}),s.jsx(Ks,{currentPage:c,totalPages:p,totalItems:f,itemsPerPage:10,onPageChange:d,onItemsPerPageChange:()=>d(1)})]})}),s.jsxs("div",{className:"md:hidden space-y-4",children:[t.map(P=>{const X="total_payrolls"in P;return s.jsx(ee,{children:s.jsx(te,{className:"p-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"flex justify-between items-start",children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:P.user_name}),"employee_id"in P&&P.employee_id&&s.jsxs("div",{className:"text-sm text-muted-foreground",children:["ID: ",P.employee_id]})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[s.jsxs("div",{children:["Org Unit: ",P.org_unit_name||"-"]}),s.jsxs("div",{children:["Records: ",X?P.total_payrolls:1]}),s.jsxs("div",{children:["Basic Salary: ",xt.formatCurrency(X?P.total_basic_salary:P.basic_salary||0)]}),s.jsxs("div",{children:["Final Salary: ",xt.formatCurrency(X?P.total_final_salary:P.final_salary||0)]}),s.jsxs("div",{children:["Attendance: ",xt.formatPercentage(X?P.avg_attendance_rate:xt.calculateAttendanceRate(P.total_present_days||0,P.total_working_days||1))]}),s.jsxs("div",{children:["Last Payroll: ",X&&P.last_payroll_date?I(P.last_payroll_date):P.created_at?I(P.created_at):"-"]})]})]})})},P.user_id)}),s.jsx(Ks,{currentPage:c,totalPages:p,totalItems:f,itemsPerPage:10,onPageChange:d,onItemsPerPageChange:()=>d(1)})]})]})})]})]})}function Zoe(){const t=ht(),[e,r]=x.useState([]),[n,a]=x.useState([]),[l,c]=x.useState(!0),[d,f]=x.useState(!1),[h,p]=x.useState(1),[g,y]=x.useState(10),[b,j]=x.useState(0),[w,_]=x.useState(0),E=new Date,S=E.getFullYear(),k=E.getMonth()+1,[R,L]=x.useState("all"),[I,T]=x.useState(S),[O,P]=x.useState(k),X=[{label:"Dashboard",href:"/dashboard"},{label:"Reports",href:"/reports"},{label:"Logbook Reports",current:!0}],A=[{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"},{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"}],z=x.useMemo(()=>{const C=[];for(let U=0;U<3;U++)C.push(S-U);return C},[S]),$=x.useCallback(()=>({page:h,size:g,org_unit_id:R!=="all"?parseInt(R):void 0,year:I,month:O}),[h,g,R,I,O]),J=x.useCallback(async()=>{try{const C=await sa.getOrganizationUnits({page:1,size:100,status:"active"});a(C.items)}catch(C){console.error("Error loading organization units:",C)}},[]),B=x.useCallback(async()=>{try{c(!0);const C=$(),U=R!=="all"?await bt.admin.getUserSummariesByOrgUnit(parseInt(R),C):await bt.admin.getAllUserSummaries(C);r(U.items),j(U.total),_(U.pages)}catch(C){console.error("Error loading logbook reports:",C)}finally{c(!1)}},[$,R]);x.useEffect(()=>{const C=new URLSearchParams(window.location.search);C.get("page")&&p(parseInt(C.get("page"))),C.get("size")&&y(parseInt(C.get("size"))),C.get("org_unit")?L(C.get("org_unit")):L("all"),C.get("year")&&T(parseInt(C.get("year"))),C.get("month")&&P(parseInt(C.get("month"))),f(!0)},[]),x.useEffect(()=>{J()},[J]),x.useEffect(()=>{d&&B()},[d,B]),x.useEffect(()=>{if(d){const C=new URLSearchParams;h>1&&C.set("page",h.toString()),g!==10&&C.set("size",g.toString()),R!=="all"&&C.set("org_unit",R),I!==S&&C.set("year",I.toString()),O!==k&&C.set("month",O.toString());const U=`${window.location.pathname}?${C.toString()}`;window.history.replaceState(null,"",U)}},[h,g,R,I,O,d,S,k]);const M=C=>{p(C)},V=C=>{y(C),p(1)},Q=(C,U)=>{switch(p(1),C){case"orgUnit":L(U);break;case"year":T(parseInt(U));break;case"month":P(parseInt(U));break}},le=x.useCallback(C=>{t(`/attendance/${C}/monitoring`)},[t]),H=x.useCallback(async()=>{var C,U;try{const ne={...$(),page:1,size:1e3},ie=(R!=="all"?await bt.admin.getUserSummariesByOrgUnit(parseInt(R),ne):await bt.admin.getAllUserSummaries(ne)).items,Oe=[["Employee Name","Employee ID","Organization Unit","Total Entries","Approved Entries","Submitted Entries","Rejected Entries","Draft Entries","Completed Tasks","Pending Tasks","Last Entry Date"].join(","),...ie.map(pe=>[`"${pe.user_name}"`,`"${pe.employee_id||""}"`,`"${pe.org_unit_name||""}"`,pe.total_logbooks,pe.approved_entries,pe.submitted_entries,pe.rejected_entries,pe.draft_entries,pe.approved_entries,pe.pending_count,`"${pe.last_logbook_date?new Date(pe.last_logbook_date).toLocaleDateString("en-US"):""}"`].join(","))].join(`
`),fe=new Blob([Oe],{type:"text/csv;charset=utf-8;"}),Ce=document.createElement("a");if(Ce.download!==void 0){const pe=URL.createObjectURL(fe);Ce.setAttribute("href",pe);const ze=new Date(Date.now()+7*60*60*1e3).toISOString().split("T")[0],lt=((C=A.find(jt=>jt.value===O))==null?void 0:C.label)||O,Zt=`logbook-report-${R!=="all"?((U=n.find(jt=>jt.id.toString()===R))==null?void 0:U.name)||"Unit":"All-Units"}-${lt}-${I}-${ze}.csv`;Ce.setAttribute("download",Zt),Ce.style.visibility="hidden",document.body.appendChild(Ce),Ce.click(),document.body.removeChild(Ce)}}catch(ne){console.error("Error exporting logbook data:",ne)}},[$,R,I,O,A,n]),K=x.useMemo(()=>R!=="all"||I!==S||O!==k,[R,I,O,S,k]),Y=()=>s.jsxs(Yr,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Year *"}),s.jsxs(Lt,{value:I.toString(),onValueChange:C=>Q("year",C),children:[s.jsx(Dt,{children:s.jsx(It,{})}),s.jsx(Ot,{children:z.map(C=>s.jsx($e,{value:C.toString(),children:C},C))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Month *"}),s.jsxs(Lt,{value:O.toString(),onValueChange:C=>Q("month",C),children:[s.jsx(Dt,{children:s.jsx(It,{})}),s.jsx(Ot,{children:A.map(C=>s.jsx($e,{value:C.value.toString(),children:C.label},C.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Organization Unit"}),s.jsxs(Lt,{value:R,onValueChange:C=>Q("orgUnit",C),children:[s.jsx(Dt,{children:s.jsx(It,{placeholder:"All Units"})}),s.jsxs(Ot,{children:[s.jsx($e,{value:"all",children:"All Units"}),n.map(C=>s.jsx($e,{value:C.id.toString(),children:C.name},C.id))]})]})]})]}),se=C=>C?new Date(C).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"-";if(l&&!d)return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsx("div",{className:"flex justify-between items-center",children:s.jsxs("div",{children:[s.jsx("div",{className:"h-8 w-48 bg-gray-200 rounded animate-pulse mb-2"}),s.jsx("div",{className:"h-4 w-96 bg-gray-200 rounded animate-pulse"})]})}),s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[...Array(4)].map((C,U)=>s.jsx("div",{className:"h-32 bg-gray-200 rounded animate-pulse"},U))}),s.jsx("div",{className:"h-96 bg-gray-200 rounded animate-pulse"})]});const G=s.jsxs(re,{onClick:H,size:"sm",disabled:l,children:[s.jsx(pl,{className:"h-4 w-4 mr-2"}),"Download as Spreadsheet"]});return s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ye,{title:"Logbook Reports",description:"Comprehensive logbook activity summary and analytics for all users",breadcrumbs:X,actions:G}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(Y,{}),l?s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"hidden md:block",children:s.jsx("div",{className:"h-96 bg-gray-200 rounded animate-pulse"})}),s.jsx("div",{className:"md:hidden space-y-4",children:[...Array(5)].map((C,U)=>s.jsx("div",{className:"h-32 bg-gray-200 rounded animate-pulse"},U))})]}):e.length===0?s.jsx(wp,{icon:zg,title:K?"No logbook data found":"No logbook data yet",description:K?"Try adjusting your filters":"Logbook data will appear here once users start creating their logbook entries"}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"hidden md:block",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx(ee,{className:"py-0",children:s.jsx(te,{className:"p-0",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(mo,{children:[s.jsx(po,{children:s.jsxs(dn,{children:[s.jsx(ct,{children:"Employee Name"}),s.jsx(ct,{children:"Employee ID"}),s.jsx(ct,{children:"Organization Unit"}),s.jsx(ct,{children:"Total Entries"}),s.jsx(ct,{children:"Approved"}),s.jsx(ct,{children:"Submitted"}),s.jsx(ct,{children:"Rejected"}),s.jsx(ct,{children:"Task Summary"}),s.jsx(ct,{children:"Last Entry"}),s.jsx(ct,{className:"text-center",children:"Actions"})]})}),s.jsx(xo,{children:e.map(C=>s.jsxs(dn,{className:"hover:bg-muted/50",children:[s.jsx(dt,{children:s.jsx("div",{className:"font-medium",children:C.user_name})}),s.jsx(dt,{children:s.jsx("div",{className:"text-sm text-muted-foreground",children:C.employee_id||"-"})}),s.jsx(dt,{children:s.jsx("div",{className:"text-sm",children:C.org_unit_name||"-"})}),s.jsx(dt,{children:s.jsx("div",{className:"text-sm text-center font-medium",children:C.total_logbooks})}),s.jsx(dt,{children:s.jsx("div",{className:"text-sm text-center font-medium text-green-600",children:C.approved_entries})}),s.jsx(dt,{children:s.jsx("div",{className:"text-sm text-center font-medium text-blue-600",children:C.submitted_entries})}),s.jsx(dt,{children:s.jsx("div",{className:"text-sm text-center font-medium text-red-600",children:C.rejected_entries})}),s.jsx(dt,{children:s.jsxs("div",{className:"text-sm space-y-1",children:[s.jsxs("div",{children:[C.approved_entries," completed"]}),s.jsxs("div",{children:[C.pending_count," pending"]})]})}),s.jsx(dt,{children:s.jsx("div",{className:"text-sm text-muted-foreground",children:se(C.last_logbook_date)})}),s.jsx(dt,{className:"text-center",children:s.jsx(re,{variant:"ghost",size:"sm",onClick:()=>le(C.user_id),className:"h-8 px-2",children:s.jsx(Ut,{className:"h-4 w-4 mr-1"})})})]},C.user_id))})]})})})}),s.jsx(Ks,{currentPage:h,totalPages:w,totalItems:b,itemsPerPage:g,onPageChange:M,onItemsPerPageChange:C=>V(parseInt(C))})]})}),s.jsxs("div",{className:"md:hidden space-y-4",children:[e.map(C=>s.jsx(ee,{children:s.jsx(te,{className:"p-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:C.user_name}),C.employee_id&&s.jsxs("div",{className:"text-sm text-muted-foreground",children:["ID: ",C.employee_id]})]}),s.jsx(re,{variant:"ghost",size:"sm",onClick:()=>le(C.user_id),className:"h-8 px-2",children:s.jsx(Ut,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[s.jsxs("div",{children:["Org Unit: ",C.org_unit_name||"-"]}),s.jsxs("div",{children:["Total Entries: ",C.total_logbooks]}),s.jsxs("div",{children:["Approved: ",C.approved_entries]}),s.jsxs("div",{children:["Submitted: ",C.submitted_entries]}),s.jsxs("div",{children:["Rejected: ",C.rejected_entries]}),s.jsxs("div",{children:["Pending: ",C.pending_count]})]})]})})},C.user_id)),s.jsx(Ks,{currentPage:h,totalPages:w,totalItems:b,itemsPerPage:g,onPageChange:M,onItemsPerPageChange:C=>V(parseInt(C))})]})]})]})]})}function Koe(){const t=ht(),[e,r]=x.useState([]),[n,a]=x.useState([]),[l,c]=x.useState(!0),[d,f]=x.useState(!1),[h,p]=x.useState(1),[g,y]=x.useState(10),[b,j]=x.useState(0),[w,_]=x.useState(0),E=new Date,S=E.getFullYear(),k=E.getMonth()+1,[R,L]=x.useState("all"),[I,T]=x.useState(S),[O,P]=x.useState(k),X=[{label:"Dashboard",href:"/dashboard"},{label:"Reports",href:"/reports"},{label:"Work Plan Reports",current:!0}],A=[{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"},{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"}],z=x.useMemo(()=>{const C=[];for(let U=0;U<3;U++)C.push(S-U);return C},[S]),$=x.useCallback(()=>({page:h,size:g,org_unit_id:R!=="all"?parseInt(R):void 0,year:I,month:O}),[h,g,R,I,O]),J=x.useCallback(async()=>{try{const C=await sa.getOrganizationUnits({page:1,size:100,status:"active"});a(C.items)}catch(C){console.error("Error loading organization units:",C)}},[]),B=x.useCallback(async()=>{try{c(!0);const C=$(),U=R!=="all"?await Cn.admin.getUserSummariesByOrgUnit(parseInt(R),C):await Cn.admin.getAllUserSummaries(C);r(U.items),j(U.total),_(U.pages)}catch(C){console.error("Error loading work plan reports:",C)}finally{c(!1)}},[$,R]);x.useEffect(()=>{const C=new URLSearchParams(window.location.search);C.get("page")&&p(parseInt(C.get("page"))),C.get("size")&&y(parseInt(C.get("size"))),C.get("org_unit")?L(C.get("org_unit")):L("all"),C.get("year")&&T(parseInt(C.get("year"))),C.get("month")&&P(parseInt(C.get("month"))),f(!0)},[]),x.useEffect(()=>{J()},[J]),x.useEffect(()=>{d&&B()},[d,B]),x.useEffect(()=>{if(d){const C=new URLSearchParams;h>1&&C.set("page",h.toString()),g!==10&&C.set("size",g.toString()),R!=="all"&&C.set("org_unit",R),I!==S&&C.set("year",I.toString()),O!==k&&C.set("month",O.toString());const U=`${window.location.pathname}?${C.toString()}`;window.history.replaceState(null,"",U)}},[h,g,R,I,O,d,S,k]);const M=C=>{p(C)},V=C=>{y(C),p(1)},Q=(C,U)=>{switch(p(1),C){case"orgUnit":L(U);break;case"year":T(parseInt(U));break;case"month":P(parseInt(U));break}},le=x.useCallback(C=>{t(`/attendance/${C}/monitoring`)},[t]),H=x.useCallback(async()=>{var C,U;try{const ne={...$(),page:1,size:1e3},ie=(R!=="all"?await Cn.admin.getUserSummariesByOrgUnit(parseInt(R),ne):await Cn.admin.getAllUserSummaries(ne)).items,Oe=[["Employee Name","Employee ID","Organization Unit","Total Plans","Total Activities","Completed Activities","Pending Activities","Current Week Plans","Last Plan Date"].join(","),...ie.map(pe=>[`"${pe.user_name}"`,`"${pe.employee_id||""}"`,`"${pe.org_unit_name||""}"`,pe.total_plans,pe.total_activities,pe.completed_activities,pe.total_activities-pe.completed_activities,pe.current_week_exists?1:0,`"${pe.last_plan_date?new Date(pe.last_plan_date).toLocaleDateString("en-US"):""}"`].join(","))].join(`
`),fe=new Blob([Oe],{type:"text/csv;charset=utf-8;"}),Ce=document.createElement("a");if(Ce.download!==void 0){const pe=URL.createObjectURL(fe);Ce.setAttribute("href",pe);const ze=new Date(Date.now()+7*60*60*1e3).toISOString().split("T")[0],lt=((C=A.find(jt=>jt.value===O))==null?void 0:C.label)||O,Zt=`work-plan-report-${R!=="all"?((U=n.find(jt=>jt.id.toString()===R))==null?void 0:U.name)||"Unit":"All-Units"}-${lt}-${I}-${ze}.csv`;Ce.setAttribute("download",Zt),Ce.style.visibility="hidden",document.body.appendChild(Ce),Ce.click(),document.body.removeChild(Ce)}}catch(ne){console.error("Error exporting work plan data:",ne)}},[$,R,I,O,A,n]),K=x.useMemo(()=>R!=="all"||I!==S||O!==k,[R,I,O,S,k]),Y=()=>s.jsxs(Yr,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Year *"}),s.jsxs(Lt,{value:I.toString(),onValueChange:C=>Q("year",C),children:[s.jsx(Dt,{children:s.jsx(It,{})}),s.jsx(Ot,{children:z.map(C=>s.jsx($e,{value:C.toString(),children:C},C))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Month *"}),s.jsxs(Lt,{value:O.toString(),onValueChange:C=>Q("month",C),children:[s.jsx(Dt,{children:s.jsx(It,{})}),s.jsx(Ot,{children:A.map(C=>s.jsx($e,{value:C.value.toString(),children:C.label},C.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Organization Unit"}),s.jsxs(Lt,{value:R,onValueChange:C=>Q("orgUnit",C),children:[s.jsx(Dt,{children:s.jsx(It,{placeholder:"All Units"})}),s.jsxs(Ot,{children:[s.jsx($e,{value:"all",children:"All Units"}),n.map(C=>s.jsx($e,{value:C.id.toString(),children:C.name},C.id))]})]})]})]}),se=C=>C?new Date(C).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"-";if(l&&!d)return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsx("div",{className:"flex justify-between items-center",children:s.jsxs("div",{children:[s.jsx("div",{className:"h-8 w-48 bg-gray-200 rounded animate-pulse mb-2"}),s.jsx("div",{className:"h-4 w-96 bg-gray-200 rounded animate-pulse"})]})}),s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[...Array(4)].map((C,U)=>s.jsx("div",{className:"h-32 bg-gray-200 rounded animate-pulse"},U))}),s.jsx("div",{className:"h-96 bg-gray-200 rounded animate-pulse"})]});const G=s.jsxs(re,{onClick:H,size:"sm",disabled:l,children:[s.jsx(pl,{className:"h-4 w-4 mr-2"}),"Download as Spreadsheet"]});return s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ye,{title:"Work Plan Reports",description:"Comprehensive work plan activity summary and analytics for all users",breadcrumbs:X,actions:G}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(Y,{}),l?s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"hidden md:block",children:s.jsx("div",{className:"h-96 bg-gray-200 rounded animate-pulse"})}),s.jsx("div",{className:"md:hidden space-y-4",children:[...Array(5)].map((C,U)=>s.jsx("div",{className:"h-32 bg-gray-200 rounded animate-pulse"},U))})]}):e.length===0?s.jsx(wp,{icon:YN,title:K?"No work plan data found":"No work plan data yet",description:K?"Try adjusting your filters":"Work plan data will appear here once users start creating their work plans"}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"hidden md:block",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx(ee,{className:"py-0",children:s.jsx(te,{className:"p-0",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(mo,{children:[s.jsx(po,{children:s.jsxs(dn,{children:[s.jsx(ct,{children:"Employee Name"}),s.jsx(ct,{children:"Employee ID"}),s.jsx(ct,{children:"Organization Unit"}),s.jsx(ct,{children:"Total Plans"}),s.jsx(ct,{children:"Activity Summary"}),s.jsx(ct,{children:"Weekly Plans"}),s.jsx(ct,{children:"Last Plan"}),s.jsx(ct,{className:"text-center",children:"Actions"})]})}),s.jsx(xo,{children:e.map(C=>s.jsxs(dn,{className:"hover:bg-muted/50",children:[s.jsx(dt,{children:s.jsx("div",{className:"font-medium",children:C.user_name})}),s.jsx(dt,{children:s.jsx("div",{className:"text-sm text-muted-foreground",children:C.employee_id||"-"})}),s.jsx(dt,{children:s.jsx("div",{className:"text-sm",children:C.org_unit_name||"-"})}),s.jsx(dt,{children:s.jsx("div",{className:"text-sm text-center font-medium",children:C.total_plans})}),s.jsx(dt,{children:s.jsxs("div",{className:"text-sm space-y-1",children:[s.jsxs("div",{children:[C.completed_activities," completed"]}),s.jsxs("div",{children:[C.total_activities-C.completed_activities," pending"]})]})}),s.jsx(dt,{children:s.jsxs("div",{className:"text-sm space-y-1",children:[s.jsxs("div",{children:[C.current_week_exists?1:0," this week"]}),s.jsx("div",{children:"0 next week"})]})}),s.jsx(dt,{children:s.jsx("div",{className:"text-sm text-muted-foreground",children:se(C.last_plan_date)})}),s.jsx(dt,{className:"text-center",children:s.jsx(re,{variant:"ghost",size:"sm",onClick:()=>le(C.user_id),className:"h-8 px-2",children:s.jsx(Ut,{className:"h-4 w-4 mr-1"})})})]},C.user_id))})]})})})}),s.jsx(Ks,{currentPage:h,totalPages:w,totalItems:b,itemsPerPage:g,onPageChange:M,onItemsPerPageChange:C=>V(parseInt(C))})]})}),s.jsxs("div",{className:"md:hidden space-y-4",children:[e.map(C=>s.jsx(ee,{children:s.jsx(te,{className:"p-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:C.user_name}),C.employee_id&&s.jsxs("div",{className:"text-sm text-muted-foreground",children:["ID: ",C.employee_id]})]}),s.jsx(re,{variant:"ghost",size:"sm",onClick:()=>le(C.user_id),className:"h-8 px-2",children:s.jsx(Ut,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[s.jsxs("div",{children:["Org Unit: ",C.org_unit_name||"-"]}),s.jsxs("div",{children:["Total Plans: ",C.total_plans]}),s.jsxs("div",{children:["This Week: ",C.current_week_exists?1:0]})]})]})})},C.user_id)),s.jsx(Ks,{currentPage:h,totalPages:w,totalItems:b,itemsPerPage:g,onPageChange:M,onItemsPerPageChange:C=>V(parseInt(C))})]})]})]})]})}function Xoe(){const[t,e]=x.useState([]),[r,n]=x.useState(!0),[a,l]=x.useState(1),[c,d]=x.useState(10),[f,h]=x.useState(0),[p,g]=x.useState(0),[y,b]=x.useState(!1),[j,w]=x.useState("all"),[_,E]=x.useState(new Date().getFullYear().toString()),[S,k]=x.useState("all"),R=ht(),L=[{label:"Dashboard",href:"/dashboard"},{label:"My Payroll",current:!0}],I=new Date().getFullYear(),T=x.useCallback(()=>{const B=new URLSearchParams;return B.set("page",a.toString()),B.set("pageSize",c.toString()),B.set("status",j),B.set("year",_),B.set("month",S),B.toString()},[a,c,j,_,S]),O=x.useCallback(()=>{const B=new URLSearchParams(window.location.search),M=parseInt(B.get("page")||"1"),V=parseInt(B.get("pageSize")||"10"),Q=B.get("status")||"all",le=B.get("year")||new Date().getFullYear().toString(),H=B.get("month")||"all";l(M),d(Math.max(V,10)),w(Q),E(le),k(H),b(!0)},[]);x.useEffect(()=>{O()},[O]),x.useEffect(()=>{y&&P()},[a,c,j,_,S,y]),x.useEffect(()=>{if(y){const B=T(),M=B,V=window.location.search.slice(1);if(M!==V){const Q=`${window.location.pathname}${B?"?"+B:""}`;window.history.replaceState(null,"",Q)}}},[a,c,j,_,S,y,T]);const P=async()=>{try{n(!0);const B=await xt.getMyPayrolls(a,c);e(B.items),h(B.total),g(Math.ceil(B.total/c))}catch(B){console.error("Error loading payrolls:",B)}finally{n(!1)}},X=B=>{R(`/payroll/${B}/details`)},A=t.filter(B=>{const M=j==="all"||B.status===j;let V=!0,Q=!0;return _!=="all"&&(V=B.period_year===parseInt(_)),S!=="all"&&(Q=B.period_month===parseInt(S)),M&&V&&Q}),z=Array.from({length:5},(B,M)=>I-2+M),$=[{value:"1",label:"January"},{value:"2",label:"February"},{value:"3",label:"March"},{value:"4",label:"April"},{value:"5",label:"May"},{value:"6",label:"June"},{value:"7",label:"July"},{value:"8",label:"August"},{value:"9",label:"September"},{value:"10",label:"October"},{value:"11",label:"November"},{value:"12",label:"December"}],J=B=>{const M=V=>{switch(V){case"draft":return"bg-gray-100 text-gray-800";case"approved":return"bg-blue-100 text-blue-800";case"paid":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return s.jsx(Ke,{className:M(B),children:B.charAt(0).toUpperCase()+B.slice(1)})};return s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ye,{title:"My Payroll",description:"View your payroll history and details",breadcrumbs:L,actions:null}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs(ee,{children:[s.jsx(ue,{className:"pb-2",children:s.jsx(xe,{className:"text-sm font-medium text-muted-foreground",children:"Total Records"})}),s.jsx(te,{className:"pt-0",children:s.jsx("div",{className:"text-2xl font-bold",children:f})})]}),s.jsxs(ee,{children:[s.jsx(ue,{className:"pb-2",children:s.jsx(xe,{className:"text-sm font-medium text-muted-foreground",children:"Paid"})}),s.jsx(te,{className:"pt-0",children:s.jsx("div",{className:"text-2xl font-bold text-green-600",children:A.filter(B=>B.status==="paid").length})})]}),s.jsxs(ee,{children:[s.jsx(ue,{className:"pb-2",children:s.jsx(xe,{className:"text-sm font-medium text-muted-foreground",children:"Approved"})}),s.jsx(te,{className:"pt-0",children:s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:A.filter(B=>B.status==="approved").length})})]}),s.jsxs(ee,{children:[s.jsx(ue,{className:"pb-2",children:s.jsx(xe,{className:"text-sm font-medium text-muted-foreground",children:"Draft"})}),s.jsx(te,{className:"pt-0",children:s.jsx("div",{className:"text-2xl font-bold text-gray-600",children:A.filter(B=>B.status==="draft").length})})]})]}),s.jsxs(Yr,{children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium text-primary",children:[s.jsx(Di,{className:"h-4 w-4"}),s.jsx("span",{children:"Status"})]}),s.jsxs("select",{className:"w-full border border-primary p-2 h-10 rounded-md bg-white dark:bg-gray-800",value:j,onChange:B=>w(B.target.value),children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"draft",children:"Draft"}),s.jsx("option",{value:"approved",children:"Approved"}),s.jsx("option",{value:"paid",children:"Paid"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium text-primary",children:[s.jsx(Ze,{className:"h-4 w-4"}),s.jsx("span",{children:"Year"})]}),s.jsxs("select",{className:"w-full border border-primary p-2 h-10 rounded-md bg-white dark:bg-gray-800",value:_,onChange:B=>E(B.target.value),children:[s.jsx("option",{value:"all",children:"All Years"}),z.map(B=>s.jsx("option",{value:B.toString(),children:B},B))]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium text-primary",children:[s.jsx(Ze,{className:"h-4 w-4"}),s.jsx("span",{children:"Month"})]}),s.jsxs("select",{className:"w-full border border-primary p-2 h-10 rounded-md bg-white dark:bg-gray-800",value:S,onChange:B=>k(B.target.value),children:[s.jsx("option",{value:"all",children:"All Months"}),$.map(B=>s.jsx("option",{value:B.value,children:B.label},B.value))]})]})]}),s.jsx("div",{className:"space-y-4",children:r?Array.from({length:5}).map((B,M)=>s.jsxs(ee,{children:[s.jsx(ue,{children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"space-y-2 flex-1",children:[s.jsx(Ne,{className:"h-4 w-3/4"}),s.jsx(Ne,{className:"h-3 w-1/2"})]}),s.jsx(Ne,{className:"h-6 w-20"})]})}),s.jsx(te,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ne,{className:"h-3 w-full"}),s.jsx(Ne,{className:"h-3 w-2/3"})]})})]},M)):A.length===0?s.jsx(ee,{children:s.jsx(te,{className:"py-8",children:s.jsxs("div",{className:"text-center text-muted-foreground",children:[s.jsx(bs,{className:"mx-auto h-12 w-12 mb-4 opacity-50"}),s.jsx("p",{className:"text-lg font-medium mb-2",children:"No payroll records found"}),s.jsx("p",{className:"text-sm",children:j!=="all"||_!=="all"||S!=="all"?"Try adjusting your filters to see more results.":"No payroll records available yet."})]})})}):A.map(B=>s.jsxs(ee,{className:"hover:shadow-md transition-shadow pt-4 pb-0",children:[s.jsx(ue,{children:s.jsx("div",{className:"flex items-start gap-3",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(xe,{className:"text-lg",children:xt.getPeriodDisplay(B.period_year,B.period_month)}),J(B.status)]}),s.jsx(Tt,{className:"text-sm text-muted-foreground",children:s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Pt,{className:"h-3 w-3"}),"Processed: ",B.processed_at?xt.formatDateShort(B.processed_at):xt.formatDateShort(B.created_at)]})})})]})})}),s.jsx(te,{children:s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"p-3 rounded-lg bg-gray-50 border",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(Qn,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm font-medium",children:"Basic Salary"})]}),s.jsx("div",{className:"text-lg font-semibold",children:xt.formatCurrency(B.basic_salary)})]}),s.jsxs("div",{className:"p-3 rounded-lg bg-gray-50 border",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(Qn,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm font-medium",children:"Calculated Salary"})]}),s.jsx("div",{className:"text-lg font-semibold",children:xt.formatCurrency(B.calculated_salary)})]}),s.jsxs("div",{className:"p-3 rounded-lg bg-blue-50 border border-blue-200",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(Qn,{className:"h-4 w-4 text-blue-600"}),s.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Final Salary"})]}),s.jsx("div",{className:"text-lg font-bold text-blue-800",children:xt.formatCurrency(B.final_salary)})]})]})})}),s.jsx("div",{className:"px-6 py-3 border-t",children:s.jsx("div",{className:"flex items-center justify-end",children:s.jsxs(On,{children:[s.jsx(Mn,{asChild:!0,children:s.jsxs(re,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:[s.jsx(ra,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"More actions"})]})}),s.jsx(un,{align:"end",children:s.jsxs(ts,{onClick:()=>X(B.id),children:[s.jsx(Ut,{className:"mr-2 h-4 w-4"}),"View Details"]})})]})})})]},B.id))}),!r&&A.length>0&&s.jsx(Ks,{currentPage:a,totalItems:f,itemsPerPage:c,onPageChange:l,onItemsPerPageChange:B=>d(Math.max(Number(B),10)),hasNext:a<p})]})}function Qoe(){const{id:t}=zn(),e=ht(),{toast:r}=tr(),{isAdmin:n,isMasterAdmin:a}=uo(),l=Jn(M=>M.auth.user),[c,d]=x.useState(null),[f,h]=x.useState(!0),[p,g]=x.useState(null),[y,b]=x.useState(!1),[j,w]=x.useState(null),_=()=>c!==null&&l!==null&&c.user_id===l.id,E=()=>a&&c!==null&&c.status==="draft";x.useEffect(()=>{t&&S()},[t]);const S=async()=>{if(!t){g("Payroll ID is required"),h(!1);return}try{h(!0);const M=await xt.getPayrollById(parseInt(t));if(d(M),M.status!=="draft"){b(!0);try{const V=await xt.getPayrollBreakdown(parseInt(t));w(V)}catch(V){console.error("Error loading breakdown:",V)}finally{b(!1)}}}catch(M){console.error("Error loading payroll detail:",M),g("Failed to load payroll details")}finally{h(!1)}},k=()=>{e(`/payroll/${t}/edit`)},R=()=>{e(a||n?"/payroll/monitoring":"/payroll/my-payroll")},L=()=>a||n?"Back to Monitoring":"Back to My Payroll",I=()=>{const M=[{label:"Dashboard",href:"/dashboard"}];return a||n?[...M,{label:"Payroll Monitoring",href:"/payroll/monitoring"},{label:"Details",current:!0}]:[...M,{label:"My Payroll",href:"/payroll/my-payroll"},{label:"Details",current:!0}]},T=M=>new Date(M).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),O=M=>new Date(M).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),P=M=>{switch(M){case"draft":return{icon:s.jsx(bs,{className:"h-5 w-5"}),color:"text-orange-600 bg-orange-100",label:"Draft"};case"approved":return{icon:s.jsx(cr,{className:"h-5 w-5"}),color:"text-blue-600 bg-blue-100",label:"Approved"};case"paid":return{icon:s.jsx(cr,{className:"h-5 w-5"}),color:"text-green-600 bg-green-100",label:"Paid"};case"revert":return{icon:s.jsx(An,{className:"h-5 w-5"}),color:"text-red-600 bg-red-100",label:"Reverted"};default:return{icon:s.jsx(bs,{className:"h-5 w-5"}),color:"text-gray-600 bg-gray-100",label:"Unknown"}}},X=async()=>{if(!(!(c!=null&&c.salary_slip_file_id)||!(c!=null&&c.salary_slip_original_filename)))try{await qr.downloadFile(c.salary_slip_file_id,c.salary_slip_original_filename)}catch(M){console.error("Failed to download salary slip:",M),r({title:"Error",description:"Failed to download salary slip",variant:"destructive"})}},A=()=>{const M=[];return f||!c||E()&&M.push(s.jsxs(re,{onClick:k,children:[s.jsx(en,{className:"h-4 w-4 mr-2"}),"Edit"]},"edit")),M};if(f)return s.jsxs("div",{className:"container mx-auto lg:px-4 lg:py-6 max-w-none",children:[s.jsx(Ye,{title:"Payroll Details",description:"Loading payroll record...",breadcrumbs:I(),actions:s.jsxs(re,{variant:"outline",onClick:R,children:[s.jsx($t,{className:"h-4 w-4 mr-2"}),L()]})}),s.jsx("div",{className:"mt-6",children:s.jsx(ee,{children:s.jsxs(te,{className:"py-8 text-center",children:[s.jsx(js,{className:"mx-auto h-8 w-8 animate-spin mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading payroll details..."})]})})})]});if(p||!c)return s.jsxs("div",{className:"container mx-auto lg:px-4 lg:py-6 max-w-none",children:[s.jsx(Ye,{title:"Payroll Details",description:"Error loading payroll record",breadcrumbs:I(),actions:s.jsxs(re,{variant:"outline",onClick:R,children:[s.jsx($t,{className:"h-4 w-4 mr-2"}),L()]})}),s.jsx("div",{className:"mt-6",children:s.jsx(ee,{children:s.jsx(te,{className:"py-8 text-center",children:s.jsxs("div",{className:"text-destructive",children:[s.jsx("p",{className:"text-lg font-medium mb-2",children:"Error"}),s.jsx("p",{className:"text-sm",children:p||"Payroll record not found"})]})})})})]});const z=xt.calculateAttendanceRate(c.total_present_days,c.total_working_days),$=xt.calculateSalaryRatio(c.calculated_salary,c.basic_salary),J=P(c.status),B=A();return s.jsxs("div",{className:"container mx-auto lg:px-4 lg:py-6 max-w-none",children:[s.jsx(Ye,{title:"Payroll Details",description:`Record for ${T(c.created_at)}`,breadcrumbs:I(),actions:s.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2",children:[B,s.jsxs(re,{variant:"outline",onClick:R,className:"flex-1 sm:flex-none",children:[s.jsx($t,{className:"h-4 w-4 mr-2"}),L()]})]})}),s.jsxs("div",{className:"mt-6 space-y-6",children:[s.jsxs(ee,{children:[s.jsx(ue,{children:s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(Qn,{className:"h-5 w-5"}),"Payroll Overview",!_()&&s.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[a&&s.jsx(Ke,{variant:"secondary",children:"Master Admin View"}),n&&!a&&s.jsx(Ke,{variant:"outline",children:"Admin View"})]})]})}),s.jsx(te,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Period"}),s.jsx("p",{className:"text-lg",children:xt.getPeriodDisplay(c.period_year,c.period_month)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Status"}),s.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full text-sm font-medium ${J.color}`,children:[J.icon,J.label]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Employee"}),s.jsxs("p",{className:"text-lg",children:[c.user_name,c.org_unit_name&&s.jsx("span",{className:"text-sm text-muted-foreground block",children:c.org_unit_name})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Created"}),s.jsx("p",{className:"text-lg",children:O(c.created_at)})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(ee,{children:s.jsx(te,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Qn,{className:"h-8 w-8 text-blue-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Basic Salary"}),s.jsx("p",{className:"text-lg font-semibold",children:xt.formatCurrency(c.basic_salary)})]})]})})}),s.jsx(ee,{children:s.jsx(te,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(cl,{className:"h-8 w-8 text-green-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Calculated Salary"}),s.jsx("p",{className:"text-lg font-semibold",children:xt.formatCurrency(c.calculated_salary)})]})]})})}),s.jsx(ee,{children:s.jsx(te,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(vw,{className:"h-8 w-8 text-red-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Deductions"}),s.jsx("p",{className:"text-lg font-semibold",children:xt.formatCurrency(c.deductions)})]})]})})}),s.jsx(ee,{children:s.jsx(te,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Qn,{className:"h-8 w-8 text-purple-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Final Salary"}),s.jsx("p",{className:"text-lg font-semibold",children:xt.formatCurrency(c.final_salary)})]})]})})})]}),j&&s.jsxs(ee,{children:[s.jsxs(ue,{children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(bs,{className:"h-5 w-5"}),"Detailed Breakdown",y&&s.jsx(js,{className:"h-4 w-4 animate-spin ml-2"})]}),s.jsx(Tt,{children:"Comprehensive calculation breakdown for this payroll period"})]}),s.jsx(te,{children:s.jsxs("div",{className:"space-y-4",children:[j.attendance_breakdown&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Attendance Breakdown"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-2 text-sm",children:Object.entries(j.attendance_breakdown).map(([M,V])=>s.jsxs("div",{className:"p-2 bg-gray-50 rounded",children:[s.jsx("span",{className:"font-medium capitalize",children:M.replace("_"," ")}),s.jsx("div",{className:"text-lg font-semibold",children:V})]},M))})]}),j.salary_calculations&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Salary Calculations"}),s.jsx("div",{className:"space-y-2 text-sm",children:Object.entries(j.salary_calculations).map(([M,V])=>s.jsxs("div",{className:"flex justify-between p-2 bg-gray-50 rounded",children:[s.jsx("span",{className:"capitalize",children:M.replace("_"," ")}),s.jsx("span",{className:"font-medium",children:typeof V=="number"?xt.formatCurrency(V):V})]},M))})]}),j.deduction_details&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Deduction Details"}),s.jsx("div",{className:"space-y-2 text-sm",children:Object.entries(j.deduction_details).map(([M,V])=>s.jsxs("div",{className:"flex justify-between p-2 bg-red-50 rounded",children:[s.jsx("span",{className:"capitalize",children:M.replace("_"," ")}),s.jsx("span",{className:"font-medium text-red-600",children:typeof V=="number"?xt.formatCurrency(V):V})]},M))})]}),j.allowance_details&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Allowance Details"}),s.jsx("div",{className:"space-y-2 text-sm",children:Object.entries(j.allowance_details).map(([M,V])=>s.jsxs("div",{className:"flex justify-between p-2 bg-green-50 rounded",children:[s.jsx("span",{className:"capitalize",children:M.replace("_"," ")}),s.jsx("span",{className:"font-medium text-green-600",children:typeof V=="number"?xt.formatCurrency(V):V})]},M))})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(ee,{children:[s.jsxs(ue,{children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(Ze,{className:"h-5 w-5"}),"Attendance Summary"]}),s.jsx(Tt,{children:"Attendance breakdown for the payroll period"})]}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:c.total_working_days}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Working Days"})]}),s.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[s.jsx("p",{className:"text-2xl font-bold text-green-600",children:c.total_present_days}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Present Days"})]}),s.jsxs("div",{className:"text-center p-3 bg-yellow-50 rounded-lg",children:[s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:c.total_leave_days||0}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Leave Days"})]}),s.jsxs("div",{className:"text-center p-3 bg-red-50 rounded-lg",children:[s.jsx("p",{className:"text-2xl font-bold text-red-600",children:c.total_absent_days}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Absent Days"})]})]}),s.jsx(ys,{}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Attendance Rate"}),s.jsx("span",{className:"text-lg font-semibold",children:xt.formatPercentage(z)})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Salary Ratio"}),s.jsx("span",{className:"text-lg font-semibold",children:xt.formatPercentage($)})]})]})]}),s.jsxs(ee,{children:[s.jsxs(ue,{children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(bs,{className:"h-5 w-5"}),"Salary Breakdown"]}),s.jsx(Tt,{children:"Detailed calculation of final salary"})]}),s.jsx(te,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Basic Salary"}),s.jsx("span",{className:"font-medium",children:xt.formatCurrency(c.basic_salary)})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Calculated Salary"}),s.jsx("span",{className:"font-medium",children:xt.formatCurrency(c.calculated_salary)})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Allowances"}),s.jsxs("span",{className:"font-medium text-green-600",children:["+",xt.formatCurrency(c.allowances)]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Deductions"}),s.jsxs("span",{className:"font-medium text-red-600",children:["-",xt.formatCurrency(c.deductions)]})]}),s.jsx(ys,{}),s.jsxs("div",{className:"flex justify-between items-center text-lg font-semibold",children:[s.jsx("span",{children:"Final Salary"}),s.jsx("span",{children:xt.formatCurrency(c.final_salary)})]})]})})]})]}),(c.allowances_notes||c.deductions_notes||c.admin_note)&&s.jsxs(ee,{children:[s.jsx(ue,{children:s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(bs,{className:"h-5 w-5"}),"Additional Information"]})}),s.jsxs(te,{className:"space-y-4",children:[c.allowances_notes&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Allowances Notes"}),s.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:s.jsx("p",{className:"text-green-800 text-sm",children:c.allowances_notes})})]}),c.deductions_notes&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Deductions Notes"}),s.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:s.jsx("p",{className:"text-red-800 text-sm",children:c.deductions_notes})})]}),c.admin_note&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Admin Note"}),s.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:s.jsx("p",{className:"text-blue-800 text-sm",children:c.admin_note})})]})]})]}),c.salary_slip_file_id&&c.salary_slip_file_url&&s.jsxs(ee,{children:[s.jsxs(ue,{children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(Tf,{className:"h-5 w-5"}),"Salary Slip",s.jsx(Ke,{variant:"secondary",className:"ml-2",children:"Available"})]}),s.jsx(Tt,{children:"Official salary slip document for this payroll period"})]}),s.jsx(te,{children:s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between p-4 border rounded-lg gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[s.jsx(bs,{className:"h-8 w-8 text-blue-500 flex-shrink-0"}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"font-medium truncate",children:c.salary_slip_original_filename||"Salary Slip"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:c.salary_slip_file_size&&Vs.formatFileSize(c.salary_slip_file_size)})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2",children:[Vs.isPdfFile("application/pdf")&&c.salary_slip_file_id&&s.jsxs(re,{variant:"outline",size:"sm",onClick:()=>qr.viewFile(c.salary_slip_file_id??0),className:"flex-1 sm:flex-none",children:[s.jsx(Ut,{className:"h-4 w-4 mr-2"}),"View"]}),s.jsxs(re,{variant:"outline",size:"sm",onClick:X,className:"flex-1 sm:flex-none",children:[s.jsx(pl,{className:"h-4 w-4 mr-2"}),"Download"]})]})]})})]}),s.jsxs(ee,{children:[s.jsx(ue,{children:s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(Pt,{className:"h-5 w-5"}),"Status Information"]})}),s.jsx(te,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-muted-foreground",children:"Created"}),s.jsx("p",{children:O(c.created_at)})]}),c.updated_at&&s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-muted-foreground",children:"Last Updated"}),s.jsx("p",{children:O(c.updated_at)})]})]}),(c.status==="approved"||c.status==="paid")&&s.jsx("div",{className:"space-y-4 pt-4 border-t",children:c.processed_at&&s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:c.status==="paid"?"Paid At":"Processed At"}),s.jsx("p",{className:"text-sm",children:O(c.processed_at)})]}),c.processed_by&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Processed By"}),s.jsxs("p",{className:"text-sm",children:["User ID: ",c.processed_by]})]})]})})]})})]})]})]})}function Joe(){var Le;const[t,e]=x.useState([]),[r,n]=x.useState([]),[a,l]=x.useState(!0),[c,d]=x.useState(1),[f,h]=x.useState(10),[p,g]=x.useState(0),[y,b]=x.useState(0),[j,w]=x.useState(!1),[_,E]=x.useState("all"),[S,k]=x.useState(new Date().getFullYear().toString()),[R,L]=x.useState("all"),[I,T]=x.useState("all"),[O,P]=x.useState(!1),[X,A]=x.useState(!1),[z,$]=x.useState(null),[J,B]=x.useState({type:"",payroll:null}),[M,V]=x.useState(null),Q=x.useRef(null),le=ht(),{toast:H}=tr(),{user:K}=yr(),Y=(Le=K==null?void 0:K.roles)==null?void 0:Le.some(ae=>ae.name==="master_admin"),se=[{label:"Dashboard",href:"/dashboard"},{label:"Payroll Monitoring",current:!0}],G=new Date().getFullYear(),C=x.useCallback(()=>{const ae=new URLSearchParams;return ae.set("page",c.toString()),ae.set("pageSize",f.toString()),ae.set("status",_),ae.set("year",S),ae.set("month",R),Y&&ae.set("orgUnit",I),ae.toString()},[c,f,_,S,R,I,Y]),U=x.useCallback(()=>{const ae=new URLSearchParams(window.location.search),Ie=parseInt(ae.get("page")||"1"),et=parseInt(ae.get("pageSize")||"10"),St=ae.get("status")||"all",Ts=ae.get("year")||new Date().getFullYear().toString(),sn=ae.get("month")||"all",fn=ae.get("orgUnit")||"all";d(Ie),h(Math.max(et,10)),E(St),k(Ts),L(sn),Y&&T(fn),w(!0)},[Y]);x.useEffect(()=>{Y&&ne()},[Y]),x.useEffect(()=>{U()},[U]),x.useEffect(()=>{j&&me()},[c,f,_,S,R,I,j]),x.useEffect(()=>{if(j){const ae=C(),Ie=ae,et=window.location.search.slice(1);if(Ie!==et){const St=`${window.location.pathname}${ae?"?"+ae:""}`;window.history.replaceState(null,"",St)}}},[c,f,_,S,R,I,j,C]);const ne=async()=>{try{const ae=await sa.getOrganizationUnits();n(ae.items)}catch(ae){console.error("Error loading org units:",ae)}},me=async()=>{try{l(!0);const ae={page:c,limit:f};if(_!=="all"&&(ae.status=_),I!=="all"&&Y&&(ae.orgUnitId=parseInt(I)),S!=="all"){const et=parseInt(S);if(R!=="all"){const St=parseInt(R);ae.period_year=et,ae.period_month=St}else ae.period_year=et}else R!=="all"&&(ae.period_month=parseInt(R),ae.period_year=new Date().getFullYear());const Ie=await xt.getAllPayrollsAdmin(ae.page,ae.limit,ae.period_month,ae.period_year,ae.status,ae.orgUnitId);e(Ie.items),g(Ie.total),b(Ie.pages)}catch(ae){console.error("Error loading payrolls:",ae),H({title:"Error",description:"Failed to load payroll data",variant:"destructive"})}finally{l(!1)}},ie=()=>{le("/payroll/create")},Ee=ae=>{le(`/payroll/${ae.id}/edit`)},Oe=async ae=>{try{await xt.approvePayroll(ae),B({type:"",payroll:null}),me()}catch(Ie){console.error("Error approving payroll:",Ie)}},fe=async()=>{if(!(!z||!M))try{await xt.markAsPaid(z.id,M),A(!1),$(null),V(null),me()}catch(ae){console.error("Error marking payroll as paid:",ae)}},Ce=async ae=>{try{await xt.revertPayroll(ae),B({type:"",payroll:null}),me()}catch(Ie){console.error("Error reverting payroll:",Ie)}},pe=async ae=>{try{await xt.deletePayroll(ae),B({type:"",payroll:null}),me()}catch(Ie){console.error("Error deleting payroll:",Ie)}},ze=async ae=>{try{await xt.bulkGenerate(ae),me()}catch(Ie){console.error("Error bulk generating payrolls:",Ie)}},lt=ae=>{le(`/payroll/${ae}/details`)},Je=t,Zt=Array.from({length:5},(ae,Ie)=>G-2+Ie),jt=[{value:"1",label:"January"},{value:"2",label:"February"},{value:"3",label:"March"},{value:"4",label:"April"},{value:"5",label:"May"},{value:"6",label:"June"},{value:"7",label:"July"},{value:"8",label:"August"},{value:"9",label:"September"},{value:"10",label:"October"},{value:"11",label:"November"},{value:"12",label:"December"}],kr=ae=>{const Ie=et=>{switch(et){case"draft":return"bg-orange-100 text-orange-800";case"approved":return"bg-blue-100 text-blue-800";case"revert":return"bg-red-100 text-red-800";case"paid":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return s.jsx(Ke,{className:Ie(ae),children:ae.charAt(0).toUpperCase()+ae.slice(1)})},dr=ae=>Y&&ae.status==="draft",q=ae=>Y&&ae.status==="draft",de=ae=>Y&&ae.status==="approved",je=ae=>Y&&ae.status==="approved",Ue=ae=>Y&&ae.status==="draft";return s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ye,{title:"Payroll Monitoring",description:Y?"Manage payroll records with full control":"View payroll records in your organization",breadcrumbs:se,actions:Y?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(re,{onClick:ie,children:[s.jsx(or,{className:"h-4 w-4 mr-2"}),"Create Payroll"]}),s.jsxs(re,{variant:"outline",onClick:()=>P(!0),children:[s.jsx(KN,{className:"h-4 w-4 mr-2"}),"Bulk Generate"]})]}):null}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs(ee,{children:[s.jsx(ue,{className:"pb-2",children:s.jsx(xe,{className:"text-sm font-medium text-muted-foreground",children:"Total Records"})}),s.jsx(te,{className:"pt-0",children:s.jsx("div",{className:"text-2xl font-bold",children:p})})]}),s.jsxs(ee,{children:[s.jsx(ue,{className:"pb-2",children:s.jsx(xe,{className:"text-sm font-medium text-muted-foreground",children:"Paid"})}),s.jsx(te,{className:"pt-0",children:s.jsx("div",{className:"text-2xl font-bold text-green-600",children:Je.filter(ae=>ae.status==="paid").length})})]}),s.jsxs(ee,{children:[s.jsx(ue,{className:"pb-2",children:s.jsx(xe,{className:"text-sm font-medium text-muted-foreground",children:"Approved"})}),s.jsx(te,{className:"pt-0",children:s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:Je.filter(ae=>ae.status==="approved").length})})]}),s.jsxs(ee,{children:[s.jsx(ue,{className:"pb-2",children:s.jsx(xe,{className:"text-sm font-medium text-muted-foreground",children:"Draft"})}),s.jsx(te,{className:"pt-0",children:s.jsx("div",{className:"text-2xl font-bold text-orange-600",children:Je.filter(ae=>ae.status==="draft").length})})]})]}),s.jsxs(Yr,{children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium text-primary",children:[s.jsx(Di,{className:"h-4 w-4"}),s.jsx("span",{children:"Status"})]}),s.jsxs("select",{className:"w-full border border-primary p-2 h-10 rounded-md bg-white dark:bg-gray-800",value:_,onChange:ae=>E(ae.target.value),children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"draft",children:"Draft"}),s.jsx("option",{value:"approved",children:"Approved"}),s.jsx("option",{value:"revert",children:"Revert"}),s.jsx("option",{value:"paid",children:"Paid"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium text-primary",children:[s.jsx(Ze,{className:"h-4 w-4"}),s.jsx("span",{children:"Year"})]}),s.jsxs("select",{className:"w-full border border-primary p-2 h-10 rounded-md bg-white dark:bg-gray-800",value:S,onChange:ae=>k(ae.target.value),children:[s.jsx("option",{value:"all",children:"All Years"}),Zt.map(ae=>s.jsx("option",{value:ae.toString(),children:ae},ae))]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium text-primary",children:[s.jsx(Ze,{className:"h-4 w-4"}),s.jsx("span",{children:"Month"})]}),s.jsxs("select",{className:"w-full border border-primary p-2 h-10 rounded-md bg-white dark:bg-gray-800",value:R,onChange:ae=>L(ae.target.value),children:[s.jsx("option",{value:"all",children:"All Months"}),jt.map(ae=>s.jsx("option",{value:ae.value,children:ae.label},ae.value))]})]}),Y&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium text-primary",children:[s.jsx(Na,{className:"h-4 w-4"}),s.jsx("span",{children:"Org Unit"})]}),s.jsxs("select",{className:"w-full border border-primary p-2 h-10 rounded-md bg-white dark:bg-gray-800",value:I,onChange:ae=>T(ae.target.value),children:[s.jsx("option",{value:"all",children:"All Org Units"}),r.map(ae=>s.jsx("option",{value:ae.id.toString(),children:ae.name},ae.id))]})]})]}),s.jsx("div",{className:"space-y-4",children:a?Array.from({length:5}).map((ae,Ie)=>s.jsxs(ee,{children:[s.jsx(ue,{children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"space-y-2 flex-1",children:[s.jsx(Ne,{className:"h-4 w-3/4"}),s.jsx(Ne,{className:"h-3 w-1/2"})]}),s.jsx(Ne,{className:"h-6 w-20"})]})}),s.jsx(te,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ne,{className:"h-3 w-full"}),s.jsx(Ne,{className:"h-3 w-2/3"})]})})]},Ie)):Je.length===0?s.jsx(ee,{children:s.jsx(te,{className:"py-8",children:s.jsxs("div",{className:"text-center text-muted-foreground",children:[s.jsx(bs,{className:"mx-auto h-12 w-12 mb-4 opacity-50"}),s.jsx("p",{className:"text-lg font-medium mb-2",children:"No payroll records found"}),s.jsx("p",{className:"text-sm",children:_!=="all"||S!=="all"||R!=="all"||I!=="all"?"Try adjusting your filters to see more results.":"No payroll records available yet."})]})})}):Je.map(ae=>s.jsxs(ee,{className:"hover:shadow-md transition-shadow pt-4 pb-0",children:[s.jsx(ue,{children:s.jsx("div",{className:"flex items-start gap-3",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(xe,{className:"text-lg",children:xt.getPeriodDisplay(ae.period_year,ae.period_month)}),kr(ae.status)]}),s.jsx(Tt,{className:"text-sm text-muted-foreground",children:s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(ws,{className:"h-3 w-3"}),ae.user_name||"Unknown"]}),ae.org_unit_name&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Na,{className:"h-3 w-3"}),ae.org_unit_name]})]})})]})})}),s.jsx(te,{children:s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"p-3 rounded-lg bg-gray-50 border",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(Qn,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm font-medium",children:"Basic Salary"})]}),s.jsx("div",{className:"text-lg font-semibold",children:xt.formatCurrency(ae.basic_salary)})]}),s.jsxs("div",{className:"p-3 rounded-lg bg-blue-50 border border-blue-200",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(Qn,{className:"h-4 w-4 text-blue-600"}),s.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Final Salary"})]}),s.jsx("div",{className:"text-lg font-bold text-blue-800",children:xt.formatCurrency(ae.final_salary)})]}),s.jsxs("div",{className:"p-3 rounded-lg bg-green-50 border border-green-200",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(cl,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:"text-sm font-medium text-green-800",children:"Attendance"})]}),s.jsxs("div",{className:"text-lg font-semibold text-green-800",children:[ae.total_present_days,"/",ae.total_working_days]})]})]})})}),s.jsx("div",{className:"px-6 py-3 border-t",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-0",children:[s.jsx("div",{className:"flex flex-wrap gap-2 w-full sm:w-auto",children:Y&&s.jsxs(s.Fragment,{children:[q(ae)&&s.jsxs(re,{variant:"default",size:"sm",onClick:()=>B({type:"approve",payroll:ae}),className:"flex items-center gap-2",children:[s.jsx($g,{className:"h-4 w-4"}),s.jsx("span",{children:"Approve"})]}),de(ae)&&s.jsxs(re,{variant:"outline",size:"sm",onClick:()=>B({type:"revert",payroll:ae}),className:"flex items-center gap-2",children:[s.jsx(hc,{className:"h-4 w-4"}),s.jsx("span",{children:"Revert"})]}),je(ae)&&s.jsxs(re,{variant:"default",size:"sm",onClick:()=>{$(ae),A(!0)},className:"flex items-center gap-2",children:[s.jsx(VB,{className:"h-4 w-4"}),s.jsx("span",{children:"Mark Paid"})]})]})}),s.jsx("div",{className:"flex justify-start w-full sm:w-auto",children:s.jsxs(On,{children:[s.jsx(Mn,{asChild:!0,children:s.jsxs(re,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:[s.jsx(ra,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"More actions"})]})}),s.jsxs(un,{align:"end",children:[s.jsxs(ts,{onClick:()=>lt(ae.id),children:[s.jsx(Ut,{className:"mr-2 h-4 w-4"}),"View Details"]}),Y&&s.jsxs(s.Fragment,{children:[dr(ae)&&s.jsxs(ts,{onClick:()=>Ee(ae),children:[s.jsx(en,{className:"mr-2 h-4 w-4"}),"Edit"]}),Ue(ae)&&s.jsxs(ts,{onClick:()=>B({type:"delete",payroll:ae}),className:"text-red-600 focus:text-red-600",children:[s.jsx(ea,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]})})]})})]},ae.id))}),!a&&Je.length>0&&s.jsx(Ks,{currentPage:c,totalItems:p,itemsPerPage:f,onPageChange:d,onItemsPerPageChange:ae=>h(Math.max(Number(ae),10)),hasNext:c<y}),s.jsx(Ls,{open:J.type!=="",onOpenChange:()=>B({type:"",payroll:null}),children:s.jsxs(Ns,{children:[s.jsxs(_s,{children:[s.jsxs(Es,{children:[J.type==="approve"&&"Approve Payroll",J.type==="revert"&&"Revert Payroll",J.type==="delete"&&"Delete Payroll"]}),s.jsxs(ks,{children:[J.type==="approve"&&"Are you sure you want to approve this payroll? This action cannot be undone.",J.type==="revert"&&"Are you sure you want to revert this payroll back to draft? This action cannot be undone.",J.type==="delete"&&"Are you sure you want to delete this payroll? This action cannot be undone."]})]}),s.jsxs(Ss,{children:[s.jsx(As,{children:"Cancel"}),s.jsxs(Cs,{onClick:()=>{J.type==="approve"&&J.payroll?Oe(J.payroll.id):J.type==="revert"&&J.payroll?Ce(J.payroll.id):J.type==="delete"&&J.payroll&&pe(J.payroll.id)},className:J.type==="delete"?"bg-red-600 hover:bg-red-700":"",children:[J.type==="approve"&&"Approve",J.type==="revert"&&"Revert",J.type==="delete"&&"Delete"]})]})]})}),s.jsx(jd,{open:O,onOpenChange:P,children:s.jsxs(wd,{children:[s.jsx(Um,{children:s.jsx(Fm,{children:"Bulk Generate Payrolls"})}),s.jsx(ece,{onSubmit:ze,onCancel:()=>P(!1)})]})}),s.jsx(jd,{open:X,onOpenChange:A,children:s.jsxs(wd,{children:[s.jsx(Um,{children:s.jsx(Fm,{children:"Mark Payroll as Paid"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{htmlFor:"signature",children:"Digital Signature (PNG file)"}),s.jsx(Ct,{ref:Q,type:"file",accept:".png",onChange:ae=>{var et;const Ie=(et=ae.target.files)==null?void 0:et[0];Ie&&V(Ie)}}),!M&&s.jsx("p",{className:"text-sm text-muted-foreground",children:"Please upload a PNG signature file (transparent background recommended)"})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(re,{variant:"outline",onClick:()=>A(!1),children:"Cancel"}),s.jsxs(re,{onClick:fe,disabled:!M,children:[s.jsx(vR,{className:"h-4 w-4 mr-2"}),"Mark as Paid"]})]})]})]})})]})}function ece({onSubmit:t,onCancel:e}){const[r,n]=x.useState({period_month:new Date().getMonth()+1,period_year:new Date().getFullYear(),total_working_days:22}),a=l=>{l.preventDefault(),t(r)};return s.jsxs("form",{onSubmit:a,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{htmlFor:"period_month",children:"Month"}),s.jsxs(Lt,{value:r.period_month.toString(),onValueChange:l=>n(c=>({...c,period_month:parseInt(l)})),children:[s.jsx(Dt,{children:s.jsx(It,{})}),s.jsx(Ot,{children:Array.from({length:12},(l,c)=>s.jsx($e,{value:(c+1).toString(),children:new Date(0,c).toLocaleString("default",{month:"long"})},c+1))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{htmlFor:"period_year",children:"Year"}),s.jsxs(Lt,{value:r.period_year.toString(),onValueChange:l=>n(c=>({...c,period_year:parseInt(l)})),children:[s.jsx(Dt,{children:s.jsx(It,{})}),s.jsx(Ot,{children:Array.from({length:4},(l,c)=>{const d=new Date().getFullYear()-1+c;return s.jsx($e,{value:d.toString(),children:d},d)})})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{htmlFor:"total_working_days",children:"Total Working Days"}),s.jsx(Ct,{type:"number",min:"1",max:"31",value:r.total_working_days,onChange:l=>n(c=>({...c,total_working_days:parseInt(l.target.value)||22}))})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(re,{type:"button",variant:"outline",onClick:e,children:"Cancel"}),s.jsxs(re,{type:"submit",children:[s.jsx(KN,{className:"h-4 w-4 mr-2"}),"Generate Payrolls"]})]})]})}const tce=Wt.object({user_id:Wt.number().min(1,"Please select an employee"),period_month:Wt.number().min(1,"Month is required").max(12,"Invalid month"),period_year:Wt.number().min(2020,"Year must be 2020 or later").max(2050,"Year must be 2050 or earlier"),total_working_days:Wt.number().min(1,"Working days must be at least 1").max(31,"Working days cannot exceed 31"),allowances:Wt.number().min(0,"Allowances cannot be negative"),allowances_notes:Wt.string().optional(),deductions:Wt.number().min(0,"Deductions cannot be negative"),deductions_notes:Wt.string().optional(),admin_note:Wt.string().optional(),status:Wt.enum(["draft","approved","revert","paid"]).optional()});function a5({mode:t,payroll:e,onSuccess:r,onCancel:n}){const[a,l]=x.useState(!1),[c,d]=x.useState(null),{toast:f}=tr(),h=ti({resolver:si(tce),defaultValues:{user_id:(e==null?void 0:e.user_id)||0,period_month:(e==null?void 0:e.period_month)||new Date().getMonth()+1,period_year:(e==null?void 0:e.period_year)||new Date().getFullYear(),total_working_days:(e==null?void 0:e.total_working_days)||22,allowances:(e==null?void 0:e.allowances)||0,allowances_notes:(e==null?void 0:e.allowances_notes)||"",deductions:(e==null?void 0:e.deductions)||0,deductions_notes:(e==null?void 0:e.deductions_notes)||"",admin_note:(e==null?void 0:e.admin_note)||"",status:(e==null?void 0:e.status)||"draft"}});x.useEffect(()=>{t==="edit"&&e&&d({id:e.user_id,name:e.user_name||"Unknown User",email:"",employee_id:void 0,org_unit_name:e.org_unit_name,is_active:!0})},[t,e]);const p=async b=>{try{if(l(!0),t==="edit"&&e){const j={allowances:b.allowances,allowances_notes:b.allowances_notes,deductions:b.deductions,deductions_notes:b.deductions_notes,admin_note:b.admin_note,status:b.status||"draft"};await xt.updatePayroll(e.id,j),f({title:"Success",description:"Payroll updated successfully"})}else{const j={user_id:b.user_id,period_month:b.period_month,period_year:b.period_year,total_working_days:b.total_working_days,allowances:b.allowances,allowances_notes:b.allowances_notes,deductions:b.deductions,deductions_notes:b.deductions_notes,admin_note:b.admin_note};await xt.createPayroll(j),f({title:"Success",description:"Payroll created successfully"})}r()}catch(j){console.error("Error saving payroll:",j),f({title:"Error",description:`Failed to ${t} payroll`,variant:"destructive"})}finally{l(!1)}},g=()=>["January","February","March","April","May","June","July","August","September","October","November","December"].map((j,w)=>({value:w+1,label:j})),y=()=>{const b=new Date().getFullYear(),j=[];for(let w=b-2;w<=b+1;w++)j.push(w);return j};return s.jsxs(ee,{children:[s.jsx(ue,{children:s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(Qn,{className:"h-5 w-5"}),t==="edit"?"Edit Payroll":"Create Payroll"]})}),s.jsx(te,{children:s.jsx(co,{...h,children:s.jsxs("form",{onSubmit:h.handleSubmit(p),className:"space-y-6",children:[t==="create"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx(Jt,{control:h.control,name:"user_id",render:({field:b})=>s.jsxs(es,{children:[s.jsx(Gt,{children:"Employee"}),s.jsx(rs,{children:s.jsx(vv,{value:b.value,onChange:j=>{b.onChange(parseInt(j.toString()))},onUserSelect:j=>{d(j)},placeholder:"Select an employee...",searchPlaceholder:"Search for an employee..."})}),s.jsx(Qr,{children:"Search and select the employee for this payroll record"}),s.jsx(ns,{})]})}),c&&s.jsxs("div",{className:"p-3 bg-muted rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(to,{className:"h-4 w-4"}),s.jsx("span",{className:"font-medium",children:c.name}),c.employee_id&&s.jsxs("span",{className:"text-muted-foreground",children:["(",c.employee_id,")"]})]}),c.org_unit_name&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mt-1",children:[s.jsx(Na,{className:"h-4 w-4"}),s.jsx("span",{children:c.org_unit_name})]})]}),s.jsx(Jt,{control:h.control,name:"period_month",render:({field:b})=>s.jsxs(es,{children:[s.jsx(Gt,{children:"Month"}),s.jsxs(Lt,{onValueChange:j=>b.onChange(parseInt(j)),value:b.value.toString(),children:[s.jsx(rs,{children:s.jsx(Dt,{children:s.jsx(It,{placeholder:"Select month"})})}),s.jsx(Ot,{children:g().map(j=>s.jsx($e,{value:j.value.toString(),children:j.label},j.value))})]}),s.jsx(Qr,{children:"Select the payroll month"}),s.jsx(ns,{})]})}),s.jsx(Jt,{control:h.control,name:"period_year",render:({field:b})=>s.jsxs(es,{children:[s.jsx(Gt,{children:"Year"}),s.jsxs(Lt,{onValueChange:j=>b.onChange(parseInt(j)),value:b.value.toString(),children:[s.jsx(rs,{children:s.jsx(Dt,{children:s.jsx(It,{placeholder:"Select year"})})}),s.jsx(Ot,{children:y().map(j=>s.jsx($e,{value:j.toString(),children:j},j))})]}),s.jsx(Qr,{children:"Select the payroll year"}),s.jsx(ns,{})]})}),s.jsx(Jt,{control:h.control,name:"total_working_days",render:({field:b})=>s.jsxs(es,{children:[s.jsx(Gt,{children:"Total Working Days"}),s.jsx(rs,{children:s.jsx(Ct,{type:"number",min:"1",max:"31",...b,onChange:j=>b.onChange(parseInt(j.target.value)||0),placeholder:"Enter total working days"})}),s.jsx(Qr,{children:"Total number of working days in the payroll period"}),s.jsx(ns,{})]})})]}),t==="edit"&&e&&s.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(to,{className:"h-4 w-4"}),s.jsx("span",{className:"font-medium",children:e.user_name})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(YN,{className:"h-4 w-4"}),s.jsx("span",{children:xt.getPeriodDisplay(e.period_year,e.period_month)})]})]}),s.jsx(ys,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(Jt,{control:h.control,name:"allowances",render:({field:b})=>s.jsxs(es,{children:[s.jsx(Gt,{children:"Allowances"}),s.jsx(rs,{children:s.jsx(Ct,{type:"number",min:"0",step:"1000",...b,onChange:j=>b.onChange(parseFloat(j.target.value)||0),placeholder:"Enter allowances amount"})}),s.jsx(Qr,{children:"Additional allowances or bonuses (in IDR)"}),s.jsx(ns,{})]})}),s.jsx(Jt,{control:h.control,name:"deductions",render:({field:b})=>s.jsxs(es,{children:[s.jsx(Gt,{children:"Deductions"}),s.jsx(rs,{children:s.jsx(Ct,{type:"number",min:"0",step:"1000",...b,onChange:j=>b.onChange(parseFloat(j.target.value)||0),placeholder:"Enter deductions amount"})}),s.jsx(Qr,{children:"Deductions from salary (taxes, insurance, etc. in IDR)"}),s.jsx(ns,{})]})}),s.jsx(Jt,{control:h.control,name:"allowances_notes",render:({field:b})=>s.jsxs(es,{children:[s.jsx(Gt,{children:"Allowances Notes"}),s.jsx(rs,{children:s.jsx(Tn,{...b,placeholder:"Enter detailed breakdown of allowances...",rows:3})}),s.jsx(Qr,{children:"Detailed explanation of allowances calculation"}),s.jsx(ns,{})]})}),s.jsx(Jt,{control:h.control,name:"deductions_notes",render:({field:b})=>s.jsxs(es,{children:[s.jsx(Gt,{children:"Deductions Notes"}),s.jsx(rs,{children:s.jsx(Tn,{...b,placeholder:"Enter detailed breakdown of deductions...",rows:3})}),s.jsx(Qr,{children:"Detailed explanation of deductions calculation"}),s.jsx(ns,{})]})}),s.jsx(Jt,{control:h.control,name:"admin_note",render:({field:b})=>s.jsxs(es,{children:[s.jsx(Gt,{children:"Admin Note"}),s.jsx(rs,{children:s.jsx(Tn,{...b,placeholder:"Enter admin note or comments...",rows:4})}),s.jsx(Qr,{children:"Additional notes or comments for this payroll record"}),s.jsx(ns,{})]})}),t==="edit"&&s.jsx(Jt,{control:h.control,name:"status",render:({field:b})=>s.jsxs(es,{children:[s.jsx(Gt,{children:"Status"}),s.jsxs(Lt,{onValueChange:b.onChange,value:b.value,children:[s.jsx(rs,{children:s.jsx(Dt,{children:s.jsx(It,{placeholder:"Select status"})})}),s.jsxs(Ot,{children:[s.jsx($e,{value:"draft",children:"Draft"}),s.jsx($e,{value:"approved",children:"Approved"}),s.jsx($e,{value:"revert",children:"Revert"}),s.jsx($e,{value:"paid",children:"Paid"})]})]}),s.jsx(Qr,{children:"Current status of the payroll record"}),s.jsx(ns,{})]})})]}),s.jsx(ys,{}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(re,{type:"button",variant:"outline",onClick:n,children:"Cancel"}),s.jsxs(re,{type:"submit",disabled:a,children:[s.jsx($y,{className:"h-4 w-4 mr-2"}),a?"Saving...":t==="edit"?"Update Payroll":"Create Payroll"]})]})]})})})]})}function sce(){const t=ht(),e=()=>{t("/payroll/monitoring")},r=()=>{t("/payroll/monitoring")};return s.jsxs("div",{className:"container mx-auto lg:px-4 lg:py-6 max-w-none",children:[s.jsx(Ye,{title:"Create Payroll",description:"Create a new payroll record for an employee",breadcrumbs:[{label:"Dashboard",href:"/dashboard"},{label:"Payroll Monitoring",href:"/payroll/monitoring"},{label:"Create",current:!0}],actions:s.jsxs(re,{variant:"outline",onClick:r,children:[s.jsx($t,{className:"h-4 w-4 mr-2"}),"Back to Monitoring"]})}),s.jsx("div",{className:"mt-6",children:s.jsx(a5,{mode:"create",onSuccess:e,onCancel:r})})]})}function rce(){const{id:t}=zn(),e=ht(),[r,n]=x.useState(null),[a,l]=x.useState(!0),[c,d]=x.useState(null);x.useEffect(()=>{(async()=>{if(!t){d("Payroll ID is required"),l(!1);return}try{const g=await xt.getPayrollById(Number(t));if(g.status!=="draft"){d("This payroll record cannot be edited. Only draft payrolls can be modified."),l(!1);return}n(g)}catch(g){d("Failed to load payroll record"),console.error("Error fetching payroll:",g)}finally{l(!1)}})()},[t]);const f=()=>{e(`/payroll/${t}/details`)},h=()=>{e(`/payroll/${t}/details`)};return a?s.jsxs("div",{className:"container mx-auto lg:px-4 lg:py-6 max-w-none",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsxs(re,{variant:"outline",onClick:()=>e("/payroll/monitoring"),children:[s.jsx($t,{className:"h-4 w-4 mr-2"}),"Back to Monitoring"]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Edit Payroll"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading payroll record..."})]})]}),s.jsx(ee,{children:s.jsxs(te,{className:"py-8 text-center",children:[s.jsx(js,{className:"mx-auto h-8 w-8 animate-spin mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading payroll details..."})]})})]}):c||!r?s.jsxs("div",{className:"container mx-auto lg:px-4 lg:py-6 max-w-none",children:[s.jsx(Ye,{title:"Edit Payroll",description:"Error loading payroll record",breadcrumbs:[{label:"Dashboard",href:"/dashboard"},{label:"Payroll Monitoring",href:"/payroll/monitoring"},{label:"Edit",current:!0}],actions:s.jsxs(re,{variant:"outline",onClick:()=>e("/payroll/monitoring"),children:[s.jsx($t,{className:"h-4 w-4 mr-2"}),"Back to Monitoring"]})}),s.jsx(ee,{className:"mt-6",children:s.jsx(te,{className:"py-8 text-center",children:s.jsxs("div",{className:"text-destructive",children:[s.jsx("p",{className:"text-lg font-medium mb-2",children:"Error"}),s.jsx("p",{className:"text-sm mb-4",children:c||"Payroll record not found"}),s.jsx(re,{onClick:()=>e("/payroll/monitoring"),children:"Return to Monitoring"})]})})})]}):s.jsxs("div",{className:"container mx-auto lg:px-4 lg:py-6 max-w-none",children:[s.jsx(Ye,{title:"Edit Payroll",description:`Modify payroll record for ${r.user_name||"Employee"} - ${xt.getPeriodDisplay(r.period_year,r.period_month)}`,breadcrumbs:[{label:"Dashboard",href:"/dashboard"},{label:"Payroll Monitoring",href:"/payroll/monitoring"},{label:"Details",href:`/payroll/${t}/details`},{label:"Edit",current:!0}],actions:s.jsxs(re,{variant:"outline",onClick:h,children:[s.jsx($t,{className:"h-4 w-4 mr-2"}),"Back to Details"]})}),s.jsx("div",{className:"mt-6",children:s.jsx(a5,{mode:"edit",payroll:r,onSuccess:f,onCancel:h})})]})}function nce(){const t=[{label:"Dashboard",href:"/dashboard"},{label:"Help",current:!0}];return s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ye,{title:"Help & Support",description:"Get assistance and find answers to common questions",breadcrumbs:t}),s.jsxs("div",{className:"grid gap-6",children:[s.jsxs(ee,{children:[s.jsxs(ue,{className:"flex flex-row items-center space-y-0 pb-2",children:[s.jsx(FB,{className:"h-5 w-5 mr-2 text-primary"}),s.jsx(xe,{children:"Frequently Asked Questions"})]}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"How do I mark attendance?"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Go to Attendance  Check In/Out to record your daily attendance."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"How do I submit a leave request?"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Navigate to Leave Requests  Create to submit a new leave application."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Where can I view my payroll?"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Access your payroll information in the Payroll  My Payroll section."})]})]})]}),s.jsxs(ee,{children:[s.jsxs(ue,{className:"flex flex-row items-center space-y-0 pb-2",children:[s.jsx(zg,{className:"h-5 w-5 mr-2 text-primary"}),s.jsx(xe,{children:"User Guide"})]}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Getting Started"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Learn the basics of navigating and using the HRIS system."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Work Plans"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Create and manage your daily work plans and track activities."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Logbook Management"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Record your daily activities and maintain a digital logbook."})]})]})]}),s.jsxs(ee,{children:[s.jsxs(ue,{className:"flex flex-row items-center space-y-0 pb-2",children:[s.jsx(zy,{className:"h-5 w-5 mr-2 text-primary"}),s.jsx(xe,{children:"Contact Support"})]}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Phone Support"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Call us at: +62 (21) 1234-5678"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Office Hours"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Monday - Friday: 8:00 AM - 5:00 PM"})]})]})]})]})]})}function ace(){const t=[{label:"Dashboard",href:"/dashboard"},{label:"Privacy Policy",current:!0}];return s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ye,{title:"Privacy Policy",description:"How we collect, use, and protect your personal information",breadcrumbs:t}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(ee,{children:[s.jsxs(ue,{className:"flex flex-row items-center space-y-0 pb-4",children:[s.jsx(ol,{className:"h-5 w-5 mr-2 text-primary"}),s.jsx(xe,{children:"Information We Collect"})]}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Personal Information"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"We collect personal information such as your name, email address, phone number, and employment details necessary for HR management purposes."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Work-Related Data"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"This includes attendance records, work plans, logbook entries, leave requests, and payroll information required for employment management."})]})]})]}),s.jsxs(ee,{children:[s.jsxs(ue,{className:"flex flex-row items-center space-y-0 pb-4",children:[s.jsx(qg,{className:"h-5 w-5 mr-2 text-primary"}),s.jsx(xe,{children:"How We Use Your Information"})]}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"HR Management"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Your information is used to manage employment records, process payroll, track attendance, and facilitate communication within the organization."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"System Administration"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"We use your data to maintain system security, provide technical support, and improve our services."})]})]})]}),s.jsxs(ee,{children:[s.jsxs(ue,{className:"flex flex-row items-center space-y-0 pb-4",children:[s.jsx(Ut,{className:"h-5 w-5 mr-2 text-primary"}),s.jsx(xe,{children:"Data Sharing"})]}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Internal Access"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Your information is accessible to authorized personnel only, including HR staff and your direct supervisors as necessary for business operations."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Third Parties"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"We do not sell or share your personal information with third parties except as required by law or with your explicit consent."})]})]})]}),s.jsxs(ee,{children:[s.jsxs(ue,{className:"flex flex-row items-center space-y-0 pb-4",children:[s.jsx(WB,{className:"h-5 w-5 mr-2 text-primary"}),s.jsx(xe,{children:"Data Security & Retention"})]}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Security Measures"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"We implement industry-standard security measures including encryption, secure access controls, and regular security audits to protect your data."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Data Retention"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Your employment data is retained as required by Indonesian labor law and company policies, typically for a period of 7 years after employment termination."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Your Rights"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"You have the right to access, correct, or request deletion of your personal data. Contact HR to exercise these rights."})]})]})]}),s.jsx(ee,{children:s.jsx(te,{className:"pt-6",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx("strong",{children:"Last Updated:"})," January 2024",s.jsx("br",{}),s.jsx("strong",{children:"Contact:"})," For privacy-related questions, contact privacy@okoce.com"]})})})]})]})}function ice(){const t=[{label:"Dashboard",href:"/dashboard"},{label:"Terms of Service",current:!0}];return s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ye,{title:"Terms of Service",description:"Terms and conditions for using the HRIS system",breadcrumbs:t}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(ee,{children:[s.jsxs(ue,{className:"flex flex-row items-center space-y-0 pb-4",children:[s.jsx(bs,{className:"h-5 w-5 mr-2 text-primary"}),s.jsx(xe,{children:"System Usage"})]}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Authorized Use"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"This HRIS system is provided for legitimate business purposes only. Users must use their assigned accounts responsibly and in accordance with company policies."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Account Security"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"You are responsible for maintaining the confidentiality of your login credentials. Do not share your account with others or use unauthorized access methods."})]})]})]}),s.jsxs(ee,{children:[s.jsxs(ue,{className:"flex flex-row items-center space-y-0 pb-4",children:[s.jsx(ws,{className:"h-5 w-5 mr-2 text-primary"}),s.jsx(xe,{children:"User Responsibilities"})]}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Accurate Information"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Users must provide accurate and truthful information when recording attendance, submitting work plans, logbook entries, and leave requests."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Timely Updates"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Keep your personal information current and notify HR of any changes to your contact details or employment status."})]})]})]}),s.jsxs(ee,{children:[s.jsxs(ue,{className:"flex flex-row items-center space-y-0 pb-4",children:[s.jsx(Pt,{className:"h-5 w-5 mr-2 text-primary"}),s.jsx(xe,{children:"Data Management"})]}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Attendance Records"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"All attendance data is recorded and monitored. False or manipulated attendance records may result in disciplinary action."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Work Documentation"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Work plans and logbook entries serve as official documentation of your activities. Ensure completeness and accuracy in all submissions."})]})]})]}),s.jsxs(ee,{children:[s.jsxs(ue,{className:"flex flex-row items-center space-y-0 pb-4",children:[s.jsx(Zl,{className:"h-5 w-5 mr-2 text-primary"}),s.jsx(xe,{children:"Prohibited Activities"})]}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"System Misuse"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Do not attempt to circumvent security measures, access unauthorized data, or interfere with system operations."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Data Breaches"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Unauthorized access, copying, or distribution of employee data is strictly prohibited and may result in legal action."})]})]})]}),s.jsx(ee,{children:s.jsxs(te,{className:"pt-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Compliance"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"By using this system, you agree to comply with all applicable company policies, Indonesian labor laws, and data protection regulations."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Violations"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Violations of these terms may result in account suspension, disciplinary action, or termination of employment as deemed appropriate by management."})]})]})})]})]})}function lce({open:t,onOpenChange:e,user:r}){const n=Iy(),a=Jn(hR),{toast:l}=tr(),[c,d]=x.useState({first_name:"",last_name:"",phone:""}),[f,h]=x.useState(null),[p,g]=x.useState(null);x.useEffect(()=>{var E;r&&(d({first_name:r.first_name||"",last_name:r.last_name||"",phone:r.phone||""}),g(((E=r.avatar_file)==null?void 0:E.file_url)||null))},[r]);const y=E=>{var R,L;if(!E)return"U";const S=((R=E.first_name)==null?void 0:R.charAt(0))||"",k=((L=E.last_name)==null?void 0:L.charAt(0))||"";return(S+k).toUpperCase()},b=(E,S)=>{d(k=>({...k,[E]:S}))},j=E=>{var k;const S=(k=E.target.files)==null?void 0:k[0];if(S){if(!S.type.startsWith("image/")){l({title:"Error",description:"Please select a valid image file",variant:"destructive"});return}if(S.size>5*1024*1024){l({title:"Error",description:"Image size must be less than 5MB",variant:"destructive"});return}h(S);const R=new FileReader;R.onload=L=>{var I;g((I=L.target)==null?void 0:I.result)},R.readAsDataURL(S)}},w=async()=>{try{const E=new FormData;E.append("first_name",c.first_name),c.last_name&&E.append("last_name",c.last_name),c.phone&&E.append("phone",c.phone),f&&E.append("avatar",f),await n(mg(E)).unwrap(),await n(ld()),l({title:"Success",description:"Profile updated successfully"}),e(!1),h(null)}catch(E){l({title:"Error",description:(E==null?void 0:E.message)||"Failed to update profile",variant:"destructive"})}},_=()=>{var E;r&&(d({first_name:r.first_name||"",last_name:r.last_name||"",phone:r.phone||""}),g(((E=r.avatar_file)==null?void 0:E.file_url)||null)),h(null),e(!1)};return s.jsx(jd,{open:t,onOpenChange:e,children:s.jsxs(wd,{className:"sm:max-w-md",children:[s.jsx(Um,{children:s.jsx(Fm,{children:"Edit Profile"})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"relative",children:[s.jsxs(na,{className:"h-16 w-16",children:[s.jsx(Td,{src:p||void 0}),s.jsx(aa,{children:y(r)})]}),s.jsxs("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-50 rounded-full opacity-0 hover:opacity-100 transition-opacity cursor-pointer",children:[s.jsx(Wa,{className:"h-5 w-5 text-white"}),s.jsx("input",{type:"file",accept:"image/*",onChange:j,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"})]})]}),s.jsxs("div",{children:[s.jsx(kt,{className:"text-sm font-medium",children:"Profile Picture"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Click on avatar to change"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(kt,{htmlFor:"first_name",children:"First Name"}),s.jsx(Ct,{id:"first_name",value:c.first_name,onChange:E=>b("first_name",E.target.value),placeholder:"Enter first name",required:!0})]}),s.jsxs("div",{children:[s.jsx(kt,{htmlFor:"last_name",children:"Last Name"}),s.jsx(Ct,{id:"last_name",value:c.last_name,onChange:E=>b("last_name",E.target.value),placeholder:"Enter last name"})]}),s.jsxs("div",{children:[s.jsx(kt,{htmlFor:"phone",children:"Phone Number"}),s.jsx(Ct,{id:"phone",value:c.phone,onChange:E=>b("phone",E.target.value),placeholder:"Enter phone number",type:"tel"})]})]})]}),s.jsxs(U1,{children:[s.jsx(re,{variant:"outline",onClick:_,disabled:a,children:"Cancel"}),s.jsx(re,{onClick:w,disabled:a||!c.first_name.trim(),children:a?"Updating...":"Update Profile"})]})]})})}const oce=oo({current_password:as().min(1,"Current password is required"),new_password:as().min(8,"New password must be at least 8 characters"),confirm_password:as()}).refine(t=>t.new_password===t.confirm_password,{message:"New passwords don't match",path:["confirm_password"]});function cce({open:t,onOpenChange:e}){const[r,n]=x.useState(!1),[a,l]=x.useState(!1),[c,d]=x.useState(!1),[f,h]=x.useState(!1),{register:p,handleSubmit:g,formState:{errors:y},reset:b}=ti({resolver:si(oce),defaultValues:{current_password:"",new_password:"",confirm_password:""}}),j=async _=>{try{n(!0);const E={current_password:_.current_password,new_password:_.new_password};await ff.changePassword(E),b(),e(!1)}catch(E){console.error("Password change error:",E)}finally{n(!1)}},w=()=>{b(),l(!1),d(!1),h(!1),e(!1)};return s.jsx(jd,{open:t,onOpenChange:e,children:s.jsxs(wd,{className:"sm:max-w-md",children:[s.jsx(Um,{children:s.jsx(Fm,{children:"Change Password"})}),s.jsxs("form",{onSubmit:g(j),className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(kt,{htmlFor:"current_password",children:"Current Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ct,{id:"current_password",type:a?"text":"password",...p("current_password"),placeholder:"Enter your current password"}),s.jsx(re,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>l(!a),children:a?s.jsx(nl,{className:"h-4 w-4"}):s.jsx(Ut,{className:"h-4 w-4"})})]}),y.current_password&&s.jsx("span",{className:"text-sm text-red-500",children:y.current_password.message})]}),s.jsxs("div",{children:[s.jsx(kt,{htmlFor:"new_password",children:"New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ct,{id:"new_password",type:c?"text":"password",...p("new_password"),placeholder:"Enter your new password"}),s.jsx(re,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>d(!c),children:c?s.jsx(nl,{className:"h-4 w-4"}):s.jsx(Ut,{className:"h-4 w-4"})})]}),y.new_password&&s.jsx("span",{className:"text-sm text-red-500",children:y.new_password.message})]}),s.jsxs("div",{children:[s.jsx(kt,{htmlFor:"confirm_password",children:"Confirm New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ct,{id:"confirm_password",type:f?"text":"password",...p("confirm_password"),placeholder:"Confirm your new password"}),s.jsx(re,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>h(!f),children:f?s.jsx(nl,{className:"h-4 w-4"}):s.jsx(Ut,{className:"h-4 w-4"})})]}),y.confirm_password&&s.jsx("span",{className:"text-sm text-red-500",children:y.confirm_password.message})]}),s.jsxs(U1,{children:[s.jsx(re,{variant:"outline",onClick:w,disabled:r,children:"Cancel"}),s.jsx(re,{type:"submit",disabled:r,children:r?"Changing...":"Change Password"})]})]})]})})}function dce(){var y;const t=Iy(),e=Jn(h7),r=Jn(hR),[n,a]=x.useState(!1),[l,c]=x.useState(!1),d=[{label:"Dashboard",href:"/dashboard"},{label:"Profile",current:!0}];x.useEffect(()=>{e||t(ld())},[t,e]);const f=b=>{var _,E;if(!b)return"U";const j=((_=b.first_name)==null?void 0:_.charAt(0))||"",w=((E=b.last_name)==null?void 0:E.charAt(0))||"";return(j+w).toUpperCase()},h=b=>b?`${b.first_name}${b.last_name?` ${b.last_name}`:""}`:"",p=b=>b?new Date(b).toLocaleDateString():"N/A",g=b=>!b||b.length===0?"No roles":b.map(j=>j.name.replace("_"," ").replace(/\b\w/g,w=>w.toUpperCase())).join(", ");return r?s.jsxs("div",{className:"container mx-auto px-4 py-6",children:[s.jsx(Ye,{title:"Profile",breadcrumbs:d}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs(ee,{children:[s.jsx(ue,{children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(Ne,{className:"h-16 w-16 rounded-full"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ne,{className:"h-6 w-32"}),s.jsx(Ne,{className:"h-4 w-24"})]})]})}),s.jsxs(te,{className:"space-y-4",children:[s.jsx(Ne,{className:"h-4 w-full"}),s.jsx(Ne,{className:"h-4 w-3/4"}),s.jsx(Ne,{className:"h-4 w-1/2"})]})]}),s.jsxs(ee,{children:[s.jsx(ue,{children:s.jsx(Ne,{className:"h-6 w-32"})}),s.jsxs(te,{className:"space-y-4",children:[s.jsx(Ne,{className:"h-4 w-full"}),s.jsx(Ne,{className:"h-4 w-3/4"}),s.jsx(Ne,{className:"h-4 w-1/2"})]})]})]})]}):s.jsxs("div",{className:"container mx-auto px-4 py-6",children:[s.jsx(Ye,{title:"Profile",breadcrumbs:d,actions:s.jsxs(re,{onClick:()=>a(!0),children:[s.jsx(en,{className:"mr-2 h-4 w-4"}),"Edit Profile"]})}),s.jsxs("div",{className:"space-y-6 mt-4",children:[s.jsxs(ee,{children:[s.jsx(ue,{children:s.jsxs(xe,{className:"flex items-center",children:[s.jsx(to,{className:"mr-2 h-5 w-5"}),"Basic Information"]})}),s.jsxs(te,{children:[s.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[s.jsxs(na,{className:"h-16 w-16",children:[s.jsx(Td,{src:qr.getFullFileUrl(((y=e==null?void 0:e.avatar_file)==null?void 0:y.file_url)||"")}),s.jsx(aa,{children:f(e)})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:h(e)}),s.jsx("p",{className:"text-sm text-muted-foreground",children:(e==null?void 0:e.employee_id)||"No Employee ID"})]})]}),s.jsx(ys,{className:"my-4"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(vm,{className:"mr-3 h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm",children:e==null?void 0:e.email})]}),(e==null?void 0:e.phone)&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(zy,{className:"mr-3 h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm",children:e.phone})]}),(e==null?void 0:e.gender)&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(to,{className:"mr-3 h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm capitalize",children:e.gender})]}),(e==null?void 0:e.hire_date)&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ze,{className:"mr-3 h-4 w-4 text-muted-foreground"}),s.jsxs("span",{className:"text-sm",children:["Hired: ",p(e.hire_date)]})]})]})]})]}),s.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[s.jsxs(ee,{children:[s.jsx(ue,{children:s.jsxs(xe,{className:"flex items-center",children:[s.jsx(mB,{className:"mr-2 h-5 w-5"}),"Account Information"]})}),s.jsx(te,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Status"}),s.jsxs("div",{className:"mt-1",children:[s.jsx(Ke,{variant:e!=null&&e.is_active?"default":"secondary",children:e!=null&&e.is_active?"Active":"Inactive"}),(e==null?void 0:e.is_verified)&&s.jsx(Ke,{variant:"outline",className:"ml-2",children:"Verified"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Roles"}),s.jsx("p",{className:"mt-1 text-sm",children:g((e==null?void 0:e.roles)||[])})]}),(e==null?void 0:e.org_unit)&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Organization Unit"}),s.jsx("p",{className:"mt-1 text-sm",children:e.org_unit.name})]}),(e==null?void 0:e.basic_salary)&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Basic Salary"}),s.jsx("p",{className:"mt-1 text-sm",children:e.basic_salary})]}),(e==null?void 0:e.last_login)&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Last Login"}),s.jsx("p",{className:"mt-1 text-sm",children:p(e.last_login)})]})]})})]}),s.jsxs(ee,{children:[s.jsx(ue,{children:s.jsxs(xe,{className:"flex items-center",children:[s.jsx(qg,{className:"mr-2 h-5 w-5"}),"Security"]})}),s.jsx(te,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Password"}),s.jsx("p",{className:"mt-1 text-sm",children:""})]}),s.jsxs(re,{variant:"outline",onClick:()=>c(!0),className:"w-full",children:[s.jsx(qg,{className:"mr-2 h-4 w-4"}),"Change Password"]}),(e==null?void 0:e.password_changed_at)&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Last Password Change"}),s.jsx("p",{className:"mt-1 text-sm",children:p(e.password_changed_at)})]})]})})]})]})]}),s.jsx(lce,{open:n,onOpenChange:a,user:e}),s.jsx(cce,{open:l,onOpenChange:c})]})}function uce(){return s.jsx(cN,{children:s.jsx(n$,{store:Qo,children:s.jsx(jT,{children:s.jsx(ST,{loading:null,persistor:w7,children:s.jsx(eF,{children:s.jsxs(nB,{children:[s.jsx(cV,{}),s.jsx(K7,{}),s.jsxs(AU,{children:[s.jsxs(pt,{path:"/",children:[s.jsx(pt,{index:!0,element:s.jsx(VC,{})}),s.jsx(pt,{path:"login",element:s.jsx(Bx,{children:s.jsx(VC,{})})}),s.jsx(pt,{path:"register",element:s.jsx(Bx,{children:s.jsx(rJ,{})})}),s.jsx(pt,{path:"forgot-password",element:s.jsx(Bx,{children:s.jsx(aJ,{})})}),s.jsx(pt,{path:"reset-password",element:s.jsx(Bx,{children:s.jsx(lJ,{})})})]}),s.jsxs(pt,{path:"/",element:s.jsx(_K,{}),children:[s.jsx(pt,{path:"dashboard",element:s.jsx(zr,{children:s.jsx(EX,{})})}),s.jsx(pt,{path:"work-plans",element:s.jsx(ps,{allowedRoles:["user"],children:s.jsx(FJ,{})})}),s.jsx(pt,{path:"work-plans/create",element:s.jsx(ps,{allowedRoles:["user"],children:s.jsx(BJ,{})})}),s.jsx(pt,{path:"work-plans/:id/details",element:s.jsx(zr,{children:s.jsx(VJ,{})})}),s.jsx(pt,{path:"work-plans/:id/edit",element:s.jsx(ps,{allowedRoles:["user"],children:s.jsx(HJ,{})})}),s.jsx(pt,{path:"work-plans/summary",element:s.jsx(ps,{allowedRoles:["user"],children:s.jsx($J,{})})}),s.jsx(pt,{path:"work-plans/monitoring",element:s.jsx(ps,{allowedRoles:["admin","master_admin"],children:s.jsx(zJ,{})})}),s.jsx(pt,{path:"activities",element:s.jsx(zr,{children:s.jsx(Hle,{})})}),s.jsx(pt,{path:"activities/create",element:s.jsx(zr,{children:s.jsx(Vle,{})})}),s.jsx(pt,{path:"activities/:id",element:s.jsx(zr,{children:s.jsx(Yle,{})})}),s.jsx(pt,{path:"activities/:id/edit",element:s.jsx(zr,{children:s.jsx(Wle,{})})}),s.jsx(pt,{path:"attendance/checkin",element:s.jsx(ps,{allowedRoles:["user"],children:s.jsx(poe,{})})}),s.jsx(pt,{path:"attendance",element:s.jsx(ps,{allowedRoles:["user"],children:s.jsx(boe,{})})}),s.jsx(pt,{path:"attendance/summary",element:s.jsx(ps,{allowedRoles:["user"],children:s.jsx(joe,{})})}),s.jsx(pt,{path:"attendance/monitoring",element:s.jsx(ps,{allowedRoles:["admin","master_admin"],children:s.jsx(woe,{})})}),s.jsx(pt,{path:"attendance/:id/details",element:s.jsx(zr,{children:s.jsx(Noe,{})})}),s.jsx(pt,{path:"logbook",element:s.jsx(zr,{children:s.jsx(soe,{})})}),s.jsx(pt,{path:"logbook/create",element:s.jsx(zr,{children:s.jsx(noe,{})})}),s.jsx(pt,{path:"logbook/summary",element:s.jsx(zr,{children:s.jsx(loe,{})})}),s.jsx(pt,{path:"logbook/:id/details",element:s.jsx(zr,{children:s.jsx(aoe,{})})}),s.jsx(pt,{path:"logbook/monitoring",element:s.jsx(zr,{children:s.jsx(ooe,{})})}),s.jsx(pt,{path:"logbook/:id/edit",element:s.jsx(zr,{children:s.jsx(ioe,{})})}),s.jsx(pt,{path:"leave-requests",element:s.jsx(ps,{allowedRoles:["user"],children:s.jsx(uoe,{})})}),s.jsx(pt,{path:"leave-requests/create",element:s.jsx(ps,{allowedRoles:["user"],children:s.jsx(doe,{})})}),s.jsx(pt,{path:"leave-requests/:id/details",element:s.jsx(zr,{children:s.jsx(foe,{})})}),s.jsx(pt,{path:"leave-requests/:id/edit",element:s.jsx(ps,{allowedRoles:["user"],children:s.jsx(moe,{})})}),s.jsx(pt,{path:"leave-requests/monitoring",element:s.jsx(ps,{allowedRoles:["admin","master_admin"],children:s.jsx(hoe,{})})}),s.jsx(pt,{path:"payroll/my-payroll",element:s.jsx(ps,{allowedRoles:["user"],children:s.jsx(Xoe,{})})}),s.jsx(pt,{path:"payroll/:id/details",element:s.jsx(zr,{children:s.jsx(Qoe,{})})}),s.jsx(pt,{path:"payroll/create",element:s.jsx(ps,{allowedRoles:["master_admin"],children:s.jsx(sce,{})})}),s.jsx(pt,{path:"payroll/:id/edit",element:s.jsx(ps,{allowedRoles:["master_admin"],children:s.jsx(rce,{})})}),s.jsx(pt,{path:"payroll/monitoring",element:s.jsx(ps,{allowedRoles:["master_admin"],children:s.jsx(Joe,{})})}),s.jsx(pt,{path:"organization-units",element:s.jsx(ps,{allowedRoles:["admin","master_admin"],children:s.jsx(qoe,{})})}),s.jsx(pt,{path:"organization-units/create",element:s.jsx(ps,{allowedRoles:["master_admin"],children:s.jsx(Hoe,{})})}),s.jsx(pt,{path:"organization-units/:id",element:s.jsx(ps,{allowedRoles:["admin","master_admin"],children:s.jsx(Boe,{})})}),s.jsx(pt,{path:"organization-units/:id/edit",element:s.jsx(ps,{allowedRoles:["master_admin"],children:s.jsx(Voe,{})})}),s.jsx(pt,{path:"users",element:s.jsx(ps,{allowedRoles:["admin","master_admin"],children:s.jsx(Doe,{})})}),s.jsx(pt,{path:"users/create",element:s.jsx(ps,{allowedRoles:["master_admin"],children:s.jsx(Moe,{})})}),s.jsx(pt,{path:"users/:id",element:s.jsx(ps,{allowedRoles:["admin","master_admin"],children:s.jsx(Ooe,{})})}),s.jsx(pt,{path:"users/:id/edit",element:s.jsx(ps,{allowedRoles:["master_admin"],children:s.jsx(Poe,{})})}),s.jsx(pt,{path:"reports/attendance",element:s.jsx(ps,{allowedRoles:["admin","master_admin"],children:s.jsx(Yoe,{})})}),s.jsx(pt,{path:"reports/leave",element:s.jsx(ps,{allowedRoles:["admin","master_admin"],children:s.jsx(Woe,{})})}),s.jsx(pt,{path:"reports/payroll",element:s.jsx(ps,{allowedRoles:["master_admin"],children:s.jsx(Goe,{})})}),s.jsx(pt,{path:"reports/work-plans",element:s.jsx(ps,{allowedRoles:["admin","master_admin"],children:s.jsx(Koe,{})})}),s.jsx(pt,{path:"reports/logbook",element:s.jsx(ps,{allowedRoles:["admin","master_admin"],children:s.jsx(Zoe,{})})}),s.jsx(pt,{path:"help",element:s.jsx(zr,{children:s.jsx(nce,{})})}),s.jsx(pt,{path:"privacy",element:s.jsx(zr,{children:s.jsx(ace,{})})}),s.jsx(pt,{path:"terms",element:s.jsx(zr,{children:s.jsx(ice,{})})}),s.jsx(pt,{path:"profile",element:s.jsx(zr,{children:s.jsx(dce,{})})})]})]})]})})})})})})}"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw-push.js").then(t=>{console.log("Push SW registered: ",t),t.addEventListener("updatefound",()=>{const e=t.installing;e&&e.addEventListener("statechange",()=>{e.state==="installed"&&navigator.serviceWorker.controller&&console.log("New version available! Please refresh the page.")})}),Sn.initialize()}).catch(t=>{console.log("Push SW registration failed: ",t)})});cI.createRoot(document.getElementById("root")).render(s.jsx(ye.StrictMode,{children:s.jsx(cN,{children:s.jsx(uce,{})})}))});export default fce();
